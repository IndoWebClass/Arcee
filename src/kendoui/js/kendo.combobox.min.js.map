{"version":3,"file":"kendo.combobox.min.js","sources":["kendo.combobox.js"],"sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function(f, define){\n    define('kendo.combobox',[ \"./kendo.list\", \"./kendo.mobile.scroller\", \"./kendo.virtuallist\", \"./kendo.html.button\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"combobox\",\n    name: \"ComboBox\",\n    category: \"web\",\n    description: \"The ComboBox widget allows the selection from pre-defined values or entering a new value.\",\n    depends: [ \"list\", \"html.button\" ],\n    features: [ {\n        id: \"mobile-scroller\",\n        name: \"Mobile scroller\",\n        description: \"Support for kinetic scrolling in mobile device\",\n        depends: [ \"mobile.scroller\" ]\n    }, {\n        id: \"virtualization\",\n        name: \"VirtualList\",\n        description: \"Support for virtualization\",\n        depends: [ \"virtuallist\" ]\n    } ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        html = kendo.html,\n        List = ui.List,\n        Select = ui.Select,\n        caret = kendo.caret,\n        support = kendo.support,\n        placeholderSupported = support.placeholder,\n        activeElement = kendo._activeElement,\n        keys = kendo.keys,\n        ns = \".kendoComboBox\",\n        nsFocusEvent = ns + \"FocusEvent\",\n        CLICK = \"click\" + ns,\n        MOUSEDOWN = \"mousedown\" + ns,\n        DISABLED = \"disabled\",\n        READONLY = \"readonly\",\n        CHANGE = \"change\",\n        LOADING = \"k-i-loading\",\n        FOCUSED = \"k-focus\",\n        STATEDISABLED = \"k-disabled\",\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_READONLY = \"aria-readonly\",\n        AUTOCOMPLETEVALUE = \"off\",\n        STATE_FILTER = \"filter\",\n        STATE_ACCEPT = \"accept\",\n        STATE_REBIND = \"rebind\",\n        HOVEREVENTS = \"mouseenter\" + ns + \" mouseleave\" + ns,\n        proxy = $.proxy,\n        newLineRegEx = /(\\r\\n|\\n|\\r)/gm,\n        NON_PRINTABLE_KEYS = [16,17,18,19,20,33,34,37,39,45,91,92,144,145];\n\n    var ComboBox = Select.extend({\n        init: function(element, options) {\n            var that = this, text, disabled;\n\n            that.ns = ns;\n\n            options = Array.isArray(options) ? { dataSource: options } : options;\n\n            Select.fn.init.call(that, element, options);\n\n            options = that.options;\n            element = that.element.on(\"focus\" + ns, proxy(that._focusHandler, that));\n\n            options.placeholder = options.placeholder || element.attr(\"placeholder\");\n\n            that._reset();\n\n            that._wrapper();\n\n            that._input();\n\n            that._clearButton();\n\n            that._tabindex(that.input);\n\n            that._popup();\n\n            that._dataSource();\n            that._ignoreCase();\n\n            that._enable();\n\n            that._attachFocusEvents();\n\n            that._oldIndex = that.selectedIndex = -1;\n\n            that._aria();\n\n            that._initialIndex = options.index;\n\n            that.requireValueMapper(that.options);\n            that._initList();\n\n            that._cascade();\n\n            if (options.autoBind) {\n                that._filterSource();\n            } else {\n                text = options.text;\n\n                if (!text && that._isSelect) {\n                    text = element.children(\":selected\").text();\n                }\n\n                if (text) {\n                    that._setText(text);\n                }\n            }\n\n            if (!text) {\n                that._placeholder();\n            }\n\n            disabled = $(that.element).parents(\"fieldset\").is(':disabled');\n\n            if (disabled) {\n                that.enable(false);\n            }\n\n            kendo.notify(that);\n            that._toggleCloseVisibility();\n            that._applyCssClasses();\n        },\n\n        options: {\n            name: \"ComboBox\",\n            enabled: true,\n            index: -1,\n            text: null,\n            value: null,\n            autoBind: true,\n            delay: 200,\n            dataTextField: \"\",\n            dataValueField: \"\",\n            minLength: 1,\n            enforceMinLength: false,\n            height: 200,\n            highlightFirst: true,\n            filter: \"none\",\n            placeholder: \"\",\n            suggest: false,\n            cascadeFrom: \"\",\n            cascadeFromField: \"\",\n            cascadeFromParentField: \"\",\n            ignoreCase: true,\n            animation: {},\n            virtual: false,\n            template: null,\n            groupTemplate: \"#:data#\",\n            fixedGroupTemplate: \"#:data#\",\n            clearButton: true,\n            syncValueAndText: true,\n            autoWidth: false,\n            popup: null,\n            size: \"medium\",\n            fillMode: \"solid\",\n            rounded: \"medium\"\n        },\n\n        events:[\n            \"open\",\n            \"close\",\n            CHANGE,\n            \"select\",\n            \"filtering\",\n            \"dataBinding\",\n            \"dataBound\",\n            \"cascade\",\n            \"set\"\n        ],\n\n        setOptions: function(options) {\n            var listOptions = this._listOptions(options);\n\n            Select.fn.setOptions.call(this, options);\n\n            this.listView.setOptions(listOptions);\n\n            this._accessors();\n            this._aria();\n            this._clearButton();\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that.input.off(ns);\n            that.input.off(nsFocusEvent);\n            that.element.off(ns);\n            that.wrapper.off(ns);\n            clearTimeout(that._pasteTimeout);\n\n            that._arrow.off(CLICK + \" \" + MOUSEDOWN);\n            that._clear.off(CLICK + \" \" + MOUSEDOWN);\n\n            Select.fn.destroy.call(that);\n        },\n\n        _isValueChanged: function(value) {\n            return value !== List.unifyType(this._old, typeof value) &&\n                value !== List.unifyType(this._oldText, typeof value);\n        },\n\n        _change: function() {\n            var that = this;\n            var text = that.text();\n            var hasText = text && text !== that._oldText && text !== that.options.placeholder;\n            var index = that.selectedIndex;\n            var isCustom = index === -1;\n\n            if (!that.options.syncValueAndText && !that.value() && isCustom && hasText) {\n                that._old = \"\";\n                that._oldIndex = index;\n                that._oldText = text;\n\n                if (!that._typing) {\n                    // trigger the DOM change event so any subscriber gets notified\n                    that.element.trigger(CHANGE);\n                }\n\n                that.trigger(CHANGE);\n                that._typing = false;\n                return;\n            }\n\n            Select.fn._change.call(that);\n\n            that._oldText = that.text && that.text();\n\n            that._toggleCloseVisibility();\n        },\n\n        _attachFocusEvents: function() {\n            var that = this;\n            that.input.on(\"focus\" + nsFocusEvent, proxy(that._inputFocus, that))\n                      .on(\"focusout\" + nsFocusEvent, proxy(that._inputFocusout, that));\n        },\n\n        _focusHandler: function(e) {\n            if(e.target === this.element[0]) {\n                this.input.trigger(\"focus\");\n            }\n        },\n\n        _arrowClick: function() {\n            this._toggle();\n        },\n\n        _inputFocus: function() {\n            this.wrapper.addClass(FOCUSED);\n            this._placeholder(false);\n        },\n\n        _inputFocusout: function(e) {\n            var that = this;\n            var value = that.value();\n            var isClearButton = !$(e.relatedTarget).closest('.k-clear-value').length;\n\n            that._userTriggered = true;\n            that.wrapper.removeClass(FOCUSED);\n            clearTimeout(that._typingTimeout);\n            that._typingTimeout = null;\n\n            if (isClearButton) {\n              that.text(that.text());\n            }\n\n            var item = that._focus();\n            var dataItem = this.listView.dataItemByIndex(this.listView.getElementIndex(item));\n\n            if (value !== that.value() && that.trigger(\"select\", { dataItem: dataItem, item: item })) {\n                that.value(value);\n                return;\n            }\n\n            that._placeholder();\n            that._valueBeforeCascade = that._old;\n\n            if (isClearButton) {\n                that._blur();\n\n                that.element.trigger(\"blur\");\n            }\n        },\n\n        _inputPaste: function() {\n            var that = this;\n            clearTimeout(that._pasteTimeout);\n            that._pasteTimeout = null;\n\n            that._pasteTimeout = setTimeout(function() {\n                that.search();\n            });\n        },\n\n        _editable: function(options) {\n            var that = this,\n                disable = options.disable,\n                readonly = options.readonly,\n                wrapper = that.wrapper.off(ns),\n                input = that.element.add(that.input.off(ns)),\n                arrow = that._arrow.off(CLICK + \" \" + MOUSEDOWN),\n                clear = that._clear;\n\n            if (!readonly && !disable) {\n                wrapper\n                    .removeClass(STATEDISABLED)\n                    .on(HOVEREVENTS, that._toggleHover);\n\n                input.prop(DISABLED, false)\n                     .prop(READONLY, false)\n                     .attr(ARIA_DISABLED, false)\n                     .attr(ARIA_READONLY, false);\n\n                arrow.on(CLICK, proxy(that._arrowClick, that))\n                     .on(MOUSEDOWN, function(e) { e.preventDefault(); });\n\n                clear.on(CLICK + \" touchend\" + ns, proxy(that._clearValue, that));\n\n                that.input\n                    .on(\"keydown\" + ns, proxy(that._keydown, that))\n                    .on(\"input\" + ns, proxy(that._search, that))\n                    .on(\"paste\" + ns, proxy(that._inputPaste, that));\n\n                that.wrapper.on(CLICK + ns, proxy(that._focusHandler, that));\n            } else {\n                wrapper\n                    .addClass(disable ? STATEDISABLED : \"\")\n                    .removeClass(disable ? \"\" : STATEDISABLED);\n\n                input.attr(DISABLED, disable)\n                     .attr(READONLY, readonly)\n                     .attr(ARIA_DISABLED, disable)\n                     .attr(ARIA_READONLY, readonly);\n            }\n\n            that._toggleCloseVisibility();\n        },\n\n        open: function() {\n            var that = this;\n            var state = that._state;\n            var isFiltered = that.dataSource.filter() ? that.dataSource.filter().filters.length > 0 : false;\n            var reinitialized = !that.ul.find(that.listView.focus()).length;\n\n            if (that.popup.visible()) {\n                return;\n            }\n\n            if ((!that.listView.bound() && state !== STATE_FILTER) || state === STATE_ACCEPT) {\n                that._open = true;\n                that._state = STATE_REBIND;\n\n                if ((that.options.minLength !== 1 && !isFiltered) || (isFiltered && that.value() && that.selectedIndex === -1 )) {\n                    that.refresh();\n                    that._openPopup();\n                    if (!this.options.virtual) {\n                        that.listView.bound(false);\n                    }\n                } else {\n                    that._filterSource();\n                }\n            } else if (that._allowOpening()) {\n                // In some cases when the popup is opened resize is triggered which will cause it to close\n                // Setting the below flag will prevent this from happening\n                that.popup._hovered = true;\n                that._openPopup();\n                if(that.options.virtual) {\n                    that._focusItem();\n                } else if (reinitialized && that.options.highlightFirst) {\n                    that.listView.focus(0);\n                }\n            }\n        },\n\n        _scrollToFocusedItem: function() {\n            var listView = this.listView;\n\n            listView.scrollToIndex(listView.getElementIndex(listView.focus()));\n        },\n\n        _openPopup: function() {\n            this.popup.one(\"activate\", proxy(this._scrollToFocusedItem, this));\n            this.popup.open();\n        },\n\n        _updateSelectionState: function() {\n            var that = this;\n            var text = that.options.text;\n            var value = that.options.value;\n\n            if (that.listView.isFiltered()) {\n                return;\n            }\n\n            if (that.selectedIndex === -1) {\n                if (text === undefined || text === null) {\n                    text = value;\n                }\n\n                that._accessor(value);\n                that.input.val(text || that.input.val());\n                that._placeholder();\n            } else if (that._oldIndex === -1) {\n                that._oldIndex = that.selectedIndex;\n            }\n        },\n\n        _buildOptions: function(data) {\n            var that = this;\n            if (!that._isSelect) {\n                return;\n            }\n\n            var custom = that._customOption;\n\n            if (that._state === STATE_REBIND) {\n                that._state = \"\";\n            }\n\n            that._customOption = undefined;\n            that._options(data, \"\", that.value());\n\n            if (custom && custom[0].selected && !that.listView._emptySearch) {\n                that._custom(custom.val());\n            }\n        },\n\n        _updateSelection: function() {\n            var that = this;\n            var listView = that.listView;\n            var initialIndex = that._initialIndex;\n            var hasInitialIndex = initialIndex !== null && initialIndex > -1;\n            var filtered = that._state === STATE_FILTER;\n\n            if (filtered) {\n                $(listView.focus()).removeClass(\"k-selected\");\n                return;\n            }\n\n            if (that._fetch) {\n                return;\n            }\n\n            if (!listView.value().length) {\n                if (hasInitialIndex) {\n                    that.select(initialIndex);\n                } else if (that._accessor()) {\n                    listView.value(that._accessor());\n                }\n            }\n\n            that._initialIndex = null;\n            var dataItem = listView.selectedDataItems()[0];\n\n            if (!dataItem) {\n                return;\n            }\n\n            if (that._value(dataItem) !== that.value()) {\n                that._custom(that._value(dataItem));\n            } else if (that._value(dataItem) !== that.element[0].value){\n                that._accessor(that._value(dataItem));\n            }\n\n            if (that.text() && that.text() !== that._text(dataItem)) {\n                that._selectValue(dataItem);\n            }\n        },\n\n        _updateItemFocus: function() {\n            var listView = this.listView;\n\n            if (!this.options.highlightFirst) {\n                listView.focus(-1);\n            } else if (!listView.focus() && !listView.focusIndex()) {\n                listView.focus(0);\n            }\n        },\n\n        _listBound: function() {\n            var that = this;\n            var isActive = that.input[0] === activeElement();\n\n            var data = that.dataSource.flatView();\n            var skip = that.listView.skip();\n            var length = data.length;\n            var groupsLength = that.dataSource._group ? that.dataSource._group.length : 0;\n            var isFirstPage = skip === undefined || skip === 0;\n\n            that._presetValue = false;\n\n            that._renderFooter();\n            that._renderNoData();\n            that._toggleNoData(!length);\n            that._toggleHeader(!!groupsLength && !!length);\n\n            that._resizePopup();\n\n            that.popup.position();\n\n            that._buildOptions(data);\n\n            that._updateSelection();\n\n            if (data.length && isFirstPage) {\n                that._updateItemFocus();\n\n                if (that.options.suggest && isActive && that.input.val()) {\n                    that.suggest(data[0]);\n                }\n            }\n\n            if (that._open) {\n                that._open = false;\n\n                if (that._typingTimeout && !isActive) {\n                    that.popup.close();\n                } else {\n                    that.toggle(that._allowOpening());\n                }\n\n                that._typingTimeout = null;\n            }\n\n            that._hideBusy();\n            that.trigger(\"dataBound\");\n        },\n\n        _listChange: function() {\n            this._selectValue(this.listView.selectedDataItems()[0]);\n\n            if (this._presetValue) {\n                this._oldIndex = this.selectedIndex;\n            }\n        },\n\n        _get: function(candidate) {\n            var data, found, idx;\n\n            if (typeof candidate === \"function\") {\n                data = this.dataSource.flatView();\n\n                for (idx = 0; idx < data.length; idx++) {\n                    if (candidate(data[idx])) {\n                        candidate = idx;\n                        found = true;\n                        break;\n                    }\n                }\n\n                if (!found) {\n                    candidate = -1;\n                }\n            }\n\n            if (!this.dataSource.total() && !candidate) {\n                candidate = -1;\n            }\n\n            return candidate;\n        },\n\n        _select: function(candidate, keepState) {\n            var that = this;\n\n            candidate = that._get(candidate);\n\n            if (candidate === -1) {\n                that.input[0].value = \"\";\n                that._accessor(\"\");\n            }\n\n            return that.listView.select(candidate).done(function() {\n                if (!keepState && that._state === STATE_FILTER) {\n                    that._state = STATE_ACCEPT;\n                }\n                that._toggleCloseVisibility();\n            });\n        },\n\n        _selectValue: function(dataItem) {\n            var idx = this.listView.select();\n            var value = \"\";\n            var text = \"\";\n\n            idx = idx[idx.length - 1];\n            if (idx === undefined) {\n                idx = -1;\n            }\n\n            this.selectedIndex = idx;\n\n            if (this.listView.isFiltered() && idx !== -1) {\n                this._valueBeforeCascade = this._old;\n            }\n\n            if (idx === -1 && !dataItem) {\n                if (this.options.syncValueAndText) {\n                    if (this.options.dataTextField === this.options.dataValueField) {\n                        text = this._accessor();\n                    } else {\n                        text = this.input[0].value;\n                    }\n                    value = text;\n                }\n                else {\n                    text = this.text();\n                }\n                this.listView.focus(-1);\n            } else {\n                if (dataItem || dataItem === 0) {\n                    value = this._dataValue(dataItem);\n                    text = this._text(dataItem);\n                }\n\n                if (value === null) {\n                    value = \"\";\n                }\n            }\n\n            this._setDomInputValue(text);\n            this._accessor(value !== undefined ? value : text, idx);\n\n            this._placeholder();\n            this._triggerCascade();\n        },\n\n        _setDomInputValue: function(text){\n            var that = this;\n            var currentCaret = caret(this.input);\n            var caretStart;\n\n            if(currentCaret && currentCaret.length){\n                caretStart = currentCaret[0];\n            }\n\n            this._prev = this.input[0].value = text;\n\n            if(caretStart && this.selectedIndex === -1){\n                var mobile = support.mobileOS;\n                if(mobile.wp || mobile.android) {// without the timeout the caret is at the end of the input\n                    setTimeout(function() { that.input[0].setSelectionRange(caretStart, caretStart); }, 0);\n                }\n                else {\n                    this.input[0].setSelectionRange(caretStart, caretStart);\n                }\n            }\n        },\n\n        refresh: function() {\n            this.listView.refresh();\n        },\n\n        _toggleCloseVisibility: function() {\n            var preventShow = this.element.is(\":disabled\") || this.element.is(\"[readonly]\");\n\n            if (this.text() && !preventShow) {\n                this._showClear();\n            } else {\n                this._hideClear();\n            }\n        },\n\n        suggest: function(word) {\n            var that = this;\n            var element = that.input[0];\n            var value = that.text();\n            var caretIdx = caret(element)[0];\n            var key = that._last;\n            var idx;\n            var accentFoldingFiltering = that.dataSource.options.accentFoldingFiltering;\n\n            if (key == keys.BACKSPACE || key == keys.DELETE) {\n                that._last = undefined;\n                return;\n            }\n\n            word = word || \"\";\n\n            if (typeof word !== \"string\") {\n                if (word[0]) {\n                    word = that.dataSource.view()[List.inArray(word[0], that.ul[0])];\n                }\n\n                word = word ? that._text(word) : \"\";\n            }\n\n            if (caretIdx <= 0) {\n                caretIdx = (accentFoldingFiltering ? value.toLocaleLowerCase(accentFoldingFiltering) : value.toLowerCase()).indexOf(accentFoldingFiltering ? word.toLocaleLowerCase(accentFoldingFiltering) : word.toLowerCase()) + 1;\n            }\n\n            if (word) {\n                word = word.toString();\n                idx = (accentFoldingFiltering ? word.toLocaleLowerCase(accentFoldingFiltering) : word.toLowerCase()).indexOf(accentFoldingFiltering ? value.toLocaleLowerCase(accentFoldingFiltering) : value.toLowerCase());\n                if (idx > -1) {\n                    value += word.substring(idx + value.length);\n                }\n            } else {\n                value = value.substring(0, caretIdx);\n            }\n\n            if (value.length !== caretIdx || !word) {\n                element.value = value;\n                if (element === activeElement()) {\n                    caret(element, caretIdx, value.length);\n                }\n            }\n        },\n\n        text: function (text) {\n            text = text === null ? \"\" : text;\n\n            var that = this;\n            var input = that.input[0];\n            var ignoreCase = that.options.ignoreCase;\n            var loweredText = text;\n            var dataItem;\n            var value;\n\n            if (text === undefined) {\n                return input.value;\n            }\n\n            if (that.options.autoBind === false && !that.listView.bound()) {\n                that._setText(text);\n                return;\n            }\n\n            dataItem = that.dataItem();\n\n            if (dataItem && that._text(dataItem).replace && that._text(dataItem).replace(newLineRegEx,\"\") === text) {\n                value = that._value(dataItem);\n\n                if (value === List.unifyType(that._old, typeof value)) {\n                    that._triggerCascade();\n                    return;\n                }\n            }\n\n            if (ignoreCase) {\n                loweredText = loweredText.toLowerCase();\n            }\n\n            if(that.dataItem() && that._text(that.dataItem()) === text){\n                return;\n            }\n\n            that._select(function(data) {\n                data = that._text(data);\n                if (ignoreCase) {\n                    data = (data + \"\").toLowerCase();\n                }\n\n                return data === loweredText;\n            }).done(function() {\n                if (that.selectedIndex < 0) {\n                    input.value = text;\n\n                    if (that.options.syncValueAndText) {\n                        that._accessor(text);\n                    }\n\n                    that._cascadeTriggered = true;\n                    that._triggerCascade();\n                }\n\n                that._prev = input.value;\n            });\n\n            that._toggleCloseVisibility();\n        },\n\n        toggle: function(toggle) {\n            this._toggle(toggle, true);\n        },\n\n        value: function(value) {\n            var that = this;\n            var options = that.options;\n            var listView = that.listView;\n\n            if (value === undefined) {\n                value = that._accessor() || that.listView.value()[0];\n                return value === undefined || value === null ? \"\" : value;\n            }\n\n            that.requireValueMapper(that.options, value);\n\n            that.trigger(\"set\", { value: value });\n\n            if (value === options.value && that.input.val() === options.text &&\n            !that.options.cascadeFrom) {\n                return;\n            }\n\n            that._accessor(value);\n\n            if (that._isFilterEnabled() && listView.bound() && listView.isFiltered()) {\n                that._clearFilter();\n            } else {\n                that._fetchData();\n            }\n\n            listView\n                .value(value)\n                .done(function() {\n                    if (that.selectedIndex === -1 && (!listView._selectedDataItems || !listView._selectedDataItems.length)) {\n                        that._accessor(value);\n                        that.input.val(value);\n                        that._placeholder(true);\n                    }\n\n                    if(that._userTriggered) {\n                         that._old = that._accessor();\n                    } else {\n                         that._old = that._valueBeforeCascade = that._accessor();\n                    }\n\n                    that._oldIndex = that.selectedIndex;\n\n                    that._prev = that._oldText = that.input.val();\n\n                    if (that._state === STATE_FILTER) {\n                        that._state = STATE_ACCEPT;\n                    }\n                    that._toggleCloseVisibility();\n                });\n        },\n\n        _hideBusy: function () {\n            var that = this;\n            clearTimeout(that._busy);\n            that._arrowIcon.removeClass(LOADING);\n            that._focused.attr(\"aria-busy\", false);\n            that._busy = null;\n            that._toggleCloseVisibility();\n        },\n\n        _click: function(e) {\n            var that = this;\n            var item = e.item;\n            var dataItem = that.listView.dataItemByIndex(that.listView.getElementIndex(item));\n            var shouldTrigger = true;\n            e.preventDefault();\n\n            if(dataItem){\n                shouldTrigger = that._value(dataItem) !==  List.unifyType(that.value(), typeof that._value(dataItem));\n\n                if(!shouldTrigger){\n                   that.input.val(that._text(dataItem));\n                }\n            }\n\n            if (shouldTrigger && that.trigger(\"select\", { dataItem: dataItem, item: item })) {\n                that.close();\n                return;\n            }\n\n            that._userTriggered = true;\n\n            that._select(item).done(function() {\n                that._blur();\n            });\n        },\n\n        _syncValueAndText: function () {\n            return this.options.syncValueAndText;\n        },\n\n        _inputValue: function() {\n            return this.text();\n        },\n\n        _searchByWord: function(word) {\n            var that = this;\n            var options = that.options;\n            var dataSource = that.dataSource;\n            var ignoreCase = options.ignoreCase;\n            var predicate = function (dataItem) {\n                var text = that._text(dataItem);\n                if (text !== undefined) {\n                    text = text + \"\";\n                    if (text !== \"\" && word === \"\") {\n                        return false;\n                    }\n\n                    if (ignoreCase) {\n                        text = text.toLowerCase();\n                    }\n\n                    return text.indexOf(word) === 0;\n                }\n            };\n\n            if (ignoreCase) {\n                word = word.toLowerCase();\n            }\n\n            if (!that.ul[0].firstChild) {\n                dataSource.one(CHANGE, function () {\n                    if (dataSource.view()[0]) {\n                        that.search(word);\n                    }\n                }).fetch();\n                return;\n            }\n\n            this.listView.focus(this._get(predicate));\n\n            var current = this.listView.focus();\n\n            if (current) {\n                if (options.suggest) {\n                    that.suggest(current);\n                }\n\n                this.open();\n            }\n\n            if (this.options.highlightFirst && !word) {\n                this.listView.focusFirst();\n            }\n        },\n\n        _input: function() {\n            var that = this,\n                element = that.element.removeClass(\"k-input-inner\")[0],\n                accessKey = element.accessKey,\n                wrapper = that.wrapper,\n                SELECTOR = \"input.k-input-inner\",\n                name = element.name || \"\",\n                options = that.options,\n                input,\n                maxLength,\n                arrowBtn;\n\n            if (name) {\n                name = 'name=\"' + name + '_input\" ';\n            }\n\n            input = wrapper.find(SELECTOR);\n\n            if (!input[0]) {\n                arrowBtn = html.renderButton('<button type=\"button\" class=\"k-select k-input-button\" aria-label=\"expand combobox\"></button>', {\n                    icon: \"arrow-s\",\n                    size: options.size,\n                    fillMode: options.fillMode,\n                    shape: null,\n                    rounded: null,\n                });\n\n                wrapper.append('<input ' + name + 'class=\"k-input-inner\" type=\"text\" autocomplete=\"' + AUTOCOMPLETEVALUE +'\"/>')\n                    .append(arrowBtn)\n                    .append(that.element);\n\n                input = wrapper.find(SELECTOR);\n            }\n\n            input[0].style.cssText = element.style.cssText;\n            input[0].title = element.title;\n\n            maxLength = parseInt(this.element.prop(\"maxlength\") || this.element.attr(\"maxlength\"), 10);\n            if (maxLength > -1) {\n                input[0].maxLength = maxLength;\n            }\n\n            input.addClass(element.className)\n                .css({\n                    width: \"\",\n                    height: element.style.height,\n                    position: \"\"\n                })\n                .attr({\n                    \"role\": \"combobox\",\n                    \"aria-expanded\": false\n                })\n                .show();\n\n            if (placeholderSupported) {\n                input.attr(\"placeholder\", that.options.placeholder);\n            }\n\n            if (accessKey) {\n                element.accessKey = \"\";\n                input[0].accessKey = accessKey;\n            }\n\n            that._focused = that.input = input;\n            that._arrow = wrapper.find(\".k-select\")\n                .attr({\n                    \"role\": \"button\",\n                    \"tabIndex\": -1\n                });\n            that._arrowIcon = that._arrow.find(\".k-icon\");\n\n            if (element.id) {\n                that._arrow.attr(\"aria-controls\", that.ul[0].id);\n            }\n        },\n\n        _clearButton: function() {\n            List.fn._clearButton.call(this);\n\n            if (this.options.clearButton) {\n                this._clear.insertAfter(this.input);\n                this.wrapper.addClass(\"k-combobox-clearable\");\n            }\n        },\n\n        _keydown: function(e) {\n            var that = this,\n                key = e.keyCode,\n                textField = that.options.dataTextField || \"text\",\n                isFkey = key >= 112 && key <= 135,\n                isNonPrintableKey = NON_PRINTABLE_KEYS.indexOf(key) > -1;\n\n            that._last = key;\n\n            clearTimeout(that._typingTimeout);\n            that._typingTimeout = null;\n\n            if (key === keys.HOME) {\n                that._firstItem();\n            } else if (key === keys.END) {\n                that._lastItem();\n            } else if (key === keys.ENTER || (key === keys.TAB && that.popup.visible())) {\n                var current = that.listView.focus();\n                var dataItem = that.dataItem();\n                var shouldTrigger = true;\n\n                if (!that.popup.visible() && (!dataItem || that.text() !== that._text(dataItem))) {\n                    current = null;\n                }\n\n                if (current) {\n                    if (that.popup.visible()) {\n                        e.preventDefault();\n                    }\n\n                    dataItem = that.listView.dataItemByIndex(that.listView.getElementIndex(current));\n\n                    if(dataItem){\n                        shouldTrigger = that._value(dataItem) !==  List.unifyType(that.value(), typeof that._value(dataItem));\n                    }\n\n                    if (shouldTrigger && that.trigger(\"select\", { dataItem: dataItem, item: current })) {\n                        return;\n                    }\n\n                    that._userTriggered = true;\n\n                    that._select(current).done(function() {\n                        that._blur();\n                        that._valueBeforeCascade = that._old = that.value();\n                    });\n                } else {\n                    if(that._syncValueAndText() || that._isSelect){\n                        if(!that.dataItem() || that.dataItem()[textField] !== that.input.val()) {\n                            that._accessor(that.input.val());\n                        }\n                    }\n\n                    if (that.options.highlightFirst) {\n                        that.listView.value(that.input.val());\n                        that._blur();\n                    } else {\n                        that._oldText = that.text();\n                    }\n                }\n            } else if (key != keys.TAB && !that._move(e) && !isNonPrintableKey && !isFkey && !e.ctrlKey) {\n               that._search();\n            } else if (key === keys.ESC && !that.popup.visible() && that.text()) {\n                that._clearValue();\n            }\n        },\n\n        _placeholder: function(show) {\n            if (placeholderSupported) {\n                return;\n            }\n\n            var that = this,\n                input = that.input,\n                placeholder = that.options.placeholder,\n                value;\n\n            if (placeholder) {\n                value = that.value();\n\n                if (show === undefined) {\n                    show = !value;\n                }\n\n                input.toggleClass(\"k-readonly\", show);\n\n                if (!show) {\n                    if (!value) {\n                        placeholder = \"\";\n                    } else {\n                        return;\n                    }\n                }\n\n                input.val(placeholder);\n\n                if (!placeholder && input[0] === activeElement()) {\n                    caret(input[0], 0, 0);\n                }\n            }\n        },\n\n        _search: function() {\n            var that = this;\n\n            clearTimeout(that._typingTimeout);\n\n            that._typingTimeout = setTimeout(function() {\n                var value = that.text();\n\n                if (value !== \"\" && that._prev !== value) {\n                    that._prev = value;\n\n                    if (that.options.filter === \"none\" && that.options.virtual) {\n                        that.listView.select(-1);\n                    }\n\n                    that.search(value);\n\n                    that._toggleCloseVisibility();\n                }\n                else if (value === \"\" && that._prev !== \"\" && that._prev !== undefined) {\n                    that._clearValue();\n                    that._open = true;\n                    that._state = STATE_REBIND;\n                }\n\n                that._typingTimeout = null;\n            }, that.options.delay);\n        },\n\n        _setText: function(text) {\n            this.input.val(text);\n            this._prev = text;\n        },\n\n        _wrapper: function() {\n            var that = this,\n                element = that.element,\n                wrapper = element.parent();\n\n            if (!wrapper.is(\"span.k-input\")) {\n                wrapper = element.hide().wrap(\"<span />\").parent();\n                wrapper[0].style.cssText = element[0].style.cssText;\n            }\n\n            that.wrapper = wrapper.addClass(\"k-input k-combobox k-widget\")\n                .addClass(element[0].className)\n                .removeClass('input-validation-error')\n                .css(\"display\", \"\");\n        },\n\n        _clearSelection: function(parent, isFiltered) {\n            var that = this;\n            var hasValue = parent.value();\n            var custom = hasValue && parent.selectedIndex === -1;\n\n            if (this.selectedIndex == -1 && this.value()) {\n                return;\n            }\n\n            if (isFiltered || !hasValue || custom) {\n                that.options.value = \"\";\n                that.value(\"\");\n            }\n        },\n\n        _preselect: function(value, text) {\n            this.input.val(text);\n            this._accessor(value);\n\n            this._old = this._accessor();\n            this._oldIndex = this.selectedIndex;\n\n            this.listView.setValue(value);\n            this._placeholder();\n\n            this._initialIndex = null;\n            this._presetValue = true;\n            this._toggleCloseVisibility();\n        },\n\n        _clearText: function() {\n            this._old = this.value();\n            this.text(\"\");\n        },\n\n        _clearValue: function() {\n            Select.fn._clearValue.call(this);\n            this.input.trigger(\"focus\");\n        }\n    });\n\n    ui.plugin(ComboBox);\n\n    kendo.cssProperties.registerPrefix(\"ComboBox\", \"k-input-\");\n\n    kendo.cssProperties.registerValues(\"ComboBox\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n"],"names":["define","__meta__","id","name","category","description","depends","features","$","window","kendo","jQuery","undefined","ui","html","List","Select","caret","support","placeholderSupported","placeholder","activeElement","_activeElement","keys","ns","nsFocusEvent","CLICK","MOUSEDOWN","DISABLED","READONLY","CHANGE","LOADING","FOCUSED","STATEDISABLED","ARIA_DISABLED","ARIA_READONLY","AUTOCOMPLETEVALUE","STATE_FILTER","STATE_ACCEPT","STATE_REBIND","HOVEREVENTS","proxy","newLineRegEx","NON_PRINTABLE_KEYS","ComboBox","extend","init","element","options","that","this","text","disabled","Array","isArray","dataSource","fn","call","on","_focusHandler","attr","_reset","_wrapper","_input","_clearButton","_tabindex","input","_popup","_dataSource","_ignoreCase","_enable","_attachFocusEvents","_oldIndex","selectedIndex","_aria","_initialIndex","index","requireValueMapper","_initList","_cascade","autoBind","_filterSource","_isSelect","children","_setText","_placeholder","parents","is","enable","notify","_toggleCloseVisibility","_applyCssClasses","enabled","value","delay","dataTextField","dataValueField","minLength","enforceMinLength","height","highlightFirst","filter","suggest","cascadeFrom","cascadeFromField","cascadeFromParentField","ignoreCase","animation","virtual","template","groupTemplate","fixedGroupTemplate","clearButton","syncValueAndText","autoWidth","popup","size","fillMode","rounded","events","setOptions","listOptions","_listOptions","listView","_accessors","destroy","off","wrapper","clearTimeout","_pasteTimeout","_arrow","_clear","_isValueChanged","unifyType","_old","_oldText","_change","hasText","isCustom","_typing","trigger","_inputFocus","_inputFocusout","e","target","_arrowClick","_toggle","addClass","isClearButton","relatedTarget","closest","length","_userTriggered","removeClass","_typingTimeout","item","_focus","dataItem","dataItemByIndex","getElementIndex","_valueBeforeCascade","_blur","_inputPaste","setTimeout","search","_editable","disable","readonly","add","arrow","clear","_toggleHover","prop","preventDefault","_clearValue","_keydown","_search","open","state","_state","isFiltered","filters","reinitialized","ul","find","focus","visible","bound","_open","refresh","_openPopup","_allowOpening","_hovered","_focusItem","_scrollToFocusedItem","scrollToIndex","one","_updateSelectionState","_accessor","val","_buildOptions","data","custom","_customOption","_options","selected","_emptySearch","_custom","_updateSelection","initialIndex","hasInitialIndex","filtered","_fetch","select","selectedDataItems","_value","_text","_selectValue","_updateItemFocus","focusIndex","_listBound","isActive","flatView","skip","groupsLength","_group","isFirstPage","_presetValue","_renderFooter","_renderNoData","_toggleNoData","_toggleHeader","_resizePopup","position","close","toggle","_hideBusy","_listChange","_get","candidate","found","idx","total","_select","keepState","done","_dataValue","_setDomInputValue","_triggerCascade","currentCaret","caretStart","_prev","mobile","mobileOS","wp","android","setSelectionRange","preventShow","_showClear","_hideClear","word","caretIdx","key","_last","accentFoldingFiltering","BACKSPACE","DELETE","view","inArray","toLocaleLowerCase","toLowerCase","indexOf","toString","substring","loweredText","replace","_cascadeTriggered","_isFilterEnabled","_clearFilter","_fetchData","_selectedDataItems","_busy","_arrowIcon","_focused","_click","shouldTrigger","_syncValueAndText","_inputValue","_searchByWord","predicate","firstChild","fetch","current","focusFirst","accessKey","SELECTOR","maxLength","arrowBtn","renderButton","icon","shape","append","style","cssText","title","parseInt","className","css","width","role","aria-expanded","show","tabIndex","insertAfter","keyCode","textField","isFkey","isNonPrintableKey","HOME","_firstItem","END","_lastItem","ENTER","TAB","_move","ctrlKey","ESC","toggleClass","parent","hide","wrap","_clearSelection","hasValue","_preselect","setValue","_clearText","plugin","cssProperties","registerPrefix","registerValues","values","roundedValues","concat","amd","a1","a2","a3"],"mappings":"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"}