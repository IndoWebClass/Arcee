/** 
 * Kendo UI v2022.1.301 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2022 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*/
!function(define){define("kendo.core.min",["jquery"],function(){var t={id:"core",name:"Core",category:"framework",description:"The core of the Kendo framework."},g=jQuery,m=window,R=void 0,O=m.kendo=m.kendo||{cultures:{}},d=g.extend,n=g.each,c=Array.isArray,i=g.proxy,a=g.noop,p=Math,r,o=m.JSON||{},h={},v=/%/,s=/\{(\d+)(:[^\}]+)?\}/g,y=/(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+)?/i,w=/^(\+|-?)\d+(\.?)\d*$/,b="function",_="string",x="number",k="object",C="null",S="boolean",T="undefined",A="prefix",M={},D={},E=[].slice,P=["themeColor","fillMode","shape","size","rounded","positionMode"],I=function(){var e,t,i,r,n,a,o=arguments[0]||{},s=1,c=arguments.length,l=false;if(typeof o==="boolean"){l=o;o=arguments[s]||{};s++}if(typeof o!=="object"&&typeof o!=="function")o={};if(s===c){o=this;s--}for(;s<c;s++)if((n=arguments[s])!=null)for(r in n){if(r=="filters"||r=="concat"||r==":")continue;e=o[r];i=n[r];if(o===i)continue;if(l&&i&&(jQuery.isPlainObject(i)||(t=Array.isArray(i)))){if(t){t=false;a=e&&Array.isArray(e)?e:[]}else a=e&&jQuery.isPlainObject(e)?e:{};o[r]=I(l,a,i)}else if(i!==R)o[r]=i}return o};function B(){}O.version="2022.1.301".replace(/^\s+|\s+$/g,""),B.extend=function(e){var t=function(){},i,r=this,n=e&&e.init?e.init:function(){r.apply(this,arguments)},a;t.prototype=r.prototype;a=n.fn=n.prototype=new t;for(i in e)if(e[i]!=null&&e[i].constructor===Object)a[i]=d(true,{},t.prototype[i],e[i]);else a[i]=e[i];a.constructor=n;n.extend=r.extend;return n},B.prototype._initOptions=function(e){this.options=Ge({},this.options,e)};var z=O.isFunction=function(e){return typeof e==="function"},L=function(){this._defaultPrevented=true},F=function(){return this._defaultPrevented===true},V=B.extend({init:function(){this._events={}},bind:function(e,t,i){var r=this,n,a=typeof e===_?[e]:e,o,s,l,h=typeof t===b,c;if(t===R){for(n in e)r.bind(n,e[n]);return r}for(n=0,o=a.length;n<o;n++){e=a[n];l=h?t:t[e];if(l){if(i){s=l;l=function(){r.unbind(e,l);s.apply(r,arguments)};l.original=s}c=r._events[e]=r._events[e]||[];c.push(l)}}return r},one:function(e,t){return this.bind(e,t,true)},first:function(e,t){var i=this,r,n=typeof e===_?[e]:e,a,o,s=typeof t===b,l;for(r=0,a=n.length;r<a;r++){e=n[r];o=s?t:t[e];if(o){l=i._events[e]=i._events[e]||[];l.unshift(o)}}return i},trigger:function(e,t){var i=this,r=i._events[e],n,a;if(r){t=t||{};t.sender=i;t._defaultPrevented=false;t.preventDefault=L;t.isDefaultPrevented=F;r=r.slice();for(n=0,a=r.length;n<a;n++)r[n].call(i,t);return t._defaultPrevented===true}return false},unbind:function(e,t){var i=this,r=i._events[e],n;if(e===R)i._events={};else if(r)if(t){for(n=r.length-1;n>=0;n--)if(r[n]===t||r[n].original===t)r.splice(n,1)}else i._events[e]=[];return i}});function N(e,t){if(t)return"'"+e.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";else{var i=e.charAt(0),r=e.substring(1);if(i==="=")return"+("+r+")+";else if(i===":")return"+$kendoHtmlEncode("+r+")+";else return";"+e+";$kendoOutput+="}}var H=/^\w+/,U=/\$\{([^}]*)\}/g,j=/\\\}/g,G=/__CURLY__/g,W=/\\#/g,q=/__SHARP__/g,Y=["","0","00","000","0000"];function l(e,t,i){e=e+"";t=t||2;i=t-e.length;if(i)return Y[t].substring(0,i)+e;return e}r={paramName:"data",useWithBlock:true,render:function(e,t){var i,r,n="";for(i=0,r=t.length;i<r;i++)n+=e(t[i]);return n},compile:function(t,e){var i=d({},this,e),r=i.paramName,n=r.match(H)[0],a=i.useWithBlock,o="var $kendoOutput, $kendoHtmlEncode = kendo.htmlEncode;",s,l,c;if(z(t))return t;o+=a?"with("+r+"){":"";o+="$kendoOutput=";l=t.replace(j,"__CURLY__").replace(U,"#=$kendoHtmlEncode($1)#").replace(G,"}").replace(W,"__SHARP__").split("#");for(c=0;c<l.length;c++)o+=N(l[c],c%2===0);o+=a?";}":";";o+="return $kendoOutput;";o=o.replace(q,"#");try{s=new Function(n,o);s._slotCount=Math.floor(l.length/2);return s}catch(e){throw new Error(O.format("Invalid template:'{0}' Generated code:'{1}'",t,o))}}};var $=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,u,X,K={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},Q,Z={}.toString;if(typeof Date.prototype.toJSON!==b){Date.prototype.toJSON=function(){var e=this;return isFinite(e.valueOf())?l(e.getUTCFullYear(),4)+"-"+l(e.getUTCMonth()+1)+"-"+l(e.getUTCDate())+"T"+l(e.getUTCHours())+":"+l(e.getUTCMinutes())+":"+l(e.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}function J(e){$.lastIndex=0;return $.test(e)?'"'+e.replace($,function(e){var t=K[e];return typeof t===_?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function ee(e,t){var i,r,n,a,o=u,s,l=t[e],c;if(l&&typeof l===k&&typeof l.toJSON===b)l=l.toJSON(e);if(typeof Q===b)l=Q.call(t,e,l);c=typeof l;if(c===_)return J(l);else if(c===x)return isFinite(l)?String(l):C;else if(c===S||c===C)return String(l);else if(c===k){if(!l)return C;u+=X;s=[];if(Z.apply(l)==="[object Array]"){a=l.length;for(i=0;i<a;i++)s[i]=ee(i,l)||C;n=s.length===0?"[]":u?"[\n"+u+s.join(",\n"+u)+"\n"+o+"]":"["+s.join(",")+"]";u=o;return n}if(Q&&typeof Q===k){a=Q.length;for(i=0;i<a;i++)if(typeof Q[i]===_){r=Q[i];n=ee(r,l);if(n)s.push(J(r)+(u?": ":":")+n)}}else for(r in l)if(Object.hasOwnProperty.call(l,r)){n=ee(r,l);if(n)s.push(J(r)+(u?": ":":")+n)}n=s.length===0?"{}":u?"{\n"+u+s.join(",\n"+u)+"\n"+o+"}":"{"+s.join(",")+"}";u=o;return n}}if(typeof o.stringify!==b)o.stringify=function(e,t,i){var r;u="";X="";if(typeof i===x)for(r=0;r<i;r+=1)X+=" ";else if(typeof i===_)X=i;Q=t;if(t&&typeof t!==b&&(typeof t!==k||typeof t.length!==x))throw new Error("JSON.stringify");return ee("",{"":e})};var te=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g,ie=/^(n|c|p|e)(\d*)$/i,re=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,ne=/\,/g,ae="",oe=".",se=",",le="#",ce="0",he="??",ue="en-US",fe={}.toString;function de(e){if(e){if(e.numberFormat)return e;if(typeof e===_){var t=O.cultures;return t[e]||t[e.split("-")[0]]||null}return null}return null}function pe(e){if(e)e=de(e);return e||O.cultures.current}function ve(n,e,t){t=pe(t);var a=t.calendars.standard,o=a.days,s=a.months;e=a.patterns[e]||e;return e.replace(te,function(e){var t;var i;var r;if(e==="d")i=n.getDate();else if(e==="dd")i=l(n.getDate());else if(e==="ddd")i=o.namesAbbr[n.getDay()];else if(e==="dddd")i=o.names[n.getDay()];else if(e==="M")i=n.getMonth()+1;else if(e==="MM")i=l(n.getMonth()+1);else if(e==="MMM")i=s.namesAbbr[n.getMonth()];else if(e==="MMMM")i=s.names[n.getMonth()];else if(e==="yy")i=l(n.getFullYear()%100);else if(e==="yyyy")i=l(n.getFullYear(),4);else if(e==="h")i=n.getHours()%12||12;else if(e==="hh")i=l(n.getHours()%12||12);else if(e==="H")i=n.getHours();else if(e==="HH")i=l(n.getHours());else if(e==="m")i=n.getMinutes();else if(e==="mm")i=l(n.getMinutes());else if(e==="s")i=n.getSeconds();else if(e==="ss")i=l(n.getSeconds());else if(e==="f")i=p.floor(n.getMilliseconds()/100);else if(e==="ff"){i=n.getMilliseconds();if(i>99)i=p.floor(i/10);i=l(i)}else if(e==="fff")i=l(n.getMilliseconds(),3);else if(e==="tt")i=n.getHours()<12?a.AM[0]:a.PM[0];else if(e==="zzz"){t=n.getTimezoneOffset();r=t<0;i=p.abs(t/60).toString().split(".")[0];t=p.abs(t)-i*60;i=(r?"+":"-")+l(i);i+=":"+l(t)}else if(e==="zz"||e==="z"){i=n.getTimezoneOffset()/60;r=i<0;i=p.abs(i).toString().split(".")[0];i=(r?"+":"-")+(e==="zz"?l(i):i)}return i!==R?i:e.slice(1,e.length-1)})}function ge(e,t,h){h=pe(h);var i=h.numberFormat,u=i[oe],f=i.decimals,d=i.pattern[0],p=[],v,g,m,_,y,r=e<0,w,n,b,x,k=ae,C=ae,a,S,o,T,A,s,l,c,M,D,E,P,I,B=-1,z;if(e===R)return ae;if(!isFinite(e))return e;if(!t)return h.name.length?e.toLocaleString():e.toString();y=ie.exec(t);if(y){t=y[1].toLowerCase();g=t==="c";m=t==="p";if(g||m){i=g?i.currency:i.percent;u=i[oe];f=i.decimals;v=i.symbol;d=i.pattern[r?0:1]}_=y[2];if(_)f=+_;if(t==="e"){var O=_?e.toExponential(f):e.toExponential();return O.replace(oe,i[oe])}if(m)e*=100;e=_e(e,f);r=e<0;e=e.split(oe);w=e[0];n=e[1];if(r)w=w.substring(1);C=me(w,0,w.length,i);if(n)C+=u+n;if(t==="n"&&!r)return C;e=ae;for(a=0,S=d.length;a<S;a++){o=d.charAt(a);if(o==="n")e+=C;else if(o==="$"||o==="%")e+=v;else e+=o}return e}if(t.indexOf("'")>-1||t.indexOf('"')>-1||t.indexOf("\\")>-1)t=t.replace(re,function(e){var t=e.charAt(0).replace("\\",""),i=e.slice(1).replace(t,"");p.push(i);return he});t=t.split(";");if(r&&t[1]){t=t[1];A=true}else if(e===0&&t[2]){t=t[2];if(t.indexOf(le)==-1&&t.indexOf(ce)==-1)return t}else t=t[0];E=t.indexOf("%");P=t.indexOf("$");m=E!=-1;g=P!=-1;if(m)e*=100;if(g&&t[P-1]==="\\"){t=t.split("\\").join("");g=false}if(g||m){i=g?i.currency:i.percent;u=i[oe];f=i.decimals;v=i.symbol}T=t.indexOf(se)>-1;if(T)t=t.replace(ne,ae);s=t.indexOf(oe);S=t.length;if(s!=-1){n=e.toString().split("e");if(n[1])n=_e(e,Math.abs(n[1]));else n=n[0];n=n.split(oe)[1]||ae;c=t.lastIndexOf(ce)-s;l=t.lastIndexOf(le)-s;M=c>-1;D=l>-1;a=n.length;if(!M&&!D){t=t.substring(0,s)+t.substring(s+1);S=t.length;s=-1;a=0}if(M&&c>l)a=c;else if(l>c)if(D&&a>l){var L=_e(e,l,r);while(L.charAt(L.length-1)===ce&&l>0&&l>c){l--;L=_e(e,l,r)}a=l}else if(M&&a<c)a=c}e=_e(e,a,r);l=t.indexOf(le);I=c=t.indexOf(ce);if(l==-1&&c!=-1)B=c;else if(l!=-1&&c==-1)B=l;else B=l>c?c:l;l=t.lastIndexOf(le);c=t.lastIndexOf(ce);if(l==-1&&c!=-1)z=c;else if(l!=-1&&c==-1)z=l;else z=l>c?l:c;if(B==S)z=B;if(B!=-1){C=e.toString().split(oe);w=C[0];n=C[1]||ae;b=w.length;x=n.length;if(r&&e*-1>=0)r=false;e=t.substring(0,B);if(r&&!A)e+="-";for(a=B;a<S;a++){o=t.charAt(a);if(s==-1){if(z-a<b){e+=w;break}}else{if(c!=-1&&c<a)k=ae;if(s-a<=b&&s-a>-1){e+=w;a=s}if(s===a){e+=(n?u:ae)+n;a+=z-s+1;continue}}if(o===ce){e+=o;k=o}else if(o===le)e+=k}if(T)e=me(e,B+(r&&!A?1:0),Math.max(z,b+B),i);if(z>=B)e+=t.substring(z+1);if(g||m){C=ae;for(a=0,S=e.length;a<S;a++){o=e.charAt(a);C+=o==="$"||o==="%"?v:o}e=C}S=p.length;if(S)for(a=0;a<S;a++)e=e.replace(he,p[a])}return e}O.cultures["en-US"]={name:ue,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{name:"US Dollar",abbr:"USD",pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}},O.culture=function(e){var t=O.cultures,i;if(e!==R){i=de(e)||t[ue];i.calendar=i.calendars.standard;t.current=i}else return t.current},O.findCulture=de,O.getCulture=pe,O.culture(ue);var me=function(e,h,t,i){var u=e.indexOf(i[oe]);var f=i.groupSize.slice();var r=f.shift();var n,a;var o,s,l;var c;t=u!==-1?u:t+1;n=e.substring(h,t);a=n.length;if(a>=r){o=a;s=[];while(o>-1){l=n.substring(o-r,o);if(l)s.push(l);o-=r;c=f.shift();r=c!==R?c:r;if(r===0){if(o>0)s.push(n.substring(0,o));break}}n=s.reverse().join(i[se]);e=e.substring(0,h)+n+e.substring(t)}return e},_e=function(e,t,i){t=t||0;e=e.toString().split("e");e=Math.round(+(e[0]+"e"+(e[1]?+e[1]+t:t)));if(i)e=-e;e=e.toString().split("e");e=+(e[0]+"e"+(e[1]?+e[1]-t:-t));return e.toFixed(Math.min(t,20))},ye=function(e,t,i){if(t)if(fe.call(e)==="[object Date]")return ve(e,t,i);else if(typeof e===x)return ge(e,t,i);return e!==R?e:""},we=(O.format=function(e){var n=arguments;return e.replace(s,function(e,t,i){var r=n[parseInt(t,10)+1];return ye(r,i?i.substring(1):"")})},O._extractFormat=function(e){if(e.slice(0,3)==="{0:")e=e.slice(3,e.length-1);return e},O._activeElement=function(){try{return document.activeElement}catch(e){return document.documentElement.activeElement}},O._round=_e,O._outerWidth=function(e,t){return g(e).outerWidth(t||false)||0},O._outerHeight=function(e,t){return g(e).outerHeight(t||false)||0},O.toString=ye,/\u00A0/g),be=/\s/g,xe=/[eE][\-+]?[0-9]+/,ke=/[+|\-]\d{1,2}/,Ce=/[+|\-]\d{1,2}:?\d{2}/,Se=/^\/Date\((.*?)\)\/$/,Te=/[+-]\d*/,Ae=[[],["G","g","F"],["D","d","y","m","T","t"]],Me=[["yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffffff","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:ss.fff","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-dd HH:mm:ss","yyyy/MM/dd HH:mm:ss"],["yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm","yyyy/MM/dd HH:mm"],["yyyy/MM/dd","yyyy-MM-dd","HH:mm:ss","HH:mm"]],De={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},Ee={}.toString;function Pe(e,t,i){return!(e>=t&&e<=i)}function Ie(e){return e.charAt(0)}function Be(e){return g.map(e,Ie)}function ze(e,t){if(!t&&e.getHours()===23)e.setHours(e.getHours()+2)}function Oe(e){var t=0,i=e.length,r=[];for(;t<i;t++)r[t]=(e[t]+"").toLowerCase();return r}function Le(e){var t={},i;for(i in e)t[i]=Oe(e[i]);return t}function Re(c,l,u,f){if(!c)return null;var d=function(e){var t=0;while(l[b]===e){t++;b++}if(t>0)b-=1;return t},p=function(e){var t=De[e]||new RegExp("^\\d{1,"+e+"}"),i=c.substr(h,e).match(t);if(i){i=i[0];h+=i.length;return parseInt(i,10)}return null},v=function(e,t){var i=0,r=e.length,n,a,o=0,s=0,l;for(;i<r;i++){n=e[i];a=n.length;l=c.substr(h,a);if(t)l=l.toLowerCase();if(l==n&&a>o){o=a;s=i}}if(o){h+=o;return s+1}return null},g=function(){var e=false;if(c.charAt(h)===l[b]){h++;e=true}return e},e=u.calendars.standard,t=null,m=null,i=null,r=null,_=null,y=null,w=null,b=0,h=0,x=false,k=new Date,C=e.twoDigitYearMax||2029,S=k.getFullYear(),n,a,T,A,M,D,E,P,I,o,s,B,z;if(!l)l="d";A=e.patterns[l];if(A)l=A;l=l.split("");T=l.length;for(;b<T;b++){n=l[b];if(x)if(n==="'")x=false;else g();else if(n==="d"){a=d("d");if(!e._lowerDays)e._lowerDays=Le(e.days);if(i!==null&&a>2)continue;i=a<3?p(2):v(e._lowerDays[a==3?"namesAbbr":"names"],true);if(i===null||Pe(i,1,31))return null}else if(n==="M"){a=d("M");if(!e._lowerMonths)e._lowerMonths=Le(e.months);m=a<3?p(2):v(e._lowerMonths[a==3?"namesAbbr":"names"],true);if(m===null||Pe(m,1,12))return null;m-=1}else if(n==="y"){a=d("y");t=p(a);if(t===null)return null;if(a==2){if(typeof C==="string")C=S+parseInt(C,10);t=S-S%100+t;if(t>C)t-=100}}else if(n==="h"){d("h");r=p(2);if(r==12)r=0;if(r===null||Pe(r,0,11))return null}else if(n==="H"){d("H");r=p(2);if(r===null||Pe(r,0,23))return null}else if(n==="m"){d("m");_=p(2);if(_===null||Pe(_,0,59))return null}else if(n==="s"){d("s");y=p(2);if(y===null||Pe(y,0,59))return null}else if(n==="f"){a=d("f");z=c.substr(h,a).match(De[3]);w=p(a);if(w!==null){w=parseFloat("0."+z[0],10);w=O._round(w,3);w*=1e3}if(w===null||Pe(w,0,999))return null}else if(n==="t"){a=d("t");P=e.AM;I=e.PM;if(a===1){P=Be(P);I=Be(I)}M=v(I);if(!M&&!v(P))return null}else if(n==="z"){D=true;a=d("z");if(c.substr(h,1)==="Z"){g();continue}E=c.substr(h,6).match(a>2?Ce:ke);if(!E)return null;E=E[0].split(":");o=E[0];s=E[1];if(!s&&o.length>3){h=o.length-2;s=o.substring(h);o=o.substring(0,h)}o=parseInt(o,10);if(Pe(o,-12,13))return null;if(a>2){s=E[0][0]+s;s=parseInt(s,10);if(isNaN(s)||Pe(s,-59,59))return null}}else if(n==="'"){x=true;g()}else if(!g())return null}if(f&&!/^\s*$/.test(c.substr(h)))return null;B=r!==null||_!==null||y||null;if(t===null&&m===null&&i===null&&B){t=S;m=k.getMonth();i=k.getDate()}else{if(t===null)t=S;if(i===null)i=1}if(M&&r<12)r+=12;if(D){if(o)r+=-o;if(s)_+=-s;c=new Date(Date.UTC(t,m,i,r,_,y,w))}else{c=new Date(t,m,i,r,_,y,w);ze(c,r)}if(t<100)c.setFullYear(t);if(c.getDate()!==i&&D===R)return null;return c}function Fe(e){var t=e.substr(0,1)==="-"?-1:1;e=e.substring(1);e=parseInt(e.substr(0,2),10)*60+parseInt(e.substring(2),10);return t*e}function Ve(e){var t=p.max(Ae.length,Me.length);var i=e.calendar||e.calendars.standard;var r=i.patterns;var n,a,o;var s=[];for(o=0;o<t;o++){n=Ae[o];for(a=0;a<n.length;a++)s.push(r[n[a]]);s=s.concat(Me[o])}return s}function Ne(e,t,i,r){if(Ee.call(e)==="[object Date]")return e;var n=0;var a=null;var o;var s;if(e&&e.indexOf("/D")===0){a=Se.exec(e);if(a){a=a[1];s=Te.exec(a.substring(1));a=new Date(parseInt(a,10));if(s){s=Fe(s[0]);a=O.timezone.apply(a,0);a=O.timezone.convert(a,0,-1*s)}return a}}i=O.getCulture(i);if(!t)t=Ve(i);t=c(t)?t:[t];o=t.length;for(;n<o;n++){a=Re(e,t[n],i,r);if(a)return a}return a}function He(e){var t=e.css(O.support.transitions.css+"box-shadow")||e.css("box-shadow"),i=t?t.match(y)||[0,0,0,0,0]:[0,0,0,0,0],r=p.max(+i[3],+(i[4]||0));return{left:-i[1]+r,right:+i[1]+r,bottom:+i[2]+r}}function Ue(e,t){var i,r=O._outerWidth,n=O._outerHeight,a=e.parent(),h=r(m);a.removeClass("k-animation-container-sm");if(!a.hasClass("k-animation-container")){var o=e[0].style.width,s=e[0].style.height,l=v.test(o),c=v.test(s),u=e.hasClass("k-tooltip")||e.is(".k-menu-horizontal.k-context-menu");i=l||c;if(!l&&(!t||t&&o||u))o=t?r(e)+1:r(e);if(!c&&(!t||t&&s)||e.is(".k-menu-horizontal.k-context-menu"))s=n(e);e.wrap(g("<div/>").addClass("k-animation-container").css({width:o,height:s}));a=e.parent();if(i)e.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})}else je(e,t);if(h<r(a)){a.addClass("k-animation-container-sm");je(e,t)}return a}function je(e,t){var i,r=O._outerWidth,n=O._outerHeight,a=e.parent(".k-animation-container"),o=a[0].style;if(a.is(":hidden"))a.css({display:"",position:""});i=v.test(o.width)||v.test(o.height);if(!i)a.css({width:t?r(e)+1:r(e),height:n(e),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"})}function Ge(e){var t=1,i=arguments.length;for(t=1;t<i;t++)We(e,arguments[t]);return e}function We(e,t){var i=O.data.ObservableArray,r=O.data.LazyObservableArray,n=O.data.DataSource,h=O.data.HierarchicalDataSource,a,o,s,l,c;for(a in t){o=t[a];s=typeof o;if(s===k&&o!==null)l=o.constructor;else l=null;if(l&&l!==Array&&l!==i&&l!==r&&l!==n&&l!==h&&l!==RegExp&&(!O.isFunction(m.ArrayBuffer)||l!==ArrayBuffer))if(o instanceof Date)e[a]=new Date(o.getTime());else if(z(o.clone))e[a]=o.clone();else{c=e[a];if(typeof c===k)e[a]=c||{};else e[a]={};We(e[a],o)}else if(s!==T)e[a]=o}return e}function qe(e,t,i){for(var r in t)if(t.hasOwnProperty(r)&&t[r].test(e))return r;return i!==R?i:e}function Ye(e){return e.replace(/([a-z][A-Z])/g,function(e){return e.charAt(0)+"-"+e.charAt(1).toLowerCase()})}function $e(e){return e.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})}function Xe(e,t){var i={},r;if(document.defaultView&&document.defaultView.getComputedStyle){r=document.defaultView.getComputedStyle(e,"");if(t)g.each(t,function(e,t){i[t]=r.getPropertyValue(t)})}else{r=e.currentStyle;if(t)g.each(t,function(e,t){i[t]=r[$e(t)]})}if(!O.size(i))i=r;return i}function Ke(e){if(e&&e.className&&typeof e.className==="string"&&e.className.indexOf("k-auto-scrollable")>-1)return true;var t=Xe(e,["overflow"]).overflow;return t.indexOf("auto")>-1||t.indexOf("scroll")>-1}function Qe(e,i){var t=h.browser.webkit;var r=h.browser.mozilla;var n=h.browser.version;var a,o;if(e instanceof g&&i!==R){e.each(function(e,t){Qe(t,i)});return}else a=e instanceof g?e[0]:e;if(!a)return;o=h.isRtl(e);if(i!==R)if(o&&t&&(n<85||h.browser.safari))a.scrollLeft=a.scrollWidth-a.clientWidth-i;else if(o&&(r||t)&&i>0)a.scrollLeft=-i;else a.scrollLeft=i;else if(o&&t&&(n<85||h.browser.safari))return a.scrollWidth-a.clientWidth-a.scrollLeft;else return Math.abs(a.scrollLeft)}O.parseDate=function(e,t,i){return Ne(e,t,i,false)},O.parseExactDate=function(e,t,i){return Ne(e,t,i,true)},O.parseInt=function(e,t){var i=O.parseFloat(e,t);if(i)i=i|0;return i},O.parseFloat=function(e,t,i){if(!e&&e!==0)return null;if(typeof e===x)return e;e=e.toString();t=O.getCulture(t);var r=t.numberFormat,n=r.percent,a=r.currency,o=a.symbol,s=n.symbol,l=e.indexOf("-"),c,h;if(xe.test(e)){e=parseFloat(e.replace(r["."],"."));if(isNaN(e))e=null;return e}if(l>0)return null;else l=l>-1;if(e.indexOf(o)>-1||i&&i.toLowerCase().indexOf("c")>-1){r=a;c=r.pattern[0].replace("$",o).split("n");if(e.indexOf(c[0])>-1&&e.indexOf(c[1])>-1){e=e.replace(c[0],"").replace(c[1],"");l=true}}else if(e.indexOf(s)>-1){h=true;r=n;o=s}e=e.replace("-","").replace(o,"").replace(we," ").split(r[","].replace(we," ")).join("").replace(be,"").replace(r["."],".");e=parseFloat(e);if(isNaN(e))e=null;else if(l)e*=-1;if(e&&h)e/=100;return e},h._scrollbar=R,h.scrollbar=function(e){if(!isNaN(h._scrollbar)&&!e)return h._scrollbar;else{var t=document.createElement("div"),i;t.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block";t.innerHTML="&nbsp;";document.body.appendChild(t);h._scrollbar=i=t.offsetWidth-t.scrollWidth;document.body.removeChild(t);return i}},h.isRtl=function(e){return g(e).closest(".k-rtl").length>0};var Ze=document.createElement("table");try{Ze.innerHTML="<tr><td></td></tr>";h.tbodyInnerHtml=true}catch(e){h.tbodyInnerHtml=false}h.touch="ontouchstart"in m;var Je=document.documentElement.style,et=h.transitions=false,tt=h.transforms=false,it="HTMLElement"in m?HTMLElement.prototype:[];h.hasHW3D="WebKitCSSMatrix"in m&&"m11"in new m.WebKitCSSMatrix||"MozPerspective"in Je||"msPerspective"in Je,h.cssFlexbox="flexWrap"in Je||"WebkitFlexWrap"in Je||"msFlexWrap"in Je,n(["Moz","webkit","O","ms"],function(){var e=this.toString(),t=typeof Ze.style[e+"Transition"]===_;if(t||typeof Ze.style[e+"Transform"]===_){var i=e.toLowerCase();tt={css:i!="ms"?"-"+i+"-":"",prefix:e,event:i==="o"||i==="webkit"?i:""};if(t){et=tt;et.event=et.event?et.event+"TransitionEnd":"transitionend"}return false}}),Ze=null,h.transforms=tt,h.transitions=et,h.devicePixelRatio=m.devicePixelRatio===R?1:m.devicePixelRatio;try{h.screenWidth=m.outerWidth||m.screen?m.screen.availWidth:m.innerWidth;h.screenHeight=m.outerHeight||m.screen?m.screen.availHeight:m.innerHeight}catch(e){h.screenWidth=m.screen.availWidth;h.screenHeight=m.screen.availHeight}h.detectOS=function(e){var t=false,i,r=[],n=!/mobile safari/i.test(e),a={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.?(\d+(\.\d+)?)?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},o={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},s={tablet:/playbook|ipad|fire/i},l={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(var c in a)if(a.hasOwnProperty(c)){r=e.match(a[c]);if(r){if(c=="windows"&&"plugins"in navigator)return false;t={};t.device=c;t.tablet=qe(c,s,false);t.browser=qe(e,l,"default");t.name=qe(c,o);t[t.name]=true;t.majorVersion=r[2];t.minorVersion=(r[3]||"0").replace("_",".");i=t.minorVersion.replace(".","").substr(0,2);t.flatVersion=t.majorVersion+i+new Array(3-(i.length<3?i.length:2)).join("0");t.cordova=typeof m.PhoneGap!==T||typeof m.cordova!==T;t.appMode=m.navigator.standalone||/file|local|wmapp/.test(m.location.protocol)||t.cordova;if(t.android&&(h.devicePixelRatio<1.5&&t.flatVersion<400||n)&&(h.screenWidth>800||h.screenHeight>800))t.tablet=c;break}}return t};var rt=h.mobileOS=h.detectOS(navigator.userAgent);if(h.wpDevicePixelRatio=rt.wp?screen.width/320:0,h.hasNativeScrolling=false,rt.ios||rt.android&&rt.majorVersion>2||rt.wp)h.hasNativeScrolling=rt;if(h.delayedClick=function(){if(h.touch){if(rt.ios)return true;if(rt.android){if(!h.browser.chrome)return true;if(h.browser.version<32)return false;return!(g("meta[name=viewport]").attr("content")||"").match(/user-scalable=no/i)}}return false},h.mouseAndTouchPresent=h.touch&&!(h.mobileOS.ios||h.mobileOS.android),h.detectBrowser=function(e){var t=false,i=[],r=[],n={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome|crios)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var a in n)if(n.hasOwnProperty(a)){i=e.match(n[a]);if(i){t={};t[a]=true;t[i[1].toLowerCase().split(" ")[0].split("/")[0]]=true;t.version=parseInt(document.documentMode||i[2],10);if(t.chrome){r=e.match(/(edg)[ \/]([\w.]+)/i);if(r)t.chromiumEdge=true}break}}return t},h.browser=h.detectBrowser(navigator.userAgent),!rt&&h.touch&&h.browser.safari)rt=h.mobileOS={ios:true,tablet:"tablet",device:"ipad"};h.detectClipboardAccess=function(){var e={copy:document.queryCommandSupported?document.queryCommandSupported("copy"):false,cut:document.queryCommandSupported?document.queryCommandSupported("cut"):false,paste:document.queryCommandSupported?document.queryCommandSupported("paste"):false};if(h.browser.chrome){e.paste=false;if(h.browser.version>=43){e.copy=true;e.cut=true}}return e},h.clipboard=h.detectClipboardAccess(),h.zoomLevel=function(){try{var e=h.browser;var t=0;var i=document.documentElement;if(e.msie&&e.version==11&&i.scrollHeight>i.clientHeight&&!h.touch)t=h.scrollbar();return h.touch?i.clientWidth/m.innerWidth:e.msie&&e.version>=10?((top||m).document.documentElement.offsetWidth+t)/(top||m).innerWidth:1}catch(e){return 1}};var nt=h.browser,e="",at=g(document.documentElement),ot=parseInt(nt.version,10);if(nt.msie)e="ie";else if(nt.mozilla)e="ff";else if(nt.safari)e="safari";else if(nt.webkit)e="webkit";else if(nt.opera)e="opera";else if(nt.edge)e="edge";if(e)e="k-"+e+" k-"+e+ot;if(h.mobileOS)e+=" k-mobile";if(!h.cssFlexbox)e+=" k-no-flexbox";at.addClass(e),h.eventCapture=document.documentElement.addEventListener;var st=document.createElement("input"),lt=(h.placeholder="placeholder"in st,h.propertyChangeEvent="onpropertychange"in st,h.input=function(){var e=["number","date","time","month","week","datetime","datetime-local"];var t=e.length;var i="test";var r={};var n=0;var a;for(;n<t;n++){a=e[n];st.setAttribute("type",a);st.value=i;r[a.replace("-","")]=st.type!=="text"&&st.value!==i}return r}(),st.style.cssText="float:left;",h.cssFloat=!!st.style.cssFloat,st=null,h.stableSort=function(){var e=513;var t=[{index:0,field:"b"}];for(var i=1;i<e;i++)t.push({index:i,field:"a"});t.sort(function(e,t){return e.field>t.field?1:e.field<t.field?-1:0});return t[0].index===1}(),h.matchesSelector=it.webkitMatchesSelector||it.mozMatchesSelector||it.msMatchesSelector||it.oMatchesSelector||it.matchesSelector||it.matches||function(e){var t=document.querySelectorAll?(this.parentNode||document).querySelectorAll(e)||[]:g(e),i=t.length;while(i--)if(t[i]==this)return true;return false},h.matchMedia="matchMedia"in m,h.pushState=m.history&&m.history.pushState,h.hashChange="onhashchange"in m,h.customElements="registerElement"in m.document,h.browser.chrome),ct=h.browser.crios,ht=h.browser.mozilla,ut=h.browser.safari;function ft(e){var t=0,i;for(i in e)if(e.hasOwnProperty(i)&&i!="toJSON")t++;return t}function dt(e,t,i){if(!t)t="offset";var r=e[t]();var n={top:r.top,right:r.right,bottom:r.bottom,left:r.left};if(h.browser.msie&&(h.pointers||h.msPointers)&&!i){var a=h.isRtl(e)?1:-1;n.top-=m.pageYOffset-document.documentElement.scrollTop;n.left-=m.pageXOffset+a*document.documentElement.scrollLeft}return n}h.msPointers=!lt&&m.MSPointerEvent,h.pointers=!lt&&!ct&&!ht&&!ut&&m.PointerEvent,h.kineticScrollNeeded=rt&&(h.touch||h.msPointers||h.pointers);var pt={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},in:{reverse:"out"},out:{reverse:"in"}};function vt(e){var t={};n(typeof e==="string"?e.split(" "):e,function(e){t[e]=this});return t}function gt(e){return new O.effects.Element(e)}var mt={};function _t(e,t,i,r){if(typeof e===_){if(z(t)){r=t;t=400;i=false}if(z(i)){r=i;i=false}if(typeof t===S){i=t;t=400}e={effects:e,duration:t,reverse:i,complete:r}}return d({effects:{},duration:400,reverse:false,init:a,teardown:a,hide:false},e,{completeCallback:e.complete,complete:a})}function yt(e,t,i,r,n){var a=0,o=e.length,s;for(;a<o;a++){s=g(e[a]);s.queue(function(){mt.promise(s,_t(t,i,r,n))})}return e}function wt(i,e,t,r){if(e){e=e.split(" ");n(e,function(e,t){i.toggleClass(t,r)})}return i}if(g.extend(mt,{enabled:true,Element:function(e){this.element=g(e)},promise:function(e,t){if(!e.is(":visible"))e.css({display:e.data("olddisplay")||"block"}).css("display");if(t.hide)e.data("olddisplay",e.css("display")).hide();if(t.init)t.init();if(t.completeCallback)t.completeCallback(e);e.dequeue()},disable:function(){this.enabled=false;this.promise=this.promiseShim},enable:function(){this.enabled=true;this.promise=this.animatedPromise}}),mt.promiseShim=mt.promise,!("kendoAnimate"in g.fn))d(g.fn,{kendoStop:function(e,t){return this.stop(e,t)},kendoAnimate:function(e,t,i,r){return yt(this,e,t,i,r)},kendoAddClass:function(e,t){return O.toggleClass(this,e,t,true)},kendoRemoveClass:function(e,t){return O.toggleClass(this,e,t,false)},kendoToggleClass:function(e,t,i){return O.toggleClass(this,e,t,i)}});var bt=/&/g,xt=/</g,kt=/"/g,Ct=/'/g,St=/>/g;function Tt(e){return(""+e).replace(bt,"&amp;").replace(xt,"&lt;").replace(St,"&gt;").replace(kt,"&quot;").replace(Ct,"&#39;")}function At(t){var i;try{i=m.decodeURIComponent(t)}catch(e){i=t.replace(/%u([\dA-F]{4})|%([\dA-F]{2})/gi,function(e,t,i){return String.fromCharCode(parseInt("0x"+(t||i),16))})}return i}var Mt=function(e){return e.target};if(h.touch){Mt=function(e){var t="originalEvent"in e?e.originalEvent.changedTouches:"changedTouches"in e?e.changedTouches:null;return t?document.elementFromPoint(t[0].clientX,t[0].clientY):e.target};n(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(e,t){g.fn[t]=function(e){return this.on(t,e)}})}if(h.touch)if(!h.mobileOS){h.mousedown="mousedown touchstart";h.mouseup="mouseup touchend";h.mousemove="mousemove touchmove";h.mousecancel="mouseleave touchcancel";h.click="click";h.resize="resize"}else{h.mousedown="touchstart";h.mouseup="touchend";h.mousemove="touchmove";h.mousecancel="touchcancel";h.click="touchend";h.resize="orientationchange"}else if(h.pointers){h.mousemove="pointermove";h.mousedown="pointerdown";h.mouseup="pointerup";h.mousecancel="pointercancel";h.click="pointerup";h.resize="orientationchange resize"}else if(h.msPointers){h.mousemove="MSPointerMove";h.mousedown="MSPointerDown";h.mouseup="MSPointerUp";h.mousecancel="MSPointerCancel";h.click="MSPointerUp";h.resize="orientationchange resize"}else{h.mousemove="mousemove";h.mousedown="mousedown";h.mouseup="mouseup";h.mousecancel="mouseleave";h.click="click";h.resize="resize"}var Dt=function(e,t){var i=t||"d",r,n,a,o,s=1;for(n=0,a=e.length;n<a;n++){o=e[n];if(o!==""){r=o.indexOf("[");if(r!==0)if(r==-1)o="."+o;else{s++;o="."+o.substring(0,r)+" || {})"+o.substring(r)}s++;i+=o+(n<a-1?" || {})":")")}}return new Array(s).join("(")+i},Et=/^([a-z]+:)?\/\//i,Pt=(d(O,{widgets:[],_widgetRegisteredCallbacks:[],ui:O.ui||{},fx:O.fx||gt,effects:O.effects||mt,mobile:O.mobile||{},data:O.data||{},dataviz:O.dataviz||{},drawing:O.drawing||{},spreadsheet:{messages:{}},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},support:O.support||h,animate:O.animate||yt,ns:"",attr:function(e){return"data-"+O.ns+e},getShadows:He,wrap:Ue,deepExtend:Ge,getComputedStyles:Xe,isScrollable:Ke,scrollLeft:Qe,size:ft,toCamelCase:$e,toHyphens:Ye,getOffset:O.getOffset||dt,parseEffects:O.parseEffects||vt,toggleClass:O.toggleClass||wt,directions:O.directions||pt,Observable:V,Class:B,Template:r,template:i(r.compile,r),render:i(r.render,r),stringify:i(o.stringify,o),eventTarget:Mt,htmlEncode:Tt,unescape:At,isLocalUrl:function(e){return e&&!Et.test(e)},expr:function(e,t,i){e=e||"";if(typeof t==_){i=t;t=false}i=i||"d";if(e&&e.charAt(0)!=="[")e="."+e;if(t){e=e.replace(/"([^.]*)\.([^"]*)"/g,'"$1_$DOT$_$2"');e=e.replace(/'([^.]*)\.([^']*)'/g,"'$1_$DOT$_$2'");e=Dt(e.split("."),i);e=e.replace(/_\$DOT\$_/g,".")}else e=i+e;return e},getter:function(e,t){var i=e+t;return M[i]=M[i]||new Function("d","return "+O.expr(e,t))},setter:function(e){return D[e]=D[e]||new Function("d,value",O.expr(e)+"=value")},accessor:function(e){return{get:O.getter(e),set:O.setter(e)}},guid:function(){var e="",t,i,r="abcdef";e+=r[Math.floor(Math.random()*Math.floor(r.length))];for(t=1;t<32;t++){i=p.random()*16|0;if(t==8||t==12||t==16||t==20)e+="-";e+=(t==12?4:t==16?i&3|8:i).toString(16)}return e},roleSelector:function(e){return e.replace(/(\S+)/g,"["+O.attr("role")+"=$1],").slice(0,-1)},directiveSelector:function(e){var t=e.split(" ");if(t)for(var i=0;i<t.length;i++)if(t[i]!="view")t[i]=t[i].replace(/(\w*)(view|bar|strip|over)$/,"$1-$2");return t.join(" ").replace(/(\S+)/g,"kendo-mobile-$1,").slice(0,-1)},triggeredByInput:function(e){return/^(label|input|textarea|select)$/i.test(e.target.tagName)},onWidgetRegistered:function(e){for(var t=0,i=O.widgets.length;t<i;t++)e(O.widgets[t]);O._widgetRegisteredCallbacks.push(e)},logToConsole:function(e,t){var i=m.console;if(!O.suppressLog&&typeof i!="undefined"&&i.log)i[t||"log"](e)}}),V.extend({init:function(e,t){var i=this;i.element=O.jQuery(e).handler(i);i.angular("init",t);V.fn.init.call(i);var r=t?t.dataSource:null;var n;if(t)n=(i.componentTypes||{})[(t||{}).componentType];if(r)t=d({},t,{dataSource:{}});t=i.options=d(true,{},i.options,i.defaults,n||{},t);if(r)t.dataSource=r;if(!i.element.attr(O.attr("role")))i.element.attr(O.attr("role"),(t.name||"").toLowerCase());i.element.data("kendo"+t.prefix+t.name,i);i.bind(i.events,t)},events:[],options:{prefix:""},_hasBindingTarget:function(){return!!this.element[0].kendoBindingTarget},_tabindex:function(e){e=e||this.wrapper;var t=this.element,i="tabindex",r=e.attr(i)||t.attr(i);t.removeAttr(i);e.attr(i,!isNaN(r)?r:0)},setOptions:function(e){this._clearCssClasses(e);this._setEvents(e);g.extend(this.options,e);this._applyCssClasses()},_setEvents:function(e){var t=this,i=0,r=t.events.length,n;for(;i<r;i++){n=t.events[i];if(t.options[n]&&e[n]){t.unbind(n,t.options[n]);if(t._events&&t._events[n])delete t._events[n]}}t.bind(t.events,e)},resize:function(e){var t=this.getSize(),i=this._size;if(e||(t.width>0||t.height>0)&&(!i||t.width!==i.width||t.height!==i.height)){this._size=t;this._resize(t,e);this.trigger("resize",t)}},getSize:function(){return O.dimensions(this.element)},size:function(e){if(!e)return this.getSize();else this.setSize(e)},setSize:g.noop,_resize:g.noop,destroy:function(){var e=this;e.element.removeData("kendo"+e.options.prefix+e.options.name);e.element.removeData("handler");e.unbind()},_destroy:function(){this.destroy()},angular:function(){},_muteAngularRebind:function(e){this._muteRebind=true;e.call(this);this._muteRebind=false},_applyCssClasses:function(e){var t=this.__proto__.options,i=this.options,r=e||this.wrapper||this.element,n=[],a,o,s,l;if(!O.cssProperties.propertyDictionary[t.name])return;for(a=0;a<P.length;a++){o=P[a];l=this.options._altname||t.name;if(t.hasOwnProperty(o))if(o==="themeColor"){s=O.cssProperties.getValidClass({widget:l,propName:"fillMode",value:i.fillMode});if(s&&s.length)n.push(O.cssProperties.getValidClass({widget:l,propName:o,value:i[o],fill:i.fillMode}))}else n.push(O.cssProperties.getValidClass({widget:l,propName:o,value:i[o]}))}r.addClass(n.join(" "))},_clearCssClasses:function(e,t){var i=this.__proto__.options,r=this.options,n=t||this.wrapper||this.element,a,o,s;if(!O.cssProperties.propertyDictionary[i.name])return;for(a=0;a<P.length;a++){o=P[a];s=this.options._altname||i.name;if(i.hasOwnProperty(o)&&e.hasOwnProperty(o))if(o==="themeColor")n.removeClass(O.cssProperties.getValidClass({widget:s,propName:o,value:r[o],fill:r.fillMode}));else{if(o==="fillMode")n.removeClass(O.cssProperties.getValidClass({widget:s,propName:"themeColor",value:r.themeColor,fill:r.fillMode}));n.removeClass(O.cssProperties.getValidClass({widget:s,propName:o,value:r[o]}))}}}})),It=Pt.extend({dataItems:function(){return this.dataSource.flatView()},_angularItems:function(e){var t=this;t.angular(e,function(){return{elements:t.items(),data:g.map(t.dataItems(),function(e){return{dataItem:e}})}})}}),Bt=(O.dimensions=function(e,t){var i=e[0];if(t)e.css(t);return{width:i.offsetWidth,height:i.offsetHeight}},O.notify=a,/template$/i),zt=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,Ot=/^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]+\]$/,Lt=/([A-Z])/g;function Rt(e,t){var i;if(t.indexOf("data")===0){t=t.substring(4);t=t.charAt(0).toLowerCase()+t.substring(1)}t=t.replace(Lt,"-$1");i=e.getAttribute("data-"+O.ns+t);if(i===null)i=R;else if(i==="null")i=null;else if(i==="true")i=true;else if(i==="false")i=false;else if(w.test(i)&&t!="mask"&&t!="format")i=parseFloat(i);else if(zt.test(i)&&!Ot.test(i))i=new Function("return ("+i+")")();return i}function Ft(e,t,i){var r={},n,a,o=e.getAttribute("data-"+O.ns+"role");for(n in t){a=Rt(e,n);if(a!==R){if(Bt.test(n)&&o!="drawer")if(typeof a==="string"){if(g("#"+a).length)a=O.template(g("#"+a).html());else if(i)a=O.template(i[a])}else a=e.getAttribute(n);r[n]=a}}return r}function Vt(e,t){return g.contains(e,t)?-1:1}function Nt(){var e=g(this);return g.inArray(e.attr("data-"+O.ns+"role"),["slider","rangeslider","breadcrumb"])>-1||e.is(":visible")}O.initWidget=function(e,t,i){var r,n,a,o,h,s,u,l,f,d;if(!i)i=O.ui.roles;else if(i.roles)i=i.roles;e=e.nodeType?e:e[0];s=e.getAttribute("data-"+O.ns+"role");if(!s)return;f=s.indexOf(".")===-1;if(f)a=i[s];else a=O.getter(s)(m);var p=g(e).data(),v=a?"kendo"+a.fn.options.prefix+a.fn.options.name:"";if(f)d=new RegExp("^kendo.*"+s+"$","i");else d=new RegExp("^"+v+"$","i");for(var c in p)if(c.match(d))if(c===v)r=p[c];else return p[c];if(!a)return;l=Rt(e,"dataSource");t=g.extend({},Ft(e,g.extend({},a.fn.options,a.fn.defaults)),t);if(l)if(typeof l===_)t.dataSource=O.getter(l)(m);else t.dataSource=l;for(o=0,h=a.fn.events.length;o<h;o++){n=a.fn.events[o];u=Rt(e,n);if(u!==R)t[n]=O.getter(u)(m)}if(!r)r=new a(e,t);else if(!g.isEmptyObject(t))r.setOptions(t);return r},O.rolesFromNamespaces=function(e){var t=[],i,r;if(!e[0])e=[O.ui,O.dataviz.ui];for(i=0,r=e.length;i<r;i++)t[i]=e[i].roles;return d.apply(null,[{}].concat(t.reverse()))},O.init=function(e){var t=O.rolesFromNamespaces(E.call(arguments,1));g(e).find("[data-"+O.ns+"role]").addBack().each(function(){O.initWidget(this,{},t)})},O.destroy=function(e){g(e).find("[data-"+O.ns+"role]").addBack().each(function(){var e=g(this).data();for(var t in e)if(t.indexOf("kendo")===0&&typeof e[t].destroy===b)e[t].destroy()})},O.resize=function(e,t){var i=g(e).find("[data-"+O.ns+"role]").addBack().filter(Nt);if(!i.length)return;var r=g.makeArray(i);r.sort(Vt);g.each(r,function(){var e=O.widgetInstance(g(this));if(e)e.resize(t)})},O.parseOptions=Ft,d(O.ui,{Widget:Pt,DataBoundWidget:It,roles:{},progress:function(e,t,i){var r=e.find(".k-loading-mask"),n=O.support,h=n.browser,a,o,s,l,c;i=g.extend({},{width:"100%",height:"100%",top:e.scrollTop(),opacity:false},i);c=i.opacity?"k-loading-mask k-opaque":"k-loading-mask";if(t){if(!r.length){a=n.isRtl(e);o=a?"right":"left";l=O.scrollLeft(e);s=h.webkit?!a?0:e[0].scrollWidth-e.width()-2*l:0;r=g(O.format("<div class='{0}'><span role='alert' aria-live='polite' class='k-loading-text'>{1}</span><div class='k-loading-image'></div><div class='k-loading-color'></div></div>",c,O.ui.progress.messages.loading)).width(i.width).height(i.height).css("top",i.top).css(o,Math.abs(l)+s).prependTo(e)}}else if(r)r.remove()},plugin:function(e,t,i){var o=e.fn.options.name,r;t=t||O.ui;i=i||"";t[o]=e;t.roles[o.toLowerCase()]=e;r="getKendo"+i+o;o="kendo"+i+o;var n={name:o,widget:e,prefix:i||""};O.widgets.push(n);for(var a=0,s=O._widgetRegisteredCallbacks.length;a<s;a++)O._widgetRegisteredCallbacks[a](n);g.fn[o]=function(r){var n=this,a;if(typeof r===_){a=E.call(arguments,1);this.each(function(){var e=g.data(this,o),t,i;if(!e)throw new Error(O.format("Cannot call method '{0}' of {1} before it is initialized",r,o));t=e[r];if(typeof t!==b)throw new Error(O.format("Cannot find method '{0}' of {1}",r,o));i=t.apply(e,a);if(i!==R){n=i;return false}})}else this.each(function(){return new e(this,r)});return n};g.fn[o].widget=e;g.fn[r]=function(){return this.data(o)}}}),O.ui.progress.messages={loading:"Loading..."};var Ht={bind:function(){return this},nullObject:true,options:{}},Ut=Pt.extend({init:function(e,t){Pt.fn.init.call(this,e,t);this.element.autoApplyNS();this.wrapper=this.element;this.element.addClass("km-widget")},destroy:function(){Pt.fn.destroy.call(this);this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var e=this.element.closest(O.roleSelector("view splitview modalview drawer"));return O.widgetInstance(e,O.mobile.ui)||Ht},viewHasNativeScrolling:function(){var e=this.view();return e&&e.options.useNativeScrolling},container:function(){var e=this.element.closest(O.roleSelector("view layout modalview drawer splitview"));return O.widgetInstance(e.eq(0),O.mobile.ui)||Ht}});function jt(e,t){var i=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(i)?!e.disabled:"a"===i?e.href||t:t)&&Gt(e)}function Gt(e){return g.expr.pseudos.visible(e)&&!g(e).parents().addBack().filter(function(){return g.css(this,"visibility")==="hidden"}).length}d(O.mobile,{init:function(e){O.init(e,O.mobile.ui,O.ui,O.dataviz.ui)},appLevelNativeScrolling:function(){return O.mobile.application&&O.mobile.application.options&&O.mobile.application.options.useNativeScrolling},roles:{},ui:{Widget:Ut,DataBoundWidget:It.extend(Ut.prototype),roles:{},plugin:function(e){O.ui.plugin(e,O.mobile.ui,"Mobile")}}}),Ge(O.dataviz,{init:function(e){O.init(e,O.dataviz.ui)},ui:{roles:{},themes:{},views:[],plugin:function(e){O.ui.plugin(e,O.dataviz.ui)}},roles:{}}),O.touchScroller=function(e,i){if(!i)i={};i.useNative=true;return g(e).map(function(e,t){t=g(t);if(h.kineticScrollNeeded&&O.mobile.ui.Scroller&&!t.data("kendoMobileScroller")){t.kendoMobileScroller(i);return t.data("kendoMobileScroller")}else return false})[0]},O.preventDefault=function(e){e.preventDefault()},O.widgetInstance=function(e,t){var i=e.data(O.ns+"role"),r=[],n,a,o=e.data("kendoView");if(i){if(i==="content")i="scroller";if(i==="editortoolbar"){var s=e.data("kendoEditorToolbar");if(s)return s}if(i==="view"&&o)return o;if(t)if(t[0])for(n=0,a=t.length;n<a;n++)r.push(t[n].roles[i]);else r.push(t.roles[i]);else r=[O.ui.roles[i],O.dataviz.ui.roles[i],O.mobile.ui.roles[i]];if(i.indexOf(".")>=0)r=[O.getter(i)(m)];for(n=0,a=r.length;n<a;n++){var l=r[n];if(l){var c=e.data("kendo"+l.fn.options.prefix+l.fn.options.name);if(c)return c}}}},O.onResize=function(e){var t=e;if(h.mobileOS.android)t=function(){setTimeout(e,600)};g(m).on(h.resize,t);return t},O.unbindResize=function(e){g(m).off(h.resize,e)},O.attrValue=function(e,t){return e.data(O.ns+t)},O.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},g.extend(g.expr.pseudos,{kendoFocusable:function(e){var t=g.attr(e,"tabindex");return jt(e,!isNaN(t)&&t>-1)}});var Wt=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"],qt="label, input, [data-rel=external]",f={setupMouseMute:function(){var e=0,t=Wt.length,i=document.documentElement;if(f.mouseTrap||!h.eventCapture)return;f.mouseTrap=true;f.bustClick=false;f.captureMouse=false;var r=function(e){if(f.captureMouse)if(e.type==="click"){if(f.bustClick&&!g(e.target).is(qt)){e.preventDefault();e.stopPropagation()}}else e.stopPropagation()};for(;e<t;e++)i.addEventListener(Wt[e],r,true)},muteMouse:function(e){f.captureMouse=true;if(e.data.bustClick)f.bustClick=true;clearTimeout(f.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(f.mouseTrapTimeoutID);f.mouseTrapTimeoutID=setTimeout(function(){f.captureMouse=false;f.bustClick=false},400)}},Yt={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};if(h.touch&&(h.mobileOS.ios||h.mobileOS.android))Yt={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"};else if(h.pointers)Yt={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"};else if(h.msPointers)Yt={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"};if(h.msPointers&&!("onmspointerenter"in m))g.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(e,a){g.event.special[e]={delegateType:a,bindType:a,handle:function(e){var t,i=this,r=e.relatedTarget,n=e.handleObj;if(!r||r!==i&&!g.contains(i,r)){e.type=n.origType;t=n.handler.apply(this,arguments);e.type=a}return t}}});var $t=function(e){return Yt[e]||e},Xt=/([^ ]+)/g,Kt=(O.applyEventMap=function(e,t){e=e.replace(Xt,$t);if(t)e=e.replace(Xt,"$1."+t);return e},O.keyDownHandler=function(e,t){var i=t._events.kendoKeydown;if(!i)return true;i=i.slice();e.sender=t;e.preventKendoKeydown=false;for(var r=0,n=i.length;r<n;r++)i[r].call(t,e);return!e.preventKendoKeydown},g.fn.on);function Qt(e,t){return new Qt.fn.init(e,t)}I(true,Qt,g),(((Qt.fn=Qt.prototype=new g).constructor=Qt).fn.init=function(e,t){if(t&&t instanceof g&&!(t instanceof Qt))t=Qt(t);return g.fn.init.call(this,e,t,Zt)}).prototype=Qt.fn;var Zt=Qt(document),Jt=(d(Qt.fn,{handler:function(e){this.data("handler",e);return this},autoApplyNS:function(e){this.data("kendoNS",e||O.guid());return this},on:function(){var e=this,t=e.data("kendoNS");if(arguments.length===1)return Kt.call(e,arguments[0]);var i=e,r=E.call(arguments);if(typeof r[r.length-1]===T)r.pop();var n=r[r.length-1],a=O.applyEventMap(r[0],t);if(h.mouseAndTouchPresent&&a.search(/mouse|click/)>-1&&this[0]!==document.documentElement){f.setupMouseMute();var o=r.length===2?null:r[1],s=a.indexOf("click")>-1&&a.indexOf("touchend")>-1;Kt.call(this,{touchstart:f.muteMouse,touchend:f.unMuteMouse},o,{bustClick:s})}if(arguments[0].indexOf("keydown")!==-1&&r[1]&&r[1].options){r[0]=a;var l=r[1];var c=r[r.length-1];r[r.length-1]=function(e){if(O.keyDownHandler(e,l))return c.apply(this,[e])};Kt.apply(e,r);return e}if(typeof n===_){i=e.data("handler");n=i[n];r[r.length-1]=function(e){n.call(i,e)}}r[0]=a;Kt.apply(e,r);return e},kendoDestroy:function(e){e=e||this.data("kendoNS");if(e)this.off("."+e);return this}}),O.jQuery=Qt,O.eventMap=Yt,O.timezone=function(){var c={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11};var h={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};function s(e,t){var i;var r;var n;var a=t[3];var o=t[4];var s=t[5];var l=t[8];if(!l)t[8]=l={};if(l[e])return l[e];if(!isNaN(o))i=new Date(Date.UTC(e,c[a],o,s[0],s[1],s[2],0));else if(o.indexOf("last")===0){i=new Date(Date.UTC(e,c[a]+1,1,s[0]-24,s[1],s[2],0));r=h[o.substr(4,3)];n=i.getUTCDay();i.setUTCDate(i.getUTCDate()+r-n-(r>n?7:0))}else if(o.indexOf(">=")>=0){i=new Date(Date.UTC(e,c[a],o.substr(5),s[0],s[1],s[2],0));r=h[o.substr(0,3)];n=i.getUTCDay();i.setUTCDate(i.getUTCDate()+r-n+(r<n?7:0))}else if(o.indexOf("<=")>=0){i=new Date(Date.UTC(e,c[a],o.substr(5),s[0],s[1],s[2],0));r=h[o.substr(0,3)];n=i.getUTCDay();i.setUTCDate(i.getUTCDate()+r-n-(r>n?7:0))}return l[e]=i}function a(e,t,i){t=t[i];if(!t){var r=i.split(":");var n=0;if(r.length>1)n=r[0]*60+Number(r[1]);return[-1e6,"max","-","Jan",1,[0,0,0],n,"-"]}var a=new Date(e).getUTCFullYear();t=jQuery.grep(t,function(e){var t=e[0];var i=e[1];return t<=a&&(i>=a||t==a&&i=="only"||i=="max")});t.push(e);t.sort(function(e,t){if(typeof e!="number")e=Number(s(a,e));if(typeof t!="number")t=Number(s(a,t));return e-t});var o=t[jQuery.inArray(e,t)-1]||t[t.length-1];return isNaN(o)?o:null}function o(e,t,i){var r=t[i];if(typeof r==="string")r=t[r];if(!r)throw new Error('Timezone "'+i+'" is either incorrect, or kendo.timezones.min.js is not included.');for(var n=r.length-1;n>=0;n--){var a=r[n][3];if(a&&e>a)break}var o=r[n+1];if(!o)throw new Error('Timezone "'+i+'" not found on '+e+".");return o}function l(e,t,i,r){if(typeof e!=x)e=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());var n=o(e,t,r);return{zone:n,rule:a(e,i,n[1])}}function e(e,t){if(t=="Etc/UTC"||t=="Etc/GMT")return 0;var i=l(e,this.zones,this.rules,t);var r=i.zone;var n=i.rule;return O.parseFloat(n?r[0]-n[6]:r[0])}function t(e,t){var i=l(e,this.zones,this.rules,t);var r=i.zone;var n=i.rule;var a=r[2];if(a.indexOf("/")>=0)return a.split("/")[n&&+n[6]?1:0];else if(a.indexOf("%s")>=0)return a.replace("%s",!n||n[7]=="-"?"":n[7]);return a}function i(e,t,i){var r=i;var n;if(typeof t==_)t=this.offset(e,t);if(typeof i==_)i=this.offset(e,i);var a=e.getTimezoneOffset();e=new Date(e.getTime()+(t-i)*6e4);var o=e.getTimezoneOffset();if(typeof r==_)r=this.offset(e,r);n=o-a+(i-r);return new Date(e.getTime()+n*6e4)}function r(e,t){return this.convert(e,e.getTimezoneOffset(),t)}function n(e,t){return this.convert(e,t,e.getTimezoneOffset())}function u(e){return this.apply(new Date(e),"Etc/UTC")}return{zones:{},rules:{},offset:e,convert:i,apply:r,remove:n,abbr:t,toLocalDate:u}}(),O.date=function(){var a=6e4,o=864e5;function n(e,t){if(t===0&&e.getHours()===23){e.setHours(e.getHours()+2);return true}return false}function r(e,t,i){var r=e.getHours();i=i||1;t=(t-e.getDay()+7*i)%7;e.setDate(e.getDate()+t);n(e,r)}function i(e,t,i){e=new Date(e);r(e,t,i);return e}function u(e){return new Date(e.getFullYear(),e.getMonth(),1)}function e(e){var t=new Date(e.getFullYear(),e.getMonth()+1,0),i=u(e),r=Math.abs(t.getTimezoneOffset()-i.getTimezoneOffset());if(r)t.setHours(i.getHours()+r/60);return t}function f(e){return new Date(e.getFullYear(),0,1)}function d(e){return new Date(e.getFullYear(),11,31)}function p(e,t){if(t!==1)return c(i(e,t,-1),4);return c(e,4-(e.getDay()||7))}function s(e,t){var i=new Date(e.getFullYear(),0,1,-6);var r=p(e,t);var n=r.getTime()-i.getTime();var a=Math.floor(n/o);return 1+Math.floor(a/7)}function v(e,t){if(t===R)t=O.culture().calendar.firstDay;var i=c(e,-7);var r=c(e,7);var n=s(e,t);if(n===0)return s(i,t)+1;if(n===53&&s(r,t)>1)return 1;return n}function t(e){e=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0);n(e,0);return e}function g(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function l(e){return h(e).getTime()-t(h(e))}function m(e,t,i){var r=l(t),n=l(i),a;if(!e||r==n)return true;if(t>=i)i+=o;a=l(e);if(r>a)a+=o;if(n<r)n+=o;return a>=r&&a<=n}function _(e,t,i){var r=t.getTime(),n=i.getTime(),a;if(r>=n)n+=o;a=e.getTime();return a>=r&&a<=n}function c(e,t){var i=e.getHours();e=new Date(e);y(e,t*o);n(e,i);return e}function y(e,t,i){var r=e.getTimezoneOffset();var n;e.setTime(e.getTime()+t);if(!i){n=e.getTimezoneOffset()-r;e.setTime(e.getTime()+n*a)}}function w(e,t){e=new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds());n(e,t.getHours());return e}function b(){return t(new Date)}function x(e){return t(e).getTime()==b().getTime()}function h(e){var t=new Date(1980,1,1,0,0,0);if(e)t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return t}function k(e,t){var i=new Date(e);return new Date(i.setFullYear(i.getFullYear()+t))}return{adjustDST:n,dayOfWeek:i,setDayOfWeek:r,getDate:t,isInDateRange:_,isInTimeRange:m,isToday:x,nextDay:function(e){return c(e,1)},previousDay:function(e){return c(e,-1)},toUtcTime:g,MS_PER_DAY:o,MS_PER_HOUR:60*a,MS_PER_MINUTE:a,setTime:y,setHours:w,addDays:c,today:b,toInvariantTime:h,firstDayOfMonth:u,lastDayOfMonth:e,weekInYear:v,getMilliseconds:l,firstDayOfYear:f,lastDayOfYear:d,nextYear:function(e){return k(e,1)},previousYear:function(e){return k(e,-1)}}}(),O.stripWhitespace=function(t){if(document.createNodeIterator){var e=document.createNodeIterator(t,NodeFilter.SHOW_TEXT,function(e){return e.parentNode==t?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},false);while(e.nextNode())if(e.referenceNode&&!e.referenceNode.textContent.trim())e.referenceNode.parentNode.removeChild(e.referenceNode)}else for(var i=0;i<t.childNodes.length;i++){var r=t.childNodes[i];if(r.nodeType==3&&!/\S/.test(r.nodeValue)){t.removeChild(r);i--}if(r.nodeType==1)O.stripWhitespace(r)}},m.requestAnimationFrame||m.webkitRequestAnimationFrame||m.mozRequestAnimationFrame||m.oRequestAnimationFrame||m.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)}),ei=(O.animationFrame=function(e){Jt.call(m,e)},[]),ti=(O.queueAnimation=function(e){ei[ei.length]=e;if(ei.length===1)O.runNextAnimation()},O.runNextAnimation=function(){O.animationFrame(function(){if(ei[0]){ei.shift()();if(ei[0])O.runNextAnimation()}})},O.parseQueryStringParams=function(e){var t=e.split("?")[1]||"",i={},r=t.split(/&|=/),n=r.length,a=0;for(;a<n;a+=2)if(r[a]!=="")i[decodeURIComponent(r[a])]=decodeURIComponent(r[a+1]);return i},O.elementUnderCursor=function(e){if(typeof e.x.client!="undefined")return document.elementFromPoint(e.x.client,e.y.client)},O.wheelDeltaY=function(e){var t=e.originalEvent,i=t.wheelDeltaY,r;if(t.wheelDelta){if(i===R||i)r=t.wheelDelta}else if(t.detail&&t.axis===t.VERTICAL_AXIS)r=-t.detail*10;return r},O.throttle=function(n,a){var o;var s=0;if(!a||a<=0)return n;var e=function(){var e=this;var t=+new Date-s;var i=arguments;function r(){n.apply(e,i);s=+new Date}if(!s)return r();if(o)clearTimeout(o);if(t>a)r();else o=setTimeout(r,a-t)};e.cancel=function(){clearTimeout(o)};return e},O.caret=function(e,t,i){var r;var n=t!==R;if(i===R)i=t;if(e[0])e=e[0];if(n&&e.disabled)return;try{if(e.selectionStart!==R)if(n){e.focus();var a=h.mobileOS;if(a.wp||a.android)setTimeout(function(){e.setSelectionRange(t,i)},0);else e.setSelectionRange(t,i)}else t=[e.selectionStart,e.selectionEnd];else if(document.selection){if(g(e).is(":visible"))e.focus();r=e.createTextRange();if(n){r.collapse(true);r.moveStart("character",t);r.moveEnd("character",i-t);r.select()}else{var o=r.duplicate(),s,l;r.moveToBookmark(document.selection.createRange().getBookmark());o.setEndPoint("EndToStart",r);s=o.text.length;l=s+r.text.length;t=[s,l]}}}catch(e){t=[]}return t},O.compileMobileDirective=function(t,i){var e=m.angular;t.attr("data-"+O.ns+"role",t[0].tagName.toLowerCase().replace("kendo-mobile-","").replace("-",""));e.element(t).injector().invoke(["$compile",function(e){e(t)(i);if(!/^\$(digest|apply)$/.test(i.$$phase))i.$digest()}]);return O.widgetInstance(t,O.mobile.ui)},O.antiForgeryTokens=function(){var e={},t=g("meta[name=csrf-token],meta[name=_csrf]").attr("content"),i=g("meta[name=csrf-param],meta[name=_csrf_header]").attr("content");g("input[name^='__RequestVerificationToken']").each(function(){e[this.name]=this.value});if(i!==R&&t!==R)e[i]=t;return e},O.cycleForm=function(e){var t=e.find("input, .k-widget").first();var i=e.find("button, .k-button").last();function r(e){var t=O.widgetInstance(e);if(t&&t.focus)t.focus();else e.trigger("focus")}i.on("keydown",function(e){if(e.keyCode==O.keys.TAB&&!e.shiftKey){e.preventDefault();r(t)}});t.on("keydown",function(e){if(e.keyCode==O.keys.TAB&&e.shiftKey){e.preventDefault();r(i)}})},O.focusElement=function(t){var i=[];var e=t.parentsUntil("body").filter(function(e,t){var i=O.getComputedStyles(t,["overflow"]);return i.overflow!=="visible"}).add(m);e.each(function(e,t){i[e]=g(t).scrollTop()});try{t[0].setActive()}catch(e){t[0].focus()}e.each(function(e,t){g(t).scrollTop(i[e])})},O.focusNextElement=function(){if(document.activeElement){var e=g(":kendoFocusable");var t=e.index(document.activeElement);if(t>-1){var i=e[t+1]||e[0];i.focus()}}},O.trim=function(e){if(!!e)return e.toString().trim();else return""},O.getWidgetFocusableElement=function(e){var t=e.closest(":kendoFocusable"),i=O.widgetInstance(e),r;if(t.length)r=t;else if(i)r=i.options.name==="Editor"?g(i.body):i.wrapper.find(":kendoFocusable").first();else r=e;return r},O.addAttribute=function(e,t,i){var r=e.attr(t)||"";if(r.indexOf(i)<0)e.attr(t,(r+" "+i).trim())},O.removeAttribute=function(e,t,i){var r=e.attr(t)||"";e.attr(t,r.replace(i,"").trim())},O.toggleAttribute=function(e,t,i){var r=e.attr(t)||"";if(r.indexOf(i)<0)O.addAttribute(e,t,i);else O.removeAttribute(e,t,i)},O.matchesMedia=function(e){var t=O._bootstrapToMedia(e)||e;return h.matchMedia&&m.matchMedia(t).matches},O._bootstrapToMedia=function(e){return{xs:"(max-width: 576px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"}[e]},O.fileGroupMap={audio:[".aif",".iff",".m3u",".m4a",".mid",".mp3",".mpa",".wav",".wma",".ogg",".wav",".wma",".wpl"],video:[".3g2",".3gp",".avi",".asf",".flv",".m4u",".rm",".h264",".m4v",".mkv",".mov",".mp4",".mpg",".rm",".swf",".vob",".wmv"],image:[".ai",".dds",".heic",".jpe","jfif",".jif",".jp2",".jps",".eps",".bmp",".gif",".jpeg",".jpg",".png",".ps",".psd",".svg",".svgz",".tif",".tiff"],txt:[".doc",".docx",".log",".pages",".tex",".wpd",".wps",".odt",".rtf",".text",".txt",".wks"],presentation:[".key",".odp",".pps",".ppt",".pptx"],data:[".xlr",".xls",".xlsx"],programming:[".tmp",".bak",".msi",".cab",".cpl",".cur",".dll",".dmp",".drv",".icns",".ico",".link",".sys",".cfg",".ini",".asp",".aspx",".cer",".csr",".css",".dcr",".htm",".html",".js",".php",".rss",".xhtml"],pdf:[".pdf"],config:[".apk",".app",".bat",".cgi",".com",".exe",".gadget",".jar",".wsf"],zip:[".7z",".cbr",".gz",".sitx",".arj",".deb",".pkg",".rar",".rpm",".tar.gz",".z",".zip",".zipx"],"disc-image":[".dmg",".iso",".toast",".vcd",".bin",".cue",".mdf"]},O.getFileGroup=function(e,t){var i=O.fileGroupMap;var r=Object.keys(i);var n="file";if(e===R||!e.length)return n;for(var a=0;a<r.length;a+=1){var o=i[r[a]];if(o.indexOf(e.toLowerCase())>-1)return t?"file-"+r[a]:r[a]}return n},O.getFileSizeMessage=function(e){var t=["Bytes","KB","MB","GB","TB"];if(e===0)return"0 Byte";var i=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return Math.round(e/Math.pow(1024,i),2)+" "+t[i]},O.selectorFromClasses=function(e){return"."+e.split(" ").join(".")},["base","primary","secondary","tertiary","inherit","info","success","warning","error","dark","light","inverse"]),ii=["solid","outline","flat"],ri=["rectangle","square"],ni=[["small","sm"],["medium","md"],["large","lg"]],ai=[["small","sm"],["medium","md"],["large","lg"]],oi=["fixed","static","sticky","absolute"],si=["both","horizontal","vertical"],li=["auto","hidden","visible","scroll","clip"];function ci(e,t,i,r){var n=g("<form>").attr({action:i,method:"POST",target:r});var a=O.antiForgeryTokens();a.fileName=t;var o=e.split(";base64,");a.contentType=o[0].replace("data:","");a.base64=o[1];for(var s in a)if(a.hasOwnProperty(s))g("<input>").attr({value:a[s],name:s,type:"hidden"}).appendTo(n);n.appendTo("body").submit().remove()}O.cssProperties=function(){var r={},e={};function t(e,t){var i=O.cssProperties.propertyDictionary;if(!i[e])i[e]={};i[e][A]=t}function i(e,t){var i=O.cssProperties.propertyDictionary,r,n,a,o,s,l;for(r=0;r<t.length;r++){a=t[r].prop;s=t[r].values;if(!i[e][a])i[e][a]={};o=i[e][a];for(n=0;n<s.length;n++){l=s[n];if(c(s[n]))o[l[0]]=l[1];else o[l]=l}}}function n(e,t,i){if(!r[e])r[e]={};r[e][t]=i||t}function a(e,t){for(var i=0;i<t.length;i++)if(c(t[i]))n(e,t[i][0],t[i][1]);else n(e,t[i])}function o(e){var t=e.widget,i=e.propName,r=e.value,h=e.fill,n=O.cssProperties,a=n.defaultValues[i],o=n.propertyDictionary[t],s,l,c;if(!o)return"";s=o[i];l=s?s[r]||a[r]:a[r];if(l){if(i==="themeColor")c=o[A]+h+"-";else if(i==="positionMode")c="k-pos-";else if(i==="rounded")c="k-rounded-";else if(i==="resize")c="k-resize-";else if(i==="overflow")c="k-overflow-";else c=o[A];return c+l}else return""}a("themeColor",ti);a("fillMode",ii);a("shape",ri);a("size",ni);a("positionMode",oi);a("rounded",ai);a("resize",si);a("overflow",li);return{positionModeValues:oi,roundedValues:ai,sizeValues:ni,shapeValues:ri,fillModeValues:ii,themeColorValues:ti,defaultValues:r,propertyDictionary:e,registerValues:i,getValidClass:o,registerPrefix:t}}(),O.registerCssClass=function(e,t,i){if(!O.propertyToCssClassMap[e])O.propertyToCssClassMap[e]={};O.propertyToCssClassMap[e][t]=i||t},O.registerCssClasses=function(e,t){for(var i=0;i<t.length;i++)if(c(t[i]))O.registerCssClass(e,t[i][0],t[i][1]);else O.registerCssClass(e,t[i])},O.getValidCssClass=function(e,t,i){var r=O.propertyToCssClassMap[t][i];if(r)return e+r},O.propertyToCssClassMap={},O.registerCssClasses("themeColor",ti),O.registerCssClasses("fill",ii),O.registerCssClasses("shape",ri),O.registerCssClasses("size",ni),O.registerCssClasses("positionMode",oi),O.whenAll=function(e){var r=arguments.length==1&&Array.isArray(e)?e:Array.prototype.slice.call(arguments),t=r.length,n=t,a=g.Deferred(),i=0,o=0,c=Array(t),h=Array(t),s=Array(t),l;function u(e,t,i){return function(){if(i!=r)o++;a.notifyWith(t[e]=this,i[e]=Array.prototype.slice.call(arguments));if(!--n)a[(!o?"resolve":"reject")+"With"](t,i)}}for(;i<t;i++)if((l=r[i])&&O.isFunction(l.promise))l.promise().done(u(i,s,r)).fail(u(i,c,h));else{a.notifyWith(this,l);--n}if(!n)a.resolveWith(s,r);return a.promise()};var hi=document.createElement("a"),ui="download"in hi&&!O.support.browser.edge;function fi(e,t){var i=e;if(typeof e=="string"){var r=e.split(";base64,");var n=r[0];var a=atob(r[1]);var o=new Uint8Array(a.length);for(var s=0;s<a.length;s++)o[s]=a.charCodeAt(s);i=new Blob([o.buffer],{type:n})}navigator.msSaveBlob(i,t)}function di(e,t){if(m.Blob&&e instanceof Blob)e=URL.createObjectURL(e);hi.download=t;hi.href=e;var i=document.createEvent("MouseEvents");i.initMouseEvent("click",true,false,m,0,0,0,0,0,false,false,false,false,0,null);hi.dispatchEvent(i);setTimeout(function(){URL.revokeObjectURL(e)})}return O.saveAs=function(e){var t=ci;if(!e.forceProxy)if(ui)t=di;else if(navigator.msSaveBlob)t=fi;t(e.dataURI,e.fileName,e.proxyURL,e.proxyTarget)},O.proxyModelSetters=function e(i){var r={};Object.keys(i||{}).forEach(function(t){Object.defineProperty(r,t,{get:function(){return i[t]},set:function(e){i[t]=e;i.dirty=true}})});return r},O.getSeriesColors=function(){var e='<div class="k-var--series-a"></div>'+'<div class="k-var--series-b"></div>'+'<div class="k-var--series-c"></div>'+'<div class="k-var--series-d"></div>'+'<div class="k-var--series-e"></div>'+'<div class="k-var--series-f"></div>',t=g(e),i=[];t.appendTo(g("body"));t.each(function(e,t){i.push(g(t).css("background-color"))});t.remove();return i},O.isElement=function(e){return e instanceof Element||e instanceof HTMLDocument},O.defaults=O.defaults||{},O.setDefaults=function(e,t){var i=e.split(".");var r=O.defaults;e=i.pop();i.forEach(function(e){if(r[e]===R)r[e]={};r=r[e]});if(t.constructor===Object)r[e]=Ge({},r[e],t);else r[e]=t},O.class2type={},jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){O.class2type["[object "+t+"]"]=t.toLowerCase()}),O.type=function(e){if(e==null)return e+"";return typeof e==="object"||typeof e==="function"?O.class2type[Object.prototype.toString.call(e)]||"object":typeof e},window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.fx.min",["./kendo.core.min"],function(){var e={id:"fx",name:"Effects",category:"framework",description:"Required for animation effects in all Kendo UI widgets.",depends:["core"]},v=window.kendo.jQuery,d=void 0,u=window.kendo,g=u.effects,o=v.each,m=v.extend,i=v.proxy,l=u.support,r=l.browser,_=l.transforms,y=l.transitions,p={scale:0,scalex:0,scaley:0,scale3d:0},b={translate:0,translatex:0,translatey:0,translate3d:0},s=typeof document.documentElement.style.zoom!=="undefined"&&!_,c=/matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i,x=/^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i,h=/translatex?$/i,k=/(zoom|fade|expand)(\w+)/,C=/(zoom|fade|expand)/,n=/[xy]$/i,S=["perspective","rotate","rotatex","rotatey","rotatez","rotate3d","scale","scalex","scaley","scalez","scale3d","skew","skewx","skewy","translate","translatex","translatey","translatez","translate3d","matrix","matrix3d"],T=["rotate","scale","scalex","scaley","skew","skewx","skewy","translate","translatex","translatey","matrix"],A={rotate:"deg",scale:"",skew:"px",translate:"px"},M=_.css,D=Math.round,E="",P="px",I="none",B="auto",z="width",O="height",L="hidden",R="origin",F="abortId",V="overflow",N="translate",H="position",U="completeCallback",j=M+"transition",w=M+"transform",G=M+"backface-visibility",W=M+"perspective",q="1500px",Y="perspective("+q+")",f={left:{reverse:"right",property:"left",transition:"translatex",vertical:false,modifier:-1},right:{reverse:"left",property:"left",transition:"translatex",vertical:false,modifier:1},down:{reverse:"up",property:"top",transition:"translatey",vertical:true,modifier:1},up:{reverse:"down",property:"top",transition:"translatey",vertical:true,modifier:-1},top:{reverse:"bottom"},bottom:{reverse:"top"},in:{reverse:"out",modifier:-1},out:{reverse:"in",modifier:1},vertical:{reverse:"vertical"},horizontal:{reverse:"horizontal"}};if(u.directions=f,m(v.fn,{kendoStop:function(e,t){if(y)return g.stopQueue(this,e||false,t||false);else return this.stop(e,t)}}),_&&!y){o(T,function(e,r){v.fn[r]=function(e){if(typeof e=="undefined")return ee(this,r);else{var t=v(this)[0],i=r+"("+e+A[r.replace(n,"")]+")";if(t.style.cssText.indexOf(w)==-1)v(this).css(w,i);else t.style.cssText=t.style.cssText.replace(new RegExp(r+"\\(.*?\\)","i"),i)}return this};v.fx.step[r]=function(e){v(e.elem)[r](e.now)}});var $=v.fx.prototype.cur;v.fx.prototype.cur=function(){if(T.indexOf(this.prop)!=-1)return parseFloat(v(this.elem)[this.prop]());return $.apply(this,arguments)}}function X(e){return parseInt(e,10)}function K(e,t){return X(e.css(t))}function Q(e){var t=[];for(var i in e)t.push(i);return t}function Z(e){for(var t in e)if(S.indexOf(t)!=-1&&T.indexOf(t)==-1)delete e[t];return e}function J(e,t){var i=[],r={},n,a,o,s;for(a in t){n=a.toLowerCase();s=_&&S.indexOf(n)!=-1;if(!l.hasHW3D&&s&&T.indexOf(n)==-1)delete t[a];else{o=t[a];if(s)i.push(a+"("+o+")");else r[a]=o}}if(i.length)r[w]=i.join(" ");return r}if(u.toggleClass=function(i,e,t,r){if(e){e=e.split(" ");if(y){t=m({exclusive:"all",duration:400,ease:"ease-out"},t);i.css(j,t.exclusive+" "+t.duration+"ms "+t.ease);setTimeout(function(){i.css(j,"").css(O)},t.duration)}o(e,function(e,t){i.toggleClass(t,r)})}return i},u.parseEffects=function(e,s){var l={};if(typeof e==="string")o(e.split(" "),function(e,t){var i=!C.test(t),r=t.replace(k,function(e,t,i){return t+":"+i.toLowerCase()}),n=r.split(":"),a=n[1],o={};if(n.length>1)o.direction=s&&i?f[a].reverse:a;l[n[0]]=o});else o(e,function(e){var t=this.direction;if(t&&s&&!C.test(e))this.direction=f[t].reverse;l[e]=this});return l},y)m(g,{transition:function(e,t,i){var r,n=0,a=e.data("keys")||[],o;i=m({duration:200,ease:"ease-out",complete:null,exclusive:"all"},i);var s=false;var l=function(){if(!s){s=true;if(o){clearTimeout(o);o=null}e.removeData(F).dequeue().css(j,"").css(j);i.complete.call(e)}};i.duration=v.fx?v.fx.speeds[i.duration]||i.duration:i.duration;r=J(e,t);v.merge(a,Q(r));if(v.hasOwnProperty("uniqueSort"))e.data("keys",v.uniqueSort(a)).height();else e.data("keys",v.unique(a)).height();e.css(j,i.exclusive+" "+i.duration+"ms "+i.ease).css(j);e.css(r).css(w);if(y.event){e.one(y.event,l);if(i.duration!==0)n=500}o=setTimeout(l,i.duration+n);e.data(F,o);e.data(U,l)},stopQueue:function(e,t,i){var r,n=e.data("keys"),a=!i&&n,o=e.data(U);if(a)r=u.getComputedStyles(e[0],n);if(o)o();if(a)e.css(r);return e.removeData("keys").stop(t)}});function ee(e,t){if(_){var i=e.css(w);if(i==I)return t=="scale"?1:0;var r=i.match(new RegExp(t+"\\s*\\(([\\d\\w\\.]+)")),n=0;if(r)n=X(r[1]);else{r=i.match(c)||[0,0,0,0,0];t=t.toLowerCase();if(h.test(t))n=parseFloat(r[3]/r[2]);else if(t=="translatey")n=parseFloat(r[4]/r[2]);else if(t=="scale")n=parseFloat(r[2]);else if(t=="rotate")n=parseFloat(Math.atan2(r[2],r[1]))}return n}else return parseFloat(e.css(t))}var te=u.Class.extend({init:function(e,t){var i=this;i.element=e;i.effects=[];i.options=t;i.restore=[]},run:function(e){var t=this,i,r,n,h=e.length,a=t.element,o=t.options,s=v.Deferred(),l={},c={},u,f,d;t.effects=e;s.done(v.proxy(t,"complete"));a.data("animating",true);for(r=0;r<h;r++){i=e[r];i.setReverse(o.reverse);i.setOptions(o);t.addRestoreProperties(i.restore);i.prepare(l,c);f=i.children();for(n=0,d=f.length;n<d;n++)f[n].duration(o.duration).run()}for(var p in o.effects)m(c,o.effects[p].properties);if(!a.is(":visible"))m(l,{display:a.data("olddisplay")||"block"});if(_&&!o.reset){u=a.data("targetTransform");if(u)l=m(u,l)}l=J(a,l);if(_&&!y)l=Z(l);a.css(l).css(w);for(r=0;r<h;r++)e[r].setup();if(o.init)o.init();a.data("targetTransform",c);g.animate(a,c,m({},o,{complete:s.resolve}));return s.promise()},stop:function(){v(this.element).kendoStop(true,true)},addRestoreProperties:function(e){var t=this.element,i,r=0,n=e.length;for(;r<n;r++){i=e[r];this.restore.push(i);if(!t.data(i))t.data(i,t.css(i))}},restoreCallback:function(){var e=this.element;for(var t=0,i=this.restore.length;t<i;t++){var r=this.restore[t];e.css(r,e.data(r))}},complete:function(){var e=this,t=0,i=e.element,r=e.options,n=e.effects,a=n.length;i.removeData("animating").dequeue();if(r.hide)i.data("olddisplay",i.css("display")).hide();this.restoreCallback();if(s&&!_)setTimeout(v.proxy(this,"restoreCallback"),0);for(;t<a;t++)n[t].teardown();if(r.completeCallback)r.completeCallback(i)}}),a=(g.promise=function(e,t){var i=[],r,n=new te(e,t),a=u.parseEffects(t.effects),o;t.effects=a;for(var s in a){r=g[ie(s)];if(r){o=new r(e,a[s].direction);i.push(o)}}if(i[0])n.run(i);else{if(!e.is(":visible"))e.css({display:e.data("olddisplay")||"block"}).css("display");if(t.init)t.init();e.dequeue();n.complete()}},m(g,{animate:function(e,f,t){var i=t.transition!==false;delete t.transition;if(y&&"transition"in g&&i)g.transition(e,f,t);else if(_)e.animate(Z(f),{queue:false,show:false,hide:false,duration:t.duration,complete:t.complete});else e.each(function(){var h=v(this),u={};o(S,function(c,e){var t,i=f?f[e]+" ":null;if(i){var r=f;if(e in p&&f[e]!==d){t=i.match(x);if(_)m(r,{scale:+t[0]})}else if(e in b&&f[e]!==d){var n=h.css(H),a=n=="absolute"||n=="fixed";if(!h.data(N))if(a)h.data(N,{top:K(h,"top")||0,left:K(h,"left")||0,bottom:K(h,"bottom"),right:K(h,"right")});else h.data(N,{top:K(h,"marginTop")||0,left:K(h,"marginLeft")||0});var o=h.data(N);t=i.match(x);if(t){var s=e==N+"y"?+null:+t[1],l=e==N+"y"?+t[1]:+t[2];if(a){if(!isNaN(o.right)){if(!isNaN(s))m(r,{right:o.right-s})}else if(!isNaN(s))m(r,{left:o.left+s});if(!isNaN(o.bottom)){if(!isNaN(l))m(r,{bottom:o.bottom-l})}else if(!isNaN(l))m(r,{top:o.top+l})}else{if(!isNaN(s))m(r,{marginLeft:o.left+s});if(!isNaN(l))m(r,{marginTop:o.top+l})}}}if(!_&&e!="scale"&&e in r)delete r[e];if(r)m(u,r)}});if(r.msie)delete u.scale;h.animate(u,{queue:false,show:false,hide:false,duration:t.duration,complete:t.complete})})}}),g.animatedPromise=g.promise,u.Class.extend({init:function(e,t){var i=this;i.element=e;i._direction=t;i.options={};i._additionalEffects=[];if(!i.restore)i.restore=[]},reverse:function(){this._reverse=true;return this.run()},play:function(){this._reverse=false;return this.run()},add:function(e){this._additionalEffects.push(e);return this},direction:function(e){this._direction=e;return this},duration:function(e){this._duration=e;return this},compositeRun:function(){var e=this,t=new te(e.element,{reverse:e._reverse,duration:e._duration}),i=e._additionalEffects.concat([e]);return t.run(i)},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var e=this,t=e.element,i=0,r=e.restore,h=r.length,n,a=v.Deferred(),o={},s={},l,c=e.children(),u=c.length;a.done(v.proxy(e,"_complete"));t.data("animating",true);for(i=0;i<h;i++){n=r[i];if(!t.data(n))t.data(n,t.css(n))}for(i=0;i<u;i++)c[i].duration(e._duration).run();e.prepare(o,s);if(!t.is(":visible"))m(o,{display:t.data("olddisplay")||"block"});if(_){l=t.data("targetTransform");if(l)o=m(l,o)}o=J(t,o);if(_&&!y)o=Z(o);t.css(o).css(w);e.setup();t.data("targetTransform",s);g.animate(t,s,{duration:e._duration,complete:a.resolve});return a.promise()},stop:function(){var e=0,t=this.children(),i=t.length;for(e=0;e<i;e++)t[e].stop();v(this.element).kendoStop(true,true);return this},restoreCallback:function(){var e=this.element;for(var t=0,i=this.restore.length;t<i;t++){var r=this.restore[t];e.css(r,e.data(r))}},_complete:function(){var e=this,t=e.element;t.removeData("animating").dequeue();e.restoreCallback();if(e.shouldHide())t.data("olddisplay",t.css("display")).hide();if(s&&!_)setTimeout(v.proxy(e,"restoreCallback"),0);e.teardown()},setOptions:function(e){m(true,this.options,e)},children:function(){return[]},shouldHide:v.noop,setup:v.noop,prepare:v.noop,teardown:v.noop,directions:[],setReverse:function(e){this._reverse=e;return this}}));function ie(e){return e.charAt(0).toUpperCase()+e.substring(1)}function t(t,e){var n=a.extend(e),i=n.prototype.directions;g[ie(t)]=n;g.Element.prototype[t]=function(e,t,i,r){return new n(this.element,e,t,i,r)};o(i,function(e,r){g.Element.prototype[t+ie(r)]=function(e,t,i){return new n(this.element,r,e,t,i)}})}var re=["left","right","up","down"],ne=["in","out"];function ae(e,l,c,h){t(e,{directions:ne,startValue:function(e){this._startValue=e;return this},endValue:function(e){this._endValue=e;return this},shouldHide:function(){return this._shouldHide},prepare:function(e,t){var i=this,r,n,a=this._direction==="out",o=i.element.data(l),s=!(isNaN(o)||o==c);if(s)r=o;else if(typeof this._startValue!=="undefined")r=this._startValue;else r=a?c:h;if(typeof this._endValue!=="undefined")n=this._endValue;else n=a?h:c;if(this._reverse){e[l]=n;t[l]=r}else{e[l]=r;t[l]=n}i._shouldHide=t[l]===h}})}t("slideIn",{directions:re,divisor:function(e){this.options.divisor=e;return this},prepare:function(e,t){var i=this,r,n=i.element,a=u._outerWidth,o=u._outerHeight,s=f[i._direction],h=-s.modifier*(s.vertical?o(n):a(n)),l=h/(i.options&&i.options.divisor||1)+P,c="0px";if(i._reverse){r=e;e=t;t=r}if(_){e[s.transition]=l;t[s.transition]=c}else{e[s.property]=l;t[s.property]=c}}}),t("tile",{directions:re,init:function(e,t,i){a.prototype.init.call(this,e,t);this.options={previous:i}},previousDivisor:function(e){this.options.previousDivisor=e;return this},children:function(){var e=this,t=e._reverse,i=e.options.previous,r=e.options.previousDivisor||1,n=e._direction;var a=[u.fx(e.element).slideIn(n).setReverse(t)];if(i)a.push(u.fx(i).slideIn(f[n].reverse).divisor(r).setReverse(!t));return a}}),ae("fade","opacity",1,0),ae("zoom","scale",1,.01),t("slideMargin",{prepare:function(e,t){var i=this,r=i.element,n=i.options,a=r.data(R),o=n.offset,s,l=i._reverse;if(!l&&a===null)r.data(R,parseFloat(r.css("margin-"+n.axis)));s=r.data(R)||0;t["margin-"+n.axis]=!l?s+o:s}}),t("slideTo",{prepare:function(e,t){var i=this,r=i.element,n=i.options,a=n.offset.split(","),o=i._reverse;if(_){t.translatex=!o?a[0]:0;t.translatey=!o?a[1]:0}else{t.left=!o?a[0]:0;t.top=!o?a[1]:0}r.css("left")}}),t("expand",{directions:["horizontal","vertical"],restore:[V],prepare:function(e,h){var t=this,i=t.element,r=t.options,n=t._reverse,a=t._direction==="vertical"?O:z,o=i[0].style[a],s=i.data(a),l=parseFloat(s||o),c=D(i.css(a,B)[a]());e.overflow=L;l=r&&r.reset?c||l:l||c;h[a]=(n?0:l)+P;e[a]=(n?l:0)+P;if(s===d)i.data(a,o)},shouldHide:function(){return this._reverse},teardown:function(){var e=this,t=e.element,i=e._direction==="vertical"?O:z,r=t.data(i);if(r==B||r===E)setTimeout(function(){t.css(i,B).css(i)},0)}});var oe={position:"absolute",marginLeft:0,marginTop:0,scale:1},se=(t("transfer",{init:function(e,t){this.element=e;this.options={target:t};this.restore=[]},setup:function(){this.element.appendTo(document.body)},prepare:function(e,t){var i=this,r=i.element,n=g.box(r),a=g.box(i.options.target),o=ee(r,"scale"),s=g.fillScale(a,n),l=g.transformOrigin(a,n);m(e,oe);t.scale=1;r.css(w,"scale(1)").css(w);r.css(w,"scale("+o+")");e.top=n.top;e.left=n.left;e.transformOrigin=l.x+P+" "+l.y+P;if(i._reverse)e.scale=s;else t.scale=s}}),{top:"rect(auto auto $size auto)",bottom:"rect($size auto auto auto)",left:"rect(auto $size auto auto)",right:"rect(auto auto auto $size)"}),le={top:{start:"rotatex(0deg)",end:"rotatex(180deg)"},bottom:{start:"rotatex(-180deg)",end:"rotatex(0deg)"},left:{start:"rotatey(0deg)",end:"rotatey(-180deg)"},right:{start:"rotatey(180deg)",end:"rotatey(0deg)"}};function ce(e,t){var i=u.directions[t].vertical,r=e[i?O:z]()/2+"px";return se[t].replace("$size",r)}t("turningPage",{directions:re,init:function(e,t,i){a.prototype.init.call(this,e,t);this._container=i},prepare:function(e,t){var i=this,r=i._reverse,n=r?f[i._direction].reverse:i._direction,a=le[n];e.zIndex=1;if(i._clipInHalf)e.clip=ce(i._container,u.directions[n].reverse);e[G]=L;t[w]=Y+(r?a.start:a.end);e[w]=Y+(r?a.end:a.start)},setup:function(){this._container.append(this.element)},face:function(e){this._face=e;return this},shouldHide:function(){var e=this,t=e._reverse,i=e._face;return t&&!i||!t&&i},clipInHalf:function(e){this._clipInHalf=e;return this},temporary:function(){this.element.addClass("temp-page");return this}}),t("staticPage",{directions:re,init:function(e,t,i){a.prototype.init.call(this,e,t);this._container=i},restore:["clip"],prepare:function(e,t){var i=this,r=i._reverse?f[i._direction].reverse:i._direction;e.clip=ce(i._container,r);e.opacity=.999;t.opacity=1},shouldHide:function(){var e=this,t=e._reverse,i=e._face;return t&&!i||!t&&i},face:function(e){this._face=e;return this}}),t("pageturn",{directions:["horizontal","vertical"],init:function(e,t,i,r){a.prototype.init.call(this,e,t);this.options={};this.options.face=i;this.options.back=r},children:function(){var e=this,t=e.options,i=e._direction==="horizontal"?"left":"top",r=u.directions[i].reverse,n=e._reverse,a,o=t.face.clone(true).removeAttr("id"),s=t.back.clone(true).removeAttr("id"),l=e.element;if(n){a=i;i=r;r=a}return[u.fx(t.face).staticPage(i,l).face(true).setReverse(n),u.fx(t.back).staticPage(r,l).setReverse(n),u.fx(o).turningPage(i,l).face(true).clipInHalf(true).temporary().setReverse(n),u.fx(s).turningPage(r,l).clipInHalf(true).temporary().setReverse(n)]},prepare:function(e,t){e[W]=q;e.transformStyle="preserve-3d";e.opacity=.999;t.opacity=1},teardown:function(){this.element.find(".temp-page").remove()}}),t("flip",{directions:["horizontal","vertical"],init:function(e,t,i,r){a.prototype.init.call(this,e,t);this.options={};this.options.face=i;this.options.back=r},children:function(){var e=this,t=e.options,i=e._direction==="horizontal"?"left":"top",r=u.directions[i].reverse,n=e._reverse,a,o=e.element;if(n){a=i;i=r;r=a}return[u.fx(t.face).turningPage(i,o).face(true).setReverse(n),u.fx(t.back).turningPage(r,o).setReverse(n)]},prepare:function(e){e[W]=q;e.transformStyle="preserve-3d"}});var he=!l.mobileOS.android,ue=".km-touch-scrollbar, .km-actionsheet-wrapper",fe=(t("replace",{_before:v.noop,_after:v.noop,init:function(e,t,i){a.prototype.init.call(this,e);this._previous=v(t);this._transitionClass=i},duration:function(){throw new Error("The replace effect does not support duration setting; the effect duration may be customized through the transition class rule")},beforeTransition:function(e){this._before=e;return this},afterTransition:function(e){this._after=e;return this},_both:function(){return v().add(this._element).add(this._previous)},_containerClass:function(){var e=this._direction,t="k-fx k-fx-start k-fx-"+this._transitionClass;if(e)t+=" k-fx-"+e;if(this._reverse)t+=" k-fx-reverse";return t},complete:function(e){if(!this.deferred||e&&v(e.target).is(ue))return;var t=this.container;t.removeClass("k-fx-end").removeClass(this._containerClass()).off(y.event,this.completeProxy);this._previous.hide().removeClass("k-fx-current");this.element.removeClass("k-fx-next");if(he)t.css(V,"");if(!this.isAbsolute)this._both().css(H,"");this.deferred.resolve();delete this.deferred},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var e=this,t=e.element,i=e._previous,r=t.parents().filter(i.parents()).first(),n=e._both(),a=v.Deferred(),o=t.css(H),s;if(!r.length)r=t.parent();this.container=r;this.deferred=a;this.isAbsolute=o=="absolute";if(!this.isAbsolute)n.css(H,"absolute");if(he){s=r.css(V);r.css(V,"hidden")}if(!y)this.complete();else{t.addClass("k-fx-hidden");r.addClass(this._containerClass());this.completeProxy=v.proxy(this,"complete");r.on(y.event,this.completeProxy);u.animationFrame(function(){t.removeClass("k-fx-hidden").addClass("k-fx-next");i.css("display","").addClass("k-fx-current");e._before(i,t);u.animationFrame(function(){r.removeClass("k-fx-start").addClass("k-fx-end");e._after(i,t)})})}return a.promise()},stop:function(){this.complete()}}),u.Class.extend({init:function(){var e=this;e._tickProxy=i(e._tick,e);e._started=false},tick:v.noop,done:v.noop,onEnd:v.noop,onCancel:v.noop,start:function(){if(!this.enabled())return;if(!this.done()){this._started=true;u.animationFrame(this._tickProxy)}else this.onEnd()},enabled:function(){return true},cancel:function(){this._started=false;this.onCancel()},_tick:function(){var e=this;if(!e._started)return;e.tick();if(!e.done())u.animationFrame(e._tickProxy);else{e._started=false;e.onEnd()}}})),de=fe.extend({init:function(e){var t=this;m(t,e);fe.fn.init.call(t)},done:function(){return this.timePassed()>=this.duration},timePassed:function(){return Math.min(this.duration,new Date-this.startDate)},moveTo:function(e){var t=this,i=t.movable;t.initial=i[t.axis];t.delta=e.location-t.initial;t.duration=typeof e.duration=="number"?e.duration:300;t.tick=t._easeProxy(e.ease);t.startDate=new Date;t.start()},_easeProxy:function(e){var t=this;return function(){t.movable.moveAxis(t.axis,e(t.timePassed(),t.initial,t.delta,t.duration))}}});return m(de,{easeOutExpo:function(e,t,i,r){return e==r?t+i:i*(-Math.pow(2,-10*e/r)+1)+t},easeOutBack:function(e,t,i,r,n){n=1.70158;return i*((e=e/r-1)*e*((n+1)*e+n)+1)+t}}),g.Animation=fe,g.Transition=de,g.createEffect=t,g.box=function(e){e=v(e);var t=e.offset();t.width=u._outerWidth(e);t.height=u._outerHeight(e);return t},g.transformOrigin=function(e,t){var i=(e.left-t.left)*t.width/(t.width-e.width),r=(e.top-t.top)*t.height/(t.height-e.height);return{x:isNaN(i)?0:i,y:isNaN(r)?0:r}},g.fillScale=function(e,t){return Math.min(e.width/t.width,e.height/t.height)},g.fitScale=function(e,t){return Math.max(e.width/t.width,e.height/t.height)},window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.router.min",["./kendo.core.min"],function(){var e={id:"router",name:"Router",category:"framework",description:"The Router class is responsible for tracking the application state and navigating between the application states.",depends:["core"],hidden:false},r=window.kendo.jQuery,i=void 0,t=window.kendo,s="change",f="back",d="same",p=t.support,a=window.location,o=window.history,v=50,g=t.support.browser.msie,m=/^#*/,l=window.document;function c(e,t){if(!t)return e;if(e+"/"===t)e=t;var i=new RegExp("^"+t,"i");if(!i.test(e))e=t+"/"+e;return a.protocol+"//"+(a.host+"/"+e).replace(/\/\/+/g,"/")}function _(e){return e?"#!":"#"}function y(e){var t=a.href;if(e==="#!"&&t.indexOf("#")>-1&&t.indexOf("#!")<0)return null;return t.split(e)[1]||""}function n(e,t){if(t.indexOf(e)===0)return t.substr(e.length).replace(/\/\//g,"/");else return t}var w=t.Class.extend({back:function(){if(g)setTimeout(function(){o.back()});else o.back()},forward:function(){if(g)setTimeout(function(){o.forward()});else o.forward()},length:function(){return o.length},replaceLocation:function(e){a.replace(e)}}),b=w.extend({init:function(e){this.root=e},navigate:function(e){o.pushState({},l.title,c(e,this.root))},replace:function(e){o.replaceState({},l.title,c(e,this.root))},normalize:function(e){return n(this.root,e)},current:function(){var e=a.pathname;if(a.search)e+=a.search;return n(this.root,e)},change:function(e){r(window).bind("popstate.kendo",e)},stop:function(){r(window).unbind("popstate.kendo")},normalizeCurrent:function(e){var t,i=e.root,r=a.pathname,n=y(_(e.hashBang));if(i===r+"/")t=i;if(i===r&&n)t=c(n.replace(m,""),i);if(t)o.pushState({},l.title,t)}});function x(e){return e.replace(/^(#)?/,"#")}function k(e){return e.replace(/^(#(!)?)?/,"#!")}var C=w.extend({init:function(e){this._id=t.guid();this.prefix=_(e);this.fix=e?k:x},navigate:function(e){a.hash=this.fix(e)},replace:function(e){this.replaceLocation(this.fix(e))},normalize:function(e){if(e.indexOf(this.prefix)<0)return e;else return e.split(this.prefix)[1]},change:function(e){if(p.hashChange)r(window).on("hashchange."+this._id,e);else this._interval=setInterval(e,v)},stop:function(){r(window).off("hashchange."+this._id);clearInterval(this._interval)},current:function(){return y(this.prefix)},normalizeCurrent:function(e){var t=a.pathname,i=e.root;if(e.pushState&&i!==t){this.replaceLocation(i+this.prefix+n(i,t));return true}return false}}),S=t.Observable.extend({start:function(e){e=e||{};this.bind([s,f,d],e);if(this._started)return;this._started=true;e.root=e.root||"/";var t=this.createAdapter(e),i;if(t.normalizeCurrent(e))return;i=t.current();r.extend(this,{adapter:t,root:e.root,historyLength:t.length(),current:i,locations:[i]});t.change(r.proxy(this,"_checkUrl"))},createAdapter:function(e){return p.pushState&&e.pushState?new b(e.root):new C(e.hashBang)},stop:function(){if(!this._started)return;this.adapter.stop();this.unbind(s);this._started=false},change:function(e){this.bind(s,e)},replace:function(t,e){this._navigate(t,e,function(e){e.replace(t);this.locations[this.locations.length-1]=this.current})},navigate:function(t,e){if(t==="#:back"){this.backCalled=true;this.adapter.back();return}this._navigate(t,e,function(e){e.navigate(t);this.locations.push(this.current)})},_navigate:function(e,t,i){var r=this.adapter;e=r.normalize(e);if(this.current===e||this.current===decodeURIComponent(e)){this.trigger(d);return}if(!t)if(this.trigger(s,{url:e,decode:false}))return;this.current=e;i.call(this,r);this.historyLength=r.length()},_checkUrl:function(){var e=this.adapter,t=e.current(),i=e.length(),r=this.historyLength===i,n=t===this.locations[this.locations.length-2]&&r,a=this.backCalled,o=this.current;if(t===null||this.current===t||this.current===decodeURIComponent(t))return true;this.historyLength=i;this.backCalled=false;this.current=t;if(n&&this.trigger("back",{url:o,to:t})){e.forward();this.current=o;return}if(this.trigger(s,{url:t,backButtonPressed:!a})){if(n)e.forward();else{e.back();this.historyLength--}this.current=o;return}if(n)this.locations.pop();else this.locations.push(t)}}),h=(t.History=S,t.History.HistoryAdapter=w,t.History.HashAdapter=C,t.History.PushStateAdapter=b,t.absoluteURL=c,t.history=new S,window.kendo),u=h.history,T=h.Observable,A="init",M="routeMissing",D="change",E="back",P="same",I=/\((.*?)\)/g,B=/(\(\?)?:\w+/g,z=/\*\w+/g,O=/[\-{}\[\]+?.,\\\^$|#\s]/g;function L(e,t){return t?e:"([^/]+)"}function R(e,t){return new RegExp("^"+e.replace(O,"\\$&").replace(I,"(?:$1)?").replace(B,L).replace(z,"(.*?)")+"$",t?"i":"")}function F(e){return e.replace(/(\?.*)|(#.*)/g,"")}var V=h.Class.extend({init:function(e,t,i){if(!(e instanceof RegExp))e=R(e,i);this.route=e;this._callback=t},callback:function(e,t,i){var r,n=0,a,o=h.parseQueryStringParams(e);o._back=t;e=F(e);r=this.route.exec(e).slice(1);a=r.length;if(i)for(;n<a;n++)if(typeof r[n]!=="undefined")r[n]=decodeURIComponent(r[n]);r.push(o);this._callback.apply(null,r)},worksWith:function(e,t,i){if(this.route.test(F(e))){this.callback(e,t,i);return true}else return false}}),N=T.extend({init:function(e){if(!e)e={};T.fn.init.call(this);this.routes=[];this.pushState=e.pushState;this.hashBang=e.hashBang;this.root=e.root;this.ignoreCase=e.ignoreCase!==false;this.bind([A,M,D,P,E],e)},destroy:function(){u.unbind(D,this._urlChangedProxy);u.unbind(P,this._sameProxy);u.unbind(E,this._backProxy);this.unbind()},start:function(){var t=this,e=function(){t._same()},i=function(e){t._back(e)},r=function(e){t._urlChanged(e)};u.start({same:e,change:r,back:i,pushState:t.pushState,hashBang:t.hashBang,root:t.root});var n={url:u.current||"/",preventDefault:$.noop};if(!t.trigger(A,n))t._urlChanged(n);this._urlChangedProxy=r;this._backProxy=i},route:function(e,t){this.routes.push(new V(e,t,this.ignoreCase))},navigate:function(e,t){h.history.navigate(e,t)},replace:function(e,t){h.history.replace(e,t)},_back:function(e){if(this.trigger(E,{url:e.url,to:e.to}))e.preventDefault()},_same:function(){this.trigger(P)},_urlChanged:function(e){var t=e.url;var i=!!e.decode;var r=e.backButtonPressed;if(!t)t="/";if(this.trigger(D,{url:e.url,params:h.parseQueryStringParams(e.url),backButtonPressed:r})){e.preventDefault();return}var n=0,a=this.routes,o,s=a.length;for(;n<s;n++){o=a[n];if(o.worksWith(t,r,i))return}if(this.trigger(M,{url:t,params:h.parseQueryStringParams(t),backButtonPressed:r}))e.preventDefault()}});return h.Router=N,window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.data.odata.min",["./kendo.core.min"],function(){var e={id:"data.odata",name:"OData",category:"framework",depends:["core"],hidden:true},r=window.kendo.jQuery,g=void 0,d=window.kendo,l=r.extend,c="\r\n",h="\r\n\r\n",u=d.isFunction,m={eq:"eq",neq:"ne",gt:"gt",gte:"ge",lt:"lt",lte:"le",contains:"substringof",doesnotcontain:"substringof",endswith:"endswith",startswith:"startswith",isnull:"eq",isnotnull:"ne",isnullorempty:"eq",isnotnullorempty:"ne",isempty:"eq",isnotempty:"ne"},_=l({},m,{contains:"contains"}),s={pageSize:r.noop,page:r.noop,filter:function(e,t,i){if(t){t=w(t,i);if(t)e.$filter=t}},sort:function(e,t){var i=r.map(t,function(e){var t=e.field.replace(/\./g,"/");if(e.dir==="desc")t+=" desc";return t}).join(",");if(i)e.$orderby=i},skip:function(e,t){if(t)e.$skip=t},take:function(e,t){if(t)e.$top=t}},y={read:{dataType:"jsonp"}};function w(e,t){var i=[],h=e.logic||"and",r,n,a,o,s,l,c,u,f=e.filters;for(r=0,n=f.length;r<n;r++){e=f[r];a=e.field;c=e.value;l=e.operator;if(e.filters)e=w(e,t);else{u=e.ignoreCase;a=a.replace(/\./g,"/");e=m[l];if(t)e=_[l];if(l==="isnullorempty")e=d.format("{0} {1} null or {0} {1} ''",a,e);else if(l==="isnotnullorempty")e=d.format("{0} {1} null and {0} {1} ''",a,e);else if(l==="isnull"||l==="isnotnull")e=d.format("{0} {1} null",a,e);else if(l==="isempty"||l==="isnotempty")e=d.format("{0} {1} ''",a,e);else if(e&&c!==g){o=d.type(c);if(o==="string"){s="'{1}'";c=c.replace(/'/g,"''");if(u===true)a="tolower("+a+")"}else if(o==="date")if(t){s="{1:yyyy-MM-ddTHH:mm:ss+00:00}";c=d.timezone.apply(c,"Etc/UTC")}else s="datetime'{1:yyyy-MM-ddTHH:mm:ss}'";else s="{1}";if(e.length>3)if(e!=="substringof")s="{0}({2},"+s+")";else{s="{0}("+s+",{2})";if(l==="doesnotcontain")if(t){s="{0}({2},'{1}') eq -1";e="indexof"}else s+=" eq false"}else s="{2} {0} "+s;e=d.format(s,e,c,a)}}i.push(e)}e=i.join(" "+h+" ");if(i.length>1)e="("+e+")";return e}function i(e){for(var t in e)if(t.indexOf("@odata")===0)delete e[t]}function t(){return Math.floor((1+Math.random())*65536).toString(16).substr(1)}function f(e){return e+t()+"-"+t()+"-"+t()}function p(e,t){var i=c+"--"+e;if(t)i+="--";return i}function b(e,t,i,r){var n=e.options[r].url;var a=d.format("{0} ",i);if(u(n))return a+n(t);else return a+n}function x(e,t){var i="";i+=p(e,false);i+=c+"Content-Type: application/http";i+=c+"Content-Transfer-Encoding: binary";i+=c+"Content-ID: "+t;return i}function k(e){var t="";t+=c+"Content-Type: application/json;odata=minimalmetadata";t+=c+"Prefer: return=representation";t+=h+d.stringify(e);return t}function C(e,t,i,r,n,a){var o="";for(var s=0;s<e.length;s++){o+=x(t,i);o+=h+b(n,e[s],n.options[r].type,r)+" HTTP/1.1";if(!a)o+=k(e[s]);o+=c;i++}return o}function v(e,t,i,r,n,a,o){var s="";s+=S(t,i);s+=C(e,i,r,a,n,o);s+=p(i,true);s+=c;return s}function S(e,t){var i="";i+="--"+e+c;i+="Content-Type: multipart/mixed; boundary="+t+c;return i}function o(e,t){var i=l({},e.options.batch);var r=f("sf_batch_");var n="";var a=0;var o=e.options.batch.url;var s=f("sf_changeset_");i.type=e.options.batch.type;i.url=u(o)?o():o;i.headers=l(i.headers||{},{"Content-Type":"multipart/mixed; boundary="+r});if(t.updated.length){n+=v(t.updated,r,s,a,e,"update",false);a+=t.updated.length;s=f("sf_changeset_")}if(t.destroyed.length){n+=v(t.destroyed,r,s,a,e,"destroy",true);a+=t.destroyed.length;s=f("sf_changeset_")}if(t.created.length)n+=v(t.created,r,s,a,e,"create",false);n+=p(r,true);i.data=n;return i}function T(e){var t=e.match(/--changesetresponse_[a-z0-9-]+$/gm);var i=0;var r=[];var n;var a;var o;var s;var l;r.push({models:[],passed:true});for(var c=0;c<t.length;c++){s=t[c];if(s.lastIndexOf("--",s.length-1)){if(c<t.length-1)r.push({models:[],passed:true});continue}if(!i)i=e.indexOf(s);else i=e.indexOf(s,i+s.length);n=e.substring(i,e.indexOf("--",i+1));a=n.match(/^HTTP\/1\.\d (\d{3}) (.*)$/gm).pop();o=d.parseFloat(a.match(/\d{3}/g).pop());if(o>=200&&o<=299){l=n.match(/\{.*\}/gm);if(l)r[r.length-1].models.push(JSON.parse(l[0]))}else r[r.length-1].passed=false}return r}return l(true,d.data,{schemas:{odata:{type:"json",data:function(e){return e.d.results||[e.d]},total:"d.__count"}},transports:{odata:{read:{cache:true,dataType:"jsonp",jsonp:"$callback"},update:{cache:true,dataType:"json",contentType:"application/json",type:"PUT"},create:{cache:true,dataType:"json",contentType:"application/json",type:"POST"},destroy:{cache:true,dataType:"json",type:"DELETE"},parameterMap:function(e,t,i){var r,n,a,o;e=e||{};t=t||"read";o=(this.options||y)[t];o=o?o.dataType:"json";if(t==="read"){r={$inlinecount:"allpages"};if(o!="json")r.$format="json";for(a in e)if(s[a])s[a](r,e[a],i);else r[a]=e[a]}else{if(o!=="json")throw new Error("Only json dataType can be used for "+t+" operation.");if(t!=="destroy"){for(a in e){n=e[a];if(typeof n==="number")e[a]=n+""}r=d.stringify(e)}}return r}}}}),l(true,d.data,{schemas:{"odata-v4":{type:"json",data:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)i(e[t]);return e}else{e=r.extend({},e);i(e);if(e.value)return e.value;return[e]}},total:function(e){return e["@odata.count"]}}},transports:{"odata-v4":{batch:{type:"POST"},read:{cache:true,dataType:"json"},update:{cache:true,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"PUT"},create:{cache:true,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"POST"},destroy:{cache:true,dataType:"json",type:"DELETE"},parameterMap:function(e,t){var i=d.data.transports.odata.parameterMap(e,t,true);if(t=="read"){i.$count=true;delete i.$inlinecount}if(i&&i.$filter)i.$filter=i.$filter.replace(/('[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}')/gi,function(e){return e.substring(1,e.length-1)});return i},submit:function(n){var e=this;var t=o(e,n.data);var a=n.data;if(!a.updated.length&&!a.destroyed.length&&!a.created.length)return;r.ajax(l(true,{},{success:function(e){var t=T(e);var i=0;var r;if(a.updated.length){r=t[i];if(r.passed)n.success(r.models.length?r.models:[],"update");i++}if(a.destroyed.length){r=t[i];if(r.passed)n.success([],"destroy");i++}if(a.created.length){r=t[i];if(r.passed)n.success(r.models,"create")}},error:function(e,t,i){n.error(e,t,i)}},t))}}}}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.data.xml.min",["./kendo.core.min"],function(){var i={id:"data.xml",name:"XML",category:"framework",depends:["core"],hidden:true},n=window.kendo.jQuery,u=void 0,f=window.kendo,d=Array.isArray,p=n.isPlainObject,v=n.map,g=n.each,m=n.extend,t=f.getter,r,e=f.Class.extend({init:function(e){var i=this,t=e.total,n=e.model,r=e.parse,a=e.errors,o=e.serialize,s=e.data;if(n){if(p(n)){var h=e.modelBase||f.data.Model;if(n.fields)g(n.fields,function(e,t){if(p(t)&&t.field){if(!f.isFunction(t.field))t=m(t,{field:i.getter(t.field)})}else t={field:i.getter(t)};n.fields[e]=t});var l=n.id;if(l){var c={};c[i.xpathToMember(l,true)]={field:i.getter(l)};n.fields=m(c,n.fields);n.id=i.xpathToMember(l)}n=h.define(n)}i.model=n}if(t)if(typeof t=="string"){t=i.getter(t);i.total=function(e){return parseInt(t(e),10)}}else if(typeof t=="function")i.total=t;if(a)if(typeof a=="string"){a=i.getter(a);i.errors=function(e){return a(e)||null}}else if(typeof a=="function")i.errors=a;if(s)if(typeof s=="string"){s=i.xpathToMember(s);i.data=function(e){var t=i.evaluate(e,s),r;t=d(t)?t:[t];if(i.model&&n.fields){r=new i.model;return v(t,function(e){if(e){var t={},i;for(i in n.fields)t[i]=r._parse(i,n.fields[i].field(e));return t}})}return t}}else if(typeof s=="function")i.data=s;if(typeof r=="function"){var u=i.parse;i.parse=function(e){var t=r.call(i,e);return u.call(i,t)}}if(typeof o=="function")i.serialize=o},total:function(e){return this.data(e).length},errors:function(e){return e?e.errors:null},serialize:function(e){return e},parseDOM:function(e){var t={},i,r,n,a,o,s,l=e.attributes,h=l.length,c;for(c=0;c<h;c++){s=l[c];t["@"+s.nodeName]=s.nodeValue}for(r=e.firstChild;r;r=r.nextSibling){n=r.nodeType;if(n===3||n===4)t["#text"]=r.nodeValue;else if(n===1){i=this.parseDOM(r);a=r.nodeName;o=t[a];if(d(o))o.push(i);else if(o!==u)o=[o,i];else o=i;t[a]=o}}return t},evaluate:function(e,t){var i=t.split("."),r,n,a,o,s;while(r=i.shift()){e=e[r];if(d(e)){n=[];t=i.join(".");for(s=0,a=e.length;s<a;s++){o=this.evaluate(e[s],t);o=d(o)?o:[o];n.push.apply(n,o)}return n}}return e},parse:function(e){var t,i,r={};t=e.documentElement||n.parseXML(e).documentElement;i=this.parseDOM(t);r[t.nodeName]=i;return r},xpathToMember:function(e,t){if(!e)return"";e=e.replace(/^\//,"").replace(/\//g,".");if(e.indexOf("@")>=0)return e.replace(/\.?(@.*)/,t?"$1":'["$1"]');if(e.indexOf("text()")>=0)return e.replace(/(\.?text\(\))/,t?"#text":'["#text"]');return e},getter:function(e){return t(this.xpathToMember(e),true)}});return n.extend(true,f.data,{XmlDataReader:e,readers:{xml:e}}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.data.min",["./kendo.core.min","./kendo.data.odata.min","./kendo.data.xml.min"],function(){var e={id:"data",name:"Data source",category:"framework",description:"Powerful component for using local and remote data.Fully supports CRUD, Sorting, Paging, Filtering, Grouping, and Aggregates.",depends:["core"],features:[{id:"data-odata",name:"OData",description:"Support for accessing Open Data Protocol (OData) services.",depends:["data.odata"]},{id:"data-signalr",name:"SignalR",description:"Support for binding to SignalR hubs.",depends:["data.signalr"]},{id:"data-XML",name:"XML",description:"Support for binding to XML.",depends:["data.xml"]}]},m=window.kendo.jQuery,T=void 0,v=m.extend,b=m.proxy,x=m.isPlainObject,k=m.isEmptyObject,h=m.isArray,n=m.grep,t=m.ajax,C,S=m.each,A=m.noop,_=window.kendo,d=_.isFunction,o=_.Observable,i=_.Class,g="string",f="function",r="asc",a="create",s="read",l="update",u="destroy",p="change",M="sync",D="get",E="error",P="requestStart",I="progress",B="requestEnd",z=[a,s,l,u],O=function(e){return e},L=_.getter,R=_.stringify,y=Math,F=[].push,V,N=[].pop,H=[].splice,U=[].shift,j=[].slice,G=[].unshift,W={}.toString,q=_.support.stableSort,Y=/^\/Date\((.*?)\)\/$/,$=[],X=o.extend({init:function(e,t){var i=this;i.type=t||c;o.fn.init.call(i);i.length=e.length;i.wrapAll(e,i)},at:function(e){return this[e]},toJSON:function(e){var t,i=this.length,r,n=new Array(i);for(t=0;t<i;t++){r=this[t];if(r instanceof c)r=r.toJSON(e);n[t]=r}return n},parent:A,wrapAll:function(e,t){var i=this,r,n,a=function(){return i};t=t||[];for(r=0,n=e.length;r<n;r++)t[r]=i.wrap(e[r],a);return t},wrap:function(e,t){var i=this,r;if(e!==null&&W.call(e)==="[object Object]"){r=e instanceof i.type||e instanceof re;if(!r){e=e instanceof c?e.toJSON():e;e=new i.type(e)}e.parent=t;e.bind(p,function(e){i.trigger(p,{field:e.field,node:e.node,index:e.index,items:e.items||[this],action:e.node?e.action||"itemloaded":"itemchange"})})}return e},push:function(){var e=this.length,t=this.wrapAll(arguments),i;i=F.apply(this,t);if(!this.omitChangeEvent)this.trigger(p,{action:"add",index:e,items:t});return i},slice:j,sort:[].sort,join:[].join,pop:function(){var e=this.length,t=N.apply(this);if(e)this.trigger(p,{action:"remove",index:e-1,items:[t]});return t},splice:function(e,t,i){var r=this.wrapAll(j.call(arguments,2)),n,a,o;n=H.apply(this,[e,t].concat(r));if(n.length){if(!this.omitChangeEvent)this.trigger(p,{action:"remove",index:e,items:n});for(a=0,o=n.length;a<o;a++)if(n[a]&&n[a].children)n[a].unbind(p)}if(i)if(!this.omitChangeEvent)this.trigger(p,{action:"add",index:e,items:r});return n},shift:function(){var e=this.length,t=U.apply(this);if(e)this.trigger(p,{action:"remove",index:0,items:[t]});return t},unshift:function(){var e=this.wrapAll(arguments),t;t=G.apply(this,e);this.trigger(p,{action:"add",index:0,items:e});return t},indexOf:function(e){var t=this,i,r;for(i=0,r=t.length;i<r;i++)if(t[i]===e)return i;return-1},forEach:function(e,t){var i=0;var r=this.length;var n=t||window;for(;i<r;i++)e.call(n,this[i],i,this)},map:function(e,t){var i=0;var r=[];var n=this.length;var a=t||window;for(;i<n;i++)r[i]=e.call(a,this[i],i,this);return r},reduce:function(e){var t=0,i,r=this.length;if(arguments.length==2)i=arguments[1];else if(t<r)i=this[t++];for(;t<r;t++)i=e(i,this[t],t,this);return i},reduceRight:function(e){var t=this.length-1,i;if(arguments.length==2)i=arguments[1];else if(t>0)i=this[t--];for(;t>=0;t--)i=e(i,this[t],t,this);return i},filter:function(e,t){var i=0;var r=[];var n;var a=this.length;var o=t||window;for(;i<a;i++){n=this[i];if(e.call(o,n,i,this))r[r.length]=n}return r},find:function(e,t){var i=0;var r;var n=this.length;var a=t||window;for(;i<n;i++){r=this[i];if(e.call(a,r,i,this))return r}},every:function(e,t){var i=0;var r;var n=this.length;var a=t||window;for(;i<n;i++){r=this[i];if(!e.call(a,r,i,this))return false}return true},some:function(e,t){var i=0;var r;var n=this.length;var a=t||window;for(;i<n;i++){r=this[i];if(e.call(a,r,i,this))return true}return false},remove:function(e){var t=this.indexOf(e);if(t!==-1)this.splice(t,1)},empty:function(){this.splice(0,this.length)}});if(typeof Symbol!=="undefined"&&Symbol.iterator&&!X.prototype[Symbol.iterator])X.prototype[Symbol.iterator]=[][Symbol.iterator];var K=X.extend({init:function(e,t,i){o.fn.init.call(this);this.type=t||c;if(i)this._events=i;for(var r=0;r<e.length;r++)this[r]=e[r];this.length=r;this._parent=b(function(){return this},this)},at:function(e){var t=this[e];if(!(t instanceof this.type))t=this[e]=this.wrap(t,this._parent);else t.parent=this._parent;return t}});function Q(r,n,a,o){return function(e){var t={},i;for(i in e)t[i]=e[i];if(o)t.field=a+"."+e.field;else t.field=a;if(n==p&&r._notifyChange)r._notifyChange(t);r.trigger(n,t)}}function Z(e,t){var i=[];var r,n;e=e||{};r=Object.getOwnPropertyNames(e);n=$.filter(function(e){return r.indexOf(e)<0});while(e){Object.getOwnPropertyNames(e).forEach(function(e){if(i.indexOf(e)===-1&&(!t||n.indexOf(e)<0))i.push(e)});e=Object.getPrototypeOf(e)}return i}$=Z({},false);var c=o.extend({init:function(t){var i=this,r,e=Z(t,true),n=function(){return i};o.fn.init.call(this);this._handlers={};e.forEach(function(e){r=t[e];if(typeof r==="object"&&r&&!r.getTime&&e.charAt(0)!="_")r=i.wrap(r,e,n);i[e]=r});i.uid=_.guid()},shouldSerialize:function(e,t){return this.hasOwnProperty(e)&&e!=="_handlers"&&e!=="_events"&&(t&&t[e]||typeof this[e]!==f)&&e!=="uid"},forEach:function(e){for(var t in this)if(this.shouldSerialize(t))e(this[t],t)},toJSON:function(e){var t={},i,r;for(r in this)if(this.shouldSerialize(r,e)){i=this[r];if(i instanceof c||i instanceof X)i=i.toJSON(e);t[r]=i}return t},get:function(e){var t=this,i;t.trigger(D,{field:e});if(e==="this")i=t;else i=_.getter(e,true)(t);return i},_set:function(e,t){var i=this;var r=e.indexOf(".")>=0;if(r){var n=e.split("."),a="";while(n.length>1){a+=n.shift();var o=_.getter(a,true)(i);if(o instanceof c){o.set(n.join("."),t);return r}a+="."}}_.setter(e)(i,t);return r},set:function(e,t){var i=this,r=false,n=e.indexOf(".")>=0,a=_.getter(e,true)(i);if(a!==t){if(a instanceof o&&this._handlers[e]){if(this._handlers[e].get)a.unbind(D,this._handlers[e].get);a.unbind(p,this._handlers[e].change)}r=i.trigger("set",{field:e,value:t});if(!r){if(!n)t=i.wrap(t,e,function(){return i});if(!i._set(e,t)||e.indexOf("(")>=0||e.indexOf("[")>=0)i.trigger(p,{field:e})}}return r},parent:A,wrap:function(e,t,i){var r=this;var n;var a;var o=W.call(e);if(e!=null&&(o==="[object Object]"||o==="[object Array]")){var s=e instanceof X;var l=e instanceof Qe;if(o==="[object Object]"&&!l&&!s){if(!(e instanceof c))e=new c(e);n=Q(r,D,t,true);e.bind(D,n);a=Q(r,p,t,true);e.bind(p,a);r._handlers[t]={get:n,change:a}}else if(o==="[object Array]"||s||l){if(!s&&!l)e=new X(e);a=Q(r,p,t,false);e.bind(p,a);r._handlers[t]={change:a}}e.parent=i}return e}});function J(e,t){if(e===t)return true;var i=_.type(e),r=_.type(t),n;if(i!==r)return false;if(i==="date")return e.getTime()===t.getTime();if(i!=="object"&&i!=="array")return false;for(n in e)if(!J(e[n],t[n]))return false;return true}var ee={number:function(e){if(typeof e===g&&e.toLowerCase()==="null")return null;return _.parseFloat(e)},date:function(e){if(typeof e===g&&e.toLowerCase()==="null")return null;return _.parseDate(e)},boolean:function(e){if(typeof e===g)if(e.toLowerCase()==="null")return null;else return e.toLowerCase()==="true";return e!=null?!!e:e},string:function(e){if(typeof e===g&&e.toLowerCase()==="null")return null;return e!=null?e+"":e},default:function(e){return e}},te={string:"",number:0,date:new Date,boolean:false,default:""};function ie(e,t){var i,r;for(r in e){i=e[r];if(x(i)&&i.field&&i.field===t)return i;else if(i===t)return i}return null}var re=c.extend({init:function(e){var t=this;if(!e||m.isEmptyObject(e)){e=m.extend({},t.defaults,e);if(t._initializers)for(var i=0;i<t._initializers.length;i++){var r=t._initializers[i];e[r]=t.defaults[r]()}}c.fn.init.call(t,e);t.dirty=false;t.dirtyFields={};if(t.idField){t.id=t.get(t.idField);if(t.id===T)t.id=t._defaultId}},shouldSerialize:function(e){return c.fn.shouldSerialize.call(this,e)&&e!=="uid"&&!(this.idField!=="id"&&e==="id")&&e!=="dirty"&&e!=="dirtyFields"&&e!=="_accessors"},_parse:function(e,t){var i=this,r=e,n=i.fields||{},a;e=n[e];if(!e)e=ie(n,r);if(e){a=e.parse;if(!a&&e.type)a=ee[e.type.toLowerCase()]}return a?a(t):t},_notifyChange:function(e){var t=e.action;if(t=="add"||t=="remove"){this.dirty=true;this.dirtyFields[e.field]=true}},editable:function(e){e=(this.fields||{})[e];return e?e.editable!==false:true},set:function(e,t){var i=this;var r=i.dirty;if(i.editable(e)){t=i._parse(e,t);if(!J(t,i.get(e))){i.dirty=true;i.dirtyFields[e]=true;if(c.fn.set.call(i,e,t)&&!r){i.dirty=r;if(!i.dirty)i.dirtyFields[e]=false}}else i.trigger("equalSet",{field:e,value:t})}},accept:function(e){var t=this,i=function(){return t},r;for(r in e){var n=e[r];if(r.charAt(0)!="_")n=t.wrap(e[r],r,i);t._set(r,n)}if(t.idField)t.id=t.get(t.idField);t.dirty=false;t.dirtyFields={}},isNew:function(){return this.id===this._defaultId}}),ne=(re.define=function(e,t){if(t===T){t=e;e=re}var i,r=v({defaults:{}},t),n,a,h,o,s,u,f={},l,c=r.id,d=[];if(c)r.idField=c;if(r.id)delete r.id;if(c)r.defaults[c]=r._defaultId="";if(W.call(r.fields)==="[object Array]"){for(s=0,u=r.fields.length;s<u;s++){a=r.fields[s];if(typeof a===g)f[a]={};else if(a.field)f[a.field]=a}r.fields=f}for(n in r.fields){a=r.fields[n];h=a.type||"default";o=null;l=n;n=typeof a.field===g?a.field:n;if(!a.nullable){o=r.defaults[l!==n?l:n]=a.defaultValue!==T?a.defaultValue:te[h.toLowerCase()];if(typeof o==="function")d.push(n)}if(t.id===n)r._defaultId=o;r.defaults[l!==n?l:n]=o;a.parse=a.parse||ee[h]}if(d.length>0)r._initializers=d;i=e.extend(r);i.define=function(e){return re.define(i,e)};if(r.fields){i.fields=r.fields;i.idField=r.idField}return i},{selector:function(e){return d(e)?e:L(e)},compare:function(e){var i=this.selector(e);return function(e,t){e=i(e);t=i(t);if(e==null&&t==null)return 0;if(e==null)return-1;if(t==null)return 1;if(e.localeCompare)return e.localeCompare(t);return e>t?1:e<t?-1:0}},create:function(e){var i=e.compare||this.compare(e.field);if(e.dir=="desc")return function(e,t){return i(t,e,true)};return i},combine:function(a){return function(e,t){var i=a[0](e,t),r,n;for(r=1,n=a.length;r<n;r++)i=i||a[r](e,t);return i}}}),ae=v({},ne,{asc:function(e){var n=this.selector(e);return function(e,t){var i=n(e);var r=n(t);if(i&&i.getTime&&r&&r.getTime){i=i.getTime();r=r.getTime()}if(i===r)return e.__position-t.__position;if(i==null)return-1;if(r==null)return 1;if(i.localeCompare)return i.localeCompare(r);return i>r?1:-1}},desc:function(e){var n=this.selector(e);return function(e,t){var i=n(e);var r=n(t);if(i&&i.getTime&&r&&r.getTime){i=i.getTime();r=r.getTime()}if(i===r)return e.__position-t.__position;if(i==null)return 1;if(r==null)return-1;if(r.localeCompare)return r.localeCompare(i);return i<r?1:-1}},create:function(e){return this[e.dir](e.field)}}),oe=(C=function(e,t){var i,r=e.length,n=new Array(r);for(i=0;i<r;i++)n[i]=t(e[i],i,e);return n},function(){function o(e){if(typeof e=="string")e=e.replace(/[\r\n]+/g,"");return JSON.stringify(e)}function e(n){return function(e,t,i,r){t+="";if(i){e="("+e+" + '').toString()"+(r?".toLocaleLowerCase('"+r+"')":".toLowerCase()");t=r?t.toLocaleLowerCase(r):t.toLowerCase()}return n(e,o(t),i)}}function n(e,t,i,r,n){if(i!=null){if(typeof i===g){var a=Y.exec(i);if(a)i=new Date(+a[1]);else if(r){i=o(n?i.toLocaleLowerCase(n):i.toLowerCase());t="(("+t+" || '')+'')"+(n?".toLocaleLowerCase('"+n+"')":".toLowerCase()")}else i=o(i)}if(i.getTime){t="("+t+"&&"+t+".getTime?"+t+".getTime():"+t+")";i=i.getTime()}}return t+" "+e+" "+i}function i(e){for(var t="/^",i=false,r=0;r<e.length;++r){var n=e.charAt(r);if(i)t+="\\"+n;else if(n=="~"){i=true;continue}else if(n=="*")t+=".*";else if(n=="?")t+=".";else if(".+^$()[]{}|\\/\n\r\u2028\u2029".indexOf(n)>=0)t+="\\"+n;else t+=n;i=false}return t+"$/"}return{quote:function(e){if(e&&e.getTime)return"new Date("+e.getTime()+")";return o(e)},eq:function(e,t,i,r){return n("==",e,t,i,r)},neq:function(e,t,i,r){return n("!=",e,t,i,r)},gt:function(e,t,i){return n(">",e,t,i)},gte:function(e,t,i){return n(">=",e,t,i)},lt:function(e,t,i){return n("<",e,t,i)},lte:function(e,t,i){return n("<=",e,t,i)},startswith:e(function(e,t){return e+".lastIndexOf("+t+", 0) == 0"}),doesnotstartwith:e(function(e,t){return e+".lastIndexOf("+t+", 0) == -1"}),endswith:e(function(e,t){var i=t?t.length-2:0;return e+".indexOf("+t+", "+e+".length - "+i+") >= 0"}),doesnotendwith:e(function(e,t){var i=t?t.length-2:0;return e+".indexOf("+t+", "+e+".length - "+i+") < 0"}),contains:e(function(e,t){return e+".indexOf("+t+") >= 0"}),doesnotcontain:e(function(e,t){return e+".indexOf("+t+") == -1"}),matches:e(function(e,t){t=t.substring(1,t.length-1);return i(t)+".test("+e+")"}),doesnotmatch:e(function(e,t){t=t.substring(1,t.length-1);return"!"+i(t)+".test("+e+")"}),isempty:function(e){return e+" === ''"},isnotempty:function(e){return e+" !== ''"},isnull:function(e){return"("+e+" == null)"},isnotnull:function(e){return"("+e+" != null)"},isnullorempty:function(e){return"("+e+" === null) || ("+e+" === '')"},isnotnullorempty:function(e){return"("+e+" !== null) && ("+e+" !== '')"}}}());function w(e){this.data=e||[]}function se(e,t){if(e){var i=typeof e===g?{field:e,dir:t}:e,r=h(i)?i:i!==T?[i]:[];return n(r,function(e){return!!e.dir})}}function le(e,t){var i={};if(e){var r=typeof e===g?{field:e,dir:t}:e,n=h(r)?r:r!==T?[r]:[];for(var a=0;a<n.length;a++)i[n[a].field]={dir:n[a].dir,index:a+1}}return i}w.filterExpr=function(e){var t=[],h={and:" && ",or:" || "},i,r,n,a,o=[],s=[],l,c,u=e.filters;for(i=0,r=u.length;i<r;i++){n=u[i];l=n.field;c=n.operator;if(n.filters){a=w.filterExpr(n);n=a.expression.replace(/__o\[(\d+)\]/g,function(e,t){t=+t;return"__o["+(s.length+t)+"]"}).replace(/__f\[(\d+)\]/g,function(e,t){t=+t;return"__f["+(o.length+t)+"]"});s.push.apply(s,a.operators);o.push.apply(o,a.fields)}else{if(typeof l===f){a="__f["+o.length+"](d)";o.push(l)}else a=_.expr(l);if(typeof c===f){n="__o["+s.length+"]("+a+", "+oe.quote(n.value)+")";s.push(c)}else n=oe[(c||"eq").toLowerCase()](a,n.value,n.ignoreCase!==T?n.ignoreCase:true,e.accentFoldingFiltering)}t.push(n)}return{expression:"("+t.join(h[e.logic])+")",fields:o,operators:s}};var ce={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain",isnull:"isnull",isempty:"isempty",isnotempty:"isnotempty"};function he(e){var t,i,r,n,a=e.filters;if(a)for(t=0,i=a.length;t<i;t++){r=a[t];n=r.operator;if(n&&typeof n===g)r.operator=ce[n.toLowerCase()]||n;he(r)}}function ue(e){if(e&&!k(e)){if(h(e)||!e.filters)e={logic:"and",filters:h(e)?e:[e]};he(e);return e}}function fe(e,t){if(e.logic||t.logic)return false;return e.field===t.field&&e.value===t.value&&e.operator===t.operator}function de(e){e=e||{};if(k(e))return{logic:"and",filters:[]};return ue(e)}function pe(e,t){if(t.logic||e.field>t.field)return 1;else if(e.field<t.field)return-1;else return 0}function ve(e,t){e=de(e);t=de(t);if(e.logic!==t.logic)return false;var i,r;var n=(e.filters||[]).slice();var a=(t.filters||[]).slice();if(n.length!==a.length)return false;n=n.sort(pe);a=a.sort(pe);for(var o=0;o<n.length;o++){i=n[o];r=a[o];if(i.logic&&r.logic){if(!ve(i,r))return false}else if(!fe(i,r))return false}return true}function ge(e){return h(e)?e:[e]}function me(e,t,i,r){var n=typeof e===g?{field:e,dir:t,compare:i,skipItemSorting:r}:e,a=h(n)?n:n!==T?[n]:[];return C(a,function(e){return{field:e.field,dir:e.dir||"asc",aggregates:e.aggregates,compare:e.compare,skipItemSorting:e.skipItemSorting}})}function _e(e,t,i){var r=me(e,t,i);for(var n=0;n<r.length;n++)delete r[n].compare;return r}function ye(e){var t=h(e)?e:[e];for(var i=0;i<t.length;i++)if(t[i]&&d(t[i].compare))return true;return false}function we(e,t){if(e&&e.getTime&&t&&t.getTime)return e.getTime()===t.getTime();return e===t}function be(e,t,i,r,n,a){t=t||[];var o,s,l,h=t.length;for(o=0;o<h;o++){s=t[o];l=s.aggregate;var c=s.field;e[c]=e[c]||{};a[c]=a[c]||{};a[c][l]=a[c][l]||{};e[c][l]=xe[l.toLowerCase()](e[c][l],i,_.accessor(c),r,n,a[c][l])}}w.normalizeFilter=ue,w.compareFilters=ve,w.prototype={toArray:function(){return this.data},range:function(e,t){return new w(this.data.slice(e,e+t))},skip:function(e){return new w(this.data.slice(e))},take:function(e){return new w(this.data.slice(0,e))},select:function(e){return new w(C(this.data,e))},order:function(e,t,i){var r={dir:t};if(e)if(e.compare)r.compare=e.compare;else r.field=e;if(i)return new w(this.data.sort(ne.create(r)));return new w(this.data.slice(0).sort(ne.create(r)))},orderBy:function(e,t){return this.order(e,"asc",t)},orderByDescending:function(e,t){return this.order(e,"desc",t)},sort:function(e,t,i,r){var n,a,o=se(e,t),s=[];i=i||ne;if(o.length){for(n=0,a=o.length;n<a;n++)s.push(i.create(o[n]));return this.orderBy({compare:i.combine(s)},r)}return this},filter:function(e){var t,i,r,n,a,o=this.data,s,l,h=[],c;e=ue(e);if(!e||e.filters.length===0)return this;n=w.filterExpr(e);s=n.fields;l=n.operators;a=c=new Function("d, __f, __o","return "+n.expression);if(s.length||l.length)c=function(e){return a(e,s,l)};for(t=0,r=o.length;t<r;t++){i=o[t];if(c(i))h.push(i)}return new w(h)},group:function(r,n,a){r=me(r||[]);n=n||this.data;var e=this,t=new w(e.data),o;if(r.length>0){o=r[0];if(a&&a.groupPaging)t=new w(n).groupAllData(o,n).select(function(e){var t=new w(n).filter([{field:e.field,operator:"eq",value:e.value,ignoreCase:false}]);var i=r.length>1?new w(e.items).group(r.slice(1),t.toArray(),a).toArray():e.items;return{field:e.field,value:e.value,hasSubgroups:r.length>1,items:i,aggregates:t.aggregate(o.aggregates),uid:_.guid(),itemCount:i.length,subgroupCount:i.length}});else t=t.groupBy(o).select(function(e){var t=new w(n).filter([{field:e.field,operator:"eq",value:e.value,ignoreCase:false}]);return{field:e.field,value:e.value,items:r.length>1?new w(e.items).group(r.slice(1),t.toArray()).toArray():e.items,hasSubgroups:r.length>1,aggregates:t.aggregate(o.aggregates)}})}return t},groupBy:function(e){var h=this;if(k(e)||!this.data.length)return new w([]);var t=e.field,i=e.skipItemSorting?this.data:this._sortForGrouping(t,e.dir||"asc"),r=_.accessor(t),n,a=r.get(i[0],t),o={field:t,value:a,items:[]},s,l,u,c=[o];for(l=0,u=i.length;l<u;l++){n=i[l];s=r.get(n,t);if(!we(a,s)){a=s;o={field:t,value:a,items:[]};c.push(o)}o.items.push(n)}c=h._sortGroups(c,e);return new w(c)},groupAllData:function(e,t){if(k(e)||this.data&&!this.data.length)return new w([]);var i=e.field,r=e.skipItemSorting?t:new w(t).sort(i,e.dir||"asc",ae).toArray(),h=_.accessor(i),n,a=h.get(r[0],i),o={field:i,value:a,items:[]},s,l,u,c=[o];for(l=0,u=r.length;l<u;l++){n=r[l];s=h.get(n,i);if(!we(a,s)){a=s;o={field:i,value:a,items:[]};c.push(o)}o.items.push(n)}c=this._sortGroups(c,e);return new w(c)},_sortForGrouping:function(e,t){var i,r,n=this.data;if(!q){for(i=0,r=n.length;i<r;i++)n[i].__position=i;n=new w(n).sort(e,t,ae).toArray();for(i=0,r=n.length;i<r;i++)delete n[i].__position;return n}return this.sort(e,t).toArray()},_sortGroups:function(e,t){var i=e;if(t&&d(t.compare))i=new w(i).order({compare:t.compare},t.dir||r).toArray();return i},aggregate:function(e){var t,i,r={},n={};if(e&&e.length)for(t=0,i=this.data.length;t<i;t++)be(r,e,this.data[t],t,i,n);return r}};var xe={sum:function(e,t,i){var r=i.get(t);if(!ke(e))e=r;else if(ke(r))e+=r;return e},count:function(e){return(e||0)+1},average:function(e,t,i,r,n,a){var o=i.get(t);if(a.count===T)a.count=0;if(!ke(e))e=o;else if(ke(o))e+=o;if(ke(o))a.count++;if(r==n-1&&ke(e))e=e/a.count;return e},max:function(e,t,i){var r=i.get(t);if(!ke(e)&&!Ce(e))e=r;if(e<r&&(ke(r)||Ce(r)))e=r;return e},min:function(e,t,i){var r=i.get(t);if(!ke(e)&&!Ce(e))e=r;if(e>r&&(ke(r)||Ce(r)))e=r;return e}};function ke(e){return typeof e==="number"&&!isNaN(e)}function Ce(e){return e&&e.getTime}function Se(e){var t,i=e.length,r=new Array(i);for(t=0;t<i;t++)r[t]=e[t].toJSON();return r}w.normalizeGroup=me,w.normalizeSort=se,w.process=function(e,t,i){t=t||{};var r=t.group;var n=ye(me(r||[]));var a=new w(e),o=_e(r||[]),h=se(t.sort||[]),s=n?h:o.concat(h),u,f,d=t.filterCallback,p=t.filter,l=t.skip,c=t.take;if(s&&i)a=a.sort(s,T,T,i);if(p){a=a.filter(p);if(d)a=d(a);f=a.toArray().length}if(s){if(!i)a=a.sort(s);if(r)e=a.toArray()}if(n){a=a.group(r,e,t);if(l!==T&&c!==T&&!t.groupPaging){a=new w(Re(a.toArray())).range(l,c);u=C(o,function(e){return v({},e,{skipItemSorting:true})});a=a.group(u,e,t)}}else{if(l!==T&&c!==T)a=a.range(l,c);if(r&&(!k(r)||r.length!==0))a=a.group(r,e,t)}return{total:f,data:a.toArray()}};var Te=i.extend({init:function(e){this.data=e.data},read:function(e){e.success(this.data)},update:function(e){e.success(e.data)},create:function(e){e.success(e.data)},destroy:function(e){e.success(e.data)}}),Ae=i.extend({init:function(i){var e=this,r;i=e.options=v({},e.options,i);S(z,function(e,t){if(typeof i[t]===g)i[t]={url:i[t]}});e.cache=i.cache?Me.create(i.cache):{find:A,add:A};r=i.parameterMap;if(i.submit)e.submit=i.submit;if(d(i.push))e.push=i.push;if(!e.push)e.push=O;e.parameterMap=d(r)?r:function(e){var i={};S(e,function(e,t){if(e in r){e=r[e];if(x(e)){t=e.value(t);e=e.key}}i[e]=t});return i}},options:{parameterMap:O},create:function(e){return t(this.setup(e,a))},read:function(t){var e=this,i,r,n,a=e.cache;t=e.setup(t,s);i=t.success||A;r=t.error||A;n=a.find(t.data);if(n!==T)i(n);else{t.success=function(e){a.add(t.data,e);i(e)};m.ajax(t)}},update:function(e){return t(this.setup(e,l))},destroy:function(e){return t(this.setup(e,u))},setup:function(e,t){e=e||{};var i=this,r,n=i.options[t],a=d(n.data)?n.data(e.data):n.data;e=v(true,{},n,e);r=v(true,{},a,e.data);e.data=i.parameterMap(r,t);if(d(e.url))e.url=e.url(r);return e}}),Me=i.extend({init:function(){this._store={}},add:function(e,t){if(e!==T)this._store[R(e)]=t},find:function(e){return this._store[R(e)]},clear:function(){this._store={}},remove:function(e){delete this._store[R(e)]}});function De(e,t,c,h,i){var r,n,a,o,s={},l;for(o=0,l=e.length;o<l;o++){r=e[o];for(n in t){a=i[n];if(a&&a!==n){if(!s[a])s[a]=_.setter(a);s[a](r,t[n](r));delete r[n]}}}}function Ee(e,t,i,c,r){var n,a,o,s,l;for(s=0,l=e.length;s<l;s++){n=e[s];for(a in t){n[a]=i._parse(a,t[a](n));o=r[a];if(o&&o!==a)delete n[o]}}}function Pe(e,t,i,r,n){var a,o,s,l;for(o=0,l=e.length;o<l;o++){a=e[o];s=r[a.field];if(s&&s!=a.field)a.field=s;a.value=i._parse(a.field,a.value);if(a.items)if(a.hasSubgroups)Pe(a.items,t,i,r,n);else Ee(a.items,t,i,r,n)}}function Ie(t,i,r,n,a,o){return function(e){e=t(e);return Be(i,r,n,a,o)(e)}}function Be(t,i,r,n,a){return function(e){if(e&&!k(r)){if(W.call(e)!=="[object Array]"&&!(e instanceof X))e=[e];i(e,r,new t,n,a)}return e||[]}}Me.create=function(e){var t={inmemory:function(){return new Me}};if(x(e)&&d(e.find))return e;if(e===true)return new Me;return t[e]()};var ze=i.extend({init:function(e){var t=this,i,r,n,h;e=e||{};for(i in e){r=e[i];t[i]=typeof r===g?L(r):r}h=e.modelBase||re;if(x(t.model))t.model=n=h.define(t.model);var u=b(t.data,t);t._dataAccessFunction=u;if(t.model){var f=b(t.groups,t),d=b(t.serialize,t),a={},o={},p={},s={},v=false,l,c;n=t.model;if(n.fields){S(n.fields,function(e,t){var i;l=e;if(x(t)&&t.field)l=t.field;else if(typeof t===g)l=t;if(x(t)&&t.from)i=t.from;v=v||i&&i!==e||l!==e;c=i||l;o[e]=c.indexOf(".")!==-1?L(c,true):L(c);p[e]=L(e);a[i||l]=e;s[e]=i||l});if(!e.serialize&&v)t.serialize=Ie(d,n,De,p,a,s)}t._dataAccessFunction=u;t._wrapDataAccessBase=Be(n,Ee,o,a,s);t.data=Ie(u,n,Ee,o,a,s);t.groups=Ie(f,n,Pe,o,a,s)}},errors:function(e){return e?e.errors:null},parse:O,data:O,total:function(e){return e.length},groups:O,aggregates:function(){return{}},serialize:function(e){return e}});function Oe(e,t){var i;var r;if(t.items&&t.items.length)for(var n=0;n<t.items.length;n++){i=e.items[e.items.length-1];r=t.items[n];if(i&&r)if(i.hasSubgroups&&i.value==r.value)Oe(i,r);else if(i.field&&i.value==r.value)i.items.push.apply(i.items,r.items);else e.items.push.apply(e.items,[r]);else if(r)e.items.push.apply(e.items,[r])}}function Le(e,t,i,r){var n,a=0,o;while(t.length&&r){n=t[a];o=n.items;var s=o.length;if(e&&e.field===n.field&&e.value===n.value){if(e.hasSubgroups&&e.items.length)Le(e.items[e.items.length-1],n.items,i,r);else{o=o.slice(i,i+r);e.items=e.items.concat(o)}t.splice(a--,1)}else if(n.hasSubgroups&&o.length){Le(n,o,i,r);if(!n.items.length)t.splice(a--,1)}else{o=o.slice(i,i+r);n.items=o;if(!n.items.length)t.splice(a--,1)}if(o.length===0)i-=s;else{i=0;r-=o.length}if(++a>=t.length)break}if(a<t.length)t.splice(a,t.length-a)}function Re(e,t){var i=[];var r=(e||[]).length;var n;var a;var o=d(t)?t:function(e,t){return e[t]};for(var s=0;s<r;s++){n=o(e,s);if(n.hasSubgroups)i=i.concat(Re(n.items));else{a=n.items;for(var l=0;l<a.length;l++)i.push(o(a,l))}}return i}function Fe(e){var t,i=[],r,n,a;for(t=0,r=e.length;t<r;t++){var o=e.at(t);if(o.items)if(o.hasSubgroups)i=i.concat(Fe(o.items));else{n=o.items;for(a=0;a<n.length;a++)i.push(n.at(a))}}return i}function Ve(e,t){var i,r,n;if(t)for(i=0,r=e.length;i<r;i++){n=e.at(i);if(n.items)if(n.hasSubgroups)Ve(n.items,t);else n.items=new K(n.items,t,n.items._events)}}function Ne(e,t){for(var i=0;i<e.length;i++)if(e[i].hasSubgroups){if(Ne(e[i].items,t))return true}else if(t(e[i].items,e[i]))return true}function He(e,t,i,r){for(var n=0;n<e.length;n++){if(e[n].data===t)break;if(Ue(e[n].data,i,r))break}}function Ue(e,t,i){for(var r=0,n=e.length;r<n;r++)if(e[r]&&e[r].hasSubgroups)return Ue(e[r].items,t,i);else if(e[r]===t||e[r]===i){e[r]=i;return true}}function je(e,t,i,r,n){for(var a=0,o=e.length;a<o;a++){var s=e[a];if(!s||s instanceof r)continue;if(s.hasSubgroups!==T&&!n)je(s.items,t,i,r,n);else for(var l=0;l<t.length;l++)if(t[l]===s){e[a]=t.at(l);He(i,t,s,e[a]);break}}}function Ge(e,t){if(!e)return;var i=e.length;var r;var n;for(n=0;n<i;n++){r=e[n];if(r.uid&&r.uid==t.uid){e.splice(n,1);return r}}}function We(e,t){if(t)return Ye(e,function(e){return e.uid&&e.uid==t.uid||e[t.idField]===t.id&&t.id!==t._defaultId});return-1}function qe(e,t){if(t)return Ye(e,function(e){return e.uid==t.uid});return-1}function Ye(e,t){var i,r;if(!e)return;for(i=0,r=e.length;i<r;i++)if(t(e[i]))return i;return-1}function $e(e,t){if(e&&!k(e)){var i=e[t];var r;if(x(i))r=i.from||i.field||t;else r=e[t]||t;if(d(r))return t;return r}return t}function Xe(e,t){var i,r,n={};for(var a in e)if(a!=="filters")n[a]=e[a];if(e.filters){n.filters=[];for(i=0,r=e.filters.length;i<r;i++)n.filters[i]=Xe(e.filters[i],t)}else n.field=$e(t.fields,n.field);return n}function Ke(e,t){var i,r,n=[],a,o;for(i=0,r=e.length;i<r;i++){a={};o=e[i];for(var s in o)a[s]=o[s];a.field=$e(t.fields,a.field);if(a.aggregates&&h(a.aggregates))a.aggregates=Ke(a.aggregates,t);n.push(a)}return n}var Qe=o.extend({init:function(e){var t=this,i,r;if(e)r=e.data;e=t.options=v({},t.options,e);t._map={};t._prefetch={};t._data=[];t._pristineData=[];t._ranges=[];t._view=[];t._pristineTotal=0;t._destroyed=[];t._pageSize=e.pageSize;t._page=e.page||(e.pageSize?1:T);t._sort=se(e.sort);t._sortFields=le(e.sort);t._filter=ue(e.filter);t._group=me(e.group);t._aggregate=e.aggregate;t._total=e.total;t._groupPaging=e.groupPaging;if(t._groupPaging)t._groupsState={};t._shouldDetachObservableParents=true;o.fn.init.call(t);t.transport=Ze.create(e,r,t);if(d(t.transport.push))t.transport.push({pushCreate:b(t._pushCreate,t),pushUpdate:b(t._pushUpdate,t),pushDestroy:b(t._pushDestroy,t)});if(e.offlineStorage!=null)if(typeof e.offlineStorage=="string"){var n=e.offlineStorage;t._storage={getItem:function(){return JSON.parse(localStorage.getItem(n))},setItem:function(e){localStorage.setItem(n,R(t.reader.serialize(e)))}}}else t._storage=e.offlineStorage;t.reader=new _.data.readers[e.schema.type||"json"](e.schema);i=t.reader.model||{};t._detachObservableParents();t._data=t._observe(t._data);t._online=true;t.bind(["push",E,p,P,M,B,I],e)},options:{data:null,schema:{modelBase:re},offlineStorage:null,serverSorting:false,serverPaging:false,serverFiltering:false,serverGrouping:false,serverAggregates:false,batch:false,inPlaceSort:false},clone:function(){return this},online:function(e){if(e!==T){if(this._online!=e){this._online=e;if(e)return this.sync()}return m.Deferred().resolve().promise()}else return this._online},offlineData:function(e){if(this.options.offlineStorage==null)return null;if(e!==T)return this._storage.setItem(e);return this._storage.getItem()||[]},_isServerGrouped:function(){var e=this.group()||[];return this.options.serverGrouping&&e.length},_isServerGroupPaged:function(){return this._isServerGrouped()&&this._groupPaging},_isGroupPaged:function(){var e=this._group||[];return this._groupPaging&&e.length},_pushCreate:function(e){this._push(e,"pushCreate")},_pushUpdate:function(e){this._push(e,"pushUpdate")},_pushDestroy:function(e){this._push(e,"pushDestroy")},_push:function(e,t){var i=this._readData(e);if(!i)i=e;this[t](i)},_flatData:function(e,t){if(e){if(this._isServerGrouped())return Fe(e);if(!t)for(var i=0;i<e.length;i++)e.at(i)}return e},parent:A,get:function(e){var t,i,r=this._flatData(this._data,this.options.useRanges);for(t=0,i=r.length;t<i;t++)if(r[t].id==e)return r[t]},getByUid:function(e){return this._getByUid(e,this._data)},_getByUid:function(e,t){var i,r,n=this._flatData(t,this.options.useRanges);if(!n)return;for(i=0,r=n.length;i<r;i++)if(n[i].uid==e)return n[i]},indexOf:function(e){return qe(this._data,e)},at:function(e){return this._data.at(e)},data:function(e){var t=this;if(e!==T){t._detachObservableParents();t._data=this._observe(e);t._pristineData=e.slice(0);t._storeData();t._ranges=[];t.trigger("reset");t._addRange(t._data);t._total=t._data.length;t._pristineTotal=t._total;t._process(t._data)}else{if(t._data)for(var i=0;i<t._data.length;i++)t._data.at(i);return t._data}},view:function(e){if(e===T)return this._view;else this._view=this._observeView(e)},_observeView:function(e){var t=this;je(e,t._data,t._ranges,t.reader.model||c,t._isServerGrouped());var i=new K(e,t.reader.model);i.parent=function(){return t.parent()};return i},flatView:function(){var e=this.group()||[];if(e.length)return Fe(this._view);else return this._view},add:function(e){return this.insert(this._data.length,e)},_createNewModel:function(e){if(this.reader.model)return new this.reader.model(e);if(e instanceof c)return e;return new c(e)},insert:function(e,t){if(!t){t=e;e=0}if(!(t instanceof re))t=this._createNewModel(t);if(this._isServerGrouped())this._data.splice(e,0,this._wrapInEmptyGroup(t));else this._data.splice(e,0,t);this._insertModelInRange(e,t);return t},pushInsert:function(e,t){var i=this;var r=i._getCurrentRangeSpan();if(!t){t=e;e=0}if(!h(t))t=[t];var n=[];var a=this.options.autoSync;this.options.autoSync=false;try{for(var o=0;o<t.length;o++){var s=t[o];var l=this.insert(e,s);n.push(l);var c=l.toJSON();if(this._isServerGrouped())c=this._wrapInEmptyGroup(c);this._pristineData.push(c);if(r&&r.length)m(r).last()[0].pristineData.push(c);e++}}finally{this.options.autoSync=a}if(n.length)this.trigger("push",{type:"create",items:n})},pushCreate:function(e){this.pushInsert(this._data.length,e)},pushUpdate:function(e){if(!h(e))e=[e];var t=[];for(var i=0;i<e.length;i++){var r=e[i];var n=this._createNewModel(r);var a=this.get(n.id);if(a){t.push(a);a.accept(r);a.trigger(p);this._updatePristineForModel(a,r)}else this.pushCreate(r)}if(t.length)this.trigger("push",{type:"update",items:t})},pushDestroy:function(e){var t=this._removeItems(e);if(t.length)this.trigger("push",{type:"destroy",items:t})},_removeItems:function(e,t){if(!h(e))e=[e];var i=typeof t!=="undefined"?t:true;var r=[];var n=this.options.autoSync;this.options.autoSync=false;try{for(var a=0;a<e.length;a++){var o=e[a];var s=this._createNewModel(o);var l=false;this._eachItem(this._data,function(e){for(var t=0;t<e.length;t++){var i=e.at(t);if(i.id===s.id){r.push(i);e.splice(t,1);l=true;break}}});if(l&&i){this._removePristineForModel(s);this._destroyed.pop()}}}finally{this.options.autoSync=n}return r},pushMove:function(e,t){var i=this._moveItems(e,t);if(i.length)this.trigger("push",{type:"update",items:i})},_moveItems:function(r,e){if(!h(e))e=[e];var n=[];var t=this.options.autoSync;this.options.autoSync=false;try{for(var i=0;i<e.length;i++){var a=e[i];var o=this._createNewModel(a);this._eachItem(this._data,function(e){for(var t=0;t<e.length;t++){var i=e.at(t);if(i.id===o.id){n.push(i);e.splice(r>=t?--r:r,0,e.splice(t,1)[0]);r++;break}}})}}finally{this.options.autoSync=t}return n},remove:function(t){var i,e=this,r=e._isServerGrouped();if(r&&t.uid&&(!t.isNew||!t.isNew()))e._destroyed.push(t);this._eachItem(e._data,function(e){i=Ge(e,t);if(i&&r)return true});this._removeModelFromRanges(t);return t},destroyed:function(){return this._destroyed},created:function(){var e,t,i=[],r=this._flatData(this._data,this.options.useRanges);for(e=0,t=r.length;e<t;e++)if(r[e].isNew&&r[e].isNew())i.push(r[e]);return i},updated:function(){var e,t,i=[],r=this._flatData(this._data,this.options.useRanges);for(e=0,t=r.length;e<t;e++)if(r[e].isNew&&!r[e].isNew()&&r[e].dirty)i.push(r[e]);return i},sync:function(){var i=this,e=[],t=[],r=i._destroyed;var n=m.Deferred().resolve().promise();if(i.online()){if(!i.reader.model)return n;e=i.created();t=i.updated();var a=[];if(i.options.batch&&i.transport.submit)a=i._sendSubmit(e,t,r);else{a.push.apply(a,i._send("create",e));a.push.apply(a,i._send("update",t));a.push.apply(a,i._send("destroy",r))}n=m.when.apply(null,a).then(function(){var e,t;for(e=0,t=arguments.length;e<t;e++)if(arguments[e])i._accept(arguments[e]);i._storeData(true);i._syncEnd();i._change({action:"sync"});i.trigger(M);if(i._isServerGroupPaged())i.read()})}else{i._storeData(true);i._syncEnd();i._change({action:"sync"})}return n},_syncEnd:A,cancelChanges:function(e){var t=this;if(e instanceof _.data.Model)t._cancelModel(e);else{t._destroyed=[];t._detachObservableParents();t._data=t._observe(t._pristineData);if(t.options.serverPaging)t._total=t._pristineTotal;t._ranges=[];t._addRange(t._data,0);t._changesCanceled();t._change();t._markOfflineUpdatesAsDirty();if(t._isServerGrouped())t.read()}},_changesCanceled:A,_markOfflineUpdatesAsDirty:function(){var e=this;if(e.options.offlineStorage!=null)e._eachItem(e._data,function(e){for(var t=0;t<e.length;t++){var i=e.at(t);if(i.__state__=="update"||i.__state__=="create")i.dirty=true}})},hasChanges:function(){var e,t,i=this._flatData(this._data,this.options.useRanges);if(this._destroyed.length)return true;for(e=0,t=i.length;e<t;e++)if(i[e].isNew&&i[e].isNew()||i[e].dirty)return true;return false},_accept:function(e){var t=this,i=e.models,r=e.response,n=0,a=t._isServerGrouped(),o=t._pristineData,s=e.type,l;t.trigger(B,{response:r,type:s});if(r&&!k(r)){r=t.reader.parse(r);if(t._handleCustomErrors(r))return;r=t.reader.data(r);if(!h(r))r=[r]}else r=m.map(i,function(e){return e.toJSON()});if(s==="destroy")t._destroyed=[];for(n=0,l=i.length;n<l;n++)if(s!=="destroy"){i[n].accept(r[n]);if(s==="create")o.push(a?t._wrapInEmptyGroup(i[n].toJSON()):r[n]);else if(s==="update")t._updatePristineForModel(i[n],r[n])}else t._removePristineForModel(i[n])},_updatePristineForModel:function(e,i){this._executeOnPristineForModel(e,function(e,t){_.deepExtend(t[e],i)})},_executeOnPristineForModel:function(i,r){this._eachPristineItem(function(e){var t=We(e,i);if(t>-1){r(t,e);return true}})},_removePristineForModel:function(e){this._executeOnPristineForModel(e,function(e,t){t.splice(e,1)})},_readData:function(e){var t=!this._isServerGrouped()?this.reader.data:this.reader.groups;return t.call(this.reader,e)},_eachPristineItem:function(i){var r=this;var e=r.options;var t=r._getCurrentRangeSpan();r._eachItem(r._pristineData,i);if(e.serverPaging&&e.useRanges)S(t,function(e,t){r._eachItem(t.pristineData,i)})},_eachItem:function(e,t){if(e&&e.length)if(this._isServerGrouped())Ne(e,t);else t(e)},_pristineForModel:function(t){var i,r,e=function(e){r=We(e,t);if(r>-1){i=e[r];return true}};this._eachPristineItem(e);return i},_cancelModel:function(i){var r=this;var n=this._pristineForModel(i);this._eachItem(this._data,function(e){var t=qe(e,i);if(t>=0)if(n&&(!i.isNew()||n.__state__)){e[t].accept(n);if(n.__state__=="update")e[t].dirty=true}else{r._modelCanceled(i);e.splice(t,1);r._removeModelFromRanges(i)}})},_modelCanceled:A,_submit:function(n,e){var a=this;a.trigger(P,{type:"submit"});a.trigger(I);a.transport.submit(v({success:function(e,t){var i=m.grep(n,function(e){return e.type==t})[0];if(i)i.resolve({response:e,models:i.models,type:t})},error:function(e,t,i){for(var r=0;r<n.length;r++)n[r].reject(e);a.error(e,t,i)}},e))},_sendSubmit:function(t,i,r){var e=this,n=[];if(e.options.batch){if(t.length)n.push(m.Deferred(function(e){e.type="create";e.models=t}));if(i.length)n.push(m.Deferred(function(e){e.type="update";e.models=i}));if(r.length)n.push(m.Deferred(function(e){e.type="destroy";e.models=r}));e._submit(n,{data:{created:e.reader.serialize(Se(t)),updated:e.reader.serialize(Se(i)),destroyed:e.reader.serialize(Se(r))}})}return n},_promise:function(e,t,i){var n=this;return m.Deferred(function(r){n.trigger(P,{type:i});n.trigger(I);n.transport[i].call(n.transport,v({success:function(e){r.resolve({response:e,models:t,type:i})},error:function(e,t,i){r.reject(e);n.error(e,t,i)}},e))}).promise()},_send:function(e,t){var i=this,r,n,a=[],o=i.reader.serialize(Se(t));if(i.options.batch){if(t.length)a.push(i._promise({data:{models:o}},t,e))}else for(r=0,n=t.length;r<n;r++)a.push(i._promise({data:o[r]},[t[r]],e));return a},read:function(e){var t=this,i=t._params(e);var r=m.Deferred();t._queueRequest(i,function(){var e=t.trigger(P,{type:"read"});if(!e){t.trigger(I);t._ranges=[];t.trigger("reset");if(t.online())t.transport.read({data:i,success:function(e){t._ranges=[];t.success(e,i);r.resolve()},error:function(){var e=j.call(arguments);t.error.apply(t,e);r.reject.apply(r,e)}});else if(t.options.offlineStorage!=null){t.success(t.offlineData(),i);r.resolve()}}else{t._dequeueRequest();r.resolve(e)}});return r.promise()},_readAggregates:function(e){return this.reader.aggregates(e)},success:function(e){var t=this,h=t.options,i,r;t.trigger(B,{response:e,type:"read"});if(t.online()){e=t.reader.parse(e);if(t._handleCustomErrors(e)){t._dequeueRequest();return}t._total=t.reader.total(e);if(t._isServerGroupPaged())t._serverGroupsTotal=t._total;if(t._pageSize>t._total){t._pageSize=t._total;if(t.options.pageSize&&t.options.pageSize>t._pageSize)t._pageSize=t.options.pageSize}if(t._aggregate&&h.serverAggregates)t._aggregateResult=t._readAggregates(e);e=t._readData(e);t._destroyed=[]}else{e=t._readData(e);i=[];var n={};var a=t.reader.model;var u=a?a.idField:"id";var o;for(o=0;o<this._destroyed.length;o++){var f=this._destroyed[o][u];n[f]=f}for(o=0;o<e.length;o++){var s=e[o];var d=s.__state__;if(d=="destroy"){if(!n[s[u]])this._destroyed.push(this._createNewModel(s))}else i.push(s)}e=i;t._total=e.length}t._pristineTotal=t._total;r=t._skip&&t._data.length&&t._skip<t._data.length;if(t.options.endless){if(r)t._pristineData.splice(t._skip,t._pristineData.length);i=e.slice(0);for(var l=0;l<i.length;l++)t._pristineData.push(i[l])}else t._pristineData=e.slice(0);t._detachObservableParents();if(t.options.endless){t._data.unbind(p,t._changeHandler);if(t._isServerGrouped()&&t._data[t._data.length-1].value===e[0].value){Oe(t._data[t._data.length-1],e[0]);e.shift()}e=t._observe(e);if(r)t._data.splice(t._skip,t._data.length);for(var c=0;c<e.length;c++)t._data.push(e[c]);t._data.bind(p,t._changeHandler)}else t._data=t._observe(e);t._markOfflineUpdatesAsDirty();t._storeData();t._addRange(t._data);t._process(t._data);t._dequeueRequest()},_detachObservableParents:function(){if(this._data&&this._shouldDetachObservableParents)for(var e=0;e<this._data.length;e++)if(this._data[e].parent)this._data[e].parent=A},_storeData:function(e){var a=this._isServerGrouped();var o=this.reader.model;function s(e){var t=[];for(var i=0;i<e.length;i++){var r=e.at(i);var n=r.toJSON();if(a&&r.items)n.items=s(r.items);else{n.uid=r.uid;if(o)if(r.isNew())n.__state__="create";else if(r.dirty)n.__state__="update"}t.push(n)}return t}if(this.options.offlineStorage!=null){var t=s(this._data);var i=[];for(var r=0;r<this._destroyed.length;r++){var n=this._destroyed[r].toJSON();n.__state__="destroy";i.push(n)}this.offlineData(t.concat(i));if(e)this._pristineData=this.reader.reader?this.reader.reader._wrapDataAccessBase(t):this.reader._wrapDataAccessBase(t)}},_addRange:function(e,t){var i=this,r=typeof t!=="undefined"?t:i._skip||0,n,a={data:e,pristineData:e.toJSON(),timestamp:i._timeStamp()};if(this._isGroupPaged()){n=r+e.length;a.outerStart=r;a.outerEnd=n}else n=r+i._flatData(e,true).length;a.start=r;a.end=n;i._ranges.push(a);i._sortRanges();if(i._isGroupPaged()){if(!i._groupsFlat)i._groupsFlat=[];i._appendToGroupsFlat(a.data);i._updateOuterRangesLength()}},_appendToGroupsFlat:function(e){var t=e.length;for(var i=0;i<t;i++)this._groupsFlat.push(e[i])},_getGroupByUid:function(e){var t=this._groupsFlat.length;var i;for(var r=0;r<t;r++){i=this._groupsFlat[r];if(i.uid===e)return i}},_sortRanges:function(){this._ranges.sort(function(e,t){return e.start-t.start})},error:function(e,t,i){this._dequeueRequest();this.trigger(B,{});this.trigger(E,{xhr:e,status:t,errorThrown:i})},_params:function(e){var t=this,i=v({take:t.take(),skip:t.skip(),page:t.page(),pageSize:t.pageSize(),sort:t._sort,filter:t._filter,group:t._group,aggregate:t._aggregate,groupPaging:!!t._groupPaging},e);if(!t.options.serverPaging){delete i.take;delete i.skip;delete i.page;delete i.pageSize}if(!t.options.serverGrouping)delete i.group;else if(t.reader.model&&i.group)i.group=Ke(i.group,t.reader.model);if(!t.options.serverFiltering)delete i.filter;else if(t.reader.model&&i.filter)i.filter=Xe(i.filter,t.reader.model);if(!t.options.serverSorting)delete i.sort;else if(t.reader.model&&i.sort)i.sort=Ke(i.sort,t.reader.model);if(!t.options.serverAggregates)delete i.aggregate;else if(t.reader.model&&i.aggregate)i.aggregate=Ke(i.aggregate,t.reader.model);if(!t.options.groupPaging)delete i.groupPaging;return i},_queueRequest:function(e,t){var i=this;if(!i._requestInProgress){i._requestInProgress=true;i._pending=T;t()}else i._pending={callback:b(t,i),options:e}},_dequeueRequest:function(){var e=this;e._requestInProgress=false;if(e._pending)e._queueRequest(e._pending.options,e._pending.callback)},_handleCustomErrors:function(e){if(this.reader.errors){var t=this.reader.errors(e);if(t){this.trigger(E,{xhr:null,status:"customerror",errorThrown:"custom error",errors:t});return true}}return false},_shouldWrap:function(e){var t=this.reader.model;if(t&&e.length)return!(e[0]instanceof t);return false},_observe:function(e){var t=this,i=t.reader.model;t._shouldDetachObservableParents=true;if(e instanceof X){t._shouldDetachObservableParents=false;if(t._shouldWrap(e)){e.type=t.reader.model;e.wrapAll(e,e)}}else{var r=t.pageSize()&&!t.options.serverPaging?K:X;e=new r(e,t.reader.model);e.parent=function(){return t.parent()}}if(t._isServerGrouped())Ve(e,i);if(t._changeHandler&&t._data&&t._data instanceof X&&!(t.options.useRanges&&t.options.serverPaging))t._data.unbind(p,t._changeHandler);else t._changeHandler=b(t._change,t);return e.bind(p,t._changeHandler)},_updateTotalForAction:function(e,t){var i=this;var r=parseInt(i._total,10);if(!ke(i._total))r=parseInt(i._pristineTotal,10);if(e==="add")r+=t.length;else if(e==="remove")r-=t.length;else if(e!=="itemchange"&&e!=="sync"&&!i.options.serverPaging)r=i._pristineTotal;else if(e==="sync")r=i._pristineTotal=parseInt(i._total,10);i._total=r},_change:function(t){var i=this,e,r,n=t?t.action:"";if(n==="remove")for(e=0,r=t.items.length;e<r;e++)if(!t.items[e].isNew||!t.items[e].isNew())i._destroyed.push(t.items[e]);if(i.options.autoSync&&(n==="add"||n==="remove"||n==="itemchange")){var a=function(e){if(e.action==="sync"){i.unbind("change",a);i._updateTotalForAction(n,t.items)}};i.first("change",a);i.sync()}else{i._updateTotalForAction(n,t?t.items:[]);i._process(i._data,t)}},_calculateAggregates:function(e,t){t=t||{};var i=new w(e),r=t.aggregate,n=t.filter;if(n)i=i.filter(n);return i.aggregate(r)},_process:function(e,t){var i=this,r={},n;if(i.options.serverPaging!==true){r.skip=i._skip;r.take=i._take||i._pageSize;if(r.skip===T&&i._page!==T&&i._pageSize!==T)r.skip=(i._page-1)*i._pageSize;if(i.options.useRanges)r.skip=i.currentRangeStart()}if(i.options.serverSorting!==true)r.sort=i._sort;if(i.options.serverFiltering!==true)r.filter=i._filter;if(i.options.serverGrouping!==true)r.group=i._group;if(i.options.serverAggregates!==true)r.aggregate=i._aggregate;if(i.options.serverGrouping)i._clearEmptyGroups(e);r.groupPaging=i._groupPaging;if(i._isGroupPaged()&&t&&(t.action==="page"||t.action==="expandGroup"||t.action==="collapseGroup"))n=i._queryProcess(e,{aggregate:i._aggregate});else n=i._queryProcess(e,r);if(i.options.serverAggregates!==true)i._aggregateResult=i._calculateAggregates(n.dataToAggregate||e,r);i._setView(n,r,t);i._setFilterTotal(n.total,false);t=t||{};t.items=t.items||i._view;i.trigger(p,t)},_setView:function(e,t,i){var r=this;if(r._isGroupPaged()&&!r._isServerGrouped())if(i&&(i.action==="page"||i.action==="expandGroup"||i.action==="collapseGroup")){r.view(e.data);r._updateOuterRangesLength()}else{r._ranges=[];var n=new w(e.data);r._addRange(r._observe(e.data));if(t.skip+t.take>e.data.length)t.skip=e.data.length-t.take;r.view(n.range(t.skip,t.take).toArray())}else r.view(e.data)},_clearEmptyGroups:function(e){for(var t=e.length-1;t>=0;t--){var i=e[t];if(i.hasSubgroups)this._clearEmptyGroups(i.items);else if(i.items&&!i.items.length)H.apply(i.parent(),[t,1])}},_queryProcess:function(e,t){if(this.options.inPlaceSort)return w.process(e,t,this.options.inPlaceSort);else return w.process(e,t)},_mergeState:function(e){var t=this;if(e!==T){t._pageSize=e.pageSize;t._page=e.page;t._sort=e.sort;t._filter=e.filter;t._group=e.group;t._aggregate=e.aggregate;t._skip=t._currentRangeStart=e.skip;t._take=e.take;if(t._skip===T){t._skip=t._currentRangeStart=t.skip();e.skip=t.skip()}if(t._take===T&&t._pageSize!==T){t._take=t._pageSize;e.take=t._take}if(e.sort){t._sort=e.sort=se(e.sort);t._sortFields=le(e.sort)}if(e.filter)t._filter=e.filter=t.options.accentFoldingFiltering&&!m.isEmptyObject(e.filter)?m.extend({},ue(e.filter),{accentFoldingFiltering:t.options.accentFoldingFiltering}):ue(e.filter);if(e.group)t._group=e.group=me(e.group);if(e.aggregate)t._aggregate=e.aggregate=ge(e.aggregate)}return e},query:function(e){var t;var i=this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates;if(i||(this._data===T||this._data.length===0)&&!this._destroyed.length){if(this.options.endless){var r=e.pageSize-this.pageSize();if(r>0){r=this.pageSize();e.page=e.pageSize/r;e.pageSize=r}else{e.page=1;this.options.endless=false}}return this.read(this._mergeState(e))}var n=this.trigger(P,{type:"read"});if(!n){this.trigger(I);if(e)e.groupPaging=this._groupPaging;t=this._queryProcess(this._data,this._mergeState(e));this._setFilterTotal(t.total,true);this._aggregateResult=this._calculateAggregates(t.dataToAggregate||this._data,e);this._setView(t,e);this.trigger(B,{type:"read"});this.trigger(p,{items:t.data,action:e?e.action:""})}return m.Deferred().resolve(n).promise()},_hasExpandedSubGroups:function(e){var t=false;var i=e.items?e.items.length:0;if(!e.hasSubgroups)return false;for(var r=0;r<i;r++)if(this._groupsState[e.items[r].uid]){t=true;break}return t},_findGroupedRange:function(e,t,i,r,h){var n=this;var u=e.length;var a;var o;var f;var s;var d;for(var l=0;l<u;l++){a=e[l];if(i.taken>=i.take)break;if(!n._getGroupByUid(a.uid))n._groupsFlat.push(a);if(n._groupsState[a.uid]){if(n._isServerGroupPaged()){if(n._fetchGroupItems(a,i,r,h)){n._fetchingGroupItems=true;return}s=(a.subgroupCount||a.itemCount)+1;d=i.skip-i.skipped;if(!n._hasExpandedSubGroups(a)&&d>s){i.skipped+=s;continue}}if(i.includeParents&&i.skipped<i.skip){i.skipped++;a.excludeHeader=true}else if(i.includeParents){i.taken++;a.excludeHeader=false}if(a.hasSubgroups&&a.items&&a.items.length){a.currentItems=[];if(!r)r=[];r.push(a);n._findGroupedRange(a.items,a.currentItems,i,r,h);r.pop();if(a.currentItems.length||i.taken>0)t.push(a);else a.excludeHeader=false}else{o=[];f=a.items.length;for(var c=0;c<f;c++){if(i.skipped<i.skip){i.skipped++;continue}if(i.taken>=i.take)break;o.push(a.items[c]);i.taken++}if(o.length||i.taken>0){a.currentItems=o;t.push(a)}else a.excludeHeader=false}}else{if(i.skipped<i.skip){i.skipped++;continue}t.push(a);i.taken++}}},_expandedSubGroupItemsCount:function(e,t,i){var r=this;var n=0;var a;var o=typeof t==="number";var s=o?t:e.subgroupCount;var l;if(!e.hasSubgroups)return n;for(var c=0;c<s;c++){a=e.items[c];if(!a)break;if(a.hasSubgroups&&r._groupsState[e.uid]){l=r._expandedSubGroupItemsCount(a,s,true);n+=l;if(o)s-=l}else if(!a.hasSubgroups&&r._groupsState[a.uid]){l=a.items?a.items.length:0;n+=l;if(o)s-=l}if(i){n+=1;if(o)s-=1}if(o&&n>s)return n}return n},_fetchGroupItems:function(e,t,i,r){var n=this;var a;var o;var s;var h=e.hasSubgroups?e.subgroupCount:e.itemCount;var u=t.take;var l=t.skipped;var c=n.take();var f;if(t.includeParents)if(l<t.skip)l+=1;else u-=1;if(!e.items||e.items&&!e.items.length){n.getGroupItems(e,t,i,r,0);return true}else{f=this._expandedSubGroupItemsCount(e,t.skip-l);a=Math.max(t.skip-(l+f),0);if(a>=h)return false;o=e.items[a];s=e.items[Math.min(a+u,h-1)];if(o.notFetched){n.getGroupItems(e,t,i,r,y.max(y.floor(a/c),0)*c,y.round((a+c)/c));return true}if(s.notFetched){n.getGroupItems(e,t,i,r,y.max(y.floor((a+c)/c),0)*c,y.round((a+c)/c));return true}}},getGroupItems:function(e,t,i,r,n,h){var a=this;var o;var s;var l;var c;if(!e.items)e.items=[];o=a.take();s=this._composeItemsFilter(e,i);l={page:h||1,pageSize:o,skip:n,take:o,filter:s,aggregate:a._aggregate,sort:a._sort};c=a.findSubgroups(e);if(c&&c.length){l.group=c;l.groupPaging=true}clearTimeout(a._timeout);a._timeout=setTimeout(function(){a._queueRequest(l,function(){if(!a.trigger(P,{type:"read"}))a.transport.read({data:l,success:a._groupItemsSuccessHandler(e,t.skip,a.take(),r,n),error:function(){var e=j.call(arguments);a.error.apply(a,e)}});else a._dequeueRequest()})},100)},_groupItemsSuccessHandler:function(a,o,s,l,c){var h=this;var u=h._timeStamp();l=d(l)?l:A;var f=h.options.schema&&h.options.schema.total?h.options.schema.total:"Total";return function(e){var t;var i=re.define(h.options.schema.model);var r;h._dequeueRequest();h.trigger(B,{response:e,type:"read"});if(d(f))r=f(e);else r=e[f];e=h.reader.parse(e);if(a.hasSubgroups){t=h.reader.groups(e);a.subgroupCount=r}else{t=h.reader.data(e);t=t.map(function(e){return new i(e)})}a.items.omitChangeEvent=true;for(var n=0;n<r;n++)if(n>=c&&n<c+s)a.items.splice(n,1,t[n-c]);else if(!a.items[n])a.items.splice(n,0,{notFetched:true});a.items.omitChangeEvent=false;h._updateRangePristineData(a);h._fetchingGroupItems=false;if(!a.countAdded){h._serverGroupsTotal+=r;a.countAdded=true}h.range(o,s,l,"expandGroup");if(u>=h._currentRequestTimeStamp||!h._skipRequestsInProgress)h.trigger(p,{})}},findSubgroups:function(e){var t=this._group.map(function(e){return e.field}).indexOf(e.field);return this._group.slice(t+1,this._group.length)},_composeItemsFilter:function(e,t){var i=this.filter()||{logic:"and",filters:[]};i=v(true,{},i);i.filters.push({field:e.field,operator:"eq",value:e.value});if(t)for(var r=0;r<t.length;r++)i.filters.push({field:t[r].field,operator:"eq",value:t[r].value});return i},_updateRangePristineData:function(e){var t=this;var i=t._ranges;var h=i.length;var r;var n;var a;var o;var s;var u;for(var l=0;l<h;l++){a=i[l];o=a.data.length;s=[];r=null;for(var c=0;c<o;c++){n=a.data[c];s.push(c);if(n.uid===e.uid||n.hasSubgroups&&n.items.length&&t._containsSubGroup(n,e,s))break;s.pop()}if(s.length){r=i[l].pristineData;while(s.length>1){u=s.splice(0,1)[0];r=r[u].items}r[s[0]]=t._cloneGroup(e);break}}},_containsSubGroup:function(e,t,i){var r=this;var n=e.items.length;var a;if(e.hasSubgroups&&n)for(var o=0;o<n;o++){a=e.items[o];i.push(o);if(a.uid===t.uid)return true;else if(a.hasSubgroups&&a.items.length)return r._containsSubGroup(a,t,i);i.pop()}},_cloneGroup:function(e){var t=this;e=typeof e.toJSON=="function"?e.toJSON():e;if(e.items&&e.items.length)e.items=e.items.map(function(e){return t._cloneGroup(e)});return e},_setFilterTotal:function(e,t){var i=this;if(!i.options.serverFiltering)if(e!==T)i._total=e;else if(t)i._total=i._data.length},fetch:function(t){var i=this;var e=function(e){if(e!==true&&d(t))t.call(i)};return this._query().done(e)},_query:function(e){var t=this;return t.query(v({},{page:t.page(),pageSize:t.pageSize(),sort:t.sort(),filter:t.filter(),group:t.group(),aggregate:t.aggregate()},e))},next:function(e){var t=this,i=t.page(),r=t.total();e=e||{};if(!i||r&&i+1>t.totalPages())return;t._skip=t._currentRangeStart=i*t.take();i+=1;e.page=i;t._query(e);return i},prev:function(e){var t=this,i=t.page();e=e||{};if(!i||i===1)return;t._skip=t._currentRangeStart=t._skip-t.take();i-=1;e.page=i;t._query(e);return i},page:function(e){var t=this,i;if(e!==T){e=y.max(y.min(y.max(e,1),t.totalPages()),1);var r=t.take();if(t._isGroupPaged()){e-=1;t.range(e*r,r,null,"page");return}t._query(t._pageableQueryOptions({page:e}));return}i=t.skip();return i!==T?y.round((i||0)/(t.take()||1))+1:T},pageSize:function(e){var t=this;if(e!==T){t._query(t._pageableQueryOptions({pageSize:e,page:1}));return}return t.take()},sort:function(e){var t=this;if(e!==T){t.trigger("sort");t._query({sort:e});return}return t._sort},filter:function(e){var t=this;if(e===T)return t._filter;t.trigger("reset");t._query({filter:e,page:1})},group:function(e){var t=this;var i={group:e};if(t._groupPaging){if(e!==T&&(!e||!e.length))t._ranges=[];i.page=1}if(e!==T){t._query(i);return}return t._group},getGroupsFlat:function(e){var t,i=[],r;for(t=0,r=e.length;t<r;t++){var n=e[t];if(n.hasSubgroups)i=i.concat(this.getGroupsFlat(n.items));i.push(n)}return i},total:function(){return parseInt(this._total||0,10)},groupsTotal:function(e){var t=this;if(!t._group.length)return t.total();if(t._isServerGrouped()){if(t._serverGroupsTotal)return t._serverGroupsTotal;t._serverGroupsTotal=t.total();return t._serverGroupsTotal}return t._calculateGroupsTotal(t._ranges.length?t._ranges[0].data:[],e)},_calculateGroupsTotal:function(e,t,i,r){var n=this;i=i||"items";var a;var o;if(n._group.length&&e){a=0;o=e.length;for(var s=0;s<o;s++)a+=n.groupCount(e[s],t,i,r);n._groupsTotal=a;return a}n._groupsTotal=n._data.length;return n._groupsTotal},groupCount:function(e,t,i,r){var n=this;var a=0;if(e.hasSubgroups&&n._groupsState[e.uid]){if(t&&!e.excludeHeader||r)a+=1;e[i].forEach(function(e){a+=n.groupCount(e,t,i,r)})}else if(n._groupsState[e.uid]){if(t&&!e.excludeHeader||r)a++;a+=e[i]?e[i].length:0}else a++;return a},countGroupRange:function(e){var t=0;var i=e.length;for(var r=0;r<i;r++)t+=this.groupCount(e[r],true);return t},aggregate:function(e){var t=this;if(e!==T){t._query({aggregate:e});return}return t._aggregate},aggregates:function(){var e=this._aggregateResult;if(k(e))e=this._emptyAggregates(this.aggregate());return e},_emptyAggregates:function(e){var t={};if(!k(e)){var i={};if(!h(e))e=[e];for(var r=0;r<e.length;r++){i[e[r].aggregate]=0;t[e[r].field]=i}}return t},_pageableQueryOptions:function(e){return e},_wrapInEmptyGroup:function(e){var t=this.group(),i,r,n,a;for(n=t.length-1,a=0;n>=a;n--){r=t[n];i={value:e.get?e.get(r.field):e[r.field],field:r.field,items:i?[i]:[e],hasSubgroups:!!i,aggregates:this._emptyAggregates(r.aggregates)}}return i},totalPages:function(){var e=this,t=e.pageSize()||e.total(),i=e._isGroupPaged()?e.groupsTotal(true):e.total();return y.ceil((i||0)/t)},inRange:function(e,t){var i=this,r=y.min(e+t,i.total());if(!i.options.serverPaging&&i._data.length>0)return true;return i._findRange(e,r).length>0},lastRange:function(){var e=this._ranges;return e[e.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var e=this._ranges;return e.length&&e[0].data.length&&e[0].data[0].uid},enableRequestsInProgress:function(){this._skipRequestsInProgress=false},_timeStamp:function(){return(new Date).getTime()},range:function(e,t,i,r){this._currentRequestTimeStamp=this._timeStamp();this._skipRequestsInProgress=true;var n=this._isGroupPaged()?this.groupsTotal(true):this.total();if(r==="expandGroup"||r==="collapseGroup")this._updateOuterRangesLength();e=y.min(e||0,n);i=d(i)?i:A;var a=this,o=y.max(y.floor(e/t),0)*t,s=y.min(o+t,n),l;l=a._findRange(e,y.min(e+t,n),i);if((l.length||n===0)&&!a._fetchingGroupItems){a._processRangeData(l,e,t,a._originalPageSkip||o,a._originalSize||s,{action:r});a._originalPageSkip=null;a._originalSize=null;i();return}if(a._isGroupPaged()){a._originalPageSkip=o;a._originalSize=s;o=y.max(y.floor(a._adjustPageSkip(e,t)/t),0)*t;s=y.min(o+t,n)}if(t!==T&&!a._fetchingGroupItems)if(a._isGroupPaged()&&!a._groupRangeExists(o,t)||!a._rangeExists(o,s))a.prefetch(o,t,function(){if(e>o&&s<a.total()&&!a._rangeExists(s,y.min(s+t,a.total())))a.prefetch(s,t,function(){a.range(e,t,i)});else a.range(e,t,i)});else if(o<e)a.prefetch(s,t,function(){a.range(e,t,i)})},_findRange:function(e,t,h){var i=this,r=i._ranges,n,a=[],o,s,u,f,d,p,v,g=i.options,m=g.serverSorting||g.serverPaging||g.serverFiltering||g.serverGrouping||g.serverAggregates,_,y,w,l={take:t-e,skip:e,skipped:0,taken:0,includeParents:true},c,b=i._isGroupPaged(),x=b?"outerStart":"start",k=b?"outerEnd":"end",C;for(o=0,w=r.length;o<w;o++){n=r[o];if(b){if(n.outerStart>=t)return[];if(e>n.outerEnd){l.skipped+=n.outerEnd-(c||0);c=n.outerEnd;continue}if(typeof c!=="undefined"&&c!=n.outerStart)l.skipped+=n.outerStart-c;if(l.skipped>l.skip)return[];if(typeof c==="undefined"&&e>0&&n.start>0)l.skipped=n.outerStart;s=o;while(true){this._findGroupedRange(n.data,a,l,null,h);C=i._calculateGroupsTotal(a,true,"currentItems");if(C>=l.take)return a;if(i._fetchingGroupItems)return[];s++;if(r[s]&&r[s].outerStart===n.outerEnd)n=r[s];else break}}else if(e>=n[x]&&e<=n[k]){y=0;for(s=o;s<w;s++){n=r[s];_=i._flatData(n.data,true);if(_.length&&e+y>=n.start){d=n.data;p=n.end;if(!m){if(g.inPlaceSort)v=i._queryProcess(n.data,{filter:i.filter()});else{var S=_e(i.group()||[]).concat(se(i.sort()||[]));v=i._queryProcess(n.data,{sort:S,filter:i.filter()})}_=d=v.data;if(v.total!==T)p=v.total}u=0;if(e+y>n.start)u=e+y-n.start;f=_.length;if(p>t)f=f-(p-t);y+=f-u;a=i._mergeGroups(a,d,u,f);if(t<=n.end&&y==t-e)return a}}break}c=n.outerEnd}return[]},_getRangesMismatch:function(e){var t=this;var i=t._ranges;var r=0;var n=0;while(true){var a=i[n];if(!a||a.outerStart>e)break;if(a.outerEnd!=a.end)r=a.outerEnd-a.end;n++}return r},_mergeGroups:function(e,t,i,r){if(this._isServerGrouped()){var n=t.toJSON(),a;if(e.length)a=e[e.length-1];Le(a,n,i,r);return e.concat(n)}return e.concat(t.slice(i,r))},_processRangeData:function(e,t,i,r,n,a){var o=this;o._pending=T;o._skip=t>o.skip()&&!o._omitPrefetch?y.min(n,(o.totalPages()-1)*o.take()):r;o._currentRangeStart=t;o._take=i;var s=o.options.serverPaging;var l=o.options.serverSorting;var c=o.options.serverFiltering;var h=o.options.serverAggregates;try{o.options.serverPaging=true;if(!o._isServerGrouped()&&!(o.group()&&o.group().length))o.options.serverSorting=true;o.options.serverFiltering=true;o.options.serverPaging=true;o.options.serverAggregates=true;if(s){o._detachObservableParents();o._data=e=o._observe(e)}o._process(e,a)}finally{o.options.serverPaging=s;o.options.serverSorting=l;o.options.serverFiltering=c;o.options.serverAggregates=h}},skip:function(){var e=this;if(e._skip===T)return e._page!==T?(e._page-1)*(e.take()||1):T;return e._skip},currentRangeStart:function(){return this._currentRangeStart||0},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(o,s,l,c){var h=this;var u=h._timeStamp();return function(e){var t=false,i={start:o,end:s,data:[],timestamp:h._timeStamp()},r,n,a;h._dequeueRequest();h.trigger(B,{response:e,type:"read"});e=h.reader.parse(e);a=h._readData(e);if(a.length){for(r=0,n=h._ranges.length;r<n;r++)if(h._ranges[r].start===o){t=true;i=h._ranges[r];if(!h._isGroupPaged()){i.pristineData=a;i.data=h._observe(a);i.end=i.start+h._flatData(i.data,true).length;h._sortRanges()}break}if(!t)h._addRange(h._observe(a),o)}h._total=h.reader.total(e);if(c||(u>=h._currentRequestTimeStamp||!h._skipRequestsInProgress))if(l&&a.length)l();else h.trigger(p,{})}},prefetch:function(e,t,i){var r=this,n=y.min(e+t,r.total()),a={take:t,skip:e,page:e/t+1,pageSize:t,sort:r._sort,filter:r._filter,group:r._group,aggregate:r._aggregate};if(r._isGroupPaged()&&!r._isServerGrouped()&&r._groupRangeExists(e,n)){if(i)i();return}if(r._isServerGroupPaged()&&!r._groupRangeExists(e,n)||!r._rangeExists(e,n)){clearTimeout(r._timeout);r._timeout=setTimeout(function(){r._queueRequest(a,function(){if(!r.trigger(P,{type:"read"})){if(r._omitPrefetch)r.trigger(I);r.transport.read({data:r._params(a),success:r._prefetchSuccessHandler(e,n,i),error:function(){var e=j.call(arguments);r.error.apply(r,e)}})}else r._dequeueRequest()})},100)}else if(i)i()},_multiplePrefetch:function(e,t,i){var r=this,n=y.min(e+t,r.total()),a={take:t,skip:e,page:e/t+1,pageSize:t,sort:r._sort,filter:r._filter,group:r._group,aggregate:r._aggregate};if(!r._rangeExists(e,n)){if(!r.trigger(P,{type:"read"}))r.transport.read({data:r._params(a),success:r._prefetchSuccessHandler(e,n,i,true)})}else if(i)i()},_adjustPageSkip:function(e,t){var i=this;var r=i._getPrevRange(e);var n;var a=i.total();var o;if(r){o=i._getRangesMismatch(e);if(!o)return e;e-=o}n=y.max(y.floor(e/t),0)*t;if(n>a)while(true){n-=t;if(n<a)break}return n},_getNextRange:function(e){var t=this,i=t._ranges,r,n;for(r=0,n=i.length;r<n;r++)if(i[r].start<=e&&i[r].end>=e)return i[r]},_getPrevRange:function(e){var t=this,i=t._ranges,r,n,a=i.length;for(r=a-1;r>=0;r--)if(i[r].outerStart<=e){n=i[r];break}return n},_rangeExists:function(e,t){var i=this,r=i._ranges,n,a;for(n=0,a=r.length;n<a;n++)if(r[n].start<=e&&r[n].end>=t)return true;return false},_groupRangeExists:function(e,t){var i=this,r=i._ranges,n,a,o=0,s=i.groupsTotal(true);if(t>s&&!i._isServerGrouped())t=s;for(n=0,a=r.length;n<a;n++){var l=r[n];if(l.outerStart<=e&&l.outerEnd>=e)o+=l.outerEnd-e;else if(l.outerStart<=t&&l.outerEnd>=t)o+=t-l.outerStart}return o>=t-e},_getCurrentRangeSpan:function(){var e=this;var t=e._ranges;var i=e.currentRangeStart();var r=i+(e.take()||0);var n=[];var a;var o;var s=t.length;for(o=0;o<s;o++){a=t[o];if(a.start<=i&&a.end>=i||a.start>=i&&a.start<=r)n.push(a)}return n},_removeModelFromRanges:function(e){var t=this;var i;for(var r=0,n=this._ranges.length;r<n;r++){i=this._ranges[r];t._removeModelFromRange(i,e)}t._updateRangesLength()},_removeModelFromRange:function(e,r){this._eachItem(e.data,function(e){if(!e)return;for(var t=0;t<e.length;t++){var i=e[t];if(i.uid&&i.uid==r.uid){[].splice.call(e,t,1);break}}})},_insertModelInRange:function(e,t){var i=this;var r=i._ranges||[];var n=r.length;var a;var o;for(o=0;o<n;o++){a=r[o];if(a.start<=e&&a.end>=e){if(!i._getByUid(t.uid,a.data))if(i._isServerGrouped())a.data.splice(e,0,i._wrapInEmptyGroup(t));else a.data.splice(e,0,t);break}}i._updateRangesLength()},_updateRangesLength:function(){var e=this;var t=e._ranges||[];var i=t.length;var r=false;var n=0;var a=0;var o;var s;var l;for(l=0;l<i;l++){s=t[l];o=e._isGroupPaged()?s.data.length:e._flatData(s.data,true).length;a=o-y.abs(s.end-s.start);if(!r&&a!==0){r=true;n=a;s.end+=n;continue}if(r){s.start+=n;s.end+=n}}},_updateOuterRangesLength:function(){var e=this;var t=e._ranges||[];var i=t.length;var r=0;var n;var a;var o;var s;for(a=0;a<i;a++){n=t[a];s=e._isGroupPaged()?e._calculateGroupsTotal(n.data,true,"items",true):e._flatData(n.data,true).length;if(o){if(o.end!=n.start)r=n.start-o.end;n.outerStart=o.outerEnd+r;r=0}else n.outerStart=n.start;n.outerEnd=n.outerStart+s;o=n}}}),Ze={};function Je(e,t){e=m(e)[0];var i=e.options;var h=t[0];var u=t[1];var r=[];var n,a;var o;var s;var l;var c;for(n=0,a=i.length;n<a;n++){l={};s=i[n];o=s.parentNode;if(o===e)o=null;if(s.disabled||o&&o.disabled)continue;if(o)l.optgroup=o.label;l[h.field]=s.text;c=s.attributes.value;if(c&&c.specified)c=s.value;else c=s.text;l[u.field]=c;r.push(l)}return r}function et(h,e){var t=m(h)[0].tBodies[0],i=t?t.rows:[],r,n,a,u=e.length,o=[],f,s,l,c;for(r=0,n=i.length;r<n;r++){s={};c=true;f=i[r].cells;for(a=0;a<u;a++){l=f[a];if(l.nodeName.toLowerCase()!=="th"){c=false;s[e[a].field]=l.innerHTML}}if(!c)o.push(s)}return o}Ze.create=function(e,t,i){var r,n=e.transport?m.extend({},e.transport):null;if(n){n.read=typeof n.read===g?{url:n.read}:n.read;if(e.type==="jsdo")n.dataSource=i;if(e.type){_.data.transports=_.data.transports||{};_.data.schemas=_.data.schemas||{};if(!_.data.transports[e.type])_.logToConsole("Unknown DataSource transport type '"+e.type+"'.\nVerify that registration scripts for this type are included after Kendo UI on the page.","warn");else if(!x(_.data.transports[e.type]))r=new _.data.transports[e.type](v(n,{data:t}));else n=v(true,{},_.data.transports[e.type],n);e.schema=v(true,{},_.data.schemas[e.type],e.schema)}if(!r)r=d(n.read)?n:new Ae(n)}else r=new Te({data:e.data||[]});return r},Qe.create=function(e){if(h(e)||e instanceof X)e={data:e};var t=e||{},i=t.data,r=t.fields,n=t.table,a=t.select,o,s,l={},c;if(!i&&r&&!t.transport)if(n)i=et(n,r);else if(a){i=Je(a,r);if(t.group===T&&i[0]&&i[0].optgroup!==T)t.group="optgroup"}if(_.data.Model&&r&&(!t.schema||!t.schema.model)){for(o=0,s=r.length;o<s;o++){c=r[o];if(c.type)l[c.field]=c}if(!k(l))t.schema=v(true,t.schema,{model:{fields:l}})}t.data=i;a=null;t.select=null;n=null;t.table=null;return t instanceof Qe?t:new Qe(t)};var tt=re.define({idField:"id",init:function(e){var t=this,i=t.hasChildren||e&&e.hasChildren,r="items",n={};_.data.Model.fn.init.call(t,e);if(typeof t.children===g)r=t.children;n={schema:{data:r,model:{hasChildren:i,id:t.idField,fields:t.fields}}};if(typeof t.children!==g)v(n,t.children);n.data=e;if(!i)i=n.schema.data;if(typeof i===g)i=_.getter(i);if(d(i)){var a=i.call(t,t);if(a&&a.length===0)t.hasChildren=false;else t.hasChildren=!!a}t._childrenOptions=n;if(t.hasChildren)t._initChildren();t._loaded=!!(e&&e._loaded)},_initChildren:function(){var i=this;var e,t,r;if(!(i.children instanceof rt)){e=i.children=new rt(i._childrenOptions);t=e.transport;r=t.parameterMap;t.parameterMap=function(e,t){e[i.idField||"id"]=i.id;if(r)e=r.call(i,e,t);return e};e.parent=function(){return i};e.bind(p,function(e){e.node=e.node||i;i.trigger(p,e)});e.bind(E,function(e){var t=i.parent();if(t){e.node=e.node||i;t.trigger(E,e)}});i._updateChildrenField()}},append:function(e){this._initChildren();this.loaded(true);this.children.add(e)},hasChildren:false,level:function(){var e=this.parentNode(),t=0;while(e&&e.parentNode){t++;e=e.parentNode?e.parentNode():null}return t},_updateChildrenField:function(){var e=this._childrenOptions.schema.data;this[e||"items"]=this.children.data()},_childrenLoaded:function(){this._loaded=true;this._updateChildrenField()},load:function(){var e={};var t="_query";var i,r;if(this.hasChildren){this._initChildren();i=this.children;e[this.idField||"id"]=this.id;if(!this._loaded){i._data=T;t="read"}i.one(p,b(this._childrenLoaded,this));if(this._matchFilter)e.filter={field:"_matchFilter",operator:"eq",value:true};r=i[t](e)}else this.loaded(true);return r||m.Deferred().resolve().promise()},parentNode:function(){var e=this.parent();return e.parent()},loaded:function(e){if(e!==T)this._loaded=e;else return this._loaded},shouldSerialize:function(e){return re.fn.shouldSerialize.call(this,e)&&e!=="children"&&e!=="_loaded"&&e!=="hasChildren"&&e!=="_childrenOptions"}});function it(i){return function(){var e=this._data,t=Qe.fn[i].apply(this,j.call(arguments));if(this._data!=e)this._attachBubbleHandlers();return t}}var rt=Qe.extend({init:function(e){var t=tt.define({children:e});if(e.filter&&!e.serverFiltering){this._hierarchicalFilter=e.filter;e.filter=null}Qe.fn.init.call(this,v(true,{},{schema:{modelBase:t,model:t}},e));this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var t=this;t._data.bind(E,function(e){t.trigger(E,e)})},read:function(e){var t=Qe.fn.read.call(this,e);if(this._hierarchicalFilter)if(this._data&&this._data.length>0)this.filter(this._hierarchicalFilter);else{this.options.filter=this._hierarchicalFilter;this._filter=ue(this.options.filter);this._hierarchicalFilter=null}return t},remove:function(e){var t=e.parentNode(),i=this,r;if(t&&t._initChildren)i=t.children;r=Qe.fn.remove.call(i,e);if(t&&!i.data().length)t.hasChildren=false;return r},success:it("success"),data:it("data"),insert:function(e,t){var i=this.parent();if(i&&i._initChildren){i.hasChildren=true;i._initChildren()}return Qe.fn.insert.call(this,e,t)},filter:function(e){if(e===T)return this._filter;if(!this.options.serverFiltering&&this._markHierarchicalQuery(e))e={logic:"or",filters:[e,{field:"_matchFilter",operator:"equals",value:true}]};this.trigger("reset");this._query({filter:e,page:1})},_markHierarchicalQuery:function(e){var t;var i;var r;var n;var a;var o=this.options.accentFoldingFiltering;e=o?m.extend({},ue(e),{accentFoldingFiltering:o}):ue(e);if(!e||e.filters.length===0){this._updateHierarchicalFilter(function(){return true});return false}t=w.filterExpr(e);r=t.fields;n=t.operators;i=a=new Function("d, __f, __o","return "+t.expression);if(r.length||n.length)a=function(e){return i(e,r,n)};this._updateHierarchicalFilter(a);return true},_updateHierarchicalFilter:function(e){var t;var i=this._data;var r=false;for(var n=0;n<i.length;n++){t=i[n];if(t.hasChildren){t._matchFilter=t.children._updateHierarchicalFilter(e);if(!t._matchFilter)t._matchFilter=e(t)}else t._matchFilter=e(t);if(t._matchFilter)r=true}return r},_find:function(e,t){var i,r,n,a;var o=this._data;if(!o)return;n=Qe.fn[e].call(this,t);if(n)return n;o=this._flatData(this._data);for(i=0,r=o.length;i<r;i++){a=o[i].children;if(!(a instanceof rt))continue;n=a[e](t);if(n)return n}},get:function(e){return this._find("get",e)},getByUid:function(e){return this._find("getByUid",e)}});function nt(e,t){var h=m(e).children(),i,u,f=[],r,d=t[0].field,p=t[1]&&t[1].field,v=t[2]&&t[2].field,g=t[3]&&t[3].field,n,a,o,s,l;function c(e,t){return e.filter(t).add(e.find(t))}for(i=0,u=h.length;i<u;i++){r={_loaded:true};n=h.eq(i);o=n[0].firstChild;l=n.children();e=l.filter("ul");l=l.filter(":not(ul)");a=n.attr("data-id");if(a)r.id=a;if(o)r[d]=o.nodeType==3?o.nodeValue:l.text();if(p)r[p]=c(l,"a").attr("href");if(g)r[g]=c(l,"img").attr("src");if(v){s=c(l,".k-sprite").prop("className");r[v]=s&&_.trim(s.replace("k-sprite",""))}if(e.length)r.items=nt(e.eq(0),t);if(n.attr("data-hasChildren")=="true")r.hasChildren=true;f.push(r)}return f}rt.create=function(e){e=e&&e.push?{data:e}:e;var t=e||{},i=t.data,r=t.fields,n=t.list;if(i&&i._dataSource)return i._dataSource;if(!i&&r&&!t.transport)if(n)i=nt(n,r);t.data=i;return t instanceof rt?t:new rt(t)};var at=_.Observable.extend({init:function(e,t,i){_.Observable.fn.init.call(this);this._prefetching=false;this.dataSource=e;this.prefetch=!i;var r=this;e.bind("change",function(){r._change()});e.bind("reset",function(){r._reset()});this._syncWithDataSource();this.setViewSize(t)},setViewSize:function(e){this.viewSize=e;this._recalculate()},at:function(e){var t=this.pageSize,i=true;if(e>=this.total()){this.trigger("endreached",{index:e});return null}if(!this.useRanges)return this.dataSource.view()[e];if(this.useRanges){if(e<this.dataOffset||e>=this.skip+t)i=this.range(Math.floor(e/t)*t);if(e===this.prefetchThreshold)this._prefetch();if(e===this.midPageThreshold)this.range(this.nextMidRange,true);else if(e===this.nextPageThreshold)this.range(this.nextFullRange);else if(e===this.pullBackThreshold)if(this.offset===this.skip)this.range(this.previousMidRange);else this.range(this.previousFullRange);if(i)return this.dataSource.at(e-this.dataOffset);else{this.trigger("endreached",{index:e});return null}}},indexOf:function(e){return this.dataSource.data().indexOf(e)+this.dataOffset},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var e=this,t=e.pageSize,i=e.skip-e.viewSize+t,r=y.max(y.floor(i/t),0)*t;this.offset=i;this.dataSource.prefetch(r,t,function(){e._goToRange(i,true)})},range:function(e,t){if(this.offset===e)return true;var i=this,r=this.pageSize,n=y.max(y.floor(e/r),0)*r,a=this.dataSource;if(t)n+=r;if(a.inRange(e,r)){this.offset=e;this._recalculate();this._goToRange(e);return true}else if(this.prefetch){a.prefetch(n,r,function(){i.offset=e;i._recalculate();i._goToRange(e,true)});return false}return true},syncDataSource:function(){var e=this.offset;this.offset=null;this.range(e)},destroy:function(){this.unbind()},_prefetch:function(){var e=this,t=this.pageSize,i=this.skip+t,r=this.dataSource;if(!r.inRange(i,t)&&!this._prefetching&&this.prefetch){this._prefetching=true;this.trigger("prefetching",{skip:i,take:t});r.prefetch(i,t,function(){e._prefetching=false;e.trigger("prefetched",{skip:i,take:t})})}},_goToRange:function(e,t){if(this.offset!==e)return;this.dataOffset=e;this._expanding=t;this.dataSource.range(e,this.pageSize);this.dataSource.enableRequestsInProgress()},_reset:function(){this._syncPending=true},_change:function(){var e=this.dataSource;this.length=this.useRanges?e.lastRange().end:e.view().length;if(this._syncPending){this._syncWithDataSource();this._recalculate();this._syncPending=false;this.trigger("reset",{offset:this.offset})}this.trigger("resize");if(this._expanding)this.trigger("expand");delete this._expanding},_syncWithDataSource:function(){var e=this.dataSource;this._firstItemUid=e.firstItemUid();this.dataOffset=this.offset=e.skip()||0;this.pageSize=e.pageSize();this.useRanges=e.options.serverPaging},_recalculate:function(){var e=this.pageSize,t=this.offset,i=this.viewSize,r=Math.ceil(t/e)*e;this.skip=r;this.midPageThreshold=r+e-1;this.nextPageThreshold=r+i-1;this.prefetchThreshold=r+Math.floor(e/3*2);this.pullBackThreshold=this.offset-1;this.nextMidRange=r+e-i;this.nextFullRange=r;this.previousMidRange=t-i;this.previousFullRange=r-e}}),ot=_.Observable.extend({init:function(e,t){var i=this;_.Observable.fn.init.call(i);this.dataSource=e;this.batchSize=t;this._total=0;this.buffer=new at(e,t*3);this.buffer.bind({endreached:function(e){i.trigger("endreached",{index:e.index})},prefetching:function(e){i.trigger("prefetching",{skip:e.skip,take:e.take})},prefetched:function(e){i.trigger("prefetched",{skip:e.skip,take:e.take})},reset:function(){i._total=0;i.trigger("reset")},resize:function(){i._total=Math.ceil(this.length/i.batchSize);i.trigger("resize",{total:i.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(e){var t=this.buffer,i=e*this.batchSize,r=this.batchSize,n=[],a;if(t.offset>i)t.at(t.offset-1);for(var o=0;o<r;o++){a=t.at(i+o);if(a===null)break;n.push(a)}return n},total:function(){return this._total},destroy:function(){this.buffer.destroy();this.unbind()}});return v(true,_.data,{readers:{json:ze},Query:w,DataSource:Qe,HierarchicalDataSource:rt,Node:tt,Comparer:ne,ObservableObject:c,ObservableArray:X,LazyObservableArray:K,LocalTransport:Te,RemoteTransport:Ae,Cache:Me,DataReader:ze,Model:re,Buffer:at,BatchBuffer:ot}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.binder.min",["./kendo.core.min","./kendo.data.min"],function(){var e={id:"binder",name:"MVVM",category:"framework",description:"Model View ViewModel (MVVM) is a design pattern which helps developers separate the Model (the data) from the View (the UI).",depends:["core","data"]},u=window.kendo.jQuery,g=void 0,d=window.kendo,r=d.Observable,f=d.data.ObservableObject,m=d.data.ObservableArray,v={}.toString,s={},t=d.Class,n=u.proxy,_="value",c="source",h="events",y="checked",w="css",o=true,l="function",p="change",i=document.createElement("a");try{delete i.test}catch(e){o=false}var b=r.extend({init:function(e,t){var i=this;r.fn.init.call(i);i.source=e[0];i.parents=e;i.path=t;i.dependencies={};i.dependencies[t]=true;i.observable=i.source instanceof r;i._access=function(e){i.dependencies[e.field]=true};if(i.observable){i._change=function(e){i.change(e)};i.source.bind(p,i._change)}},_parents:function(){var e=this.parents;var t=this.get();if(t&&typeof t.parent=="function"){var i=t.parent();if(u.inArray(i,e)<0)e=[i].concat(e)}return e},change:function(e){var t,i,r=e.field,n=this;if(n.path==="this")n.trigger(p,e);else for(t in n.dependencies)if(t.indexOf(r)===0){i=t.charAt(r.length);if(!i||i==="."||i==="["){n.trigger(p,e);break}}},start:function(e){e.bind("get",this._access)},stop:function(e){e.unbind("get",this._access)},get:function(){var e=this,t=e.source,i=0,r=e.path,n=t;if(!e.observable)return n;e.start(e.source);n=t.get(r);while(n===g&&t){t=e.parents[++i];if(t instanceof f)n=t.get(r)}if(n===g){t=e.source;while(n===g&&t){t=t.parent();if(t instanceof f)n=t.get(r)}}if(typeof n==="function"){i=r.lastIndexOf(".");if(i>0)t=t.get(r.substring(0,i));e.start(t);if(t!==e.source)n=n.call(t,e.source);else n=n.call(t);e.stop(t)}if(t&&t!==e.source){e.currentSource=t;t.unbind(p,e._change).bind(p,e._change)}e.stop(e.source);return n},set:function(e){var t=this.currentSource||this.source;var i=d.getter(this.path)(t);if(typeof i==="function")if(t!==this.source)i.call(t,this.source,e);else i.call(t,e);else t.set(this.path,e)},destroy:function(){if(this.observable){this.source.unbind(p,this._change);if(this.currentSource)this.currentSource.unbind(p,this._change)}this.unbind()}}),x=b.extend({get:function(){var e=this.source,t=this.path,i=0,r;r=e.get(t);while(!r&&e){e=this.parents[++i];if(e instanceof f)r=e.get(t)}return n(r,e)}}),k=b.extend({init:function(e,t,i){var r=this;b.fn.init.call(r,e,t);r.template=i},render:function(e){var t;this.start(this.source);t=d.render(this.template,e);this.stop(this.source);return t}}),a=t.extend({init:function(e,t,i){this.element=e;this.bindings=t;this.options=i},bind:function(e,t){var i=this;e=t?e[t]:e;e.bind(p,function(e){i.refresh(t||e)});i.refresh(t)},destroy:function(){}}),C=a.extend({dataType:function(){var e=this.element.getAttribute("data-"+d.ns+"type")||this.element.type||"text";return e.toLowerCase()},parsedValue:function(){return this._parseValue(this.element.value,this.dataType())},_parseValue:function(e,t){if(t=="date")e=d.parseDate(e,"yyyy-MM-dd");else if(t=="datetime-local")e=d.parseDate(e,["yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm"]);else if(t=="number")e=d.parseFloat(e);else if(t=="boolean"){e=e.toLowerCase();if(d.parseFloat(e)!==null)e=Boolean(d.parseFloat(e));else e=e.toLowerCase()==="true"}return e}});function S(c,h,s){return a.extend({init:function(e,t,i){var r=this;a.fn.init.call(r,e.element[0],t,i);r.widget=e;r._dataBinding=n(r.dataBinding,r);r._dataBound=n(r.dataBound,r);r._itemChange=n(r.itemChange,r)},itemChange:function(e){z(e.item[0],e.data,this._ns(e.ns),[e.data].concat(this.bindings[c]._parents()))},dataBinding:function(e){var t,i,r=this.widget,n=e.removedItems||r.items();for(t=0,i=n.length;t<i;t++)R(n[t],false)},_ns:function(e){e=e||d.ui;var t=[d.ui,d.dataviz.ui,d.mobile.ui];t.splice(u.inArray(e,t),1);t.unshift(e);return d.rolesFromNamespaces(t)},dataBound:function(e){var t,i,r=this.widget,n=e.addedItems||r.items(),a=r[h],o,s,l=d.data.HierarchicalDataSource;if(l&&a instanceof l)return;if(n.length){o=e.addedDataItems||a.flatView();s=this.bindings[c]._parents();for(t=0,i=o.length;t<i;t++)if(n[t])z(n[t],o[t],this._ns(e.ns),[o[t]].concat(s))}},refresh:function(e){var t=this,i,r=t.widget,n,a,o;e=e||{};if(!e.action){t.destroy();r.bind("dataBinding",t._dataBinding);r.bind("dataBound",t._dataBound);r.bind("itemChange",t._itemChange);i=t.bindings[c].get();if(r[h]instanceof d.data.DataSource&&r[h]!=i)if(i instanceof d.data.DataSource)r[s](i);else if(i&&i._dataSource)r[s](i._dataSource);else{n=d.ui.Select&&r instanceof d.ui.Select;a=d.ui.MultiSelect&&r instanceof d.ui.MultiSelect;o=d.ui.DropDownTree&&r instanceof d.ui.DropDownTree;if(!o)r[h].data(i);else r.treeview[h].data(i);if(t.bindings.value&&(n||a))r.value(H(t.bindings.value.get(),r.options.dataValueField))}}},destroy:function(){var e=this.widget;e.unbind("dataBinding",this._dataBinding);e.unbind("dataBound",this._dataBound);e.unbind("itemChange",this._itemChange)}})}s.attr=a.extend({refresh:function(e){this.element.setAttribute(e,this.bindings.attr[e].get())}}),s.css=a.extend({init:function(e,t,i){a.fn.init.call(this,e,t,i);this.classes={}},refresh:function(e){var t=u(this.element),i=this.bindings.css[e],r=this.classes[e]=i.get();if(r)t.addClass(e);else t.removeClass(e)}}),s.style=a.extend({refresh:function(e){this.element.style[e]=this.bindings.style[e].get()||""}}),s.enabled=a.extend({refresh:function(){if(this.bindings.enabled.get())this.element.removeAttribute("disabled");else this.element.setAttribute("disabled","disabled")}}),s.readonly=a.extend({refresh:function(){if(this.bindings.readonly.get())this.element.setAttribute("readonly","readonly");else this.element.removeAttribute("readonly")}}),s.disabled=a.extend({refresh:function(){if(this.bindings.disabled.get())this.element.setAttribute("disabled","disabled");else this.element.removeAttribute("disabled")}}),s.events=a.extend({init:function(e,t,i){a.fn.init.call(this,e,t,i);this.handlers={}},refresh:function(e){var t=u(this.element),i=this.bindings.events[e],r=this.handlers[e];if(r)t.off(e,r);r=this.handlers[e]=i.get();t.on(e,i.source,r)},destroy:function(){var e=u(this.element),t;for(t in this.handlers)e.off(t,this.handlers[t])}}),s.text=a.extend({refresh:function(){var e=this.bindings.text.get();var t=this.element.getAttribute("data-"+d.ns+"format")||"";if(e==null)e="";u(this.element).text(d.toString(e,t))}}),s.visible=a.extend({refresh:function(){if(this.bindings.visible.get())this.element.style.display="";else this.element.style.display="none"}}),s.invisible=a.extend({refresh:function(){if(!this.bindings.invisible.get())this.element.style.display="";else this.element.style.display="none"}}),s.html=a.extend({refresh:function(){this.element.innerHTML=this.bindings.html.get()}}),s.value=C.extend({init:function(e,t,i){C.fn.init.call(this,e,t,i);this._change=n(this.change,this);this.eventName=i.valueUpdate||p;u(this.element).on(this.eventName,this._change);this._initChange=false},change:function(){this._initChange=this.eventName!=p;this.bindings[_].set(this.parsedValue());this._initChange=false},refresh:function(){if(!this._initChange){var e=this.bindings[_].get();if(e==null)e="";var t=this.dataType();if(t=="date")e=d.toString(e,"yyyy-MM-dd");else if(t=="datetime-local")e=d.toString(e,"yyyy-MM-ddTHH:mm:ss");this.element.value=e}this._initChange=false},destroy:function(){u(this.element).off(this.eventName,this._change)}}),s.source=a.extend({init:function(e,t,i){a.fn.init.call(this,e,t,i);var r=this.bindings.source.get();if(r instanceof d.data.DataSource&&i.autoBind!==false)r.fetch()},refresh:function(e){var t=this,i=t.bindings.source.get();if(i instanceof m||i instanceof d.data.DataSource){e=e||{};if(e.action=="add")t.add(e.index,e.items);else if(e.action=="remove")t.remove(e.index,e.items);else if(e.action!="itemchange")t.render()}else t.render()},container:function(){var e=this.element;if(e.nodeName.toLowerCase()=="table"){if(!e.tBodies[0])e.appendChild(document.createElement("tbody"));e=e.tBodies[0]}return e},template:function(){var e=this.options,t=e.template,i=this.container().nodeName.toLowerCase();if(!t){if(i=="select")if(e.valueField||e.textField)t=d.format('<option value="#:{0}#">#:{1}#</option>',e.valueField||e.textField,e.textField||e.valueField);else t="<option>#:data#</option>";else if(i=="tbody")t="<tr><td>#:data#</td></tr>";else if(i=="ul"||i=="ol")t="<li>#:data#</li>";else t="#:data#";t=d.template(t)}return t},add:function(e,t){var i=this.container(),r,n,a,o,s=i.cloneNode(false),l=i.children[e];u(s).html(d.render(this.template(),t));if(s.children.length){r=this.bindings.source._parents();for(n=0,a=t.length;n<a;n++){o=s.children[0];i.insertBefore(o,l||null);z(o,t[n],this.options.roles,[t[n]].concat(r))}}},remove:function(e,t){var i,r=this.container();for(i=0;i<t.length;i++){var n=r.children[e];R(n,true);if(n.parentNode==r)r.removeChild(n)}},render:function(){var e=this.bindings.source.get(),t,i,r,n=this.container(),a=this.template();if(e==null)return;if(e instanceof d.data.DataSource)e=e.view();if(!(e instanceof m)&&v.call(e)!=="[object Array]")e=[e];if(this.bindings.template){F(n,true);u(n).html(this.bindings.template.render(e));if(n.children.length){t=this.bindings.source._parents();for(i=0,r=e.length;i<r;i++)z(n.children[i],e[i],this.options.roles,[e[i]].concat(t))}}else u(n).html(d.render(a,e))}}),s.input={checked:C.extend({init:function(e,t,i){C.fn.init.call(this,e,t,i);this._change=n(this.change,this);u(this.element).change(this._change)},change:function(){var e=this.element;var t=this.value();if(e.type=="radio"){t=this.parsedValue();this.bindings[y].set(t)}else if(e.type=="checkbox"){var i=this.bindings[y].get();var r;if(i instanceof m){t=this.parsedValue();if(t instanceof Date){for(var n=0;n<i.length;n++)if(i[n]instanceof Date&&+i[n]===+t){r=n;break}}else r=i.indexOf(t);if(r>-1)i.splice(r,1);else i.push(t)}else this.bindings[y].set(t)}},refresh:function(){var e=this.bindings[y].get(),t=e,i=this.dataType(),r=this.element;if(r.type=="checkbox")if(t instanceof m){var n=-1;e=this.parsedValue();if(e instanceof Date){for(var a=0;a<t.length;a++)if(t[a]instanceof Date&&+t[a]===+e){n=a;break}}else n=t.indexOf(e);r.checked=n>=0}else r.checked=t;else if(r.type=="radio"){if(i=="date")e=d.toString(e,"yyyy-MM-dd");else if(i=="datetime-local")e=d.toString(e,"yyyy-MM-ddTHH:mm:ss");if(e!==null&&typeof e!=="undefined"&&r.value===e.toString())r.checked=true;else r.checked=false}},value:function(){var e=this.element,t=e.value;if(e.type=="checkbox")t=e.checked;return t},destroy:function(){u(this.element).off(p,this._change)}})},s.select={source:s.source.extend({refresh:function(e){var t=this,i=t.bindings.source.get();if(i instanceof m||i instanceof d.data.DataSource){e=e||{};if(e.action=="add")t.add(e.index,e.items);else if(e.action=="remove")t.remove(e.index,e.items);else if(e.action=="itemchange"||e.action===g){t.render();if(t.bindings.value)if(t.bindings.value){var r=H(t.bindings.value.get(),u(t.element).data("valueField"));if(r===null)t.element.selectedIndex=-1;else t.element.value=r}}}else t.render()}}),value:C.extend({init:function(e,t,i){C.fn.init.call(this,e,t,i);this._change=n(this.change,this);u(this.element).change(this._change)},parsedValue:function(){var e=this.dataType();var t=[];var i,r,n,a;for(n=0,a=this.element.options.length;n<a;n++){r=this.element.options[n];if(r.selected){i=r.attributes.value;if(i&&i.specified)i=r.value;else i=r.text;t.push(this._parseValue(i,e))}}return t},change:function(){var e=[],t=this.element,i,r=this.options.valueField||this.options.textField,n=this.options.valuePrimitive,a,o,s,l,c;for(l=0,c=t.options.length;l<c;l++){a=t.options[l];if(a.selected){s=a.attributes.value;if(s&&s.specified)s=a.value;else s=a.text;if(r)e.push(s);else e.push(this._parseValue(s,this.dataType()))}}if(r){i=this.bindings.source.get();if(i instanceof d.data.DataSource)i=i.view();for(o=0;o<e.length;o++)for(l=0,c=i.length;l<c;l++){var h=i[l].get(r);var u=String(h)===e[o];if(u){e[o]=i[l];break}}}s=this.bindings[_].get();if(s instanceof m)s.splice.apply(s,[0,s.length].concat(e));else if(!n&&(s instanceof f||s===null||s===g||!r))this.bindings[_].set(e[0]);else this.bindings[_].set(e[0].get(r))},refresh:function(){var e,t=this.element,i=t.options,r=this.bindings[_].get(),n=r,a=this.options.valueField||this.options.textField,o=false,s=this.dataType(),l;if(!(n instanceof m))n=new m([r]);t.selectedIndex=-1;for(var c=0;c<n.length;c++){r=n[c];if(a&&r instanceof f)r=r.get(a);if(s=="date")r=d.toString(n[c],"yyyy-MM-dd");else if(s=="datetime-local")r=d.toString(n[c],"yyyy-MM-ddTHH:mm:ss");for(e=0;e<i.length;e++){l=i[e].value;if(l===""&&r!=="")l=i[e].text;if(r!=null&&l==r.toString()){i[e].selected=true;o=true}}}},destroy:function(){u(this.element).off(p,this._change)}})},s.widget={events:a.extend({init:function(e,t,i){a.fn.init.call(this,e.element[0],t,i);this.widget=e;this.handlers={}},refresh:function(e){var t=this.bindings.events[e],i=this.handlers[e];if(i)this.widget.unbind(e,i);i=t.get();this.handlers[e]=function(e){e.data=t.source;i(e);if(e.data===t.source)delete e.data};this.widget.bind(e,this.handlers[e])},destroy:function(){var e;for(e in this.handlers)this.widget.unbind(e,this.handlers[e])}}),checked:a.extend({init:function(e,t,i){a.fn.init.call(this,e.element[0],t,i);this.widget=e;this._change=n(this.change,this);this.widget.bind(p,this._change)},change:function(){this.bindings[y].set(this.value())},refresh:function(){if(this.element.type==="radio")this.widget.check(this.bindings[y].get().toString()===this.value());else this.widget.check(this.bindings[y].get()===true)},value:function(){var e=this.element,t=e.value;if(t=="on"||t=="off"||this.element.type=="checkbox")t=e.checked;return t},destroy:function(){this.widget.unbind(p,this._change)}}),start:a.extend({init:function(e,t,i){a.fn.init.call(this,e.element[0],t,i);this._change=n(this.change,this);this.widget=e;this.widget.bind(p,this._change)},change:function(){this.bindings.start.set(this.widget.range().start)},refresh:function(){var e=this;var t=this.bindings.start.get();var i=e.widget._range?e.widget._range.end:null;this.widget.range({start:t,end:i})},destroy:function(){this.widget.unbind(p,this._change)}}),end:a.extend({init:function(e,t,i){a.fn.init.call(this,e.element[0],t,i);this._change=n(this.change,this);this.widget=e;this.widget.bind(p,this._change)},change:function(){this.bindings.end.set(this.widget.range().end)},refresh:function(){var e=this;var t=this.bindings.end.get();var i=e.widget._range?e.widget._range.start:null;this.widget.range({start:i,end:t})},destroy:function(){this.widget.unbind(p,this._change)}}),visible:a.extend({init:function(e,t,i){a.fn.init.call(this,e.element[0],t,i);this.widget=e},refresh:function(){var e=this.bindings.visible.get();this.widget.wrapper[0].style.display=e?"":"none"}}),invisible:a.extend({init:function(e,t,i){a.fn.init.call(this,e.element[0],t,i);this.widget=e},refresh:function(){var e=this.bindings.invisible.get();this.widget.wrapper[0].style.display=e?"none":""}}),floatingLabel:a.extend({init:function(e,t,i){a.fn.init.call(this,e.element[0],t,i);if(!e.floatingLabel)return;e.floatingLabel.refresh()}}),enabled:a.extend({init:function(e,t,i){a.fn.init.call(this,e.element[0],t,i);this.widget=e},refresh:function(){if(this.widget.enable)this.widget.enable(this.bindings.enabled.get())}}),disabled:a.extend({init:function(e,t,i){a.fn.init.call(this,e.element[0],t,i);this.widget=e},refresh:function(){if(this.widget.enable)this.widget.enable(!this.bindings.disabled.get())}}),source:S("source","dataSource","setDataSource"),value:a.extend({init:function(e,t,i){a.fn.init.call(this,e.element[0],t,i);this.widget=e;this._change=u.proxy(this.change,this);this.widget.first(p,this._change);var r=this.bindings.value.get();this._valueIsObservableObject=!i.valuePrimitive&&(r==null||r instanceof f);this._valueIsObservableArray=r instanceof m;this._initChange=false},_source:function(){var e;if(this.widget.dataItem){e=this.widget.dataItem();if(e&&e instanceof f)return[e]}if(this.bindings.source)e=this.bindings.source.get();if(!e||e instanceof d.data.DataSource)e=this.widget.dataSource.flatView();return e},change:function(){var e=this.widget.value(),t=this.options.dataValueField||this.options.dataTextField,i=v.call(e)==="[object Array]",r=this._valueIsObservableObject,n,h,a=[],o,s,l,u,c;this._initChange=true;if(t)if(e===""&&(r||this.options.valuePrimitive))e=null;else{c=this._source();if(i){h=e.length;a=e.slice(0)}for(l=0,u=c.length;l<u;l++){o=c[l];s=o.get(t);if(i){for(n=0;n<h;n++)if(s==a[n]){a[n]=o;break}}else if(s==e){e=r?o:s;break}}if(a[0])if(this._valueIsObservableArray)e=a;else if(r||!t)e=a[0];else e=a[0].get(t)}this.bindings.value.set(e);this._initChange=false},refresh:function(){if(!this._initChange){var e=this.widget;var t=e.options;var i=t.dataTextField;var r=t.dataValueField||i;var n=this.bindings.value.get();var a=t.text||"";var o=0,s;var l=[];if(n===g)n=null;if(r)if(n instanceof m){for(s=n.length;o<s;o++)l[o]=n[o].get(r);n=l}else if(n instanceof f){a=n.get(i);n=n.get(r)}if(t.autoBind===false&&!t.cascadeFrom&&e.listView&&!e.listView.bound()){if(i===r&&!a)a=n;if(!a&&(n||n===0)&&t.valuePrimitive)e.value(n);else e._preselect(n,a)}else e.value(n)}this._initChange=false},destroy:function(){this.widget.unbind(p,this._change)}}),dropdowntree:{value:a.extend({init:function(e,t,i){a.fn.init.call(this,e.element[0],t,i);this.widget=e;this._change=u.proxy(this.change,this);this.widget.first(p,this._change);this._initChange=false},change:function(){var e=this,t=e.bindings[_].get(),h=e.options.valuePrimitive,u=e.widget.treeview.select(),f=e.widget._isMultipleSelection()?e.widget._getAllChecked():e.widget.treeview.dataItem(u)||e.widget.value(),i=h||e.widget.options.autoBind===false?e.widget.value():f;var d=this.options.dataValueField||this.options.dataTextField;i=i.slice?i.slice(0):i;e._initChange=true;if(t instanceof m){var r=[];var p=i.length;var n=0,a=0;var o=t[n];var s=false;var v;var l;var c;while(o!==g){c=false;for(a=0;a<p;a++){if(h)s=i[a]==o;else{l=i[a];l=l.get?l.get(d):l;s=l==(o.get?o.get(d):o)}if(s){i.splice(a,1);p-=1;c=true;break}}if(!c){r.push(o);T(t,n,1);v=n}else n+=1;o=t[n]}T(t,t.length,0,i);if(r.length)t.trigger("change",{action:"remove",items:r,index:v});if(i.length)t.trigger("change",{action:"add",items:i,index:t.length-1})}else e.bindings[_].set(i);e._initChange=false},refresh:function(){if(!this._initChange){var e=this.options,t=this.widget,i=e.dataValueField||e.dataTextField,r=this.bindings.value.get(),n=r,a=0,o,s=[],l;if(i)if(r instanceof m){for(o=r.length;a<o;a++){l=r[a];s[a]=l.get?l.get(i):l}r=s}else if(r instanceof f)r=r.get(i);if(e.autoBind===false&&e.valuePrimitive!==true)t._preselect(n,r);else t.value(r)}},destroy:function(){this.widget.unbind(p,this._change)}})},gantt:{dependencies:S("dependencies","dependencies","setDependenciesDataSource")},multiselect:{value:a.extend({init:function(e,t,i){a.fn.init.call(this,e.element[0],t,i);this.widget=e;this._change=u.proxy(this.change,this);this.widget.first(p,this._change);this._initChange=false},change:function(){var e=this,t=e.bindings[_].get(),h=e.options.valuePrimitive,i=h?e.widget.value():e.widget.dataItems();var u=this.options.dataValueField||this.options.dataTextField;i=i.slice(0);e._initChange=true;if(t instanceof m){var r=[];var f=i.length;var n=0,a=0;var o=t[n];var s=false;var d;var l;var c;while(o!==g){c=false;for(a=0;a<f;a++){if(h)s=i[a]==o;else{l=i[a];l=l.get?l.get(u):l;s=l==(o.get?o.get(u):o)}if(s){i.splice(a,1);f-=1;c=true;break}}if(!c){r.push(o);T(t,n,1);d=n}else n+=1;o=t[n]}T(t,t.length,0,i);if(r.length)t.trigger("change",{action:"remove",items:r,index:d});if(i.length)t.trigger("change",{action:"add",items:i,index:t.length-1})}else e.bindings[_].set(i);e._initChange=false},refresh:function(){if(!this._initChange){var e=this.options,t=this.widget,i=e.dataValueField||e.dataTextField,r=this.bindings.value.get(),n=r,a=0,o,s=[],l;if(r===g)r=null;if(i)if(r instanceof m){for(o=r.length;a<o;a++){l=r[a];s[a]=l.get?l.get(i):l}r=s}else if(r instanceof f)r=r.get(i);if(e.autoBind===false&&e.valuePrimitive!==true&&!t._isBound())t._preselect(n,r);else t.value(r)}},destroy:function(){this.widget.unbind(p,this._change)}})},scheduler:{source:S("source","dataSource","setDataSource").extend({dataBound:function(e){var t;var i;var r=this.widget;var n=e.addedItems||r.items();var a,o;if(n.length){a=e.addedDataItems||r.dataItems();o=this.bindings.source._parents();for(t=0,i=a.length;t<i;t++)z(n[t],a[t],this._ns(e.ns),[a[t]].concat(o))}}})},grid:{source:S("source","dataSource","setDataSource").extend({dataBound:function(e){var t,i,r=this.widget,n=e.addedItems||r.items(),a,o;if(n.length){o=e.addedDataItems||r.dataItems();a=this.bindings.source._parents();for(t=0,i=o.length;t<i;t++)z(n[t],o[t],this._ns(e.ns),[o[t]].concat(a))}}})},badge:{text:a.extend({init:function(e,t,i){a.fn.init.call(this,e.element[0],t,i);this.widget=e},refresh:function(){var e=this.bindings.text.get();if(e==null)e="";this.widget.text(e)}})}};var T=function(e,t,i,r){r=r||[];i=i||0;var n=r.length;var a=e.length;var o=[].slice.call(e,t+i);var s=o.length;var l;if(n){n=t+n;l=0;for(;t<n;t++){e[t]=r[l];l++}e.length=n}else if(i){e.length=t;i+=t;while(t<i)delete e[--i]}if(s){s=t+s;l=0;for(;t<s;t++){e[t]=o[l];l++}e.length=s}t=e.length;while(t<a){delete e[t];t++}},A=t.extend({init:function(e,t){this.target=e;this.options=t;this.toDestroy=[]},bind:function(e){var t,i,r,n,a,o,s=this instanceof M,l=this.binders();for(t in e)if(t==_)i=true;else if(t==c)r=true;else if(t==h&&!s)n=true;else if(t==y)a=true;else if(t==w)o=true;else this.applyBinding(t,e,l);if(r)this.applyBinding(c,e,l);if(i)this.applyBinding(_,e,l);if(a)this.applyBinding(y,e,l);if(n&&!s)this.applyBinding(h,e,l);if(o&&!s)this.applyBinding(w,e,l);if(s&&this.target&&this.target.floatingLabel)this.applyBinding("floatingLabel",e,l)},binders:function(){return s[this.target.nodeName.toLowerCase()]||{}},applyBinding:function(e,t,i){var r=i[e]||s[e],n=this.toDestroy,a,o=t[e];if(r){r=new r(this.target,t,this.options);n.push(r);if(o instanceof b){r.bind(o);n.push(o)}else for(a in o){r.bind(o,a);n.push(o[a])}}else if(e!=="template")throw new Error("The "+e+" binding is not supported by the "+this.target.nodeName.toLowerCase()+" element")},destroy:function(){var e,t,i=this.toDestroy;for(e=0,t=i.length;e<t;e++)i[e].destroy()}}),M=A.extend({binders:function(){return s.widget[this.target.options.name.toLowerCase()]||{}},applyBinding:function(e,t,i){var r=i[e]||s.widget[e],n=this.toDestroy,a,o=t[e];if(r){r=new r(this.target,t,this.target.options);n.push(r);if(o instanceof b){r.bind(o);n.push(o)}else for(a in o){r.bind(o,a);n.push(o[a])}}else throw new Error("The "+e+" binding is not supported by the "+this.target.options.name+" widget")}});function D(e,t){var i=d.initWidget(e,{},t);if(i)return new M(i)}var E=/[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g,P=/\s/g;function I(e){var t={},i,r,n,a,o,s,l;l=e.match(E);for(i=0,r=l.length;i<r;i++){n=l[i];a=n.indexOf(":");o=n.substring(0,a);s=n.substring(a+1);if(s.charAt(0)=="{")s=I(s);t[o]=s}return t}function B(e,t,i){var r,n={};for(r in e)n[r]=new i(t,e[r]);return n}function z(e,t,i,r){if(!e||e.getAttribute("data-"+d.ns+"stop"))return;var h=e.getAttribute("data-"+d.ns+"role"),n,a=e.getAttribute("data-"+d.ns+"bind"),o=[],u=true,s,l={},c;r=r||[t];if(h||a)L(e,false);if(h)c=D(e,i);if(a){a=I(a.replace(P,""));if(!c){l=d.parseOptions(e,{textField:"",valueField:"",template:"",valueUpdate:p,valuePrimitive:false,autoBind:true},t);l.roles=i;c=new A(e,l)}c.source=t;s=B(a,r,b);if(l.template)s.template=new k(r,"",l.template);if(s.click){a.events=a.events||{};a.events.click=a.click;s.click.destroy();delete s.click}if(s.source)u=false;if(a.attr)s.attr=B(a.attr,r,b);if(a.style)s.style=B(a.style,r,b);if(a.events)s.events=B(a.events,r,x);if(a.css)s.css=B(a.css,r,b);c.bind(s)}if(c)e.kendoBindingTarget=c;var f=e.children;if(u&&f&&!e.getAttribute("data-"+d.ns+"stop")){for(n=0;n<f.length;n++)o[n]=f[n];for(n=0;n<o.length;n++)z(o[n],t,i,r)}}function O(e,t){var i,r,n,a=d.rolesFromNamespaces([].slice.call(arguments,2));t=d.observable(t);e=u(e);for(i=0,r=e.length;i<r;i++){n=e[i];if(n.nodeType===1)z(n,t,a)}}function L(e,t){var i=e.kendoBindingTarget;if(i){i.destroy();if(o)delete e.kendoBindingTarget;else if(e.removeAttribute)e.removeAttribute("kendoBindingTarget");else e.kendoBindingTarget=null}if(t){var r=d.widgetInstance(u(e));if(r&&typeof r.destroy===l)r.destroy()}}function R(e,t){L(e,t);F(e,t)}function F(e,t){var i=e.children;if(i)for(var r=0,n=i.length;r<n;r++)R(i[r],t)}function V(e){var t,i;e=u(e);for(t=0,i=e.length;t<i;t++)R(e[t],false)}function N(e,t){var i=e.element,r=i[0].kendoBindingTarget;if(r)O(i,r.source,t)}function H(e,t){var i=[];var r=0;var n;var a;if(!t)return e;if(e instanceof m){for(n=e.length;r<n;r++){a=e[r];i[r]=a.get?a.get(t):a[t]}e=i}else if(e instanceof f)e=e.get(t);return e}return d.unbind=V,d.bind=O,d.data.binders=s,d.data.Binder=a,d.notify=N,d.observable=function(e){if(!(e instanceof f))e=new f(e);return e},d.observableHierarchy=function(e){var t=d.data.HierarchicalDataSource.create(e);function r(e){var t,i;for(t=0;t<e.length;t++){e[t]._initChildren();i=e[t].children;i.fetch();e[t].items=i.data();r(e[t].items)}}t.fetch();r(t.data());t._data._dataSource=t;return t._data},window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.view.min",["./kendo.core.min","./kendo.binder.min","./kendo.fx.min"],function(){var e={id:"view",name:"View",category:"framework",description:"The View class instantiates and handles the events of a certain screen from the application.",depends:["core","binder","fx"],hidden:false},a=window.kendo.jQuery,t=void 0,h=window.kendo,s=h.attr,f=h.ui,d=h.attrValue,p=h.directiveSelector,n=h.Observable,r=h.ui.Widget,o=h.roleSelector,v="SCRIPT",g="init",m="transitionStart",_="transitionEnd",y="show",w="hide",b="attach",x="detach",k=/unrecognized expression/,C=/<body[^>]*>(([\u000a\u000d\u2028\u2029]|.)*)<\/body>/i,S="loadStart",T="loadComplete",l="showStart",A="sameViewRequested",M="viewShow",D="viewTypeDetermined",c="after",u={content:"k-content",view:"k-view",stretchedView:"k-stretched-view",widget:"k-widget",header:"k-header",footer:"k-footer"},i=h.ui.Widget.extend({init:function(e,t){var i=this;t=t||{};i.id=h.guid();n.fn.init.call(i);this.options=a.extend({},this.options,t);i.content=e;if(i.options.renderOnInit)r.fn.init.call(i,i._createElement(),t);if(i.options.wrapInSections)i._renderSections();i.tagName=t.tagName||"div";i.model=t.model;i._wrap=t.wrap!==false;this._evalTemplate=t.evalTemplate||false;this._useWithBlock=t.useWithBlock;i._fragments={};i.bind([g,y,w,m,_],t)},options:{name:"View",renderOnInit:false,wrapInSections:false,detachOnHide:true,detachOnDestroy:true},render:function(e){var t=this,i=!t.element;if(i)t.element=t._createElement();if(e)a(e).append(t.element);if(i){h.bind(t.element,t.model);t.trigger(g)}if(e){t._eachFragment(b);t.trigger(y)}return t.element},clone:function(){return new E(this)},triggerBeforeShow:function(){return true},triggerBeforeHide:function(){return true},showStart:function(){var e=this;var t=e.render();if(t)t.css("display","");this.trigger(l,{view:this})},showEnd:function(){},hideEnd:function(){this.hide()},beforeTransition:function(e){this.trigger(m,{type:e})},afterTransition:function(e){this.trigger(_,{type:e})},hide:function(){if(this.options.detachOnHide){this._eachFragment(x);a(this.element).detach()}this.trigger(w)},destroy:function(){var e=this;var t=e.element;if(t){r.fn.destroy.call(e);h.unbind(t);h.destroy(t);if(e.options.detachOnDestroy)t.remove()}},purge:function(){var e=this;e.destroy();a(e.element).add(e.content).add(e.wrapper).off().remove()},fragments:function(e){a.extend(this._fragments,e)},_eachFragment:function(e){for(var t in this._fragments)this._fragments[t][e](this,t)},_createElement:function(){var t=this,e="<"+t.tagName+">",i,r;try{r=a(document.getElementById(t.content)||t.content);if(r[0].tagName===v)r=r.html()}catch(e){if(k.test(e.message))r=t.content}if(typeof r==="string"){r=r.replace(/^\s+|\s+$/g,"");if(t._evalTemplate)r=h.template(r,{useWithBlock:t._useWithBlock})(t.model||{});i=a(e).append(r);if(!t._wrap)i=i.contents()}else{i=r;if(t._evalTemplate){var n=a(h.template(a("<div />").append(i.clone(true)).html(),{useWithBlock:t._useWithBlock})(t.model||{}));if(a.contains(document,i[0]))i.replaceWith(n);i=n}if(t._wrap)i=i.wrapAll(e).parent()}return i},_renderSections:function(){var e=this;if(e.options.wrapInSections){e._wrapper();e._createContent();e._createHeader();e._createFooter()}},_wrapper:function(){var e=this;var t=e.content;if(t.is(o("view")))e.wrapper=e.content;else e.wrapper=t.wrap("<div data-"+h.ns+'stretch="true" data-'+h.ns+'role="view" data-'+h.ns+'init-widgets="false"></div>').parent();var i=e.wrapper;i.attr("id",e.id);i.addClass(u.view);i.addClass(u.widget);i.attr("role","view")},_createContent:function(){var e=this;var t=a(e.wrapper);var i=o("content");if(!t.children(i)[0]){var r=t.children().filter(function(){var e=a(this);if(!e.is(o("header"))&&!e.is(o("footer")))return e});r.wrap("<div "+s("role")+'="content"></div>')}this.contentElement=t.children(o("content"));this.contentElement.addClass(u.stretchedView).addClass(u.content)},_createHeader:function(){var e=this;var t=e.wrapper;this.header=t.children(o("header")).addClass(u.header)},_createFooter:function(){var e=this;var t=e.wrapper;this.footer=t.children(o("footer")).addClass(u.footer)}}),E=h.Class.extend({init:function(e){a.extend(this,{element:e.element.clone(true),transition:e.transition,id:e.id});e.element.parent().append(this.element)},hideEnd:function(){this.element.remove()},beforeTransition:a.noop,afterTransition:a.noop}),P=i.extend({init:function(e,t){i.fn.init.call(this,e,t);this.containers={}},container:function(e){var t=this.containers[e];if(!t){t=this._createContainer(e);this.containers[e]=t}return t},showIn:function(e,t,i){this.container(e).show(t,i)},_createContainer:function(e){var t=this.render(),i=t.find(e),r;if(!i.length&&t.is(e))if(t.is(e))i=t;else throw new Error("can't find a container with the specified "+e+" selector");r=new O(i);r.bind("accepted",function(e){e.view.render(i)});return r}}),I=i.extend({attach:function(e,t){e.element.find(t).replaceWith(this.render())},detach:function(){}}),B=/^(\w+)(:(\w+))?( (\w+))?$/;function z(e){if(!e)return{};var t=e.match(B)||[];return{type:t[1],direction:t[3],reverse:t[5]==="reverse"}}var O=n.extend({init:function(e){n.fn.init.call(this);this.container=e;this.history=[];this.view=null;this.running=false},after:function(){this.running=false;this.trigger("complete",{view:this.view});this.trigger("after")},end:function(){this.view.showEnd();this.previous.hideEnd();this.after()},show:function(e,t,i){if(!e.triggerBeforeShow()||this.view&&!this.view.triggerBeforeHide()){this.trigger("after");return false}i=i||e.id;var r=this,n=e===r.view?e.clone():r.view,a=r.history,o=a[a.length-2]||{},s=o.id===i,l=t||(s?a[a.length-1].transition:e.transition),c=z(l);if(r.running)r.effect.stop();if(l==="none")l=null;r.trigger("accepted",{view:e});r.view=e;r.previous=n;r.running=true;if(!s)a.push({id:i,transition:l});else a.pop();if(!n){e.showStart();e.showEnd();r.after();return true}if(!l||!h.effects.enabled){e.showStart();r.end()}else{e.element.addClass("k-fx-hidden");e.showStart();if(s&&!t)c.reverse=!c.reverse;r.effect=h.fx(e.element).replace(n.element,c.type).beforeTransition(function(){e.beforeTransition("show");n.beforeTransition("hide")}).afterTransition(function(){e.afterTransition("show");n.afterTransition("hide")}).direction(c.direction).setReverse(c.reverse);r.effect.run().then(function(){r.end()})}return true},destroy:function(){var e=this;var t=e.view;if(t&&t.destroy)t.destroy()}}),L=n.extend({init:function(e){var t=this,i,r;n.fn.init.call(t);t.options=e;a.extend(t,e);t.sandbox=a("<div />");r=t.container;i=t._hideViews(r);t.rootView=i.first();t.layouts={};t.viewContainer=new h.ViewContainer(t.container);t.viewContainer.bind("accepted",function(e){e.view.params=t.params});t.viewContainer.bind("complete",function(e){t.trigger(M,{view:e.view})});t.viewContainer.bind(c,function(){t.trigger(c)});this.bind(this.events,e)},events:[l,c,M,S,T,A,D],destroy:function(){var e=this;var t=e.viewContainer;h.destroy(e.container);for(var i in e.layouts)this.layouts[i].destroy();if(t)t.destroy()},view:function(){return this.viewContainer.view},showView:function(e,t,i){e=e.replace(new RegExp("^"+this.remoteViewURLPrefix),"");if(e===""&&this.remoteViewURLPrefix)e="/";if(e.replace(/^#/,"")===this.url){this.trigger(A);return false}this.trigger(l);var r=this,n=r._findViewElement(e),a=h.widgetInstance(n);r.url=e.replace(/^#/,"");r.params=i;if(a&&a.reload){a.purge();n=[]}this.trigger(D,{remote:n.length===0,url:e});if(n[0]){if(!a)a=r._createView(n);return r.viewContainer.show(a,t,e)}else return true},append:function(e,t){var i=this.sandbox,r=(t||"").split("?")[0],n=this.container,a,o;if(C.test(e))e=RegExp.$1;i[0].innerHTML=e;n.append(i.children("script, style"));a=this._hideViews(i);o=a.first();if(!o.length)a=o=i.wrapInner("<div data-role=view />").children();if(r)o.hide().attr(s("url"),r);n.append(a);return this._createView(o)},_locate:function(e){return this.$angular?p(e):o(e)},_findViewElement:function(e){var t,i=e.split("?")[0];if(!i)return this.rootView;t=this.container.children("["+s("url")+"='"+i+"']");if(!t[0]&&i.indexOf("/")===-1)t=this.container.children(i.charAt(0)==="#"?i:"#"+i);if(!t[0])t=this._findViewElementById(e);return t},_findViewElementById:function(e){var t=this.container.children("[id='"+e+"']");return t},_createView:function(e){return this._createSpaView(e)},_createMobileView:function(e){return h.initWidget(e,{defaultTransition:this.transition,loader:this.loader,container:this.container,getLayout:this.getLayoutProxy,modelScope:this.modelScope,reload:d(e,"reload")},f.roles)},_createSpaView:function(e){var t=(this.options||{}).viewOptions||{};return new h.View(e,{renderOnInit:t.renderOnInit,wrap:t.wrap||false,wrapInSections:t.wrapInSections,detachOnHide:t.detachOnHide,detachOnDestroy:t.detachOnDestroy})},_hideViews:function(e){return e.children(this._locate("view")).hide()}});return h.ViewEngine=L,h.ViewContainer=O,h.Fragment=I,h.Layout=P,h.View=i,h.ViewClone=E,window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.data.signalr.min",["./kendo.data.min"],function(){var e={id:"data.signalr",name:"SignalR",category:"framework",depends:["data"],hidden:true},s=window.kendo.jQuery,l=window.kendo,t=l.isFunction;function c(e){return e&&t(e.done)&&t(e.fail)}function h(e){return e&&t(e.then)&&t(e.catch)}var i=l.data.RemoteTransport.extend({init:function(e){var t=e&&e.signalr?e.signalr:{};var i=t.promise;if(!i)throw new Error('The "promise" option must be set.');if(!c(i)&&!h(i))throw new Error('The "promise" option must be a Promise.');this.promise=i;var r=t.hub;if(!r)throw new Error('The "hub" option must be set.');if(typeof r.on!="function"||typeof r.invoke!="function")throw new Error('The "hub" option is not a valid SignalR hub proxy.');this.hub=r;l.data.RemoteTransport.fn.init.call(this,e)},push:function(e){var t=this.options.signalr.client||{};if(t.create)this.hub.on(t.create,e.pushCreate);if(t.update)this.hub.on(t.update,e.pushUpdate);if(t.destroy)this.hub.on(t.destroy,e.pushDestroy)},_crud:function(e,t){var i=this.hub;var r=this.promise;var n=this.options.signalr.server;if(!n||!n[t])throw new Error(l.format('The "server.{0}" option must be set.',t));var a=[n[t]];var o=this.parameterMap(e.data,t);if(!s.isEmptyObject(o))a.push(o);if(c(r))r.done(function(){i.invoke.apply(i,a).done(e.success).fail(e.error)});else if(h(r))r.then(function(){i.invoke.apply(i,a).then(e.success).catch(e.error)})},read:function(e){this._crud(e,"read")},create:function(e){this._crud(e,"create")},update:function(e){this._crud(e,"update")},destroy:function(e){this._crud(e,"destroy")}});return s.extend(true,l.data,{transports:{signalr:i}}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.userevents.min",["./kendo.core.min"],function(){var e={id:"userevents",name:"User Events",category:"framework",depends:["core"],hidden:true},c=window.kendo.jQuery,t=void 0,l=window.kendo,h=l.support,i=l.Class,m=l.Observable,a=Date.now,u=c.extend,r=h.mobileOS,o=r&&r.android,_=800,n=300,y=h.browser.msie?5:0,w="press",b="hold",x="select",k="start",f="move",d="end",C="cancel",p="tap",S="doubleTap",T="release",A="gesturestart",M="gesturechange",D="gestureend",E="gesturetap",s={api:0,touch:0,mouse:9,pointer:9},P=!h.touch||h.mouseAndTouchPresent;function I(e,t){var i=e.x.location,r=e.y.location,n=t.x.location,a=t.y.location,o=i-n,s=r-a;return{center:{x:(i+n)/2,y:(r+a)/2},distance:Math.sqrt(o*o+s*s)}}function v(e){var t=[],i=e.originalEvent,r=e.currentTarget,n=0,a,o,s;if(e.api)t.push({id:2,event:e,target:e.target,currentTarget:e.target,location:e,type:"api"});else if(e.type.match(/touch/)){o=i?i.changedTouches:[];for(a=o.length;n<a;n++){s=o[n];t.push({location:s,event:e,target:s.target,currentTarget:r,id:s.identifier,type:"touch"})}}else if(h.pointers||h.msPointers)t.push({location:i,event:e,target:e.target,currentTarget:r,id:i.pointerId,type:"pointer"});else t.push({id:1,event:e,target:e.target,currentTarget:r,location:e,type:"mouse"});return t}var B=i.extend({init:function(e,t){var i=this;i.axis=e;i._updateLocationData(t);i.startLocation=i.location;i.velocity=i.delta=0;i.timeStamp=a()},move:function(e){var t=this,i=e["page"+t.axis],r=a(),n=r-t.timeStamp||1;if(!i&&o)return;t.delta=i-t.location;t._updateLocationData(e);t.initialDelta=i-t.startLocation;t.velocity=t.delta/n;t.timeStamp=r},_updateLocationData:function(e){var t=this,i=t.axis;t.location=e["page"+i];t.client=e["client"+i];t.screen=e["screen"+i]}}),z=i.extend({init:function(e,t,i){u(this,{x:new B("X",i.location),y:new B("Y",i.location),type:i.type,useClickAsTap:e.useClickAsTap,threshold:e.threshold||s[i.type],userEvents:e,target:t,currentTarget:i.currentTarget,initialTouch:i.target,id:i.id,pressEvent:i,_clicks:e._clicks,supportDoubleTap:e.supportDoubleTap,_moved:false,_finished:false})},press:function(){this._holdTimeout=setTimeout(c.proxy(this,"_hold"),this.userEvents.minHold);this._trigger(w,this.pressEvent)},_tap:function(e){var t=this;t.userEvents._clicks++;if(t.userEvents._clicks==1)t._clickTimeout=setTimeout(function(){if(t.userEvents._clicks==1)t._trigger(p,e);else t._trigger(S,e);t.userEvents._clicks=0},n)},_hold:function(){this._trigger(b,this.pressEvent)},move:function(e){var t=this;var i=e.type!=="api"&&t.userEvents._shouldNotMove;if(t._finished||i)return;t.x.move(e.location);t.y.move(e.location);if(!t._moved){if(t._withinIgnoreThreshold())return;if(!g.current||g.current===t.userEvents)t._start(e);else return t.dispose()}if(!t._finished)t._trigger(f,e)},end:function(e){this.endTime=a();if(this._finished)return;this._finished=true;this._trigger(T,e);if(this._moved)this._trigger(d,e);else if(!this.useClickAsTap)if(this.supportDoubleTap)this._tap(e);else this._trigger(p,e);clearTimeout(this._holdTimeout);this.dispose()},dispose:function(){var e=this.userEvents,t=e.touches;this._finished=true;this.pressEvent=null;clearTimeout(this._holdTimeout);t.splice(c.inArray(this,t),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(e){clearTimeout(this._holdTimeout);this.startTime=a();this._moved=true;this._trigger(k,e)},_trigger:function(e,t){var i=this,r=t.event,n={touch:i,x:i.x,y:i.y,target:i.target,event:r};if(i.userEvents.notify(e,n))r.preventDefault()},_withinIgnoreThreshold:function(){var e=this.x.initialDelta,t=this.y.initialDelta;return Math.sqrt(e*e+t*t)<=this.threshold}});function O(e){var t=l.eventMap.up.split(" "),i=0,r=t.length;for(;i<r;i++)e(t[i])}var g=m.extend({init:function(e,t){var i=this,r,n=l.guid();t=t||{};r=i.filter=t.filter;i.threshold=t.threshold||y;i.minHold=t.minHold||_;i.touches=[];i._maxTouches=t.multiTouch?2:1;i.allowSelection=t.allowSelection;i.captureUpIfMoved=t.captureUpIfMoved;i.useClickAsTap=!t.fastTap&&!h.delayedClick();i.eventNS=n;i._clicks=0;i.supportDoubleTap=t.supportDoubleTap;e=c(e).handler(i);m.fn.init.call(i);u(i,{element:e,surface:t.global&&P?c(e[0].ownerDocument.documentElement):c(t.surface||e),stopPropagation:t.stopPropagation,pressed:false});i.surface.handler(i).on(l.applyEventMap("move",n),"_move").on(l.applyEventMap("up cancel",n),"_end");e.on(l.applyEventMap("down",n),r,"_start");if(i.useClickAsTap)e.on(l.applyEventMap("click",n),r,"_click");if(h.pointers||h.msPointers)if(h.browser.version<11){var a="pinch-zoom double-tap-zoom";e.css("-ms-touch-action",t.touchAction&&t.touchAction!="none"?a+" "+t.touchAction:a)}else e.css("touch-action",t.touchAction||"none");if(t.preventDragEvent)e.on(l.applyEventMap("dragstart",n),l.preventDefault);e.on(l.applyEventMap("mousedown",n),r,{root:e},"_select");if(i.captureUpIfMoved&&h.eventCapture){var o=i.surface[0],s=c.proxy(i.preventIfMoving,i);O(function(e){o.addEventListener(e,s,true)})}i.bind([w,b,p,S,k,f,d,T,C,A,M,D,E,x],t)},preventIfMoving:function(e){if(this._isMoved())e.preventDefault()},destroy:function(){var t=this;if(t._destroyed)return;t._destroyed=true;if(t.captureUpIfMoved&&h.eventCapture){var i=t.surface[0];O(function(e){i.removeEventListener(e,t.preventIfMoving)})}t.element.kendoDestroy(t.eventNS);t.surface.kendoDestroy(t.eventNS);t.element.removeData("handler");t.surface.removeData("handler");t._disposeAll();t.unbind();delete t.surface;delete t.element;delete t.currentTarget},capture:function(){g.current=this},cancel:function(){this._disposeAll();this.trigger(C)},notify:function(e,t){var i=this,r=i.touches;if(this._isMultiTouch()){switch(e){case f:e=M;break;case d:e=D;break;case p:e=E;break}u(t,{touches:r},I(r[0],r[1]))}return this.trigger(e,u(t,{type:e}))},press:function(e,t,i){this._apiCall("_start",e,t,i)},move:function(e,t){this._apiCall("_move",e,t)},end:function(e,t){this._apiCall("_end",e,t)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){var e=this.touches;while(e.length>0)e.pop().dispose()},_isMoved:function(){return c.grep(this.touches,function(e){return e.isMoved()}).length},_select:function(e){if(!this.allowSelection||this.trigger(x,{event:e}))e.preventDefault()},_start:function(e){var t=this,i=0,r=t.filter,n,a=v(e),o=a.length,s,l=e.which;if(l&&l>1||t._maxTouchesReached())return;g.current=null;t.currentTarget=e.currentTarget;if(t.stopPropagation)e.stopPropagation();for(;i<o;i++){if(t._maxTouchesReached())break;s=a[i];if(r)n=c(s.currentTarget);else n=t.element;if(!n.length)continue;s=new z(t,n,s);t.touches.push(s);s.press();if(t._isMultiTouch())t.notify("gesturestart",{})}},_move:function(e){this._eachTouch("move",e)},_end:function(e){this._eachTouch("end",e)},_click:function(e){var t={touch:{initialTouch:e.target,target:c(e.currentTarget),endTime:a(),x:{location:e.pageX,client:e.clientX},y:{location:e.pageY,client:e.clientY}},x:e.pageX,y:e.pageY,target:c(e.currentTarget),event:e,type:"tap"};if(this.trigger("tap",t))e.preventDefault()},_eachTouch:function(e,t){var i=this,r={},n=v(t),a=i.touches,o,s,l,c;for(o=0;o<a.length;o++){s=a[o];r[s.id]=s}for(o=0;o<n.length;o++){l=n[o];c=r[l.id];if(c)c[e](l)}},_apiCall:function(e,t,i,r){this[e]({api:true,pageX:t,pageY:i,clientX:t,clientY:i,target:c(r||this.element)[0],stopPropagation:c.noop,preventDefault:c.noop})}});return g.defaultThreshold=function(e){y=e},g.minHold=function(e){_=e},l.getTouches=v,l.touchDelta=I,l.UserEvents=g,window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.draganddrop.min",["./kendo.core.min","./kendo.userevents.min"],function(){var e={id:"draganddrop",name:"Drag & drop",category:"framework",description:"Drag & drop functionality for any DOM element.",depends:["core","userevents"]},l=window.kendo.jQuery,d=void 0,c=window.kendo,p=c.support,u=window.document,v=l(window),t=c.Class,a=c.ui.Widget,n=c.Observable,g=c.UserEvents,o=l.proxy,s=l.extend,m=c.getOffset,_={},h={},f={},r,y=c.elementUnderCursor,w="keyup",b="change",x="dragstart",i="hold",k="drag",C="dragend",S="dragcancel",T="hintDestroyed",A="dragenter",M="dragleave",D="drop";function E(e,t){try{return l.contains(e,t)||e==t}catch(e){return false}}function P(e,t){return parseInt(e.css(t),10)||0}function I(e,t){return Math.min(Math.max(e,t.min),t.max)}function B(e,t){var i=m(e),r=c._outerWidth,n=c._outerHeight,a=i.left+P(e,"borderLeftWidth")+P(e,"paddingLeft"),o=i.top+P(e,"borderTopWidth")+P(e,"paddingTop"),s=a+e.width()-r(t,true),l=o+e.height()-n(t,true);return{x:{min:a,max:s},y:{min:o,max:l}}}function z(e,t,i){var r,n,a=0,o=t&&t.length,s=i&&i.length;while(e&&e.parentNode){for(a=0;a<o;a++){r=t[a];if(r.element[0]===e)return{target:r,targetElement:e}}for(a=0;a<s;a++){n=i[a];if(l.contains(n.element[0],e)&&p.matchesSelector.call(e,n.options.filter))return{target:n,targetElement:e}}e=e.parentNode}return d}var O=n.extend({init:function(e,t){var i=this,r=e[0];i.capture=false;if(r.addEventListener){l.each(c.eventMap.down.split(" "),function(){r.addEventListener(this,o(i._press,i),true)});l.each(c.eventMap.up.split(" "),function(){r.addEventListener(this,o(i._release,i),true)})}else{l.each(c.eventMap.down.split(" "),function(){r.attachEvent(this,o(i._press,i))});l.each(c.eventMap.up.split(" "),function(){r.attachEvent(this,o(i._release,i))})}n.fn.init.call(i);i.bind(["press","release"],t||{})},captureNext:function(){this.capture=true},cancelCapture:function(){this.capture=false},_press:function(e){var t=this;t.trigger("press");if(t.capture)e.preventDefault()},_release:function(e){var t=this;t.trigger("release");if(t.capture){e.preventDefault();t.cancelCapture()}}}),L=n.extend({init:function(e){var t=this;n.fn.init.call(t);t.forcedEnabled=false;l.extend(t,e);t.scale=1;if(t.horizontal){t.measure="offsetWidth";t.scrollSize="scrollWidth";t.axis="x"}else{t.measure="offsetHeight";t.scrollSize="scrollHeight";t.axis="y"}},makeVirtual:function(){l.extend(this,{virtual:true,forcedEnabled:true,_virtualMin:0,_virtualMax:0})},virtualSize:function(e,t){if(this._virtualMin!==e||this._virtualMax!==t){this._virtualMin=e;this._virtualMax=t;this.update()}},outOfBounds:function(e){return e>this.max||e<this.min},forceEnabled:function(){this.forcedEnabled=true},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(e){this.scale=e},update:function(e){var t=this,i=t.virtual?t._virtualMax:t.getTotal(),r=i*t.scale,n=t.getSize();if(i===0&&!t.forcedEnabled)return;t.max=t.virtual?-t._virtualMin:0;t.size=n;t.total=r;t.min=Math.min(t.max,n-r);t.minScale=n/i;t.centerOffset=(r-n)/2;t.enabled=t.forcedEnabled||r>n;if(!e)t.trigger(b,t)}}),R=n.extend({init:function(e){var t=this;n.fn.init.call(t);t.x=new L(s({horizontal:true},e));t.y=new L(s({horizontal:false},e));t.container=e.container;t.forcedMinScale=e.minScale;t.maxScale=e.maxScale||100;t.bind(b,e)},rescale:function(e){this.x.rescale(e);this.y.rescale(e);this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){var e=this;e.x.update();e.y.update();e.enabled=e.x.enabled||e.y.enabled;e.minScale=e.forcedMinScale||Math.min(e.x.minScale,e.y.minScale);e.fitScale=Math.max(e.x.minScale,e.y.minScale);e.trigger(b)}}),F=n.extend({init:function(e){var t=this;s(t,e);n.fn.init.call(t)},outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},dragMove:function(e){var t=this,i=t.dimension,r=t.axis,n=t.movable,a=n[r]+e;if(!i.enabled)return;if(a<i.min&&e<0||a>i.max&&e>0)e*=t.resistance;n.translateAxis(r,e);t.trigger(b,t)}}),V=t.extend({init:function(e){var h=this,u,f,t,d;s(h,{elastic:true},e);t=h.elastic?.5:0;d=h.movable;h.x=u=new F({axis:"x",dimension:h.dimensions.x,resistance:t,movable:d});h.y=f=new F({axis:"y",dimension:h.dimensions.y,resistance:t,movable:d});h.userEvents.bind(["press","move","end","gesturestart","gesturechange"],{gesturestart:function(e){h.gesture=e;h.offset=h.dimensions.container.offset()},press:function(e){if(l(e.event.target).closest("a").is("[data-navigate-on-press=true]"))e.sender.cancel()},gesturechange:function(e){var t=h.gesture,i=t.center,r=e.center,n=e.distance/t.distance,a=h.dimensions.minScale,o=h.dimensions.maxScale,s;if(d.scale<=a&&n<1)n+=(1-n)*.8;if(d.scale*n>=o)n=o/d.scale;var l=d.x+h.offset.left,c=d.y+h.offset.top;s={x:(l-i.x)*n+r.x-l,y:(c-i.y)*n+r.y-c};d.scaleWith(n);u.dragMove(s.x);f.dragMove(s.y);h.dimensions.rescale(d.scale);h.gesture=e;e.preventDefault()},move:function(e){if(e.event.target.tagName.match(/textarea|input/i))return;if(u.dimension.enabled||f.dimension.enabled){u.dragMove(e.x.delta);f.dragMove(e.y.delta);e.preventDefault()}else e.touch.skip()},end:function(e){e.preventDefault()}})}}),N=p.transitions.prefix+"Transform",H;if(p.hasHW3D)H=function(e,t,i){return"translate3d("+e+"px,"+t+"px,0) scale("+i+")"};else H=function(e,t,i){return"translate("+e+"px,"+t+"px) scale("+i+")"};var U=n.extend({init:function(e){var t=this;n.fn.init.call(t);t.element=l(e);t.element[0].style.webkitTransformOrigin="left top";t.x=0;t.y=0;t.scale=1;t._saveCoordinates(H(t.x,t.y,t.scale))},translateAxis:function(e,t){this[e]+=t;this.refresh()},scaleTo:function(e){this.scale=e;this.refresh()},scaleWith:function(e){this.scale*=e;this.refresh()},translate:function(e){this.x+=e.x;this.y+=e.y;this.refresh()},moveAxis:function(e,t){this[e]=t;this.refresh()},moveTo:function(e){s(this,e);this.refresh()},refresh:function(){var e=this,t=e.x,i=e.y,r;if(e.round){t=Math.round(t);i=Math.round(i)}r=H(t,i,e.scale);if(r!=e.coordinates){if(c.support.browser.msie&&c.support.browser.version<10){e.element[0].style.position="absolute";e.element[0].style.left=e.x+"px";e.element[0].style.top=e.y+"px"}else e.element[0].style[N]=r;e._saveCoordinates(r);e.trigger(b)}},_saveCoordinates:function(e){this.coordinates=e}});function j(e,t){var i=t.options.group,r=e[i],n;a.fn.destroy.call(t);if(r.length>1){for(n=0;n<r.length;n++)if(r[n]==t){r.splice(n,1);break}}else{r.length=0;delete e[i]}}var G=a.extend({init:function(e,t){var i=this;a.fn.init.call(i,e,t);var r=i.options.group;if(!(r in h))h[r]=[i];else h[r].push(i)},events:[A,M,D],options:{name:"DropTarget",group:"default"},destroy:function(){j(h,this)},_trigger:function(e,t){var i=this,r=_[i.options.group];if(r)return i.trigger(e,s({},t.event,{draggable:r,dropTarget:t.dropTarget}))},_over:function(e){this._trigger(A,e)},_out:function(e){this._trigger(M,e)},_drop:function(e){var t=this,i=_[t.options.group];if(i)i.dropped=!t._trigger(D,e)}}),W=(G.destroyGroup=function(e){var t=h[e]||f[e],i;if(t){for(i=0;i<t.length;i++)a.fn.destroy.call(t[i]);t.length=0;delete h[e];delete f[e]}},G._cache=h,G.extend({init:function(e,t){var i=this;a.fn.init.call(i,e,t);var r=i.options.group;if(!(r in f))f[r]=[i];else f[r].push(i)},destroy:function(){j(f,this)},options:{name:"DropTargetArea",group:"default",filter:null}})),q=a.extend({init:function(e,t){var i=this;a.fn.init.call(i,e,t);i._activated=false;i.userEvents=new g(i.element,{global:true,allowSelection:true,filter:i.options.filter,threshold:i.options.distance,start:o(i._start,i),hold:o(i._hold,i),move:o(i._drag,i),end:o(i._end,i),cancel:o(i._cancel,i),select:o(i._select,i)});if(c.support.touch)i.element.find(i.options.filter).css("touch-action","none");i._afterEndHandler=o(i._afterEnd,i);i._captureEscape=o(i._captureEscape,i)},events:[i,x,k,C,S,T],options:{name:"Draggable",distance:c.support.touch?0:5,group:"default",cursorOffset:null,axis:null,container:null,filter:null,ignore:null,holdToDrag:false,autoScroll:false,dropped:false},cancelHold:function(){this._activated=false},_captureEscape:function(e){var t=this;if(e.keyCode===c.keys.ESC){t._trigger(S,{event:e});t.userEvents.cancel()}},_updateHint:function(e){var t=this,i,r=t.options,n=t.boundaries,a=r.axis,o=t.options.cursorOffset;if(o)i={left:e.x.location+o.left,top:e.y.location+o.top};else{t.hintOffset.left+=e.x.delta;t.hintOffset.top+=e.y.delta;i=l.extend({},t.hintOffset)}if(n){i.top=I(i.top,n.y);i.left=I(i.left,n.x)}if(a==="x")delete i.top;else if(a==="y")delete i.left;t.hint.css(i)},_shouldIgnoreTarget:function(e){var t=this.options.ignore;return t&&l(e).is(t)},_select:function(e){if(!this._shouldIgnoreTarget(e.event.target))e.preventDefault()},_start:function(t){var i=this,e=i.options,r=e.container?l(e.container):null,n=e.hint;if(this._shouldIgnoreTarget(t.touch.initialTouch)||e.holdToDrag&&!i._activated){i.userEvents.cancel();return}i.currentTarget=t.target;i.currentTargetOffset=m(i.currentTarget);if(n){if(i.hint)i.hint.stop(true,true).remove();i.hint=c.isFunction(n)?l(n.call(i,i.currentTarget)):n;var a=m(i.currentTarget);i.hintOffset=a;i.hint.css({position:"absolute",zIndex:2e4,left:a.left,top:a.top}).appendTo(u.body);i.angular("compile",function(){i.hint.removeAttr("ng-repeat");var e=l(t.target);while(!e.data("$$kendoScope")&&e.length)e=e.parent();return{elements:i.hint.get(),scopeFrom:e.data("$$kendoScope")}})}_[e.group]=i;i.dropped=false;if(r)i.boundaries=B(r,i.hint);l(u).on(w,i._captureEscape);if(i._trigger(x,t)){i.userEvents.cancel();i._afterEnd()}i.userEvents.capture()},_hold:function(e){this.currentTarget=e.target;if(this._trigger(i,e))this.userEvents.cancel();else this._activated=true},_drag:function(e){e.preventDefault();var t=this._elementUnderCursor(e);if(this.options.autoScroll&&this._cursorElement!==t){this._scrollableParent=X(t);this._cursorElement=t}this._lastEvent=e;this._processMovement(e,t);if(this.options.autoScroll)if(this._scrollableParent[0]){var i=K(e.x.location,e.y.location,Y(this._scrollableParent));this._scrollCompenstation=l.extend({},this.hintOffset);this._scrollVelocity=i;if(i.y===0&&i.x===0){clearInterval(this._scrollInterval);this._scrollInterval=null}else if(!this._scrollInterval)this._scrollInterval=setInterval(l.proxy(this,"_autoScroll"),50)}if(this.hint)this._updateHint(e)},_processMovement:function(i,e){this._withDropTarget(e,function(e,t){if(!e){if(r){r._trigger(M,s(i,{dropTarget:l(r.targetElement)}));r=null}return}if(r){if(t===r.targetElement)return;r._trigger(M,s(i,{dropTarget:l(r.targetElement)}))}e._trigger(A,s(i,{dropTarget:l(t)}));r=s(e,{targetElement:t})});this._trigger(k,s(i,{dropTarget:r,elementUnderCursor:e}))},_autoScroll:function(){var e=this._scrollableParent[0],t=this._scrollVelocity,i=this._scrollCompenstation;if(!e)return;var h=this._elementUnderCursor(this._lastEvent);this._processMovement(this._lastEvent,h);var r,n;var a=e===$()[0];if(a){r=u.body.scrollHeight>v.height();n=u.body.scrollWidth>v.width()}else{r=e.offsetHeight<=e.scrollHeight;n=e.offsetWidth<=e.scrollWidth}var o=e.scrollTop+t.y;var s=r&&o>0&&o<e.scrollHeight;var l=e.scrollLeft+t.x;var c=n&&l>0&&l<e.scrollWidth;if(s)e.scrollTop+=t.y;else if(r&&o<0)e.scrollTop=0;if(c)e.scrollLeft+=t.x;else if(n&&l<0)e.scrollLeft=0;if(this.hint&&a&&(c||s)){if(s)i.top+=t.y;if(c)i.left+=t.x;this.hint.css(i)}},_end:function(i){this._withDropTarget(this._elementUnderCursor(i),function(e,t){if(e){e._drop(s({},i,{dropTarget:l(t)}));r=null}});clearInterval(this._scrollInterval);this._scrollInterval=null;this._cancel(this._trigger(C,i))},_cancel:function(e){var t=this;t._scrollableParent=null;this._cursorElement=null;clearInterval(this._scrollInterval);t._activated=false;if(t.hint&&!t.dropped)setTimeout(function(){t.hint.stop(true,true);if(e)t._afterEndHandler();else t.hint.animate(t.currentTargetOffset,"fast",t._afterEndHandler)},0);else t._afterEnd()},_trigger:function(e,t){var i=this;return i.trigger(e,s({},t.event,{x:t.x,y:t.y,currentTarget:i.currentTarget,initialTarget:t.touch?t.touch.initialTouch:null,dropTarget:t.dropTarget,elementUnderCursor:t.elementUnderCursor}))},_elementUnderCursor:function(e){var t=y(e),i=this.hint;if(i&&E(i[0],t)){i.hide();t=y(e);if(!t)t=y(e);i.show()}return t},_withDropTarget:function(e,t){var i,r=this.options.group,n=h[r],a=f[r];if(n&&n.length||a&&a.length){i=z(e,n,a);if(i)t(i.target,i.targetElement);else t()}},destroy:function(){var e=this;a.fn.destroy.call(e);e._afterEnd();e.userEvents.destroy();this._scrollableParent=null;this._cursorElement=null;clearInterval(this._scrollInterval);e.currentTarget=null},_afterEnd:function(){var e=this;if(e.hint)e.hint.remove();delete _[e.options.group];e.trigger("destroy");e.trigger(T);l(u).off(w,e._captureEscape)}});function Y(e){var t=$()[0],i,r,n;if(e[0]===t){r=t.scrollTop;n=t.scrollLeft;return{top:r,left:n,bottom:r+v.height(),right:n+v.width()}}else{i=e.offset();i.bottom=i.top+e.height();i.right=i.left+e.width();return i}}function $(){return l(c.support.browser.edge||c.support.browser.safari?u.body:u.documentElement)}function X(e){var t=$();if(!e||e===u.body||e===u.documentElement)return t;var i=l(e)[0];while(i&&!c.isScrollable(i)&&i!==u.body)i=i.parentNode;if(i===u.body)return t;return l(i)}function K(e,t,i){var r={x:0,y:0};var n=50;if(e-i.left<n)r.x=-(n-(e-i.left));else if(i.right-e<n)r.x=n-(i.right-e);if(t-i.top<n)r.y=-(n-(t-i.top));else if(i.bottom-t<n)r.y=n-(i.bottom-t);return r}return c.ui.plugin(G),c.ui.plugin(W),c.ui.plugin(q),c.TapCapture=O,c.containerBoundaries=B,s(c.ui,{Pane:V,PaneDimensions:R,Movable:U}),c.ui.Draggable.utils={autoScrollVelocity:K,scrollableViewPort:Y,findScrollableParent:X},window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.mobile.scroller.min",["./kendo.fx.min","./kendo.draganddrop.min"],function(){var e={id:"mobile.scroller",name:"Scroller",category:"mobile",description:"The Kendo Mobile Scroller widget enables touch friendly kinetic scrolling for the contents of a given DOM element.",depends:["fx","draganddrop"]},f=window.kendo.jQuery,i=void 0,d=window.kendo,a,o=d.effects,s=d.mobile.ui,p=f.proxy,v=f.extend,g=s.Widget,l=d.Class,y=d.ui.Movable,w=d.ui.Pane,b=d.ui.PaneDimensions,c=o.Transition,r=o.Animation,m=Math.abs,h=500,u=.7,x=.96,k=10,n=55,C=.5,S=5,t="km-scroller-release",T="km-scroller-refresh",A="pull",_="change",M="resize",D="scroll",E=2,P=r.extend({init:function(e){var t=this;r.fn.init.call(t);v(t,e);t.userEvents.bind("gestureend",p(t.start,t));t.tapCapture.bind("press",p(t.cancel,t))},enabled:function(){return this.movable.scale<this.dimensions.minScale},done:function(){return this.dimensions.minScale-this.movable.scale<.01},tick:function(){var e=this.movable;e.scaleWith(1.1);this.dimensions.rescale(e.scale)},onEnd:function(){var e=this.movable;e.scaleTo(this.dimensions.minScale);this.dimensions.rescale(e.scale)}}),I=r.extend({init:function(e){var t=this;r.fn.init.call(t);v(t,e,{transition:new c({axis:e.axis,movable:e.movable,onEnd:function(){t._end()}})});t.tapCapture.bind("press",function(){t.cancel()});t.userEvents.bind("end",p(t.start,t));t.userEvents.bind("gestureend",p(t.start,t));t.userEvents.bind("tap",p(t.onEnd,t))},onCancel:function(){this.transition.cancel()},freeze:function(e){var t=this;t.cancel();t._moveTo(e)},onEnd:function(){var e=this;if(e.paneAxis.outOfBounds())e._snapBack();else e._end()},done:function(){return m(this.velocity)<1},start:function(e){var t=this,i;if(!t.dimension.enabled)return;if(t.paneAxis.outOfBounds())if(t.transition._started){t.transition.cancel();t.velocity=Math.min(e.touch[t.axis].velocity*t.velocityMultiplier,n);r.fn.start.call(t)}else t._snapBack();else{i=e.touch.id===E?0:e.touch[t.axis].velocity;t.velocity=Math.max(Math.min(i*t.velocityMultiplier,n),-n);t.tapCapture.captureNext();r.fn.start.call(t)}},tick:function(){var e=this,t=e.dimension,i=e.paneAxis.outOfBounds()?C:e.friction,r=e.velocity*=i,n=e.movable[e.axis]+r;if(!e.elastic&&t.outOfBounds(n)){n=Math.max(Math.min(n,t.max),t.min);e.velocity=0}e.movable.moveAxis(e.axis,n)},_end:function(){this.tapCapture.cancelCapture();this.end()},_snapBack:function(){var e=this,t=e.dimension,i=e.movable[e.axis]>t.max?t.max:t.min;e._moveTo(i)},_moveTo:function(e){this.transition.moveTo({location:e,duration:h,ease:c.easeOutExpo})}}),B=r.extend({init:function(e){var t=this;d.effects.Animation.fn.init.call(this);v(t,e,{origin:{},destination:{},offset:{}})},tick:function(){this._updateCoordinates();this.moveTo(this.origin)},done:function(){return m(this.offset.y)<S&&m(this.offset.x)<S},onEnd:function(){this.moveTo(this.destination);if(this.callback)this.callback.call()},setCoordinates:function(e,t){this.offset={};this.origin=e;this.destination=t},setCallback:function(e){if(e&&d.isFunction(e))this.callback=e;else e=i},_updateCoordinates:function(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4};this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}}}),z=l.extend({init:function(e){var t=this,i=e.axis==="x",r=f('<div role="scrollbar" aria-controls="'+e.controlsId+'" class="km-touch-scrollbar km-'+(i?"horizontal":"vertical")+'-scrollbar" />');if(i)r.attr("aria-orientation","horizontal");v(t,e,{element:r,elementSize:0,movable:new y(r),scrollMovable:e.movable,alwaysVisible:e.alwaysVisible,size:i?"width":"height"});t.scrollMovable.bind(_,p(t.refresh,t));t.container.append(r);if(e.alwaysVisible)t.show()},refresh:function(){var e=this,t=e.axis,i=e.dimension,r=i.size,n=e.scrollMovable,a=r/i.total,o=Math.round(-n[t]*a),s=Math.round(r*a);if(a>=1)this.element.css("display","none");else this.element.css("display","");if(o+s>r)s=r-o;else if(o<0){s+=o;o=0}if(e.elementSize!=s){e.element.css(e.size,s+"px");e.elementSize=s}e._ariaValue(o,i.size-e.elementSize);e.movable.moveAxis(t,o)},show:function(){this.element.css({opacity:u,visibility:"visible"})},hide:function(){if(!this.alwaysVisible)this.element.css({opacity:0})},_ariaValue:function(e,t){var i=this.element;if(e>t)e=t;i.attr("aria-valuemax",t);i.attr("aria-valuenow",e)}}),O=g.extend({init:function(e,t){var o=this;g.fn.init.call(o,e,t);e=o.element;o._native=o.options.useNative&&d.support.hasNativeScrolling;if(o._native){e.addClass("km-native-scroller").prepend('<div class="km-scroll-header"/>');v(o,{scrollElement:e,fixedContainer:e.children().first()});return}e.css("overflow","hidden").addClass("km-scroll-wrapper").wrapInner('<div class="km-scroll-container"/>').prepend('<div class="km-scroll-header"/>');var i=e.children().eq(1),r=new d.TapCapture(e),n=new y(i),s=new b({element:i,container:e,forcedEnabled:o.options.zoom}),l=this.options.avoidScrolling,c=new d.UserEvents(e,{touchAction:"pan-y",fastTap:true,allowSelection:true,preventDragEvent:true,captureUpIfMoved:true,multiTouch:o.options.zoom,supportDoubleTap:o.options.supportDoubleTap,start:function(e){s.refresh();var t=m(e.x.velocity),i=m(e.y.velocity),r=t*2>=i,n=f.contains(o.fixedContainer[0],e.event.target),a=i*2>=t;if(!n&&!l(e)&&o.enabled&&(s.x.enabled&&r||s.y.enabled&&a))c.capture();else c.cancel()}}),a=new w({movable:n,dimensions:s,userEvents:c,elastic:o.options.elastic}),h=new P({movable:n,dimensions:s,userEvents:c,tapCapture:r}),u=new B({moveTo:function(e){o.scrollTo(e.x,e.y)}});n.bind(_,function(){o.scrollTop=-n.y;o.scrollLeft=-n.x;o.trigger(D,{scrollTop:o.scrollTop,scrollLeft:o.scrollLeft})});if(o.options.mousewheelScrolling)e.on("DOMMouseScroll mousewheel",p(this,"_wheelScroll"));v(o,{movable:n,dimensions:s,zoomSnapBack:h,animatedScroller:u,userEvents:c,pane:a,tapCapture:r,pulled:false,enabled:true,scrollElement:i,scrollTop:0,scrollLeft:0,fixedContainer:e.children().first()});o._initAxis("x");o._initAxis("y");o._wheelEnd=function(){o._wheel=false;o.userEvents.end(0,o._wheelY)};s.refresh();if(o.options.pullToRefresh)o._initPullToRefresh()},_wheelScroll:function(e){if(e.ctrlKey)return;if(!this._wheel){this._wheel=true;this._wheelY=0;this.userEvents.press(0,this._wheelY)}clearTimeout(this._wheelTimeout);this._wheelTimeout=setTimeout(this._wheelEnd,50);var t=d.wheelDeltaY(e);if(t){this._wheelY+=t;this.userEvents.move(0,this._wheelY)}e.preventDefault()},makeVirtual:function(){this.dimensions.y.makeVirtual()},virtualSize:function(e,t){this.dimensions.y.virtualSize(e,t)},height:function(){return this.dimensions.y.size},scrollHeight:function(){return this.scrollElement[0].scrollHeight},scrollWidth:function(){return this.scrollElement[0].scrollWidth},options:{name:"Scroller",zoom:false,pullOffset:140,visibleScrollHints:false,elastic:true,useNative:false,mousewheelScrolling:true,avoidScrolling:function(){return false},pullToRefresh:false,messages:{pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"}},events:[A,D,M],_resize:function(){if(!this._native)this.contentResized()},setOptions:function(e){var t=this;g.fn.setOptions.call(t,e);if(e.pullToRefresh)t._initPullToRefresh()},reset:function(){if(this._native)this.scrollElement.scrollTop(0);else{this.movable.moveTo({x:0,y:0});this._scale(1)}},contentResized:function(){this.dimensions.refresh();if(this.pane.x.outOfBounds())this.movable.moveAxis("x",this.dimensions.x.min);if(this.pane.y.outOfBounds())this.movable.moveAxis("y",this.dimensions.y.min)},zoomOut:function(){var e=this.dimensions;e.refresh();this._scale(e.fitScale);this.movable.moveTo(e.centerCoordinates())},enable:function(){this.enabled=true},disable:function(){this.enabled=false},scrollTo:function(e,t){if(this._native){d.scrollLeft(this.scrollElement,m(e));this.scrollElement.scrollTop(m(t))}else{this.dimensions.refresh();this.movable.moveTo({x:e,y:t})}},animatedScrollTo:function(e,t,i){var r,n;if(this._native)this.scrollTo(e,t);else{r={x:this.movable.x,y:this.movable.y};n={x:e,y:t};this.animatedScroller.setCoordinates(r,n);this.animatedScroller.setCallback(i);this.animatedScroller.start()}},pullHandled:function(){var e=this;e.refreshHint.removeClass(T);e.hintContainer.html(e.pullTemplate({}));e.yinertia.onEnd();e.xinertia.onEnd();e.userEvents.cancel()},destroy:function(){g.fn.destroy.call(this);if(this.userEvents)this.userEvents.destroy()},_scale:function(e){this.dimensions.rescale(e);this.movable.scaleTo(e)},_initPullToRefresh:function(){var e=this;e.dimensions.y.forceEnabled();e.pullTemplate=d.template(e.options.messages.pullTemplate);e.releaseTemplate=d.template(e.options.messages.releaseTemplate);e.refreshTemplate=d.template(e.options.messages.refreshTemplate);e.scrollElement.prepend('<span class="km-scroller-pull"><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span><span class="km-template">'+e.pullTemplate({})+"</span></span>");e.refreshHint=e.scrollElement.children().first();e.hintContainer=e.refreshHint.children(".km-template");e.pane.y.bind("change",p(e._paneChange,e));e.userEvents.bind("end",p(e._dragEnd,e))},_dragEnd:function(){var e=this;if(!e.pulled)return;e.pulled=false;e.refreshHint.removeClass(t).addClass(T);e.hintContainer.html(e.refreshTemplate({}));e.yinertia.freeze(e.options.pullOffset/2);e.trigger("pull")},_paneChange:function(){var e=this;if(e.movable.y/C>e.options.pullOffset){if(!e.pulled){e.pulled=true;e.refreshHint.removeClass(T).addClass(t);e.hintContainer.html(e.releaseTemplate({}))}}else if(e.pulled){e.pulled=false;e.refreshHint.removeClass(t);e.hintContainer.html(e.pullTemplate({}))}},_initAxis:function(e){var t=this,i=t.element.attr("id"),r=t.movable,n=t.dimensions[e],a=t.tapCapture,o=t.pane[e],s;if(!i){i=d.guid();t.element.attr("id",i)}s=new z({axis:e,movable:r,dimension:n,container:t.element,alwaysVisible:t.options.visibleScrollHints,controlsId:i});n.bind(_,function(){s.refresh()});o.bind(_,function(){s.show()});t[e+"inertia"]=new I({axis:e,paneAxis:o,movable:r,tapCapture:a,userEvents:t.userEvents,dimension:n,elastic:t.options.elastic,friction:t.options.friction||x,velocityMultiplier:t.options.velocityMultiplier||k,end:function(){s.hide();t.trigger("scrollEnd",{axis:e,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft})}})}});return s.plugin(O),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.popup.min",["./kendo.core.min"],function(){var e={id:"popup",name:"Pop-up",category:"framework",depends:["core"],advanced:true},I=window.kendo.jQuery,u=void 0,B=window.kendo,t=B.ui,a=t.Widget,i=B.Class,z=B.support,O=B.getOffset,L=B._outerWidth,R=B._outerHeight,f="open",s="close",r="deactivate",o="activate",y="center",l="left",w="right",d="top",b="bottom",V="absolute",p="hidden",v="body",N="location",H="position",c="visible",g="effects",m="k-state-active",_="k-state-border",x=/k-state-border-(\w+)/,k=".k-picker-wrap, .k-dropdown-wrap, .k-link",C="down",S=I(document.documentElement),T=I.proxy,A=I(window),M="scroll",D,E=z.transitions.css+"transform",F=I.extend,n=".kendoPopup",h=["font-size","font-family","font-stretch","font-style","font-weight","line-height"];function P(e,t){if(!e||!t)return false;return e===t||I.contains(e,t)}var U=a.extend({init:function(e,t){var i=this,r;t=t||{};if(t.isRtl){t.origin=t.origin||b+" "+w;t.position=t.position||d+" "+w}a.fn.init.call(i,e,t);e=i.element;t=i.options;i.collisions=t.collision?t.collision.split(" "):[];i.downEvent=B.applyEventMap(C,B.guid());if(i.collisions.length===1)i.collisions.push(i.collisions[0]);r=I(i.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])");t.appendTo=I(I(t.appendTo)[0]||r[0]||document.body);i.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!t.isRtl).css({position:V}).appendTo(t.appendTo).attr("aria-hidden",true).on("mouseenter"+n,function(){i._hovered=true}).on("wheel"+n,function(e){var t=I(e.target).find(".k-list");var i=t.parent();if(t.length&&t.is(":visible")&&(i.scrollTop()===0&&e.originalEvent.deltaY<0||i.scrollTop()===i.prop("scrollHeight")-i.prop("offsetHeight")&&e.originalEvent.deltaY>0))e.preventDefault()}).on("mouseleave"+n,function(){i._hovered=false});i.wrapper=I();if(t.animation===false)t.animation={open:{effects:{}},close:{hide:true,effects:{}}};F(t.animation.open,{complete:function(){i.wrapper.css({overflow:c});i._activated=true;i._trigger(o)}});F(t.animation.close,{complete:function(){i._animationClose()}});i._mousedownProxy=function(e){i._mousedown(e)};if(z.mobileOS.android)i._resizeProxy=function(e){setTimeout(function(){i._resize(e)},600)};else i._resizeProxy=function(e){i._resize(e)};if(t.toggleTarget)I(t.toggleTarget).on(t.toggleEvent+n,I.proxy(i.toggle,i))},events:[f,o,s,r],options:{name:"Popup",toggleEvent:"click",origin:b+" "+l,position:d+" "+l,anchor:v,appendTo:null,collision:"flip fit",viewport:window,copyAnchorStyles:true,autosize:false,modal:false,adjustSize:{width:0,height:0},animation:{open:{effects:"slideIn:down",transition:true,duration:200},close:{duration:100,hide:true}},omitOriginOffsets:false},_animationClose:function(){var e=this;var t=e.wrapper.data(N);e.wrapper.hide();if(t)e.wrapper.css(t);if(e.options.anchor!=v)e._hideDirClass();e._closing=false;e._trigger(r)},destroy:function(){var e=this,t=e.options,i=e.element.off(n),r;a.fn.destroy.call(e);if(t.toggleTarget)I(t.toggleTarget).off(n);if(!t.modal){S.off(e.downEvent,e._mousedownProxy);e._toggleResize(false)}B.destroy(e.element.children());i.removeData();if(t.appendTo[0]===document.body){r=i.parent(".k-animation-container");if(r[0])r.remove();else i.remove()}},open:function(e,t){var i=this,r={isFixed:!isNaN(parseInt(t,10)),x:e,y:t},n=i.element,a=i.options,o,s,l=I(a.anchor),c=n[0]&&n.hasClass("km-widget");if(!i.visible()){if(a.copyAnchorStyles){if(c&&h[0]=="font-size")h.shift();n.css(B.getComputedStyles(l[0],h))}if(n.data("animating")||i._trigger(f))return;i._activated=false;if(!a.modal){S.off(i.downEvent,i._mousedownProxy).on(i.downEvent,i._mousedownProxy);i._toggleResize(false);i._toggleResize(true)}i.wrapper=s=B.wrap(n,a.autosize).css({overflow:p,display:"block",position:V}).attr("aria-hidden",false);if(z.mobileOS.android)s.css(E,"translatez(0)");s.css(H);if(I(a.appendTo)[0]==document.body)s.css(d,"-10000px");i.flipped=i._position(r);o=i._openAnimation();if(a.anchor!=v)i._showDirClass(o);if(!n.is(":visible")&&n.data("olddisplay")===u){n.show();n.data("olddisplay",n.css("display"));n.hide()}n.data(g,o.effects).kendoStop(true).kendoAnimate(o).attr("aria-hidden",false)}},_location:function(e){var t=this,i=t.element,r=t.options,n,a=I(r.anchor),o=i[0]&&i.hasClass("km-widget");if(r.copyAnchorStyles){if(o&&h[0]=="font-size")h.shift();i.css(B.getComputedStyles(a[0],h))}t.wrapper=n=B.wrap(i,r.autosize).css({overflow:p,display:"block",position:V});if(z.mobileOS.android)n.css(E,"translatez(0)");n.css(H);if(I(r.appendTo)[0]==document.body)n.css(d,"-10000px");t._position(e||{});var s=n.offset();return{width:B._outerWidth(n),height:B._outerHeight(n),left:s.left,top:s.top}},_openAnimation:function(){var e=F(true,{},this.options.animation.open);e.effects=B.parseEffects(e.effects,this.flipped);return e},_hideDirClass:function(){var e=I(this.options.anchor);var t=((e.attr("class")||"").match(x)||["","down"])[1];var i=_+"-"+t;e.removeClass(i).children(k).removeClass(m).removeClass(i);this.element.removeClass(_+"-"+B.directions[t].reverse)},_showDirClass:function(e){var t=e.effects.slideIn?e.effects.slideIn.direction:"down";var i=_+"-"+t;I(this.options.anchor).addClass(i).children(k).addClass(m).addClass(i);this.element.addClass(_+"-"+B.directions[t].reverse)},position:function(){if(this.visible())this.flipped=this._position()},toggle:function(){var e=this;e[e.visible()?s:f]()},visible:function(){return this.element.is(":"+c)},close:function(i){var e=this,t=e.options,r,n,a,o;if(e.visible()){r=e.wrapper[0]?e.wrapper:B.wrap(e.element).hide();e._toggleResize(false);if(e._closing||e._trigger(s)){e._toggleResize(true);return}e.element.find(".k-popup").each(function(){var e=I(this),t=e.data("kendoPopup");if(t)t.close(i)});S.off(e.downEvent,e._mousedownProxy);if(i)n={hide:true,effects:{}};else{n=F(true,{},t.animation.close);a=e.element.data(g);o=n.effects;if(!o&&!B.size(o)&&a&&B.size(a)){n.effects=a;n.reverse=true}e._closing=true}e.element.kendoStop(true).attr("aria-hidden",true);r.css({overflow:p}).attr("aria-hidden",true);e.element.kendoAnimate(n);if(i)e._animationClose()}},_trigger:function(e){return this.trigger(e,{type:e})},_resize:function(e){var t=this;if(z.resize.indexOf(e.type)!==-1){clearTimeout(t._resizeTimeout);t._resizeTimeout=setTimeout(function(){t._position();t._resizeTimeout=null},50)}else if(!t._hovered||t._activated&&t.element.find(".k-list").length>0)t.close()},_toggleResize:function(e){var t=e?"on":"off";var i=z.resize;if(!(z.mobileOS.ios||z.mobileOS.android||z.browser.safari))i+=" "+M;if(e&&!this.scrollableParents)this.scrollableParents=this._scrollableParents();if(this.scrollableParents&&this.scrollableParents.length)this.scrollableParents[t](M,this._resizeProxy);A[t](i,this._resizeProxy)},_mousedown:function(e){var t=this,i=t.element[0],r=t.options,n=I(r.anchor)[0],a=r.toggleTarget,o=B.eventTarget(e),s=I(o).closest(".k-popup"),l=s.parent().parent(".km-shim").length;s=s[0];if(!l&&s&&s!==t.element[0])return;if(I(e.target).closest("a").data("rel")==="popover")return;if(!P(i,o)&&!P(n,o)&&!(a&&P(I(a)[0],o)))t.close()},_fit:function(e,t,i){var r=0;if(e+t>i)r=i-(e+t);if(e<0)r=-e;return r},_flip:function(e,t,i,r,n,a,o){var s=0;o=o||t;if(a!==n&&a!==y&&n!==y){if(e+o>r)s+=-(i+t);if(e+s<0)s+=i+t}return s},_scrollableParents:function(){return I(this.options.anchor).parentsUntil("body").filter(function(e,t){return B.isScrollable(t)})},_position:function(e){var t=this,h=t.element,i=t.wrapper,r=t.options,n=I(r.viewport),a=z.zoomLevel(),u=!!(n[0]==window&&window.innerWidth&&a<=1.02),o=I(r.anchor),f=r.origin.toLowerCase().split(" "),d=r.position.toLowerCase().split(" "),p=t.collisions,v,g,s,m=10002,_=0,y=document.documentElement,w,b,l,x;if(r.viewport===window)b={top:window.pageYOffset||document.documentElement.scrollTop||0,left:window.pageXOffset||document.documentElement.scrollLeft||0};else b=n.offset();if(u){l=window.innerWidth;x=window.innerHeight}else{l=n.width();x=n.height()}if(u&&y.scrollHeight-y.clientHeight>0){var k=r.isRtl?-1:1;l-=k*B.support.scrollbar()}v=o.parents().filter(i.siblings());if(v[0]){s=Math.max(Number(v.css("zIndex")),0);if(s)m=s+10;else{g=o.parentsUntil(v);for(w=g.length;_<w;_++){s=Number(I(g[_]).css("zIndex"));if(s&&m<s)m=s+10}}}i.css("zIndex",m);if(e&&e.isFixed)i.css({left:e.x,top:e.y});else i.css(t._align(f,d));var C=O(i,H,o[0]===i.offsetParent()[0]),S=O(i),T=o.offsetParent().parent(".k-animation-container,.k-popup,.k-group");if(T.length){C=O(i,H,true);S=O(i)}S.top-=b.top;S.left-=b.left;if(!t.wrapper.data(N))i.data(N,F({},C));var A=F({},S),c=F({},C),M=r.adjustSize;if(p[0]==="fit")c.top+=t._fit(A.top,R(i)+M.height,x/a);if(p[1]==="fit")c.left+=t._fit(A.left,L(i)+M.width,l/a);var D=F({},c);var E=R(h);var P=R(i);if(!i.height()&&E)P=P+E;if(p[0]==="flip")c.top+=t._flip(A.top,E,R(o),x/a,f[0],d[0],P);if(p[1]==="flip")c.left+=t._flip(A.left,L(h),L(o),l/a,f[1],d[1],L(i));h.css(H,V);i.css(c);return c.left!=D.left||c.top!=D.top},_align:function(e,t){var i=this,r=i.wrapper,n=I(i.options.anchor),a=e[0],h=e[1],u=t[0],f=t[1],d=O(n),p=I(i.options.appendTo),o,v=L(r),g=R(r)||R(r.children().first()),m=L(n),_=R(n),s=i.options.omitOriginOffsets?0:d.top,l=i.options.omitOriginOffsets?0:d.left,c=Math.round;if(p[0]!=document.body){o=O(p);s-=o.top;l-=o.left}if(a===b)s+=_;if(a===y)s+=c(_/2);if(u===b)s-=g;if(u===y)s-=c(g/2);if(h===w)l+=m;if(h===y)l+=c(m/2);if(f===w)l-=v;if(f===y)l-=c(v/2);return{top:s,left:l}}}),j=(t.plugin(U),B.support.stableSort),G="kendoTabKeyTrap",W="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], *[contenteditable]",q=i.extend({init:function(e){this.element=I(e);this.element.autoApplyNS(G)},trap:function(){this.element.on("keydown",T(this._keepInTrap,this))},removeTrap:function(){this.element.kendoDestroy(G)},destroy:function(){this.element.kendoDestroy(G);this.element=u},shouldTrap:function(){return true},_keepInTrap:function(e){if(e.which!==9||!this.shouldTrap()||e.isDefaultPrevented())return;var t=this._focusableElements();var i=this._sortFocusableElements(t);var r=this._nextFocusable(e,i);this._focus(r);e.preventDefault()},_focusableElements:function(){var e=this.element.find(W).filter(function(e,t){return t.tabIndex>=0&&I(t).is(":visible")&&!I(t).is("[disabled]")});if(this.element.is("[tabindex]"))e.push(this.element[0]);return e},_sortFocusableElements:function(e){var t;if(j)t=e.sort(function(e,t){return e.tabIndex-t.tabIndex});else{var i="__k_index";e.each(function(e,t){t.setAttribute(i,e)});t=e.sort(function(e,t){return e.tabIndex===t.tabIndex?parseInt(e.getAttribute(i),10)-parseInt(t.getAttribute(i),10):e.tabIndex-t.tabIndex});e.removeAttr(i)}return t},_nextFocusable:function(e,t){var i=t.length;var r=t.index(e.target);return t.get((r+(e.shiftKey?-1:1))%i)},_focus:function(e){if(e.nodeName=="IFRAME"){e.contentWindow.document.body.focus();return}e.focus();if(e.nodeName=="INPUT"&&e.setSelectionRange&&this._haveSelectionRange(e))e.setSelectionRange(0,e.value.length)},_haveSelectionRange:function(e){var t=e.type.toLowerCase();return t==="text"||t==="search"||t==="url"||t==="tel"||t==="password"}});return t.Popup.TabKeyTrap=q,window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.tooltip.min",["./kendo.core.min","./kendo.popup.min","./kendo.fx.min"],function(){var e={id:"tooltip",name:"Tooltip",category:"web",description:"The Tooltip widget displays a popup hint for a given html element.",depends:["core","popup"],features:[{id:"tooltip-fx",name:"Animation",description:"Support for animation",depends:["fx"]}]},h=window.kendo.jQuery,d=void 0,c=window.kendo,n=c.ui.Widget,p=c.ui.Popup,v=c.isFunction,g=h.isPlainObject,m=h.extend,a=h.proxy,r=h(document),_=c.isLocalUrl,y="_tb_active",o="aria-describedby",w="show",b="hide",x="error",s="contentLoad",k="requestStart",l="k-content-frame",C='<div role="tooltip" class="k-widget k-tooltip#if (!autoHide) {# k-tooltip-closable#}#">'+'<div class="k-tooltip-content"></div>'+'#if (!autoHide) {# <div class="k-tooltip-button"><a href="\\#" class="k-icon k-i-close" title="Close"></a></div> #}#'+'#if (callout){ #<div class="k-callout k-callout-#=dir#"></div>#}#'+"</div>",S=c.template("<iframe frameborder='0' class='"+l+"' src='#= content.url #'>"+"This page requires frames in order to show content"+"</iframe>"),u=".kendoTooltip",T={bottom:{origin:"bottom center",position:"top center"},top:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"},center:{position:"center center",origin:"center center"}},A={top:"bottom",bottom:"top",left:"right",right:"left",center:"center"},M={bottom:"n",top:"s",left:"e",right:"w",center:"n"},D={horizontal:{offset:"top",size:"outerHeight"},vertical:{offset:"left",size:"outerWidth"}},t=function(e){return e.target.data(c.ns+"title")};function E(e){while(e.length){if(i(e))break;e=e.parent()}}function i(e){var t=e.data(c.ns+"title");if(t){e.attr("title",t);e.removeData(c.ns+"title");return true}}function P(e){var t=e.attr("title");if(t){e.data(c.ns+"title",t);e.attr("title","");return true}}function I(e){while(e.length&&!e.is("body")){if(P(e))break;e=e.parent()}}var f=n.extend({init:function(e,t){var i=this,r;n.fn.init.call(i,e,t);r=i.options.position.match(/left|right/)?"horizontal":"vertical";i.dimensions=D[r];if(c.support.touch&&this._isShownOnMouseEnter())i.element.on(c.support.mousedown+u,i.options.filter,a(i._showOn,i));i.element.on(i.options.showOn+u,i.options.filter,a(i._showOn,i))},options:{name:"TooltipBase",filter:"",offset:0,showAfter:100,hideAfter:100,callout:true,position:"bottom",showOn:"mouseenter",animation:{open:{effects:"fade:in",duration:0},close:{duration:40,hide:true}}},destroy:function(){var e=this.popup;if(e){e.element.off(u);e.destroy()}clearTimeout(this.timeout);n.fn.destroy.call(this)},hide:function(){if(this.popup)this.popup.close()},show:function(e){e=e||this.element;this._saveTitle(e);this._show(e)},target:function(){if(this.popup)return this.popup.options.anchor;return null},_showOn:function(e){var t=this;var i=h(e.currentTarget);if(t._isShownOnClick()&&!t._isShownOnMouseEnter())t._show(i);else if(t._isShownOnFocus()){t._saveTitle(i);t._show(i)}else{clearTimeout(t.timeout);t.timeout=setTimeout(function(){t._show(i)},t.options.showAfter)}},_isShownOnFocus:function(){return this.options.showOn&&this.options.showOn.match(/focus/)},_isShownOnMouseEnter:function(){return this.options.showOn&&this.options.showOn.match(/mouseenter/)},_isShownOnClick:function(){return this.options.showOn&&this.options.showOn.match(/click/)},_positionCallout:function(){var e=this,t=e.options.position,i=e.dimensions,r=i.offset,n=e.popup,a=n.options.anchor,o=h(a).offset(),s=h(n.element).offset(),l=M[n.flipped?A[t]:t],c=o[r]-s[r]+h(a)[i.size]()/2;e._offset(t,e.options.offset);e.arrow.removeClass("k-callout-n k-callout-s k-callout-w k-callout-e").addClass("k-callout-"+l).css(r,c)},_offset:function(e,t,i){var r=this,n=e=="top"||e=="left",a=r.popup.flipped,o=n&&a||!n&&!a?1:-1,s=n?"margin-"+e:"margin-"+A[e],l=(i||c._outerWidth(r.arrow))/2+t;r.popup.wrapper.css(s,l*o+"px")},_addDescribedBy:function(){var e=this,t=e.popup.options.anchor,i=t[0].id||e.element[0].id||c.guid(),r=[];if(t.attr(o))r.push(t.attr(o));if(i){r.push(i+y);t.attr(o,r.join(" "));e.popup.element.attr("id",i+y)}},_removeDescribedBy:function(e){var t=this.popup.element.attr("id"),i=e.attr(o),r,n,a;if(!i)return;r=i.split(" ");if(r&&r.length>0)n=r.filter(function(e){return e!==t});if(n&&n.length>0){a=n.join(" ");e.attr(o,a)}else e.removeAttr(o)},_openPopup:function(){if(!this.popup)return;this.popup._hovered=true;this.popup.open()}}),B=(c.ui.plugin(f),f.extend({init:function(e,t){var i=this,r;f.fn.init.call(i,e,t);r=i.options.position.match(/left|right/)?"horizontal":"vertical";i.dimensions=D[r];i._documentKeyDownHandler=a(i._documentKeyDown,i);if(this._isShownOnMouseEnter()||this._isShownOnClick())i.element.on("mouseenter"+u,i.options.filter,a(i._mouseenter,i));if(this.options.autoHide&&this._isShownOnMouseEnter())i.element.on("mouseleave"+u,i.options.filter,a(i._mouseleave,i));if(this.options.autoHide&&this._isShownOnFocus())i.element.on("blur"+u,i.options.filter,a(i._blur,i));if(c.support.touch)i.element.on(c.support.mousedown+u,i.options.filter,a(i._mouseenter,i))},options:{name:"Tooltip",filter:"",content:t,showAfter:100,callout:true,offset:0,position:"bottom",showOn:"mouseenter",autoHide:true,width:null,height:null,animation:{open:{effects:"fade:in",duration:0},close:{duration:40,hide:true}}},events:[w,b,s,x,k],_mouseenter:function(e){I(h(e.currentTarget))},_saveTitle:function(e){I(e)},_appendContent:function(e){var t=this,i=t.options.content,r=t.content,n=t.options.iframe,a;if(g(i)&&i.url){if(!("iframe"in t.options))n=!_(i.url);t.trigger(k,{options:i,target:e});if(!n){r.empty();c.ui.progress(r,true);t._ajaxRequest(i)}else{r.hide();a=r.find("."+l)[0];if(a)a.src=i.url||a.src;else r.html(S({content:i}));r.find("."+l).off("load"+u).on("load"+u,function(){t.trigger(s);r.show()})}}else if(i&&v(i)){i=i({sender:this,target:e});r.html(i||"")}else r.html(i);t.angular("compile",function(){return{elements:r}})},_ajaxRequest:function(e){var i=this;i.contentLoading=true;jQuery.ajax(m({type:"GET",dataType:"html",cache:false,error:function(e,t){c.ui.progress(i.content,false);i.trigger(x,{status:t,xhr:e})},success:a(function(e){c.ui.progress(i.content,false);i.content.html(e);i.contentLoading=false;i.trigger(s);i._openPopup()},i)},e))},_documentKeyDown:function(e){if(e.keyCode===c.keys.ESC)this.hide()},refresh:function(){var e=this,t=e.popup;if(t&&t.options.anchor)e._appendContent(t.options.anchor)},_show:function(e){var t=this,i=t.target();if(!t.popup)t._initPopup();if(i&&i[0]!=e[0]){t.popup.close();t.popup.element.kendoStop(true,true)}if(!i||i[0]!=e[0]){t._appendContent(e);t.popup.options.anchor=e}t.popup.one("deactivate",function(){E(e);t._removeDescribedBy(e);this.element.removeAttr("id").attr("aria-hidden",true);r.off("keydown"+u,t._documentKeyDownHandler)});if(!t.contentLoading)t._openPopup()},_initPopup:function(){var e=this,t=e.options,i=h(c.template(C)({callout:t.callout&&t.position!=="center",dir:M[t.position],autoHide:t.autoHide}));e.popup=new p(i,m({autosize:true,activate:function(){e._addDescribedBy();if(t.callout)e._positionCallout();else e._offset(e.options.position,e.options.offset);this.element.removeAttr("aria-hidden");r.on("keydown"+u,e._documentKeyDownHandler);e.trigger(w);e.popup._hovered=d},close:function(){e.trigger(b)},copyAnchorStyles:false,animation:t.animation},T[t.position]));i.css({width:t.width,height:t.height});e.content=i.find(".k-tooltip-content");e.arrow=i.find(".k-callout");if(t.autoHide&&this._isShownOnMouseEnter())i.on("mouseleave"+u,a(e._mouseleave,e));else i.on("click"+u,".k-tooltip-button",a(e._closeButtonClick,e))},_closeButtonClick:function(e){e.preventDefault();this.hide()},_mouseleave:function(e){var t=this;clearTimeout(t.timeout);t.timeout=setTimeout(function(){t._closePopup(e.currentTarget)},t.options.hideAfter)},_blur:function(e){this._closePopup(e.currentTarget)},_closePopup:function(e){if(this.popup&&!this.popup._hovered)this.popup.close();else E(h(e))},destroy:function(){this.element.off(u);r.off("keydown"+u,this._documentKeyDownHandler);f.fn.destroy.call(this)}}));return c.ui.plugin(B),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("drawing/util.min",["../kendo.core.min"],function(){var t=window.kendo.jQuery;function e(){return t.Deferred()}function i(e){return t.when.apply(t,e)}function r(e,t){if(!t)return;if(typeof t.__proto__==="function")e.__proto__=t;else for(var i in t)if(t.hasOwnProperty(i))e[i]=t[i]}return kendo.drawing.util=kendo.drawing.util||{},kendo.deepExtend(kendo.drawing.util,{createPromise:e,promiseAll:i,extendStatic:r}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.color.min",["./kendo.core.min"],function(){var t={id:"color",name:"Color utils",category:"framework",advanced:true,description:"Color utilities used across components",depends:["core"]},e=(window.kendo=window.kendo||{},kendo.Class),r=kendo.support,a={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},n=r.browser,d=function(e){var t=Object.keys(a);t.push("transparent");var i=new RegExp("^("+t.join("|")+")(\\W|$)","i");d=function(e){return i.exec(e)};return i.exec(e)},o=e.extend({init:function(){},toHSV:function(){return this},toRGB:function(){return this},toHex:function(e){return this.toBytes().toHex(e)},toBytes:function(){return this},toCss:function(e){return"#"+this.toHex(e)},toCssRgba:function(){var e=this.toBytes();return"rgba("+e.r+", "+e.g+", "+e.b+", "+parseFloat(Number(this.a).toFixed(3))+")"},toDisplay:function(){if(n.msie&&n.version<9)return this.toCss();return this.toCssRgba()},equals:function(e){return e===this||e!==null&&this.toCssRgba()===c(e).toCssRgba()},diff:function(e){if(e===null)return NaN;var t=this.toBytes();var i=e.toBytes();return Math.sqrt(Math.pow((t.r-i.r)*.3,2)+Math.pow((t.g-i.g)*.59,2)+Math.pow((t.b-i.b)*.11,2))},clone:function(){var e=this.toBytes();if(e===this)e=new s(e.r,e.g,e.b,e.a);return e}}),f=o.extend({init:function(e,t,i,r){o.fn.init.call(this);this.r=e;this.g=t;this.b=i;this.a=r},toHSV:function(){var e=this;var t=e.r;var i=e.g;var r=e.b;var n=Math.min(t,i,r);var a=Math.max(t,i,r);var o=a-n;var s=a;var l,c;if(o===0)return new h(0,0,s,this.a);if(a!==0){c=o/a;if(t===a)l=(i-r)/o;else if(i===a)l=2+(r-t)/o;else l=4+(t-i)/o;l*=60;if(l<0)l+=360}else{c=0;l=-1}return new h(l,c,s,this.a)},toHSL:function(){var e=this;var t=e.r;var i=e.g;var r=e.b;var n=Math.max(t,i,r);var a=Math.min(t,i,r);var o,s,l=(n+a)/2;if(n===a)o=s=0;else{var c=n-a;s=l>.5?c/(2-n-a):c/(n+a);switch(n){case t:o=(i-r)/c+(i<r?6:0);break;case i:o=(r-t)/c+2;break;case r:o=(t-i)/c+4;break;default:break}}return new p(o*60,s*100,l*100,this.a)},toBytes:function(){return new s(this.r*255,this.g*255,this.b*255,this.a)}}),s=f.extend({init:function(e,t,i,r){f.fn.init.call(this,Math.round(e),Math.round(t),Math.round(i),r)},toRGB:function(){return new f(this.r/255,this.g/255,this.b/255,this.a)},toHSV:function(){return this.toRGB().toHSV()},toHSL:function(){return this.toRGB().toHSL()},toHex:function(e){var t=i(this.r,2)+i(this.g,2)+i(this.b,2);if(e&&e.alpha)t+=i(Math.round(this.a*255),2);return t},toBytes:function(){return this}});function i(e,t,i){if(i===void 0)i="0";var r=e.toString(16);while(t>r.length)r=i+r;return r}var h=o.extend({init:function(e,t,i,r){o.fn.init.call(this);this.h=e;this.s=t;this.v=i;this.a=r},toRGB:function(){var e=this;var t=e.h;var i=e.s;var r=e.v;var n,a,o;if(i===0)n=a=o=r;else{t/=60;var h=Math.floor(t);var u=t-h;var s=r*(1-i);var l=r*(1-i*u);var c=r*(1-i*(1-u));switch(h){case 0:n=r;a=c;o=s;break;case 1:n=l;a=r;o=s;break;case 2:n=s;a=r;o=c;break;case 3:n=s;a=l;o=r;break;case 4:n=c;a=s;o=r;break;default:n=r;a=s;o=l;break}}return new f(n,a,o,this.a)},toHSL:function(){return this.toRGB().toHSL()},toBytes:function(){return this.toRGB().toBytes()}}),p=o.extend({init:function(e,t,i,r){o.fn.init.call(this);this.h=e;this.s=t;this.l=i;this.a=r},toRGB:function(){var e=this.h/360;var t=this.s/100;var i=this.l/100;var r,n,a;if(t===0)r=n=a=i;else{var o=i<.5?i*(1+t):i+t-i*t;var s=2*i-o;r=l(s,o,e+1/3);n=l(s,o,e);a=l(s,o,e-1/3)}return new f(r,n,a,this.a)},toHSV:function(){return this.toRGB().toHSV()},toBytes:function(){return this.toRGB().toBytes()}});function l(e,t,i){var r=i;if(r<0)r+=1;if(r>1)r-=1;if(r<1/6)return e+(t-e)*6*r;if(r<1/2)return t;if(r<2/3)return e+(t-e)*(2/3-r)*6;return e}function v(e){return parseFloat(parseFloat(parseInt(e,16)/255).toFixed(3))}function c(e,t){var i,r;if(e==null||e==="none")return null;if(e instanceof o)return e;var n=e.toLowerCase();if(i=d(n)){if(i[1]==="transparent")n=new f(1,1,1,0);else n=c(a[i[1]],t);n.match=[i[1]];return n}if(i=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(n))r=new s(parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16),1);else if(i=/^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(n))r=new s(parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16),1);else if(i=/^#?([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(n))r=new s(parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16),v(i[4]+i[4]));else if(i=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(n))r=new s(parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16),v(i[4]));else if(i=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(n))r=new s(parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10),1);else if(i=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(n))r=new s(parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10),parseFloat(i[4]));else if(i=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(n))r=new f(parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3])/100,1);else if(i=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(n))r=new f(parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3])/100,parseFloat(i[4]));if(r)r.match=i;else if(!t)throw new Error("Cannot parse color: "+n);return r}var g=180,u=e.extend({init:function(e){var t=this;if(arguments.length===1){var i=u.formats;var r=this.resolveColor(e);for(var n=0;n<i.length;n++){var a=i[n].re;var o=i[n].process;var s=a.exec(r);if(s){var l=o(s);t.r=l[0];t.g=l[1];t.b=l[2]}}}else{this.r=arguments[0];this.g=arguments[1];this.b=arguments[2]}this.r=this.normalizeByte(this.r);this.g=this.normalizeByte(this.g);this.b=this.normalizeByte(this.b)},toHex:function(){var e=this.padDigit;var t=this.r.toString(16);var i=this.g.toString(16);var r=this.b.toString(16);return"#"+e(t)+e(i)+e(r)},resolveColor:function(e){var t=e||"black";if(t.charAt(0)==="#")t=t.substr(1,6);t=t.replace(/ /g,"");t=t.toLowerCase();t=u.namedColors[t]||t;return t},normalizeByte:function(e){if(e<0||isNaN(e))return 0;return e>255?255:e},padDigit:function(e){return e.length===1?"0"+e:e},brightness:function(e){var t=Math.round;this.r=t(this.normalizeByte(this.r*e));this.g=t(this.normalizeByte(this.g*e));this.b=t(this.normalizeByte(this.b*e));return this},percBrightness:function(){return Math.sqrt(.241*this.r*this.r+.691*this.g*this.g+.068*this.b*this.b)},isDark:function(){return this.percBrightness()<g}});u.fromBytes=function(e,t,i,r){return new s(e,t,i,r!=null?r:1)},u.fromRGB=function(e,t,i,r){return new f(e,t,i,r!=null?r:1)},u.fromHSV=function(e,t,i,r){return new h(e,t,i,r!=null?r:1)},u.fromHSL=function(e,t,i,r){return new p(e,t,i,r!=null?r:1)},u.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(e){return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],u.namedColors=a,kendo.deepExtend(kendo,{parseColor:c,namedColors:a,Color:u})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("util/text-metrics.min",["../kendo.core.min"],function(){var t=window.kendo.jQuery,i=(window.kendo.util=window.kendo.util||{},kendo.Class.extend({init:function(e){this._size=e;this._length=0;this._map={}},put:function(e,t){var i=this._map;var r={key:e,value:t};i[e]=r;if(!this._head)this._head=this._tail=r;else{this._tail.newer=r;r.older=this._tail;this._tail=r}if(this._length>=this._size){i[this._head.key]=null;this._head=this._head.newer;this._head.older=null}else this._length++},get:function(e){var t=this._map[e];if(t){if(t===this._head&&t!==this._tail){this._head=t.newer;this._head.older=null}if(t!==this._tail){if(t.older){t.older.newer=t.newer;t.newer.older=t.older}t.older=this._tail;t.newer=null;this._tail.newer=t;this._tail=t}return t.value}}})),r=/\r?\n|\r|\t/g,n=" ";function f(e){return String(e).replace(r,n)}function d(e){var t=[];for(var i in e)t.push(i+e[i]);return t.sort().join("")}function p(e){var t=2166136261;for(var i=0;i<e.length;++i){t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);t^=e.charCodeAt(i)}return t>>>0}function v(){return{width:0,height:0,baseline:0}}var o={baselineMarkerSize:1},g;if(typeof document!=="undefined"){g=document.createElement("div");g.style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;"+"padding: 0 !important; margin: 0 !important; border: 0 !important;"+"line-height: normal !important; visibility: hidden !important; white-space: pre!important;"}var a=kendo.Class.extend({init:function(e){this._cache=new i(1e3);this.options=t.extend({},o,e)},measure:function(e,t,i){if(i===void 0)i={};if(typeof e==="undefined"||e===null)return v();var h=d(t);var r=p(e+h);var n=this._cache.get(r);if(n)return n;var a=v();var o=i.box||g;var s=this._baselineMarker().cloneNode(false);for(var l in t){var c=t[l];if(typeof c!=="undefined")o.style[l]=c}var u=i.normalizeText!==false?f(e):String(e);o.textContent=u;o.appendChild(s);document.body.appendChild(o);if(u.length){a.width=o.offsetWidth-this.options.baselineMarkerSize;a.height=o.offsetHeight;a.baseline=s.offsetTop+this.options.baselineMarkerSize}if(a.width>0&&a.height>0)this._cache.put(r,a);o.parentNode.removeChild(o);return a},_baselineMarker:function(){var e=document.createElement("div");e.style.cssText="display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;";return e}});function e(e,t,i){return a.current.measure(e,t,i)}a.current=new a,kendo.deepExtend(kendo.util,{LRUCache:i,TextMetrics:a,measureText:e,objectKey:d,hashKey:p,normalizeText:f})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("drawing/kendo-drawing.min",["./util.min","../kendo.color.min","../util/text-metrics.min"],function(){var p=window.kendo.jQuery;window.kendo=window.kendo||{};var e,t=kendo.drawing.util,u=t.extendStatic,o=kendo.Class,s=kendo.util,i,l=kendo.support.browser,v=t.createPromise,c=t.promiseAll,r=function(e){function t(){e.apply(this,arguments)}u(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.observers=function e(){this._observers=this._observers||[];return this._observers};t.prototype.addObserver=function e(t){if(!this._observers)this._observers=[t];else this._observers.push(t);return this};t.prototype.removeObserver=function e(t){var i=this.observers();var r=i.indexOf(t);if(r!==-1)i.splice(r,1);return this};t.prototype.trigger=function e(t,i){var r=this._observers;if(r&&!this._suspended)for(var n=0;n<r.length;n++){var a=r[n];if(a[t])a[t](i)}return this};t.prototype.optionsChange=function e(t){if(t===void 0)t={};t.element=this;this.trigger("optionsChange",t)};t.prototype.geometryChange=function e(){this.trigger("geometryChange",{element:this})};t.prototype.suspend=function e(){this._suspended=(this._suspended||0)+1;return this};t.prototype.resume=function e(){this._suspended=Math.max((this._suspended||0)-1,0);return this};t.prototype._observerField=function e(t,i){if(this[t])this[t].removeObserver(this);this[t]=i;i.addObserver(this)};return t}(o);function h(e,t){e.push.apply(e,t);return e}var n={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1e3:"m"};function F(e){var t=[1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1];var i="";while(e>0)if(e<t[0])t.shift();else{i+=n[t[0]];e-=t[0]}return i}var f="undefined";function d(e){return typeof e!==f}var g=1;function m(){return"kdef"+g++}var _=Math.PI/180,y=Number.MAX_VALUE,w=-Number.MAX_VALUE;function V(e){return e/_}var b=String.fromCharCode;function x(e){var t="";for(var i=0;i<e.length;i++){var r=e.charCodeAt(i);if(55296<=r&&r<=56319){var n=r;var a=e.charCodeAt(++i);if(!isNaN(a))r=(n-55296)*1024+(a-56320)+65536}if(r<128)t+=b(r);else if(r<2048){t+=b(192|r>>>6);t+=b(128|r&63)}else if(r<65536){t+=b(224|r>>>12);t+=b(128|r>>>6&63);t+=b(128|r&63)}else if(r<1114111){t+=b(240|r>>>18);t+=b(128|r>>>12&63);t+=b(128|r>>>6&63);t+=b(128|r&63)}}return t}var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function C(e){var t="";var i=0;var r=x(e);while(i<r.length){var n=r.charCodeAt(i++);var a=r.charCodeAt(i++);var o=r.charCodeAt(i++);var s=n>>2;var h=(n&3)<<4|a>>4;var l=(a&15)<<2|o>>6;var c=o&63;if(isNaN(a))l=c=64;else if(isNaN(o))c=64;t=t+k.charAt(s)+k.charAt(h)+k.charAt(l)+k.charAt(c)}return t}function S(e){if(d((e.x||{}).location))return{x:e.x.location,y:e.y.location};return{x:e.pageX||e.clientX||0,y:e.pageY||e.clientY||0}}function A(e){if(e===void 0)e={};return e.touch?e.touch.initialTouch:e.target}function M(e){return e===""||e===null||e==="none"||e==="transparent"||!d(e)}function D(e){if(e)return e[e.length-1]}function E(e,t,i){return Math.max(Math.min(e,i),t)}function P(e,o){if(e.length<2)return e.slice();function a(e,t){var i=[],r=0,n=0,a=0;while(r<e.length&&n<t.length)if(o(e[r],t[n])<=0)i[a++]=e[r++];else i[a++]=t[n++];if(r<e.length)i.push.apply(i,e.slice(r));if(n<t.length)i.push.apply(i,t.slice(n));return i}return function e(t){if(t.length<=1)return t;var i=Math.floor(t.length/2);var r=t.slice(0,i);var n=t.slice(i);r=e(r);n=e(n);return a(r,n)}(e)}var N=Date.now||function(){return(new Date).getTime()};function H(e){return e*_}function U(e){if(e)return Math.pow(10,e);return 1}function O(e,t){var i=U(t);return Math.round(e*i)/i}function j(e,t){return d(e)?e:t}function G(e,t){for(var i in t){var r=i.trim().split(" ");for(var n=0;n<r.length;n++)e.addEventListener(r[n],t[i],false)}}function W(e){var t=e.getBoundingClientRect();var i=document.documentElement;return{top:t.top+(window.pageYOffset||i.scrollTop)-(i.clientTop||0),left:t.left+(window.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}}function q(e,t){var i={};var r=window.getComputedStyle(e)||{};var n=Array.isArray(t)?t:[t];for(var a=0;a<n.length;a++){var o=n[a];i[o]=r[o]}return i}function Y(e){if(isNaN(e))return e;return e+"px"}function $(e,t){if(t){var i=t.width;var r=t.height;if(d(i))e.style.width=Y(i);if(d(r))e.style.height=Y(r)}else{var n=q(e,["width","height"]);return{width:parseInt(n.width,10),height:parseInt(n.height,10)}}}function X(e,t){if(t===void 0)t={};for(var i in t){var r=i.trim().split(" ");for(var n=0;n<r.length;n++)e.removeEventListener(r[n],t[i],false)}}function K(e){var t=q(e,["paddingLeft","paddingTop"]);var i=t.paddingLeft;var r=t.paddingTop;return{top:parseFloat(r),left:parseFloat(i)}}var a=function(o){function c(e,t,i,r,n,a){if(e===void 0)e=0;if(t===void 0)t=0;if(i===void 0)i=0;if(r===void 0)r=0;if(n===void 0)n=0;if(a===void 0)a=0;o.call(this);this.a=e;this.b=t;this.c=i;this.d=r;this.e=n;this.f=a}u(c,o);c.prototype=Object.create(o&&o.prototype);c.prototype.constructor=c;c.fn=c.prototype;c.fn.init=c.fn.constructor;c.prototype.multiplyCopy=function e(t){return new c(this.a*t.a+this.c*t.b,this.b*t.a+this.d*t.b,this.a*t.c+this.c*t.d,this.b*t.c+this.d*t.d,this.a*t.e+this.c*t.f+this.e,this.b*t.e+this.d*t.f+this.f)};c.prototype.invert=function e(){var t=this;var i=t.a;var r=t.b;var n=t.c;var a=t.d;var o=t.e;var s=t.f;var l=i*a-r*n;if(l===0)return null;return new c(a/l,-r/l,-n/l,i/l,(n*s-a*o)/l,(r*o-i*s)/l)};c.prototype.clone=function e(){return new c(this.a,this.b,this.c,this.d,this.e,this.f)};c.prototype.equals=function e(t){if(!t)return false;return this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d&&this.e===t.e&&this.f===t.f};c.prototype.round=function e(t){this.a=O(this.a,t);this.b=O(this.b,t);this.c=O(this.c,t);this.d=O(this.d,t);this.e=O(this.e,t);this.f=O(this.f,t);return this};c.prototype.toArray=function e(t){var i=[this.a,this.b,this.c,this.d,this.e,this.f];if(d(t))for(var r=0;r<i.length;r++)i[r]=O(i[r],t);return i};c.prototype.toString=function e(t,i){if(i===void 0)i=",";return this.toArray(t).join(i)};c.translate=function e(t,i){return new c(1,0,0,1,t,i)};c.unit=function e(){return new c(1,0,0,1,0,0)};c.rotate=function e(t,i,r){var n=new c;n.a=Math.cos(H(t));n.b=Math.sin(H(t));n.c=-n.b;n.d=n.a;n.e=i-i*n.a+r*n.b||0;n.f=r-r*n.a-i*n.b||0;return n};c.scale=function e(t,i){return new c(t,0,0,i,0,0)};return c}(o),Q=(a.IDENTITY=a.unit(),/matrix\((.*)\)/);function Z(e){var t=e.match(Q);if(t===null||t.length!==2)return a.unit();var i=t[1].split(",").map(function(e){return parseFloat(e)});return new(Function.prototype.bind.apply(a,[null].concat(i)))}function J(e){var t=getComputedStyle(e).transform;if(t==="none")return a.unit();return Z(t)}function ee(e){if(!e)return a.unit();var t=J(e);var i=e.parentElement;while(i){var r=J(i);t=t.multiplyCopy(r);i=i.parentElement}t.b=t.c=t.e=t.f=0;return t}var te={append:h,arabicToRoman:F,createPromise:v,defined:d,definitionId:m,deg:V,encodeBase64:C,eventCoordinates:S,eventElement:A,isTransparent:M,last:D,limitValue:E,mergeSort:P,now:N,promiseAll:c,rad:H,round:O,valueOrDefault:j,bindEvents:G,elementOffset:W,elementSize:$,elementStyles:q,unbindEvents:X,elementPadding:K,elementScale:ee,DEG_TO_RAD:_,MAX_NUM:y,MIN_NUM:w},ie={}.toString,re=function(a){function h(e,t){var i=this;if(t===void 0)t="";a.call(this);this.prefix=t;for(var r in e){var n=e[r];n=i._wrap(n,r);i[r]=n}}u(h,a);h.prototype=Object.create(a&&a.prototype);h.prototype.constructor=h;h.fn=h.prototype;h.fn.init=h.fn.constructor;h.prototype.get=function e(t){var i=t.split(".");var r=this;while(i.length&&r){var n=i.shift();r=r[n]}return r};h.prototype.set=function e(t,i){var r=this.get(t);if(r!==i){this._set(t,this._wrap(i,t));this.optionsChange({field:this.prefix+t,value:i})}};h.prototype._set=function c(e,t){var i=this;var r=e.indexOf(".")>=0;var n=this;var a=e;if(r){var o=a.split(".");var s=this.prefix;while(o.length>1){a=o.shift();s+=a+".";var l=n[a];if(!l){l=new h({},s);l.addObserver(i);n[a]=l}n=l}a=o[0]}n._clear(a);n[a]=t};h.prototype._clear=function e(t){var i=this[t];if(i&&i.removeObserver)i.removeObserver(this)};h.prototype._wrap=function e(t,i){var r=ie.call(t);var n=t;if(n!==null&&d(n)&&r==="[object Object]"){if(!(t instanceof h)&&!(t instanceof o))n=new h(n,this.prefix+i+".");n.addObserver(this)}return n};return h}(r);function ne(t){return function(e){if(this[t]!==e){this[t]=e;this.geometryChange()}return this}}function ae(e){return function(){return this[e]}}function oe(e,t){for(var i=0;i<t.length;i++){var r=t[i];var n=r.charAt(0).toUpperCase()+r.substring(1,r.length);e["set"+n]=ne(r);e["get"+n]=ae(r)}}var se=function(e,t){var i=function(e){function t(){e.apply(this,arguments)}u(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;return t}(e);oe(i.prototype,t);return i};function le(e){if(e&&typeof e.matrix==="function")return e.matrix();return e}var L=function(i){function o(e,t){i.call(this);this.x=e||0;this.y=t||0}u(o,i);o.prototype=Object.create(i&&i.prototype);o.prototype.constructor=o;o.fn=o.prototype;o.fn.init=o.fn.constructor;var e={ZERO:{}};o.prototype.equals=function e(t){return t&&t.x===this.x&&t.y===this.y};o.prototype.clone=function e(){return new o(this.x,this.y)};o.prototype.rotate=function e(t,i){var r=o.create(i)||o.ZERO;return this.transform(a.rotate(t,r.x,r.y))};o.prototype.translate=function e(t,i){this.x+=t;this.y+=i;this.geometryChange();return this};o.prototype.translateWith=function e(t){return this.translate(t.x,t.y)};o.prototype.move=function e(t,i){this.x=this.y=0;return this.translate(t,i)};o.prototype.scale=function e(t,i){if(i===void 0)i=t;this.x*=t;this.y*=i;this.geometryChange();return this};o.prototype.scaleCopy=function e(t,i){return this.clone().scale(t,i)};o.prototype.transform=function e(t){var i=le(t);var r=this;var n=r.x;var a=r.y;this.x=i.a*n+i.c*a+i.e;this.y=i.b*n+i.d*a+i.f;this.geometryChange();return this};o.prototype.transformCopy=function e(t){var i=this.clone();if(t)i.transform(t);return i};o.prototype.distanceTo=function e(t){var i=this.x-t.x;var r=this.y-t.y;return Math.sqrt(i*i+r*r)};o.prototype.round=function e(t){this.x=O(this.x,t);this.y=O(this.y,t);this.geometryChange();return this};o.prototype.toArray=function e(t){var i=d(t);var r=i?O(this.x,t):this.x;var n=i?O(this.y,t):this.y;return[r,n]};o.prototype.toString=function e(t,i){if(i===void 0)i=" ";var r=this;var n=r.x;var a=r.y;if(d(t)){n=O(n,t);a=O(a,t)}return n+i+a};o.create=function e(t,i){if(d(t)){if(t instanceof o)return t;else if(arguments.length===1&&t.length===2)return new o(t[0],t[1]);return new o(t,i)}};o.min=function e(){var t=arguments;var i=y;var r=y;for(var n=0;n<arguments.length;n++){var a=t[n];i=Math.min(a.x,i);r=Math.min(a.y,r)}return new o(i,r)};o.max=function e(){var t=arguments;var i=w;var r=w;for(var n=0;n<arguments.length;n++){var a=t[n];i=Math.max(a.x,i);r=Math.max(a.y,r)}return new o(i,r)};o.minPoint=function e(){return new o(w,w)};o.maxPoint=function e(){return new o(y,y)};e.ZERO.get=function(){return new o(0,0)};Object.defineProperties(o,e);return o}(se(r,["x","y"])),ce=function(i){function r(e,t){i.call(this);this.width=e||0;this.height=t||0}u(r,i);r.prototype=Object.create(i&&i.prototype);r.prototype.constructor=r;r.fn=r.prototype;r.fn.init=r.fn.constructor;var e={ZERO:{}};r.prototype.equals=function e(t){return t&&t.width===this.width&&t.height===this.height};r.prototype.clone=function e(){return new r(this.width,this.height)};r.prototype.toArray=function e(t){var i=d(t);var r=i?O(this.width,t):this.width;var n=i?O(this.height,t):this.height;return[r,n]};r.create=function e(t,i){if(d(t)){if(t instanceof r)return t;else if(arguments.length===1&&t.length===2)return new r(t[0],t[1]);return new r(t,i)}};e.ZERO.get=function(){return new r(0,0)};Object.defineProperties(r,e);return r}(se(r,["width","height"])),I=function(r){function o(e,t,i){if(e===void 0)e=new L;if(t===void 0)t=new ce;if(i===void 0)i=0;r.call(this);this.setOrigin(e);this.setSize(t);this.setCornerRadius(i)}u(o,r);o.prototype=Object.create(r&&r.prototype);o.prototype.constructor=o;o.fn=o.prototype;o.fn.init=o.fn.constructor;o.prototype.clone=function e(){return new o(this.origin.clone(),this.size.clone())};o.prototype.equals=function e(t){return t&&t.origin.equals(this.origin)&&t.size.equals(this.size)};o.prototype.setOrigin=function e(t){this._observerField("origin",L.create(t));this.geometryChange();return this};o.prototype.getOrigin=function e(){return this.origin};o.prototype.setCornerRadius=function e(t){this.cornerRadius=Array.isArray(t)?t:[t,t];this.geometryChange();return this};o.prototype.getCornerRadius=function e(){return this.cornerRadius};o.prototype.setSize=function e(t){this._observerField("size",ce.create(t));this.geometryChange();return this};o.prototype.getSize=function e(){return this.size};o.prototype.width=function e(){return this.size.width};o.prototype.height=function e(){return this.size.height};o.prototype.topLeft=function e(){return this.origin.clone()};o.prototype.bottomRight=function e(){return this.origin.clone().translate(this.width(),this.height())};o.prototype.topRight=function e(){return this.origin.clone().translate(this.width(),0)};o.prototype.bottomLeft=function e(){return this.origin.clone().translate(0,this.height())};o.prototype.center=function e(){return this.origin.clone().translate(this.width()/2,this.height()/2)};o.prototype.bbox=function e(t){var i=this.topLeft().transformCopy(t);var r=this.topRight().transformCopy(t);var n=this.bottomRight().transformCopy(t);var a=this.bottomLeft().transformCopy(t);return o.fromPoints(i,r,n,a)};o.prototype.transformCopy=function e(t){return o.fromPoints(this.topLeft().transform(t),this.bottomRight().transform(t))};o.prototype.expand=function e(t,i){if(i===void 0)i=t;this.size.width+=2*t;this.size.height+=2*i;this.origin.translate(-t,-i);return this};o.prototype.expandCopy=function e(t,i){return this.clone().expand(t,i)};o.prototype.containsPoint=function e(t){var i=this.origin;var r=this.bottomRight();return!(t.x<i.x||t.y<i.y||r.x<t.x||r.y<t.y)};o.prototype._isOnPath=function e(t,i){var r=this.expandCopy(i,i);var n=this.expandCopy(-i,-i);return r.containsPoint(t)&&!n.containsPoint(t)};o.fromPoints=function e(){var t=L.min.apply(null,arguments);var i=L.max.apply(null,arguments);var r=new ce(i.x-t.x,i.y-t.y);return new o(t,r)};o.union=function e(t,i){return o.fromPoints(L.min(t.topLeft(),i.topLeft()),L.max(t.bottomRight(),i.bottomRight()))};o.intersect=function e(t,i){var r={left:t.topLeft().x,top:t.topLeft().y,right:t.bottomRight().x,bottom:t.bottomRight().y};var n={left:i.topLeft().x,top:i.topLeft().y,right:i.bottomRight().x,bottom:i.bottomRight().y};if(r.left<=n.right&&n.left<=r.right&&r.top<=n.bottom&&n.top<=r.bottom)return o.fromPoints(new L(Math.max(r.left,n.left),Math.max(r.top,n.top)),new L(Math.min(r.right,n.right),Math.min(r.bottom,n.bottom)))};return o}(r),he=function(t){function i(e){if(e===void 0)e=a.unit();t.call(this);this._matrix=e}u(i,t);i.prototype=Object.create(t&&t.prototype);i.prototype.constructor=i;i.fn=i.prototype;i.fn.init=i.fn.constructor;i.prototype.clone=function e(){return new i(this._matrix.clone())};i.prototype.equals=function e(t){return t&&t._matrix.equals(this._matrix)};i.prototype.translate=function e(t,i){this._matrix=this._matrix.multiplyCopy(a.translate(t,i));this._optionsChange();return this};i.prototype.scale=function e(t,i,r){if(i===void 0)i=t;if(r===void 0)r=null;var n=r;if(n){n=L.create(n);this._matrix=this._matrix.multiplyCopy(a.translate(n.x,n.y))}this._matrix=this._matrix.multiplyCopy(a.scale(t,i));if(n)this._matrix=this._matrix.multiplyCopy(a.translate(-n.x,-n.y));this._optionsChange();return this};i.prototype.rotate=function e(t,i){var r=L.create(i)||L.ZERO;this._matrix=this._matrix.multiplyCopy(a.rotate(t,r.x,r.y));this._optionsChange();return this};i.prototype.multiply=function e(t){var i=le(t);this._matrix=this._matrix.multiplyCopy(i);this._optionsChange();return this};i.prototype.matrix=function e(t){if(t){this._matrix=t;this._optionsChange();return this}return this._matrix};i.prototype._optionsChange=function e(){this.optionsChange({field:"transform",value:this})};return i}(r);function T(e){if(e===null)return null;if(e instanceof he)return e;return new he(e)}var ue=function(t){function e(e){t.call(this);this._initOptions(e)}u(e,t);e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;var i={nodeType:{}};i.nodeType.get=function(){return"Rect"};e.prototype._initOptions=function e(t){if(t===void 0)t={};var i=t.clip;var r=t.transform;if(r)t.transform=T(r);if(i&&!i.id)i.id=m();this.options=new re(t);this.options.addObserver(this)};e.prototype.transform=function e(t){if(d(t))this.options.set("transform",T(t));else return this.options.get("transform")};e.prototype.parentTransform=function e(){var t=this;var i;while(t.parent){t=t.parent;var r=t.transform();if(r)i=r.matrix().multiplyCopy(i||a.unit())}if(i)return T(i)};e.prototype.currentTransform=function e(t){if(t===void 0)t=this.parentTransform();var i=this.transform();var r=le(i);var n=le(t);var a;if(r&&n)a=n.multiplyCopy(r);else a=r||n;if(a)return T(a)};e.prototype.visible=function e(t){if(d(t)){this.options.set("visible",t);return this}return this.options.get("visible")!==false};e.prototype.clip=function e(t){var i=this.options;if(d(t)){if(t&&!t.id)t.id=m();i.set("clip",t);return this}return i.get("clip")};e.prototype.opacity=function e(t){if(d(t)){this.options.set("opacity",t);return this}return j(this.options.get("opacity"),1)};e.prototype.clippedBBox=function e(t){var i=this._clippedBBox(t);if(i){var r=this.clip();return r?I.intersect(i,r.bbox(t)):i}};e.prototype.containsPoint=function e(t,i){if(this.visible()){var r=this.currentTransform(i);var n=t;if(r)n=t.transformCopy(r.matrix().invert());return this._hasFill()&&this._containsPoint(n)||this._isOnPath&&this._hasStroke()&&this._isOnPath(n)}return false};e.prototype._hasFill=function e(){var t=this.options.fill;return t&&!M(t.color)};e.prototype._hasStroke=function e(){var t=this.options.stroke;return t&&t.width>0&&!M(t.color)};e.prototype._clippedBBox=function e(t){return this.bbox(t)};Object.defineProperties(e.prototype,i);return e}(r);function fe(e,t,i,r){var n=0;var a=0;if(r){n=Math.atan2(r.c*i,r.a*t);if(r.b!==0)a=Math.atan2(r.d*i,r.b*t)}return{x:n,y:a}}var de=Math.PI/2,pe=function(i){function t(e,t){if(e===void 0)e=new L;if(t===void 0)t=0;i.call(this);this.setCenter(e);this.setRadius(t)}u(t,i);t.prototype=Object.create(i&&i.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.setCenter=function e(t){this._observerField("center",L.create(t));this.geometryChange();return this};t.prototype.getCenter=function e(){return this.center};t.prototype.equals=function e(t){return t&&t.center.equals(this.center)&&t.radius===this.radius};t.prototype.clone=function e(){return new t(this.center.clone(),this.radius)};t.prototype.pointAt=function e(t){return this._pointAt(H(t))};t.prototype.bbox=function c(e){var t=this;var i=fe(this.center,this.radius,this.radius,e);var r=L.maxPoint();var n=L.minPoint();for(var a=0;a<4;a++){var o=t._pointAt(i.x+a*de).transformCopy(e);var s=t._pointAt(i.y+a*de).transformCopy(e);var l=new L(o.x,s.y);r=L.min(r,l);n=L.max(n,l)}return I.fromPoints(r,n)};t.prototype._pointAt=function e(t){var i=this;var r=i.center;var n=i.radius;return new L(r.x+n*Math.cos(t),r.y+n*Math.sin(t))};t.prototype.containsPoint=function e(t){var i=this;var r=i.center;var n=i.radius;var a=Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2)<=Math.pow(n,2);return a};t.prototype._isOnPath=function e(t,i){var r=this;var n=r.center;var a=r.radius;var o=n.distanceTo(t);return a-i<=o&&o<=a+i};return t}(se(r,["radius"])),ve="Gradient",ge=function(e){return function(e){function t(){e.apply(this,arguments)}u(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.fill=function e(t,i){var r=this.options;if(d(t)){if(t&&t.nodeType!==ve){var n={color:t};if(d(i))n.opacity=i;r.set("fill",n)}else r.set("fill",t);return this}return r.get("fill")};t.prototype.stroke=function e(t,i,r){if(d(t)){this.options.set("stroke.color",t);if(d(i))this.options.set("stroke.width",i);if(d(r))this.options.set("stroke.opacity",r);return this}return this.options.get("stroke")};return t}(e)},me=a.IDENTITY.toString(),_e=function(e){return function(e){function t(){e.apply(this,arguments)}u(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.bbox=function e(t){var i=le(this.currentTransform(t));var r=i?i.toString():me;var e;if(this._bboxCache&&this._matrixHash===r)e=this._bboxCache.clone();else{e=this._bbox(i);this._bboxCache=e?e.clone():null;this._matrixHash=r}var n=this.options.get("stroke.width");if(n&&e)e.expand(n/2);return e};t.prototype.geometryChange=function e(){delete this._bboxCache;this.trigger("geometryChange",{element:this})};return t}(e)};function ye(e){var t="_"+e;return function(e){if(d(e)){this._observerField(t,e);this.geometryChange();return this}return this[t]}}function we(e,t){for(var i=0;i<t.length;i++)e[t[i]]=ye(t[i])}var be=function(e,t){if(t===void 0)t=["geometry"];var i=function(e){function t(){e.apply(this,arguments)}u(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;return t}(e);we(i.prototype,t);return i},xe="#000",ke=function(i){function e(e,t){if(e===void 0)e=new pe;if(t===void 0)t={};i.call(this,t);this.geometry(e);if(!d(this.options.stroke))this.stroke(xe)}u(e,i);e.prototype=Object.create(i&&i.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;var t={nodeType:{}};t.nodeType.get=function(){return"Circle"};e.prototype.rawBBox=function e(){return this._geometry.bbox()};e.prototype._bbox=function e(t){return this._geometry.bbox(t)};e.prototype._containsPoint=function e(t){return this.geometry().containsPoint(t)};e.prototype._isOnPath=function e(t){return this.geometry()._isOnPath(t,this.options.stroke.width/2)};Object.defineProperties(e.prototype,t);return e}(ge(_e(be(ue)))),Ce=10;function Se(e,t,i){if(i===void 0)i=Ce;return O(Math.abs(e-t),i)===0}function Te(e,t,i){return e<t||Se(e,t,i)}function Ae(e,t,i,r){var n=t.x-e.x;var a=r.x-i.x;var o=t.y-e.y;var s=r.y-i.y;var l=e.x-i.x;var h=e.y-i.y;var u=n*s-a*o;var f=(n*h-o*l)/u;var c=(a*h-s*l)/u;if(f>=0&&f<=1&&c>=0&&c<=1)return new L(e.x+c*n,e.y+c*o)}var Me=45,De=Math.pow,Ee,Pe=function(i){function c(e,t){if(e===void 0)e=new L;if(t===void 0)t={};i.call(this);this.setCenter(e);this.radiusX=t.radiusX;this.radiusY=t.radiusY||t.radiusX;this.startAngle=t.startAngle;this.endAngle=t.endAngle;this.anticlockwise=t.anticlockwise||false;this.xRotation=t.xRotation}u(c,i);c.prototype=Object.create(i&&i.prototype);c.prototype.constructor=c;c.fn=c.prototype;c.fn.init=c.fn.constructor;c.prototype.clone=function e(){return new c(this.center,{radiusX:this.radiusX,radiusY:this.radiusY,startAngle:this.startAngle,endAngle:this.endAngle,anticlockwise:this.anticlockwise})};c.prototype.setCenter=function e(t){this._observerField("center",L.create(t));this.geometryChange();return this};c.prototype.getCenter=function e(){return this.center};c.prototype.pointAt=function e(t){var i=this.center;var r=H(t);return new L(i.x+this.radiusX*Math.cos(r),i.y+this.radiusY*Math.sin(r))};c.prototype.curvePoints=function e(){var h=this;var t=this.startAngle;var u=this.anticlockwise?-1:1;var e=[this.pointAt(t)];var i=this._arcInterval();var r=i.endAngle-i.startAngle;var n=Math.ceil(r/Me);var f=r/n;var a=t;var o;if(this.xRotation)o=T().rotate(this.xRotation,this.center);for(var s=1;s<=n;s++){var l=a+u*f;var c=h._intervalCurvePoints(a,l,o);e.push(c.cp1,c.cp2,c.p2);a=l}return e};c.prototype.bbox=function h(e){var t=this;var i=this._arcInterval();var r=i.startAngle;var n=i.endAngle;var u=fe(this.center,this.radiusX,this.radiusY,e);var f=V(u.x);var d=V(u.y);var p=this.pointAt(n).transformCopy(e);var a=ze(f,r);var o=ze(d,r);var s=this.pointAt(r).transformCopy(e);var l=L.min(s,p);var c=L.max(s,p);while(a<n||o<n){var v=void 0;if(a<n){v=t.pointAt(a).transformCopy(e);a+=90}var g=void 0;if(o<n){g=t.pointAt(o).transformCopy(e);o+=90}s=new L(v.x,g.y);l=L.min(l,s);c=L.max(c,s)}return I.fromPoints(l,c)};c.prototype._arcInterval=function e(){var t=this;var i=t.startAngle;var r=t.endAngle;var n=t.anticlockwise;if(n){var a=i;i=r;r=a}if(i>r||n&&i===r)r+=360;return{startAngle:i,endAngle:r}};c.prototype._intervalCurvePoints=function h(e,t,i){var r=this.pointAt(e);var n=this.pointAt(t);var a=this._derivativeAt(e);var o=this._derivativeAt(t);var s=(H(t)-H(e))/3;var l=new L(r.x+s*a.x,r.y+s*a.y);var c=new L(n.x-s*o.x,n.y-s*o.y);if(i){r.transform(i);n.transform(i);l.transform(i);c.transform(i)}return{p1:r,cp1:l,cp2:c,p2:n}};c.prototype._derivativeAt=function e(t){var i=H(t);return new L(-this.radiusX*Math.sin(i),this.radiusY*Math.cos(i))};c.prototype.containsPoint=function e(t){var i=this._arcInterval();var h=i.endAngle-i.startAngle;var r=this;var n=r.center;var a=r.radiusX;var o=r.radiusY;var s=n.distanceTo(t);var u=Math.atan2(t.y-n.y,t.x-n.x);var f=a*o/Math.sqrt(De(a,2)*De(Math.sin(u),2)+De(o,2)*De(Math.cos(u),2));var d=this.pointAt(this.startAngle).round(Ce);var p=this.pointAt(this.endAngle).round(Ce);var l=Ae(n,t.round(Ce),d,p);var e;if(h<180)e=l&&Te(n.distanceTo(l),s)&&Te(s,f);else{var c=Ie(n.x,n.y,a,o,t.x,t.y);if(c!==360)c=(360+c)%360;var v=i.startAngle<=c&&c<=i.endAngle;e=v&&Te(s,f)||!v&&(!l||l.equals(t))}return e};c.prototype._isOnPath=function e(t,i){var r=this._arcInterval();var n=this.center;var a=Ie(n.x,n.y,this.radiusX,this.radiusY,t.x,t.y);if(a!==360)a=(360+a)%360;var o=r.startAngle<=a&&a<=r.endAngle;return o&&this.pointAt(a).distanceTo(t)<=i};c.fromPoints=function e(t,i,r,n,a,o,s){var l=Be({x1:t.x,y1:t.y,x2:i.x,y2:i.y,rx:r,ry:n,largeArc:a,swipe:o,rotation:s});return new c(l.center,{startAngle:l.startAngle,endAngle:l.endAngle,radiusX:l.radiusX,radiusY:l.radiusY,xRotation:l.xRotation,anticlockwise:o===0})};return c}(se(r,["radiusX","radiusY","startAngle","endAngle","anticlockwise"]));function Ie(e,t,i,r,n,a){var o=O((n-e)/i,3);var s=O((a-t)/r,3);return O(V(Math.atan2(s,o)))}function Be(e){var h=e.x1;var u=e.y1;var f=e.x2;var d=e.y2;var t=e.rx;var i=e.ry;var p=e.largeArc;var v=e.swipe;var r=e.rotation;if(r===void 0)r=0;var g=H(r);var n=Math.cos(g);var m=Math.sin(g);var _=n*(h-f)/2+m*(u-d)/2;var y=-m*(h-f)/2+n*(u-d)/2;var w=p!==v?1:-1;var b=Math.pow(_,2);var x=Math.pow(y,2);var a=Math.pow(t,2);var o=Math.pow(i,2);var k=b/a+x/o;if(k>1){k=Math.sqrt(b/a+x/o);t=k*t;a=Math.pow(t,2);i=k*i;o=Math.pow(i,2)}var C=w*Math.sqrt((a*o-a*x-o*b)/(a*x+o*b));if(isNaN(C))C=0;var S=C*(t*y)/i;var T=-C*(i*_)/t;var A=n*S-m*T+(h+f)/2;var M=m*S+n*T+(u+d)/2;var s=(_-S)/t;var l=(y-T)/i;var D=-(_+S)/t;var E=-(y+T)/i;var P=(l>=0?1:-1)*V(Math.acos(s/Math.sqrt(s*s+l*l)));var I=O((s*D+l*E)/(Math.sqrt(s*s+l*l)*Math.sqrt(D*D+E*E)),10);var c=(s*E-l*D>=0?1:-1)*V(Math.acos(I));if(!v&&c>0)c-=360;if(v&&c<0)c+=360;var B=P+c;var z=B>=0?1:-1;B=Math.abs(B)%360*z;return{center:new L(A,M),startAngle:P,endAngle:B,radiusX:t,radiusY:i,xRotation:r}}function ze(e,t){var i=e;while(i<t)i+=90;return i}var Oe=[].push,Le=[].pop,Re=[].splice,Fe=[].shift,Ve=[].slice,Ne=[].unshift,He=function(t){function e(e){if(e===void 0)e=[];t.call(this);this.length=0;this._splice(0,e.length,e)}u(e,t);e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.elements=function e(t){if(t){this._splice(0,this.length,t);this._change();return this}return this.slice(0)};e.prototype.push=function e(){var t=arguments;var i=Oe.apply(this,t);this._add(t);return i};e.prototype.slice=function e(){return Ve.call(this)};e.prototype.pop=function e(){var t=this.length;var i=Le.apply(this);if(t)this._remove([i]);return i};e.prototype.splice=function e(t,i){var r=Ve.call(arguments,2);var n=this._splice(t,i,r);this._change();return n};e.prototype.shift=function e(){var t=this.length;var i=Fe.apply(this);if(t)this._remove([i]);return i};e.prototype.unshift=function e(){var t=arguments;var i=Ne.apply(this,t);this._add(t);return i};e.prototype.indexOf=function e(t){var i=this;var r=this.length;for(var n=0;n<r;n++)if(i[n]===t)return n;return-1};e.prototype._splice=function e(t,i,r){var n=Re.apply(this,[t,i].concat(r));this._clearObserver(n);this._setObserver(r);return n};e.prototype._add=function e(t){this._setObserver(t);this._change()};e.prototype._remove=function e(t){this._clearObserver(t);this._change()};e.prototype._setObserver=function e(t){var i=this;for(var r=0;r<t.length;r++)t[r].addObserver(i)};e.prototype._clearObserver=function e(t){var i=this;for(var r=0;r<t.length;r++)t[r].removeObserver(i)};e.prototype._change=function e(){};return e}(r),Ue=function(e){function t(){e.apply(this,arguments)}u(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype._change=function e(){this.geometryChange()};return t}(He);function je(e,t,i){var r=V(Math.atan2(t.y-e.y,t.x-e.x));var n=i.transformCopy(T().rotate(-r,e));return n.x<e.x}function Ge(e,t,i){var r=1-e;return Math.pow(r,3)*i[0][t]+3*Math.pow(r,2)*e*i[1][t]+3*Math.pow(e,2)*r*i[2][t]+Math.pow(e,3)*i[3][t]}function We(e,t){return[-e[0][t]+3*e[1][t]-3*e[2][t]+e[3][t],3*(e[0][t]-2*e[1][t]+e[2][t]),3*(-e[0][t]+e[1][t]),e[0][t]]}var qe=function(i){function a(e,t){if(e===void 0)e=0;if(t===void 0)t=0;i.call(this);this.real=e;this.img=t}u(a,i);a.prototype=Object.create(i&&i.prototype);a.prototype.constructor=a;a.fn=a.prototype;a.fn.init=a.fn.constructor;a.prototype.add=function e(t){return new a(O(this.real+t.real,Ce),O(this.img+t.img,Ce))};a.prototype.addConstant=function e(t){return new a(this.real+t,this.img)};a.prototype.negate=function e(){return new a(-this.real,-this.img)};a.prototype.multiply=function e(t){return new a(this.real*t.real-this.img*t.img,this.real*t.img+this.img*t.real)};a.prototype.multiplyConstant=function e(t){return new a(this.real*t,this.img*t)};a.prototype.nthRoot=function e(t){var i=Math.atan2(this.img,this.real);var r=Math.sqrt(Math.pow(this.img,2)+Math.pow(this.real,2));var n=Math.pow(r,1/t);return new a(n*Math.cos(i/t),n*Math.sin(i/t))};a.prototype.equals=function e(t){return this.real===t.real&&this.img===t.img};a.prototype.isReal=function e(){return this.img===0};return a}(o);function Ye(e){return e<0?-1:1}function $e(e,t,i){var r=Math.sqrt(Math.pow(t,2)-4*e*i);return[(-t+r)/(2*e),(-t-r)/(2*e)]}function Xe(e,t,i,h){if(e===0)return $e(t,i,h);var u=(3*e*i-Math.pow(t,2))/(3*Math.pow(e,2));var r=(2*Math.pow(t,3)-9*e*t*i+27*Math.pow(e,2)*h)/(27*Math.pow(e,3));var n=Math.pow(u/3,3)+Math.pow(r/2,2);var f=new qe(0,1);var a=-t/(3*e);var o,s,l,d,p,v,g;if(n<0){o=new qe(-r/2,Math.sqrt(-n)).nthRoot(3);s=new qe(-r/2,-Math.sqrt(-n)).nthRoot(3)}else{o=-r/2+Math.sqrt(n);o=new qe(Ye(o)*Math.pow(Math.abs(o),1/3));s=-r/2-Math.sqrt(n);s=new qe(Ye(s)*Math.pow(Math.abs(s),1/3))}l=o.add(s);v=o.add(s).multiplyConstant(-1/2);g=o.add(s.negate()).multiplyConstant(Math.sqrt(3)/2);d=v.add(f.multiply(g));p=v.add(f.negate().multiply(g));var c=[];if(l.isReal())c.push(O(l.real+a,Ce));if(d.isReal())c.push(O(d.real+a,Ce));if(p.isReal())c.push(O(p.real+a,Ce));return c}function Ke(e,t,i,r,n){var a=We(e,r);var o=Xe(a[0],a[1],a[2],a[3]-t[r]);var s;for(var l=0;l<o.length;l++)if(0<=o[l]&&o[l]<=1){s=Ge(o[l],i,e);if(Math.abs(s-t[i])<=n)return true}}function Qe(e,t,i){var r=We(e,"x");var n=Xe(r[0],r[1],r[2],r[3]-t.x);var a,o;var s=0;for(var l=0;l<n.length;l++){a=Ge(n[l],"y",e);o=Se(a,t.y)||a>t.y;if(o&&((n[l]===0||n[l]===1)&&i.bottomRight().x>t.x||0<n[l]&&n[l]<1))s++}return s}function Ze(e,t,i){var r;if(e.x!==t.x){var n=Math.min(e.x,t.x);var a=Math.max(e.x,t.x);var o=Math.min(e.y,t.y);var s=Math.max(e.y,t.y);var l=n<=i.x&&i.x<a;if(o===s)r=i.y<=o&&l;else r=l&&(s-o)*((e.x-t.x)*(e.y-t.y)>0?i.x-n:a-i.x)/(a-n)+o-i.y>=0}return r?1:0}function Je(e){var t="_"+e;return function(e){if(d(e)){this._observerField(t,L.create(e));this.geometryChange();return this}return this[t]}}function et(e,t){for(var i=0;i<t.length;i++)e[t[i]]=Je(t[i])}var tt=function(e,t){var i=function(e){function t(){e.apply(this,arguments)}u(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;return t}(e);et(i.prototype,t);return i},it,rt=function(r){function e(e,t,i){r.call(this);this.anchor(e||new L);this.controlIn(t);this.controlOut(i)}u(e,r);e.prototype=Object.create(r&&r.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.bboxTo=function e(t,i){var r=this.anchor().transformCopy(i);var n=t.anchor().transformCopy(i);var a;if(this.controlOut()&&t.controlIn())a=this._curveBoundingBox(r,this.controlOut().transformCopy(i),t.controlIn().transformCopy(i),n);else a=this._lineBoundingBox(r,n);return a};e.prototype._lineBoundingBox=function e(t,i){return I.fromPoints(t,i)};e.prototype._curveBoundingBox=function c(e,t,i,r){var n=[e,t,i,r];var a=this._curveExtremesFor(n,"x");var o=this._curveExtremesFor(n,"y");var s=nt([a.min,a.max,e.x,r.x]);var l=nt([o.min,o.max,e.y,r.y]);return I.fromPoints(new L(s.min,l.min),new L(s.max,l.max))};e.prototype._curveExtremesFor=function e(t,i){var r=this._curveExtremes(t[0][i],t[1][i],t[2][i],t[3][i]);return{min:Ge(r.min,i,t),max:Ge(r.max,i,t)}};e.prototype._curveExtremes=function h(e,t,i,u){var r=e-3*t+3*i-u;var n=-2*(e-2*t+i);var f=e-t;var a=Math.sqrt(n*n-4*r*f);var o=0;var s=1;if(r===0){if(n!==0)o=s=-f/n}else if(!isNaN(a)){o=(-n+a)/(2*r);s=(-n-a)/(2*r)}var l=Math.max(Math.min(o,s),0);if(l<0||l>1)l=0;var c=Math.min(Math.max(o,s),1);if(c>1||c<0)c=1;return{min:l,max:c}};e.prototype._intersectionsTo=function e(t,i){var r;if(this.controlOut()&&t.controlIn())r=Qe([this.anchor(),this.controlOut(),t.controlIn(),t.anchor()],i,this.bboxTo(t));else r=Ze(this.anchor(),t.anchor(),i);return r};e.prototype._isOnCurveTo=function h(e,t,i,r){var u=this.bboxTo(e).expand(i,i);if(u.containsPoint(t)){var n=this.anchor();var a=this.controlOut();var o=e.controlIn();var s=e.anchor();if(r==="start"&&n.distanceTo(t)<=i)return!je(n,a,t);else if(r==="end"&&s.distanceTo(t)<=i)return!je(s,o,t);var l=[n,a,o,s];if(Ke(l,t,"x","y",i)||Ke(l,t,"y","x",i))return true;var c=T().rotate(45,t);var f=[n.transformCopy(c),a.transformCopy(c),o.transformCopy(c),s.transformCopy(c)];return Ke(f,t,"x","y",i)||Ke(f,t,"y","x",i)}};e.prototype._isOnLineTo=function e(t,i,r){var n=this.anchor();var a=t.anchor();var o=V(Math.atan2(a.y-n.y,a.x-n.x));var s=new I([n.x,n.y-r/2],[n.distanceTo(a),r]);return s.containsPoint(i.transformCopy(T().rotate(-o,n)))};e.prototype._isOnPathTo=function e(t,i,r,n){var a;if(this.controlOut()&&t.controlIn())a=this._isOnCurveTo(t,i,r/2,n);else a=this._isOnLineTo(t,i,r);return a};return e}(tt(r,["anchor","controlIn","controlOut"]));function nt(e){var t=e.length;var i=y;var r=w;for(var n=0;n<t;n++){r=Math.max(r,e[n]);i=Math.min(i,e[n])}return{min:i,max:r}}var at={l:function(e,t){var i=t.parameters;var r=t.position;for(var n=0;n<i.length;n+=2){var a=new L(i[n],i[n+1]);if(t.isRelative)a.translateWith(r);e.lineTo(a.x,a.y);r.x=a.x;r.y=a.y}},c:function(e,t){var i=t.parameters;var r=t.position;for(var n=0;n<i.length;n+=6){var a=new L(i[n],i[n+1]);var o=new L(i[n+2],i[n+3]);var s=new L(i[n+4],i[n+5]);if(t.isRelative){o.translateWith(r);a.translateWith(r);s.translateWith(r)}e.curveTo(a,o,s);r.x=s.x;r.y=s.y}},v:function(e,t){var i=t.isRelative?0:t.position.x;ot(t.parameters,true,i);this.l(e,t)},h:function(e,t){var i=t.isRelative?0:t.position.y;ot(t.parameters,false,i);this.l(e,t)},a:function(e,t){var i=t.parameters;var r=t.position;for(var n=0;n<i.length;n+=7){var a=i[n];var o=i[n+1];var s=i[n+2];var l=i[n+3];var h=i[n+4];var c=new L(i[n+5],i[n+6]);if(t.isRelative)c.translateWith(r);if(r.x!==c.x||r.y!==c.y){e.arcTo(c,a,o,l,h,s);r.x=c.x;r.y=c.y}}},s:function(e,t){var i=t.parameters;var r=t.position;var n=t.previousCommand;var a;if(n==="s"||n==="c")a=D(D(e.paths).segments).controlIn();for(var o=0;o<i.length;o+=4){var s=new L(i[o],i[o+1]);var l=new L(i[o+2],i[o+3]);var c=void 0;if(t.isRelative){s.translateWith(r);l.translateWith(r)}if(a)c=st(a,r);else c=r.clone();a=s;e.curveTo(c,s,l);r.x=l.x;r.y=l.y}},q:function(e,t){var i=t.parameters;var r=t.position;for(var n=0;n<i.length;n+=4){var a=new L(i[n],i[n+1]);var o=new L(i[n+2],i[n+3]);if(t.isRelative){a.translateWith(r);o.translateWith(r)}var s=ct(r,a,o);e.curveTo(s.controlOut,s.controlIn,o);r.x=o.x;r.y=o.y}},t:function(e,t){var i=t.parameters;var r=t.position;var n=t.previousCommand;var a;if(n==="q"||n==="t"){var o=D(D(e.paths).segments);a=o.controlIn().clone().translateWith(r.scaleCopy(-1/3)).scale(3/2)}for(var s=0;s<i.length;s+=2){var l=new L(i[s],i[s+1]);if(t.isRelative)l.translateWith(r);if(a)a=st(a,r);else a=r.clone();var c=ct(r,a,l);e.curveTo(c.controlOut,c.controlIn,l);r.x=l.x;r.y=l.y}}};function ot(e,t,i){var r=t?0:1;for(var n=0;n<e.length;n+=2)e.splice(n+r,0,i)}function st(e,t){if(e&&t)return t.scaleCopy(2).translate(-e.x,-e.y)}var lt=1/3;function ct(e,t,i){var r=t.clone().scale(2/3);return{controlOut:r.clone().translateWith(e.scaleCopy(lt)),controlIn:r.translateWith(i.scaleCopy(lt))}}var ht=/([a-df-z]{1})([^a-df-z]*)(z)?/gi,ut=/[,\s]?([+\-]?(?:\d*\.\d+|\d+)(?:[eE][+\-]?\d+)?)/g,ft="m",dt="z";function pt(e){var i=[];e.replace(ut,function(e,t){i.push(parseFloat(t))});return i}function vt(s,e){var l=new L;var c;e.replace(ht,function(e,t,i,r){var n=t.toLowerCase();var a=n===t;var o=pt(i.trim());if(n===ft){if(a){l.x+=o[0];l.y+=o[1]}else{l.x=o[0];l.y=o[1]}s.moveTo(l.x,l.y);if(o.length>2){n="l";o.splice(0,2)}}if(at[n]){at[n](s,{parameters:o,position:l,isRelative:a,previousCommand:c});if(r&&r.toLowerCase()===dt)s.close()}else if(n!==ft)throw new Error("Error while parsing SVG path. Unsupported command: "+n);c=n});return s}function gt(e,t,i){var r;for(var n=0;n<e.length;n++){var a=e[n];if(a.visible()){var o=t?a.bbox(i):a.rawBBox();if(o)if(r)r=I.union(r,o);else r=o}}return r}function mt(e,t){var i;for(var r=0;r<e.length;r++){var n=e[r];if(n.visible()){var a=n.clippedBBox(t);if(a)if(i)i=I.union(i,a);else i=a}}return i}var B=function(t){function f(e){t.call(this,e);this.segments=new Ue;this.segments.addObserver(this);if(!d(this.options.stroke)){this.stroke("#000");if(!d(this.options.stroke.lineJoin))this.options.set("stroke.lineJoin","miter")}}u(f,t);f.prototype=Object.create(t&&t.prototype);f.prototype.constructor=f;f.fn=f.prototype;f.fn.init=f.fn.constructor;var e={nodeType:{}};f.parse=function e(t,i){return _t.parse(t,i)};e.nodeType.get=function(){return"Path"};f.prototype.moveTo=function e(t,i){this.suspend();this.segments.elements([]);this.resume();this.lineTo(t,i);return this};f.prototype.lineTo=function e(t,i){var r=d(i)?new L(t,i):t;var n=new rt(r);this.segments.push(n);return this};f.prototype.curveTo=function e(t,i,r){if(this.segments.length>0){var n=D(this.segments);var a=new rt(r,i);this.suspend();n.controlOut(t);this.resume();this.segments.push(a)}return this};f.prototype.arc=function e(t,i,r,n,a){if(this.segments.length>0){var o=D(this.segments);var s=o.anchor();var l=H(t);var c=new L(s.x-r*Math.cos(l),s.y-n*Math.sin(l));var e=new Pe(c,{startAngle:t,endAngle:i,radiusX:r,radiusY:n,anticlockwise:a});this._addArcSegments(e)}return this};f.prototype.arcTo=function c(e,t,i,r,n,a){if(this.segments.length>0){var o=D(this.segments);var s=o.anchor();var l=Pe.fromPoints(s,L.create(e),t,i,r,n,a);this._addArcSegments(l)}return this};f.prototype._addArcSegments=function e(t){var i=this;this.suspend();var r=t.curvePoints();for(var n=1;n<r.length;n+=3)i.curveTo(r[n],r[n+1],r[n+2]);this.resume();this.geometryChange()};f.prototype.close=function e(){this.options.closed=true;this.geometryChange();return this};f.prototype.rawBBox=function e(){return this._bbox()};f.prototype._containsPoint=function e(t){var i=this.segments;var r=i.length;var n=0;var a,o;for(var s=1;s<r;s++){a=i[s-1];o=i[s];n+=a._intersectionsTo(o,t)}if(this.options.closed||!i[0].anchor().equals(i[r-1].anchor()))n+=Ze(i[0].anchor(),i[r-1].anchor(),t);return n%2!==0};f.prototype._isOnPath=function e(t,i){var r=this.segments;var n=r.length;var a=i||this.options.stroke.width;if(n>1){if(r[0]._isOnPathTo(r[1],t,a,"start"))return true;for(var o=2;o<=n-2;o++)if(r[o-1]._isOnPathTo(r[o],t,a))return true;if(r[n-2]._isOnPathTo(r[n-1],t,a,"end"))return true}return false};f.prototype._bbox=function e(t){var i=this.segments;var r=i.length;var n;if(r===1){var a=i[0].anchor().transformCopy(t);n=new I(a,ce.ZERO)}else if(r>0)for(var o=1;o<r;o++){var s=i[o-1].bboxTo(i[o],t);if(n)n=I.union(n,s);else n=s}return n};f.fromRect=function h(e,u){var t=new f(u);var i=e.cornerRadius;var r=i[0];var n=i[1];if(r===0&&n===0)t.moveTo(e.topLeft()).lineTo(e.topRight()).lineTo(e.bottomRight()).lineTo(e.bottomLeft()).close();else{var a=e.origin;var o=a.x;var s=a.y;var l=e.width();var c=e.height();r=E(r,0,l/2);n=E(n,0,c/2);t.moveTo(o+r,s).lineTo(o+l-r,s).arcTo([o+l,s+n],r,n,false).lineTo(o+l,s+c-n).arcTo([o+l-r,s+c],r,n,false).lineTo(o+r,s+c).arcTo([o,s+c-n],r,n,false).lineTo(o,s+n).arcTo([o+r,s],r,n,false)}return t};f.fromPoints=function e(t,i){if(t){var r=new f(i);for(var n=0;n<t.length;n++){var a=L.create(t[n]);if(a)if(n===0)r.moveTo(a);else r.lineTo(a)}return r}};f.fromArc=function e(t,i){var r=new f(i);var n=t.startAngle;var a=t.pointAt(n);r.moveTo(a.x,a.y);r.arc(n,t.endAngle,t.radiusX,t.radiusY,t.anticlockwise);return r};Object.defineProperties(f.prototype,e);return f}(ge(_e(ue))),_t=function(t){function n(e){t.call(this,e);this.paths=new Ue;this.paths.addObserver(this);if(!d(this.options.stroke))this.stroke("#000")}u(n,t);n.prototype=Object.create(t&&t.prototype);n.prototype.constructor=n;n.fn=n.prototype;n.fn.init=n.fn.constructor;var e={nodeType:{}};n.parse=function e(t,i){var r=new n(i);return vt(r,t)};e.nodeType.get=function(){return"MultiPath"};n.prototype.moveTo=function e(t,i){var r=new B;r.moveTo(t,i);this.paths.push(r);return this};n.prototype.lineTo=function e(t,i){if(this.paths.length>0)D(this.paths).lineTo(t,i);return this};n.prototype.curveTo=function e(t,i,r){if(this.paths.length>0)D(this.paths).curveTo(t,i,r);return this};n.prototype.arc=function e(t,i,r,n,a){if(this.paths.length>0)D(this.paths).arc(t,i,r,n,a);return this};n.prototype.arcTo=function e(t,i,r,n,a,o){if(this.paths.length>0)D(this.paths).arcTo(t,i,r,n,a,o);return this};n.prototype.close=function e(){if(this.paths.length>0)D(this.paths).close();return this};n.prototype._bbox=function e(t){return gt(this.paths,true,t)};n.prototype.rawBBox=function e(){return gt(this.paths,false)};n.prototype._containsPoint=function e(t){var i=this.paths;for(var r=0;r<i.length;r++)if(i[r]._containsPoint(t))return true;return false};n.prototype._isOnPath=function e(t){var i=this.paths;var r=this.options.stroke.width;for(var n=0;n<i.length;n++)if(i[n]._isOnPath(t,r))return true;return false};n.prototype._clippedBBox=function e(t){return mt(this.paths,this.currentTransform(t))};Object.defineProperties(n.prototype,e);return n}(ge(_e(ue))),yt="#000",wt=function(i){function e(e,t){if(e===void 0)e=new Pe;if(t===void 0)t={};i.call(this,t);this.geometry(e);if(!d(this.options.stroke))this.stroke(yt)}u(e,i);e.prototype=Object.create(i&&i.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;var t={nodeType:{}};t.nodeType.get=function(){return"Arc"};e.prototype._bbox=function e(t){return this._geometry.bbox(t)};e.prototype.rawBBox=function e(){return this.geometry().bbox()};e.prototype.toPath=function e(){var t=new B;var i=this.geometry().curvePoints();if(i.length>0){t.moveTo(i[0].x,i[0].y);for(var r=1;r<i.length;r+=3)t.curveTo(i[r],i[r+1],i[r+2])}return t};e.prototype._containsPoint=function e(t){return this.geometry().containsPoint(t)};e.prototype._isOnPath=function e(t){return this.geometry()._isOnPath(t,this.options.stroke.width/2)};Object.defineProperties(e.prototype,t);return e}(ge(_e(be(ue)))),bt="12px sans-serif",xt="#000",kt=function(r){function e(e,t,i){if(t===void 0)t=new L;if(i===void 0)i={};r.call(this,i);this.content(e);this.position(t);if(!this.options.font)this.options.font=bt;if(!d(this.options.fill))this.fill(xt)}u(e,r);e.prototype=Object.create(r&&r.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;var t={nodeType:{}};t.nodeType.get=function(){return"Text"};e.prototype.content=function e(t){if(d(t)){this.options.set("content",t);return this}return this.options.get("content")};e.prototype.measure=function e(){var t=s.measureText(this.content(),{font:this.options.get("font")});return t};e.prototype.rect=function e(){var t=this.measure();var i=this.position().clone();return new I(i,[t.width,t.height])};e.prototype.bbox=function e(t){var i=le(this.currentTransform(t));return this.rect().bbox(i)};e.prototype.rawBBox=function e(){return this.rect().bbox()};e.prototype._containsPoint=function e(t){return this.rect().containsPoint(t)};Object.defineProperties(e.prototype,t);return e}(ge(tt(ue,["position"]))),Ct=function(r){function e(e,t,i){if(t===void 0)t=new I;if(i===void 0)i={};r.call(this,i);this.src(e);this.rect(t)}u(e,r);e.prototype=Object.create(r&&r.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;var t={nodeType:{}};t.nodeType.get=function(){return"Image"};e.prototype.src=function e(t){if(d(t)){this.options.set("src",t);return this}return this.options.get("src")};e.prototype.bbox=function e(t){var i=le(this.currentTransform(t));return this._rect.bbox(i)};e.prototype.rawBBox=function e(){return this._rect.bbox()};e.prototype._containsPoint=function e(t){return this._rect.containsPoint(t)};e.prototype._hasFill=function e(){return this.src()};Object.defineProperties(e.prototype,t);return e}(be(ue,["rect"])),St=function(e,a){return function(e){function t(){e.apply(this,arguments)}u(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.traverse=function e(t){var i=this[a];for(var r=0;r<i.length;r++){var n=i[r];if(n.traverse)n.traverse(t);else t(n)}return this};return t}(e)},Tt=function(t){function e(e){t.call(this,e);this.children=[]}u(e,t);e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;var i={nodeType:{}};i.nodeType.get=function(){return"Group"};e.prototype.childrenChange=function e(t,i,r){this.trigger("childrenChange",{action:t,items:i,index:r})};e.prototype.append=function e(){h(this.children,arguments);this._reparent(arguments,this);this.childrenChange("add",arguments);return this};e.prototype.insert=function e(t,i){this.children.splice(t,0,i);i.parent=this;this.childrenChange("add",[i],t);return this};e.prototype.insertAt=function e(t,i){return this.insert(i,t)};e.prototype.remove=function e(t){var i=this.children.indexOf(t);if(i>=0){this.children.splice(i,1);t.parent=null;this.childrenChange("remove",[t],i)}return this};e.prototype.removeAt=function e(t){if(0<=t&&t<this.children.length){var i=this.children[t];this.children.splice(t,1);i.parent=null;this.childrenChange("remove",[i],t)}return this};e.prototype.clear=function e(){var t=this.children;this.children=[];this._reparent(t,null);this.childrenChange("remove",t,0);return this};e.prototype.bbox=function e(t){return gt(this.children,true,this.currentTransform(t))};e.prototype.rawBBox=function e(){return gt(this.children,false)};e.prototype._clippedBBox=function e(t){return mt(this.children,this.currentTransform(t))};e.prototype.currentTransform=function e(t){return ue.prototype.currentTransform.call(this,t)||null};e.prototype.containsPoint=function e(t,i){if(this.visible()){var r=this.children;var n=this.currentTransform(i);for(var a=0;a<r.length;a++)if(r[a].containsPoint(t,n))return true}return false};e.prototype._reparent=function e(t,i){var r=this;for(var n=0;n<t.length;n++){var a=t[n];var o=a.parent;if(o&&o!==r&&o.remove)o.remove(a);a.parent=i}};Object.defineProperties(e.prototype,i);return e}(St(ue,"children"));function At(e,t,i){var r=i.transform()||T();var n=r.matrix();n.e+=e.x-t.origin.x;n.f+=e.y-t.origin.y;r.matrix(n);i.transform(r)}function Mt(e,t,i,r,n){var a;if(i==="start")a=t.origin[r];else if(i==="end")a=t.origin[r]+t.size[n]-e;else a=t.origin[r]+(t.size[n]-e)/2;return a}function Dt(e,t,i,r,n){var a;if(i==="start")a=t.origin[r]+t.size[n]-e;else if(i==="end")a=t.origin[r];else a=t.origin[r]+(t.size[n]-e)/2;return a}var Et={alignContent:"start",justifyContent:"start",alignItems:"start",spacing:0,orientation:"horizontal",lineSpacing:0,wrap:true,revers:false},Pt=function(e,t){e.forEach(t)},It=function(e,t){var i=e.length;for(var r=i-1;r>=0;r--)t(e[r],r)},Bt=function(i){function e(e,t){i.call(this,p.extend({},Et,t));this._rect=e;this._fieldMap={}}u(e,i);e.prototype=Object.create(i&&i.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.rect=function e(t){if(t){this._rect=t;return this}return this._rect};e.prototype._initMap=function e(){var t=this.options;var i=this._fieldMap;if(t.orientation==="horizontal"){i.sizeField="width";i.groupsSizeField="height";i.groupAxis="x";i.groupsAxis="y"}else{i.sizeField="height";i.groupsSizeField="width";i.groupAxis="y";i.groupsAxis="x"}if(t.reverse){this.forEach=It;this.justifyAlign=Dt}else{this.forEach=Pt;this.justifyAlign=Mt}};e.prototype.reflow=function h(){var u=this;if(!this._rect||this.children.length===0)return;this._initMap();if(this.options.transform)this.transform(null);var r=this.options;var e=this._rect;var f=this._initGroups();var d=f.groups;var p=f.groupsSize;var t=this._fieldMap;var n=t.sizeField;var a=t.groupsSizeField;var o=t.groupAxis;var s=t.groupsAxis;var v=new L;var g=new L;var m=new ce;var _=Mt(p,e,r.alignContent,s,a);var y,l,c;var w=function(e,t){var i=l.elements[t];g[o]=y;g[s]=Mt(e.size[a],c,r.alignItems,s,a);At(g,e,i);y+=e.size[n]+r.spacing};for(var b=0;b<d.length;b++){l=d[b];v[o]=y=u.justifyAlign(l.size,e,r.justifyContent,o,n);v[s]=_;m[n]=l.size;m[a]=l.lineSize;c=new I(v,m);u.forEach(l.bboxes,w);_+=l.lineSize+r.lineSpacing}if(!r.wrap&&l.size>e.size[n]){var i=e.size[n]/c.size[n];var x=c.topLeft().scale(i,i);var k=c.size[a]*i;var C=Mt(k,e,r.alignContent,s,a);var S=T();if(o==="x")S.translate(e.origin.x-x.x,C-x.y);else S.translate(C-x.x,e.origin.y-x.y);S.scale(i,i);this.transform(S)}};e.prototype._initGroups=function h(){var e=this;var t=this;var i=t.options;var r=t.children;var n=i.lineSpacing;var u=i.wrap;var f=i.spacing;var d=this._fieldMap.sizeField;var a=this._newGroup();var p=[];var o=function(){p.push(a);v+=a.lineSize+n};var v=-n;for(var s=0;s<r.length;s++){var l=r[s];var c=r[s].clippedBBox();if(l.visible()&&c)if(u&&a.size+c.size[d]+f>e._rect.size[d])if(a.bboxes.length===0){e._addToGroup(a,c,l);o();a=e._newGroup()}else{o();a=e._newGroup();e._addToGroup(a,c,l)}else e._addToGroup(a,c,l)}if(a.bboxes.length)o();return{groups:p,groupsSize:v}};e.prototype._addToGroup=function e(t,i,r){t.size+=i.size[this._fieldMap.sizeField]+this.options.spacing;t.lineSize=Math.max(i.size[this._fieldMap.groupsSizeField],t.lineSize);t.bboxes.push(i);t.elements.push(r)};e.prototype._newGroup=function e(){return{lineSize:0,size:-this.options.spacing,bboxes:[],elements:[]}};return e}(Tt),zt=function(i){function e(e,t){if(e===void 0)e=new I;if(t===void 0)t={};i.call(this,t);this.geometry(e);if(!d(this.options.stroke))this.stroke("#000")}u(e,i);e.prototype=Object.create(i&&i.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;var t={nodeType:{}};t.nodeType.get=function(){return"Rect"};e.prototype._bbox=function e(t){return this._geometry.bbox(t)};e.prototype.rawBBox=function e(){return this._geometry.bbox()};e.prototype._containsPoint=function e(t){return this._geometry.containsPoint(t)};e.prototype._isOnPath=function e(t){return this.geometry()._isOnPath(t,this.options.stroke.width/2)};Object.defineProperties(e.prototype,t);return e}(ge(_e(be(ue))));function Ot(e,t,i,r,n){for(var a=0;a<e.length;a++){var o=e[a].clippedBBox();if(o){var s=o.origin.clone();s[r]=Mt(o.size[n],t,i||"start",r,n);At(s,o,e[a])}}}function Lt(e,t,i){Ot(e,t,i,"x","width")}function Rt(e,t,i){Ot(e,t,i,"y","height")}function Ft(e,t,i,r){if(e.length>1){var n=new L;var a=e[0].bbox;for(var o=1;o<e.length;o++){var s=e[o].element;var l=e[o].bbox;n[t]=a.origin[t]+a.size[r];n[i]=l.origin[i];At(n,l,s);l.origin[t]=n[t];a=l}}}function Vt(e){var t=[];for(var i=0;i<e.length;i++){var r=e[i];var n=r.clippedBBox();if(n)t.push({element:r,bbox:n})}return t}function Nt(e){Ft(Vt(e),"x","y","width")}function Ht(e){Ft(Vt(e),"y","x","height")}function Ut(e,h,t){var u=h.size[t];var i=[];var r=[];var n=0;var a,o;var s=function(){r.push({element:a,bbox:o})};for(var l=0;l<e.length;l++){a=e[l];o=a.clippedBBox();if(o){var c=o.size[t];if(n+c>u)if(r.length){i.push(r);r=[];s();n=c}else{s();i.push(r);r=[];n=0}else{s();n+=c}}}if(r.length)i.push(r);return i}function jt(h,e,t,i,r){var u=Ut(h,e,r);var n=e.origin.clone();var a=[];for(var o=0;o<u.length;o++){var s=u[o];var l=s[0];n[i]=l.bbox.origin[i];At(n,l.bbox,l.element);l.bbox.origin[t]=n[t];Ft(s,t,i,r);a.push([]);for(var c=0;c<s.length;c++)a[o].push(s[c].element)}return a}function Gt(e,t){return jt(e,t,"x","y","width")}function Wt(e,t){return jt(e,t,"y","x","height")}function qt(e,t){var i=e.clippedBBox();if(i){var r=i.size;var n=t.size;if(n.width<r.width||n.height<r.height){var a=Math.min(n.width/r.width,n.height/r.height);var o=e.transform()||T();o.scale(a,a);e.transform(o)}}}var Yt=function(e){function t(){e.apply(this,arguments)}u(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype._change=function e(){this.optionsChange({field:"stops"})};return t}(He);function $t(t){return function(e){if(d(e)){this.options.set(t,e);return this}return this.options.get(t)}}function Xt(e,t){for(var i=0;i<t.length;i++)e[t[i]]=$t(t[i])}var Kt,Qt,Zt=function(r){function n(e,t,i){r.call(this);this.options=new re({offset:e,color:t,opacity:d(i)?i:1});this.options.addObserver(this)}u(n,r);n.prototype=Object.create(r&&r.prototype);n.prototype.constructor=n;n.fn=n.prototype;n.fn.init=n.fn.constructor;n.create=function e(t){if(d(t)){var i;if(t instanceof n)i=t;else if(t.length>1)i=new n(t[0],t[1],t[2]);else i=new n(t.offset,t.color,t.opacity);return i}};return n}(function(e,t){var i=function(e){function t(){e.apply(this,arguments)}u(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;return t}(e);Xt(i.prototype,t);return i}(r,["offset","color","opacity"])),Jt=function(t){function e(e){if(e===void 0)e={};t.call(this);this.stops=new Yt(this._createStops(e.stops));this.stops.addObserver(this);this._userSpace=e.userSpace;this.id=m()}u(e,t);e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;var i={nodeType:{}};i.nodeType.get=function(){return"Gradient"};e.prototype.userSpace=function e(t){if(d(t)){this._userSpace=t;this.optionsChange();return this}return this._userSpace};e.prototype._createStops=function e(t){if(t===void 0)t=[];var i=[];for(var r=0;r<t.length;r++)i.push(Zt.create(t[r]));return i};e.prototype.addStop=function e(t,i,r){this.stops.push(new Zt(t,i,r))};e.prototype.removeStop=function e(t){var i=this.stops.indexOf(t);if(i>=0)this.stops.splice(i,1)};e.prototype.optionsChange=function e(t){this.trigger("optionsChange",{field:"gradient"+(t?"."+t.field:""),value:this})};e.prototype.geometryChange=function e(){this.optionsChange()};Object.defineProperties(e.prototype,i);return e}(r),ei,ti=function(t){function e(e){if(e===void 0)e={};t.call(this,e);this.start(e.start||new L);this.end(e.end||new L(1,0))}u(e,t);e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;return e}(tt(Jt,["start","end"])),ii=function(t){function e(e){if(e===void 0)e={};t.call(this,e);this.center(e.center||new L);this._radius=d(e.radius)?e.radius:1;this._fallbackFill=e.fallbackFill}u(e,t);e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.radius=function e(t){if(d(t)){this._radius=t;this.geometryChange();return this}return this._radius};e.prototype.fallbackFill=function e(t){if(d(t)){this._fallbackFill=t;this.optionsChange();return this}return this._fallbackFill};return e}(tt(Jt,["center"]));function ri(e){return.5-Math.cos(e*Math.PI)/2}function ni(e){return e}function ai(e,t,i,r){var n=1.70158,a=0,o=r;if(e===0)return i;if(e===1)return i+r;if(!a)a=.5;if(o<Math.abs(r)){o=r;n=a/4}else n=a/(2*Math.PI)*Math.asin(r/o);return o*Math.pow(2,-10*e)*Math.sin((Number(e)-n)*(1.1*Math.PI)/a)+r+i}var oi={swing:ri,linear:ni,easeOutElastic:ai},si,li=function(e){function t(){e.call(this);this._items=[]}u(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;var i={current:{}};i.current.get=function(){if(!si)si=new t;return si};t.prototype.register=function e(t,i){this._items.push({name:t,type:i})};t.prototype.create=function e(t,i){var r=this._items;var n;if(i&&i.type){var a=i.type.toLowerCase();for(var o=0;o<r.length;o++)if(r[o].name.toLowerCase()===a){n=r[o];break}}if(n)return new n.type(t,i)};Object.defineProperties(t,i);return t}(o),ci=function(i){function e(e,t){i.call(this);this.options=p.extend({},this.options,t);this.element=e}u(e,i);e.prototype=Object.create(i&&i.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;var t={options:{}};e.create=function e(t,i,r){return li.current.create(t,i,r)};t.options.get=function(){return this._options||{duration:500,easing:"swing"}};t.options.set=function(e){this._options=e};e.prototype.setup=function e(){};e.prototype.step=function e(){};e.prototype.play=function e(){var a=this;var t=this.options;var o=t.duration;var i=t.delay;if(i===void 0)i=0;var s=oi[t.easing];var l=N()+i;var c=l+o;if(o===0){this.step(1);this.abort()}else setTimeout(function(){var n=function(){if(a._stopped)return;var e=N();var t=E(e-l,0,o);var i=t/o;var r=s(i,t,0,1,o);a.step(r);if(e<c)kendo.animationFrame(n);else a.abort()};n()},i)};e.prototype.abort=function e(){this._stopped=true};e.prototype.destroy=function e(){this.abort()};Object.defineProperties(e.prototype,t);return e}(o),hi,ui=function(e){function t(){e.apply(this,arguments)}u(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;var i={current:{}};i.current.get=function(){if(!hi)hi=new t;return hi};t.prototype.parse=function e(t,i){var r=new _t(i);return vt(r,t)};Object.defineProperties(t,i);return t}(o),fi=function(t){function e(e){t.call(this);this.childNodes=[];this.parent=null;if(e){this.srcElement=e;this.observe()}}u(e,t);e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.destroy=function e(){var t=this;if(this.srcElement)this.srcElement.removeObserver(this);var i=this.childNodes;for(var r=0;r<i.length;r++)t.childNodes[r].destroy();this.parent=null};e.prototype.load=function e(){};e.prototype.observe=function e(){if(this.srcElement)this.srcElement.addObserver(this)};e.prototype.append=function e(t){this.childNodes.push(t);t.parent=this};e.prototype.insertAt=function e(t,i){this.childNodes.splice(i,0,t);t.parent=this};e.prototype.remove=function e(t,i){var r=this;var n=t+i;for(var a=t;a<n;a++)r.childNodes[a].removeSelf();this.childNodes.splice(t,i)};e.prototype.removeSelf=function e(){this.clear();this.destroy()};e.prototype.clear=function e(){this.remove(0,this.childNodes.length)};e.prototype.invalidate=function e(){if(this.parent)this.parent.invalidate()};e.prototype.geometryChange=function e(){this.invalidate()};e.prototype.optionsChange=function e(){this.invalidate()};e.prototype.childrenChange=function e(t){if(t.action==="add")this.load(t.items,t.index);else if(t.action==="remove")this.remove(t.index,t.items.length);this.invalidate()};return e}(o),di=["click","mouseenter","mouseleave","mousemove","resize"],pi=function(i){function e(e,t){i.call(this);this.options=p.extend({},t);this.element=e;this.element._kendoExportVisual=this.exportVisual.bind(this);this._click=this._handler("click");this._mouseenter=this._handler("mouseenter");this._mouseleave=this._handler("mouseleave");this._mousemove=this._handler("mousemove");this._visual=new Tt;$(e,this.options);this.bind(di,this.options);this._enableTracking()}u(e,i);e.prototype=Object.create(i&&i.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.draw=function e(t){this._visual.children.push(t)};e.prototype.clear=function e(){this._visual.children=[]};e.prototype.destroy=function e(){this._visual=null;this.element._kendoExportVisual=null;this.unbind()};e.prototype.eventTarget=function e(t){var i=this;var r=A(t);var n;while(!n&&r){n=r._kendoNode;if(r===i.element)break;r=r.parentElement}if(n)return n.srcElement};e.prototype.exportVisual=function e(){return this._visual};e.prototype.getSize=function e(){return $(this.element)};e.prototype.currentSize=function e(t){if(t)this._size=t;else return this._size};e.prototype.setSize=function e(t){$(this.element,t);this.currentSize(t);this._resize()};e.prototype.resize=function e(t){var i=this.getSize();var r=this.currentSize();if(t||(i.width>0||i.height>0)&&(!r||i.width!==r.width||i.height!==r.height)){this.currentSize(i);this._resize(i,t);this.trigger("resize",i)}};e.prototype.size=function e(t){if(!t)return this.getSize();this.setSize(t)};e.prototype.suspendTracking=function e(){this._suspendedTracking=true};e.prototype.resumeTracking=function e(){this._suspendedTracking=false};e.prototype._enableTracking=function e(){};e.prototype._resize=function e(){};e.prototype._handler=function e(i){var r=this;return function(e){var t=r.eventTarget(e);if(t&&!r._suspendedTracking)r.trigger(i,{element:t,originalEvent:e,type:i})}};e.prototype._elementOffset=function e(){var t=this.element;var i=K(t);var r=W(t);var n=r.left;var a=r.top;return{left:n+i.left,top:a+i.top}};e.prototype._surfacePoint=function e(t){var i=this._elementOffset();var r=S(t);var n=r.x-i.left;var a=r.y-i.top;var o=ee(this.element).invert();var s=new L(n,a).transform(o);return s};return e}(kendo.Observable);function vi(e,t){return d(t)&&t!==null?" "+e+'="'+t+'" ':""}function gi(e){var t="";for(var i=0;i<e.length;i++)t+=vi(e[i][0],e[i][1]);return t}function mi(e){var t="";for(var i=0;i<e.length;i++){var r=e[i][1];if(d(r))t+=e[i][0]+":"+r+";"}if(t!=="")return t}var _i={},yi="http://www.w3.org/2000/svg",wi="none",bi=function(e,t){e.innerHTML=t};if(typeof document!=="undefined"){var xi="<svg xmlns='"+yi+"'></svg>";var ki=document.createElement("div");var Ci=typeof DOMParser!=="undefined";ki.innerHTML=xi;if(Ci&&ki.firstChild.namespaceURI!==yi)bi=function(e,t){var i=new DOMParser;var r=i.parseFromString(t,"text/xml");var n=document.adoptNode(r.documentElement);e.innerHTML="";e.appendChild(n)}}var Si=bi,Ti="transform",Ai={clip:"clip-path",fill:"fill"};function Mi(e,t){return e==="clip"||e==="fill"&&(!t||t.nodeType==="Gradient")}function Di(){var e=document.getElementsByTagName("base")[0];var t=document.location.href;var i="";if(e&&!(l||{}).msie){var r=t.indexOf("#");if(r!==-1)t=t.substring(0,r);i=t}return i}var Ei=function(n){function e(e,t){n.call(this,e);this.definitions={};this.options=t}u(e,n);e.prototype=Object.create(n&&n.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.destroy=function e(){if(this.element){this.element._kendoNode=null;this.element=null}this.clearDefinitions();n.prototype.destroy.call(this)};e.prototype.load=function e(t,i){var r=this;for(var n=0;n<t.length;n++){var a=t[n];var o=a.children;var s=new _i[a.nodeType](a,r.options);if(d(i))r.insertAt(s,i);else r.append(s);s.createDefinitions();if(o&&o.length>0)s.load(o);var l=r.element;if(l)s.attachTo(l,i)}};e.prototype.root=function e(){var e=this;while(e.parent)e=e.parent;return e};e.prototype.attachTo=function e(t,i){var r=document.createElement("div");Si(r,"<svg xmlns='"+yi+"' version='1.1'>"+this.render()+"</svg>");var n=r.firstChild.firstChild;if(n){if(d(i))t.insertBefore(n,t.childNodes[i]||null);else t.appendChild(n);this.setElement(n)}};e.prototype.setElement=function e(t){if(this.element)this.element._kendoNode=null;this.element=t;this.element._kendoNode=this;var i=this.childNodes;for(var r=0;r<i.length;r++){var n=t.childNodes[r];i[r].setElement(n)}};e.prototype.clear=function e(){this.clearDefinitions();if(this.element)this.element.innerHTML="";var t=this.childNodes;for(var i=0;i<t.length;i++)t[i].destroy();this.childNodes=[]};e.prototype.removeSelf=function e(){if(this.element){var t=this.element.parentNode;if(t)t.removeChild(this.element);this.element=null}n.prototype.removeSelf.call(this)};e.prototype.template=function e(){return this.renderChildren()};e.prototype.render=function e(){return this.template()};e.prototype.renderChildren=function e(){var t=this.childNodes;var i="";for(var r=0;r<t.length;r++)i+=t[r].render();return i};e.prototype.optionsChange=function e(t){var i=t.field;var r=t.value;if(i==="visible")this.css("display",r?"":wi);else if(Ai[i]&&Mi(i,r))this.updateDefinition(i,r);else if(i==="opacity")this.attr("opacity",r);else if(i==="cursor")this.css("cursor",r);else if(i==="id")if(r)this.attr("id",r);else this.removeAttr("id");n.prototype.optionsChange.call(this,t)};e.prototype.attr=function e(t,i){if(this.element)this.element.setAttribute(t,i)};e.prototype.allAttr=function e(t){var i=this;for(var r=0;r<t.length;r++)i.attr(t[r][0],t[r][1])};e.prototype.css=function e(t,i){if(this.element)this.element.style[t]=i};e.prototype.allCss=function e(t){var i=this;for(var r=0;r<t.length;r++)i.css(t[r][0],t[r][1])};e.prototype.removeAttr=function e(t){if(this.element)this.element.removeAttribute(t)};e.prototype.mapTransform=function e(t){var i=[];if(t)i.push([Ti,"matrix("+t.matrix().toString(6)+")"]);return i};e.prototype.renderTransform=function e(){return gi(this.mapTransform(this.srcElement.transform()))};e.prototype.transformChange=function e(t){if(t)this.allAttr(this.mapTransform(t));else this.removeAttr(Ti)};e.prototype.mapStyle=function e(){var t=this.srcElement.options;var i=[["cursor",t.cursor]];if(t.visible===false)i.push(["display",wi]);return i};e.prototype.renderStyle=function e(){return vi("style",mi(this.mapStyle(true)))};e.prototype.renderOpacity=function e(){return vi("opacity",this.srcElement.options.opacity)};e.prototype.renderId=function e(){return vi("id",this.srcElement.options.id)};e.prototype.createDefinitions=function e(){var t=this.srcElement;var i=this.definitions;if(t){var r=t.options;var n;for(var a in Ai){var o=r.get(a);if(o&&Mi(a,o)){i[a]=o;n=true}}if(n)this.definitionChange({action:"add",definitions:i})}};e.prototype.definitionChange=function e(t){if(this.parent)this.parent.definitionChange(t)};e.prototype.updateDefinition=function e(t,i){var r=this.definitions;var n=r[t];var a=Ai[t];var o={};if(n){o[t]=n;this.definitionChange({action:"remove",definitions:o});delete r[t]}if(!i){if(n)this.removeAttr(a)}else{o[t]=i;this.definitionChange({action:"add",definitions:o});r[t]=i;this.attr(a,this.refUrl(i.id))}};e.prototype.clearDefinitions=function e(){var t=this.definitions;this.definitionChange({action:"remove",definitions:t});this.definitions={}};e.prototype.renderDefinitions=function e(){return gi(this.mapDefinitions())};e.prototype.mapDefinitions=function e(){var t=this;var i=this.definitions;var r=[];for(var n in i)r.push([Ai[n],t.refUrl(i[n].id)]);return r};e.prototype.refUrl=function e(t){var i=(this.options||{}).skipBaseHref;var r=this.baseUrl().replace(/'/g,"\\'");var n=i?"":r;return"url("+n+"#"+t+")"};e.prototype.baseUrl=function e(){return Di()};return e}(fi),Pi=function(e){function t(){e.apply(this,arguments)}u(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.template=function e(){return"<stop "+this.renderOffset()+" "+this.renderStyle()+" />"};t.prototype.renderOffset=function e(){return vi("offset",this.srcElement.offset())};t.prototype.mapStyle=function e(){var t=this.srcElement;return[["stop-color",t.color()],["stop-opacity",t.opacity()]]};t.prototype.optionsChange=function e(t){if(t.field==="offset")this.attr(t.field,t.value);else if(t.field==="color"||t.field==="opacity")this.css("stop-"+t.field,t.value)};return t}(Ei),Ii=function(t){function e(e){t.call(this,e);this.id=e.id;this.loadStops()}u(e,t);e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.loadStops=function e(){var t=this;var i=this.srcElement.stops;var r=this.element;for(var n=0;n<i.length;n++){var a=new Pi(i[n]);t.append(a);if(r)a.attachTo(r)}};e.prototype.optionsChange=function e(t){if(t.field==="gradient.stops"){fi.prototype.clear.call(this);this.loadStops()}else if(t.field==="gradient")this.allAttr(this.mapCoordinates())};e.prototype.renderCoordinates=function e(){return gi(this.mapCoordinates())};e.prototype.mapSpace=function e(){return["gradientUnits",this.srcElement.userSpace()?"userSpaceOnUse":"objectBoundingBox"]};return e}(Ei),Bi=function(e){function t(){e.apply(this,arguments)}u(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.template=function e(){return"<linearGradient id='"+this.id+"' "+this.renderCoordinates()+">"+this.renderChildren()+"</linearGradient>"};t.prototype.mapCoordinates=function e(){var t=this.srcElement;var i=t.start();var r=t.end();var n=[["x1",i.x],["y1",i.y],["x2",r.x],["y2",r.y],this.mapSpace()];return n};return t}(Ii),zi=function(e){function t(){e.apply(this,arguments)}u(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.template=function e(){return"<radialGradient id='"+this.id+"' "+this.renderCoordinates()+">"+this.renderChildren()+"</radialGradient>"};t.prototype.mapCoordinates=function e(){var t=this.srcElement;var i=t.center();var r=t.radius();var n=[["cx",i.x],["cy",i.y],["r",r],this.mapSpace()];return n};return t}(Ii),Oi=function(t){function e(e){t.call(this);this.srcElement=e;this.id=e.id;this.load([e])}u(e,t);e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.template=function e(){return"<clipPath id='"+this.id+"'>"+this.renderChildren()+"</clipPath>"};return e}(Ei),Li=function(e){function t(){e.call(this);this.definitionMap={}}u(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.attachTo=function e(t){this.element=t};t.prototype.template=function e(){return"<defs>"+this.renderChildren()+"</defs>"};t.prototype.definitionChange=function e(t){var i=t.definitions;var r=t.action;if(r==="add")this.addDefinitions(i);else if(r==="remove")this.removeDefinitions(i)};t.prototype.createDefinition=function e(t,i){var r;if(t==="clip")r=Oi;else if(t==="fill")if(i instanceof ti)r=Bi;else if(i instanceof ii)r=zi;return new r(i)};t.prototype.addDefinitions=function e(t){var i=this;for(var r in t)i.addDefinition(r,t[r])};t.prototype.addDefinition=function e(t,i){var r=this;var n=r.element;var a=r.definitionMap;var o=i.id;var s=a[o];if(!s){var l=this.createDefinition(t,i);a[o]={element:l,count:1};this.append(l);if(n)l.attachTo(this.element)}else s.count++};t.prototype.removeDefinitions=function e(t){var i=this;for(var r in t)i.removeDefinition(t[r])};t.prototype.removeDefinition=function e(t){var i=this.definitionMap;var r=t.id;var n=i[r];if(n){n.count--;if(n.count===0){this.remove(this.childNodes.indexOf(n.element),1);delete i[r]}}};return t}(Ei),Ri=function(t){function e(e){t.call(this);this.options=e;this.defs=new Li}u(e,t);e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.attachTo=function e(t){this.element=t;this.defs.attachTo(t.firstElementChild)};e.prototype.clear=function e(){fi.prototype.clear.call(this)};e.prototype.template=function e(){return this.defs.render()+this.renderChildren()};e.prototype.definitionChange=function e(t){this.defs.definitionChange(t)};return e}(Ei),Fi={dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},Vi="solid",Ni="butt",Hi={"fill.opacity":"fill-opacity","stroke.color":"stroke","stroke.width":"stroke-width","stroke.opacity":"stroke-opacity"},Ui=" ",ji=function(r){function e(){r.apply(this,arguments)}u(e,r);e.prototype=Object.create(r&&r.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.geometryChange=function e(){this.attr("d",this.renderData());this.invalidate()};e.prototype.optionsChange=function e(t){switch(t.field){case"fill":if(t.value)this.allAttr(this.mapFill(t.value));else this.removeAttr("fill");break;case"fill.color":this.allAttr(this.mapFill({color:t.value}));break;case"stroke":if(t.value)this.allAttr(this.mapStroke(t.value));else this.removeAttr("stroke");break;case"transform":this.transformChange(t.value);break;default:var i=Hi[t.field];if(i)this.attr(i,t.value);break}r.prototype.optionsChange.call(this,t)};e.prototype.content=function e(){if(this.element)this.element.textContent=this.srcElement.content()};e.prototype.renderData=function e(){return this.printPath(this.srcElement)};e.prototype.printPath=function c(e){var t=this;var i=e.segments;var r=i.length;if(r>0){var n=[];var a,o;for(var s=1;s<r;s++){var l=t.segmentType(i[s-1],i[s]);if(l!==o){o=l;n.push(l)}if(l==="L")n.push(t.printPoints(i[s].anchor()));else n.push(t.printPoints(i[s-1].controlOut(),i[s].controlIn(),i[s].anchor()))}a="M"+this.printPoints(i[0].anchor())+Ui+n.join(Ui);if(e.options.closed)a+="Z";return a}};e.prototype.printPoints=function e(){var t=arguments;var i=t.length;var r=[];for(var n=0;n<i;n++)r.push(t[n].toString(3));return r.join(" ")};e.prototype.segmentType=function e(t,i){return t.controlOut()&&i.controlIn()?"C":"L"};e.prototype.mapStroke=function e(t){var i=[];if(t&&!M(t.color)){i.push(["stroke",t.color]);i.push(["stroke-width",t.width]);i.push(["stroke-linecap",this.renderLinecap(t)]);i.push(["stroke-linejoin",t.lineJoin]);if(d(t.opacity))i.push(["stroke-opacity",t.opacity]);if(d(t.dashType))i.push(["stroke-dasharray",this.renderDashType(t)])}else i.push(["stroke",wi]);return i};e.prototype.renderStroke=function e(){return gi(this.mapStroke(this.srcElement.options.stroke))};e.prototype.renderDashType=function e(t){var i=t.dashType;var r=t.width;if(r===void 0)r=1;if(i&&i!==Vi){var n=Fi[i.toLowerCase()];var a=[];for(var o=0;o<n.length;o++)a.push(n[o]*r);return a.join(" ")}};e.prototype.renderLinecap=function e(t){var i=t.dashType;var r=t.lineCap;return i&&i!=="solid"?Ni:r};e.prototype.mapFill=function e(t){var i=[];if(!(t&&t.nodeType==="Gradient"))if(t&&!M(t.color)){i.push(["fill",t.color]);if(d(t.opacity))i.push(["fill-opacity",t.opacity])}else i.push(["fill",wi]);return i};e.prototype.renderFill=function e(){return gi(this.mapFill(this.srcElement.options.fill))};e.prototype.template=function e(){return"<path "+this.renderId()+" "+this.renderStyle()+" "+this.renderOpacity()+" "+vi("d",this.renderData())+""+this.renderStroke()+this.renderFill()+this.renderDefinitions()+this.renderTransform()+"></path>"};return e}(Ei),Gi=function(e){function t(){e.apply(this,arguments)}u(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.renderData=function e(){return this.printPath(this.srcElement.toPath())};return t}(ji),Wi=function(e){function t(){e.apply(this,arguments)}u(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.geometryChange=function e(){var t=this.center();this.attr("cx",t.x);this.attr("cy",t.y);this.attr("r",this.radius());this.invalidate()};t.prototype.center=function e(){return this.srcElement.geometry().center};t.prototype.radius=function e(){return this.srcElement.geometry().radius};t.prototype.template=function e(){return"<circle "+this.renderId()+" "+this.renderStyle()+" "+this.renderOpacity()+"cx='"+this.center().x+"' cy='"+this.center().y+"' r='"+this.radius()+"'"+this.renderStroke()+" "+this.renderFill()+" "+this.renderDefinitions()+this.renderTransform()+" ></circle>"};return t}(ji),qi=function(i){function e(){i.apply(this,arguments)}u(e,i);e.prototype=Object.create(i&&i.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.template=function e(){return"<g"+(this.renderId()+this.renderTransform()+this.renderStyle()+this.renderOpacity()+this.renderDefinitions())+">"+this.renderChildren()+"</g>"};e.prototype.optionsChange=function e(t){if(t.field==="transform")this.transformChange(t.value);i.prototype.optionsChange.call(this,t)};return e}(Ei),Yi=function(i){function e(){i.apply(this,arguments)}u(e,i);e.prototype=Object.create(i&&i.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.geometryChange=function e(){this.allAttr(this.mapPosition());this.invalidate()};e.prototype.optionsChange=function e(t){if(t.field==="src")this.allAttr(this.mapSource());i.prototype.optionsChange.call(this,t)};e.prototype.mapPosition=function e(){var t=this.srcElement.rect();var i=t.topLeft();return[["x",i.x],["y",i.y],["width",t.width()+"px"],["height",t.height()+"px"]]};e.prototype.renderPosition=function e(){return gi(this.mapPosition())};e.prototype.mapSource=function e(t){var i=this.srcElement.src();if(t)i=kendo.htmlEncode(i);return[["xlink:href",i]]};e.prototype.renderSource=function e(){return gi(this.mapSource(true))};e.prototype.template=function e(){return"<image preserveAspectRatio='none' "+this.renderId()+" "+this.renderStyle()+" "+this.renderTransform()+" "+this.renderOpacity()+this.renderPosition()+" "+this.renderSource()+" "+this.renderDefinitions()+">"+"</image>"};return e}(ji),$i=function(e){function t(){e.apply(this,arguments)}u(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.renderData=function e(){var t=this;var i=this.srcElement.paths;if(i.length>0){var r=[];for(var n=0;n<i.length;n++)r.push(t.printPath(i[n]));return r.join(" ")}};return t}(ji),Xi=function(e){function t(){e.apply(this,arguments)}u(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.geometryChange=function e(){var t=this.srcElement.geometry();this.attr("x",t.origin.x);this.attr("y",t.origin.y);this.attr("width",t.size.width);this.attr("height",t.size.height);this.attr("rx",t.cornerRadius[0]);this.attr("ry",t.cornerRadius[1]);this.invalidate()};t.prototype.size=function e(){return this.srcElement.geometry().size};t.prototype.origin=function e(){return this.srcElement.geometry().origin};t.prototype.rx=function e(){return this.srcElement.geometry().cornerRadius[0]};t.prototype.ry=function e(){return this.srcElement.geometry().cornerRadius[1]};t.prototype.template=function e(){return"<rect "+this.renderId()+" "+this.renderStyle()+" "+this.renderOpacity()+" x='"+this.origin().x+"' y='"+this.origin().y+"' "+"rx='"+this.rx()+"' ry='"+this.ry()+"' "+"width='"+this.size().width+"' height='"+this.size().height+"' "+this.renderStroke()+" "+this.renderFill()+" "+this.renderDefinitions()+" "+this.renderTransform()+" />"};return t}(ji),Ki=/&(?:[a-zA-Z]+|#\d+);/g;function Qi(e){if(!e||typeof e!=="string"||!Ki.test(e))return e;var t=Qi._element;Ki.lastIndex=0;return e.replace(Ki,function(e){t.innerHTML=e;return t.textContent||t.innerText})}if(typeof document!=="undefined")Qi._element=document.createElement("span");var Zi=function(n){function e(){n.apply(this,arguments)}u(e,n);e.prototype=Object.create(n&&n.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.geometryChange=function e(){var t=this.pos();this.attr("x",t.x);this.attr("y",t.y);this.invalidate()};e.prototype.optionsChange=function e(t){if(t.field==="font"){this.attr("style",mi(this.mapStyle()));this.geometryChange()}else if(t.field==="content")n.prototype.content.call(this,this.srcElement.content());n.prototype.optionsChange.call(this,t)};e.prototype.mapStyle=function e(t){var i=n.prototype.mapStyle.call(this,t);var r=this.srcElement.options.font;if(t)r=kendo.htmlEncode(r);i.push(["font",r],["white-space","pre"]);return i};e.prototype.pos=function e(){var e=this.srcElement.position();var t=this.srcElement.measure();return e.clone().setY(e.y+t.baseline)};e.prototype.renderContent=function e(){var t=this.srcElement.content();t=Qi(t);t=kendo.htmlEncode(t);return s.normalizeText(t)};e.prototype.renderTextAnchor=function e(){var t;if((this.options||{}).rtl&&!(l.msie||l.edge))t="end";return vi("text-anchor",t)};e.prototype.template=function e(){return"<text "+this.renderId()+" "+this.renderTextAnchor()+" "+this.renderStyle()+" "+this.renderOpacity()+"x='"+this.pos().x+"' y='"+this.pos().y+"' "+this.renderStroke()+" "+this.renderTransform()+" "+this.renderDefinitions()+this.renderFill()+">"+this.renderContent()+"</text>"};return e}(ji),Ji=(_i.Arc=Gi,_i.Circle=Wi,_i.Group=qi,_i.Image=Yi,_i.MultiPath=$i,_i.Path=ji,_i.Rect=Xi,_i.Text=Zi,"rtl");function er(e){var t;try{t=e.getScreenCTM?e.getScreenCTM():null}catch(e){}if(t){var i=-t.e%1;var r=-t.f%1;var n=e.style;if(i!==0||r!==0){n.left=i+"px";n.top=r+"px"}}}var tr=function(i){function e(e,t){i.call(this,e,t);this._root=new Ri(p.extend({rtl:q(e,"direction").direction===Ji},this.options));Si(this.element,this._template());this._rootElement=this.element.firstElementChild;er(this._rootElement);this._root.attachTo(this._rootElement);G(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove});this.resize()}u(e,i);e.prototype=Object.create(i&&i.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;var t={type:{}};t.type.get=function(){return"svg"};e.prototype.destroy=function e(){if(this._root){this._root.destroy();this._root=null;this._rootElement=null;X(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove})}i.prototype.destroy.call(this)};e.prototype.translate=function e(t){var i=Math.round(t.x)+" "+Math.round(t.y)+" "+this._size.width+" "+this._size.height;this._offset=t;this._rootElement.setAttribute("viewBox",i)};e.prototype.draw=function e(t){i.prototype.draw.call(this,t);this._root.load([t])};e.prototype.clear=function e(){i.prototype.clear.call(this);this._root.clear()};e.prototype.svg=function e(){return"<?xml version='1.0' ?>"+this._template()};e.prototype.exportVisual=function e(){var t=this;var i=t._visual;var r=t._offset;if(r){var n=new Tt;n.children.push(i);n.transform(T().translate(-r.x,-r.y));i=n}return i};e.prototype._resize=function e(){if(this._offset)this.translate(this._offset)};e.prototype._template=function e(){return"<svg style='width: 100%; height: 100%; overflow: hidden;' xmlns='"+yi+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>"+this._root.render()+"</svg>"};Object.defineProperties(e.prototype,t);return e}(pi),ir={};function rr(e,t){var i=t.segments;if(i.length===0)return;var r=i[0];var n=r.anchor();e.moveTo(n.x,n.y);for(var a=1;a<i.length;a++){r=i[a];n=r.anchor();var o=i[a-1];var s=o.controlOut();var l=r.controlIn();if(s&&l)e.bezierCurveTo(s.x,s.y,l.x,l.y,n.x,n.y);else e.lineTo(n.x,n.y)}if(t.options.closed)e.closePath()}var nr=function(i){function e(e){i.call(this,e);if(e)this.initClip()}u(e,i);e.prototype=Object.create(i&&i.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.initClip=function e(){var t=this.srcElement.clip();if(t){this.clip=t;t.addObserver(this)}};e.prototype.clear=function e(){if(this.srcElement)this.srcElement.removeObserver(this);this.clearClip();i.prototype.clear.call(this)};e.prototype.clearClip=function e(){if(this.clip){this.clip.removeObserver(this);delete this.clip}};e.prototype.setClip=function e(t){if(this.clip){t.beginPath();rr(t,this.clip);t.clip()}};e.prototype.optionsChange=function e(t){if(t.field==="clip"){this.clearClip();this.initClip()}i.prototype.optionsChange.call(this,t)};e.prototype.setTransform=function e(t){if(this.srcElement){var i=this.srcElement.transform();if(i)t.transform.apply(t,i.matrix().toArray(6))}};e.prototype.loadElements=function e(t,i,r){var n=this;for(var a=0;a<t.length;a++){var o=t[a];var s=o.children;var l=new ir[o.nodeType](o,r);if(s&&s.length>0)l.load(s,i,r);if(d(i))n.insertAt(l,i);else n.append(l)}};e.prototype.load=function e(t,i,r){this.loadElements(t,i,r);this.invalidate()};e.prototype.setOpacity=function e(t){if(this.srcElement){var i=this.srcElement.opacity();if(d(i))this.globalAlpha(t,i)}};e.prototype.globalAlpha=function e(t,i){var r=i;if(r&&t.globalAlpha)r*=t.globalAlpha;t.globalAlpha=r};e.prototype.visible=function e(){var t=this.srcElement;return!t||t&&t.options.visible!==false};return e}(fi),ar=function(e){function t(){e.apply(this,arguments)}u(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.renderTo=function e(t){if(!this.visible())return;t.save();this.setTransform(t);this.setClip(t);this.setOpacity(t);var i=this.childNodes;for(var r=0;r<i.length;r++){var n=i[r];if(n.visible())n.renderTo(t)}t.restore()};return t}(St(nr,"childNodes")),or=1e3/60,sr=function(r){function e(e,t){r.call(this);this.canvas=e;this.size=t;this.ctx=e.getContext("2d");var i=this._invalidate.bind(this);this.invalidate=kendo.throttle(function(){kendo.animationFrame(i)},or)}u(e,r);e.prototype=Object.create(r&&r.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.destroy=function e(){r.prototype.destroy.call(this);this.canvas=null;this.ctx=null};e.prototype.load=function e(t,i,r){this.loadElements(t,i,r);this._invalidate()};e.prototype._rescale=function e(t){var i=this;var r=i.canvas;var n=i.size;r.width=n.width*t;r.height=n.height*t;this.ctx.scale(t,t)};e.prototype._devicePixelRatio=function e(){if(typeof window.devicePixelRatio==="number")return window.devicePixelRatio;return 1};e.prototype._invalidate=function e(t){if(!this.ctx)return;var i=t&&t.fixedScale;var r=i?1:this._devicePixelRatio();this._rescale(r);this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);this.renderTo(this.ctx)};return e}(St(ar,"childNodes")),lr=function(e){function t(){e.call(this);this.shapes=[]}u(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype._add=function e(t,i){this.shapes.push({bbox:i,shape:t});t._quadNode=this};t.prototype.pointShapes=function e(t){var i=this.shapes;var r=i.length;var n=[];for(var a=0;a<r;a++)if(i[a].bbox.containsPoint(t))n.push(i[a].shape);return n};t.prototype.insert=function e(t,i){this._add(t,i)};t.prototype.remove=function e(t){var i=this.shapes;var r=i.length;for(var n=0;n<r;n++)if(i[n].shape===t){i.splice(n,1);break}};return t}(o),cr={Circle:pe,Arc:Pe,Rect:I,Point:L,Segment:rt,Matrix:a,Size:ce,toMatrix:le,Transformation:he,transform:T},hr=function(o){function s(e){o.call(this);this.children=[];this.rect=e}u(s,o);s.prototype=Object.create(o&&o.prototype);s.prototype.constructor=s;s.fn=s.prototype;s.fn.init=s.fn.constructor;s.prototype.inBounds=function e(t){var i=this.rect;var r=i.bottomRight();var n=t.bottomRight();var e=i.origin.x<=t.origin.x&&i.origin.y<=t.origin.y&&n.x<=r.x&&n.y<=r.y;return e};s.prototype.pointShapes=function e(t){var i=this.children;var r=i.length;var n=o.prototype.pointShapes.call(this,t);for(var a=0;a<r;a++)h(n,i[a].pointShapes(t));return n};s.prototype.insert=function e(t,i){var r=this.children;var n=false;if(this.inBounds(i)){if(this.shapes.length<4)this._add(t,i);else{if(!r.length)this._initChildren();for(var a=0;a<r.length;a++)if(r[a].insert(t,i)){n=true;break}if(!n)this._add(t,i)}n=true}return n};s.prototype._initChildren=function e(){var t=this;var i=t.rect;var r=t.children;var n=i.center();var a=i.width()/2;var o=i.height()/2;r.push(new s(new I([i.origin.x,i.origin.y],[a,o])),new s(new I([n.x,i.origin.y],[a,o])),new s(new I([i.origin.x,n.y],[a,o])),new s(new I([n.x,n.y],[a,o])))};return s}(lr),ur=3e3,fr=1e4,dr=75,pr=function(e){function t(){e.call(this);this.initRoots()}u(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.initRoots=function e(){this.rootMap={};this.root=new lr;this.rootElements=[]};t.prototype.clear=function e(){var t=this;var i=this.rootElements;for(var r=0;r<i.length;r++)t.remove(i[r]);this.initRoots()};t.prototype.pointShape=function e(t){var i=(this.rootMap[Math.floor(t.x/ur)]||{})[Math.floor(t.y/ur)];var r=this.root.pointShapes(t);if(i)r=r.concat(i.pointShapes(t));this.assignZindex(r);r.sort(vr);for(var n=0;n<r.length;n++)if(r[n].containsPoint(t))return r[n]};t.prototype.assignZindex=function e(t){var i=this;for(var r=0;r<t.length;r++){var n=t[r];var a=0;var o=Math.pow(fr,dr);var s=[];while(n){s.push(n);n=n.parent}while(s.length){n=s.pop();a+=((n.parent?n.parent.children:i.rootElements).indexOf(n)+1)*o;o/=fr}t[r]._zIndex=a}};t.prototype.optionsChange=function e(t){if(t.field==="transform"||t.field==="stroke.width")this.bboxChange(t.element)};t.prototype.geometryChange=function e(t){this.bboxChange(t.element)};t.prototype.bboxChange=function e(t){var i=this;if(t.nodeType==="Group")for(var r=0;r<t.children.length;r++)i.bboxChange(t.children[r]);else{if(t._quadNode)t._quadNode.remove(t);this._insertShape(t)}};t.prototype.add=function e(t){var i=Array.isArray(t)?t.slice(0):[t];h(this.rootElements,i);this._insert(i)};t.prototype.childrenChange=function e(t){var i=this;if(t.action==="remove")for(var r=0;r<t.items.length;r++)i.remove(t.items[r]);else this._insert(Array.prototype.slice.call(t.items,0))};t.prototype._insert=function e(t){var i=this;var r;while(t.length>0){r=t.pop();r.addObserver(i);if(r.nodeType==="Group")h(t,r.children);else i._insertShape(r)}};t.prototype._insertShape=function e(t){var i=t.bbox();if(i){var r=this.getSectors(i);var n=r[0][0];var a=r[1][0];if(this.inRoot(r))this.root.insert(t,i);else{var o=this.rootMap;if(!o[n])o[n]={};if(!o[n][a])o[n][a]=new hr(new I([n*ur,a*ur],[ur,ur]));o[n][a].insert(t,i)}}};t.prototype.remove=function e(t){var i=this;t.removeObserver(this);if(t.nodeType==="Group"){var r=t.children;for(var n=0;n<r.length;n++)i.remove(r[n])}else if(t._quadNode){t._quadNode.remove(t);delete t._quadNode}};t.prototype.inRoot=function e(t){return t[0].length>1||t[1].length>1};t.prototype.getSectors=function e(t){var i=t.bottomRight();var r=Math.floor(i.x/ur);var n=Math.floor(i.y/ur);var a=[[],[]];for(var o=Math.floor(t.origin.x/ur);o<=r;o++)a[0].push(o);for(var s=Math.floor(t.origin.y/ur);s<=n;s++)a[1].push(s);return a};return t}(o);function vr(e,t){if(e._zIndex<t._zIndex)return 1;if(e._zIndex>t._zIndex)return-1;return 0}var gr=function e(t){t.bind("mouseenter",this._mouseenter.bind(this));t.bind("mouseleave",this._mouseleave.bind(this));this.element=t.element};function mr(e,t){for(var i=0;i<t.length;i++){var r=t[i];var n=kendo.parseColor(r.color());n.a*=r.opacity();e.addColorStop(r.offset(),n.toCssRgba())}}gr.prototype.clear=function e(){this._resetCursor()},gr.prototype.destroy=function e(){this._resetCursor();delete this.element},gr.prototype._mouseenter=function e(t){var i=this._shapeCursor(t);if(!i)this._resetCursor();else{if(!this._current)this._defaultCursor=this._getCursor();this._setCursor(i)}},gr.prototype._mouseleave=function e(){this._resetCursor()},gr.prototype._shapeCursor=function e(t){var i=t.element;while(i&&!d(i.options.cursor))i=i.parent;if(i)return i.options.cursor},gr.prototype._getCursor=function e(){if(this.element)return this.element.style.cursor},gr.prototype._setCursor=function e(t){if(this.element){this.element.style.cursor=t;this._current=t}},gr.prototype._resetCursor=function e(){if(this._current){this._setCursor(this._defaultCursor||"");delete this._current}};var _r=function(e){function t(){e.apply(this,arguments)}u(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.renderTo=function e(t){t.save();this.setTransform(t);this.setClip(t);this.setOpacity(t);t.beginPath();this.renderPoints(t,this.srcElement);this.setLineDash(t);this.setLineCap(t);this.setLineJoin(t);this.setFill(t);this.setStroke(t);t.restore()};t.prototype.setFill=function e(t){var i=this.srcElement.options.fill;var r=false;if(i)if(i.nodeType==="Gradient"){this.setGradientFill(t,i);r=true}else if(!M(i.color)){t.fillStyle=i.color;t.save();this.globalAlpha(t,i.opacity);t.fill();t.restore();r=true}return r};t.prototype.setGradientFill=function e(t,i){var r=this.srcElement.rawBBox();var n;if(i instanceof ti){var a=i.start();var o=i.end();n=t.createLinearGradient(a.x,a.y,o.x,o.y)}else if(i instanceof ii){var s=i.center();n=t.createRadialGradient(s.x,s.y,0,s.x,s.y,i.radius())}mr(n,i.stops);t.save();if(!i.userSpace())t.transform(r.width(),0,0,r.height(),r.origin.x,r.origin.y);t.fillStyle=n;t.fill();t.restore()};t.prototype.setStroke=function e(t){var i=this.srcElement.options.stroke;if(i&&!M(i.color)&&i.width>0){t.strokeStyle=i.color;t.lineWidth=j(i.width,1);t.save();this.globalAlpha(t,i.opacity);t.stroke();t.restore();return true}};t.prototype.dashType=function e(){var t=this.srcElement.options.stroke;if(t&&t.dashType)return t.dashType.toLowerCase()};t.prototype.setLineDash=function e(t){var i=this.dashType();if(i&&i!==Vi){var r=Fi[i];if(t.setLineDash)t.setLineDash(r);else{t.mozDash=r;t.webkitLineDash=r}}};t.prototype.setLineCap=function e(t){var i=this.dashType();var r=this.srcElement.options.stroke;if(i&&i!==Vi)t.lineCap=Ni;else if(r&&r.lineCap)t.lineCap=r.lineCap};t.prototype.setLineJoin=function e(t){var i=this.srcElement.options.stroke;if(i&&i.lineJoin)t.lineJoin=i.lineJoin};t.prototype.renderPoints=function e(t,i){rr(t,i)};return t}(nr),yr=function(e){function t(){e.apply(this,arguments)}u(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.renderPoints=function e(t){var i=this.srcElement.toPath();rr(t,i)};return t}(_r),wr=function(e){function t(){e.apply(this,arguments)}u(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.renderPoints=function e(t){var i=this.srcElement.geometry();var r=i.center;var n=i.radius;t.arc(r.x,r.y,n,0,Math.PI*2)};return t}(_r),br=function(r){function e(e,t){r.call(this,e);this.onLoad=this.onLoad.bind(this);this.onError=this.onError.bind(this);this.loading=v();var i=this.img=new Image;if(t&&!/^data:/i.test(e.src()))i.crossOrigin=t;i.src=e.src();if(i.complete)this.onLoad();else{i.onload=this.onLoad;i.onerror=this.onError}}u(e,r);e.prototype=Object.create(r&&r.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.renderTo=function e(t){if(this.loading.state()==="resolved"){t.save();this.setTransform(t);this.setClip(t);this.drawImage(t);t.restore()}};e.prototype.optionsChange=function e(t){if(t.field==="src"){this.loading=v();this.img.src=this.srcElement.src()}else r.prototype.optionsChange.call(this,t)};e.prototype.onLoad=function e(){this.loading.resolve();this.invalidate()};e.prototype.onError=function e(){this.loading.reject(new Error("Unable to load image '"+this.img.src+"'. Check for connectivity and verify CORS headers."))};e.prototype.drawImage=function e(t){var i=this.srcElement.rect();var r=i.topLeft();t.drawImage(this.img,r.x,r.y,i.width(),i.height())};return e}(_r),xr=function(e){function t(){e.apply(this,arguments)}u(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.renderPoints=function e(t){var i=this.srcElement.paths;for(var r=0;r<i.length;r++)rr(t,i[r])};return t}(_r),kr=function(l){function e(){l.apply(this,arguments)}u(e,l);e.prototype=Object.create(l&&l.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.renderPoints=function e(t){var i=this.srcElement.geometry();var r=i.cornerRadius;var n=r[0];var a=r[1];if(n===0&&a===0){var o=i.origin;var s=i.size;t.rect(o.x,o.y,s.width,s.height)}else l.prototype.renderPoints.call(this,t,B.fromRect(i))};return e}(_r),Cr=function(e){function t(){e.apply(this,arguments)}u(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.renderTo=function e(t){var i=this.srcElement;var r=i.position();var n=i.measure();t.save();this.setTransform(t);this.setClip(t);this.setOpacity(t);t.beginPath();t.font=i.options.font;t.textAlign="left";if(this.setFill(t))t.fillText(i.content(),r.x,r.y+n.baseline);if(this.setStroke(t)){this.setLineDash(t);t.strokeText(i.content(),r.x,r.y+n.baseline)}t.restore()};return t}(_r),Sr=(ir.Arc=yr,ir.Circle=wr,ir.Group=ar,ir.Image=br,ir.MultiPath=xr,ir.Path=_r,ir.Rect=kr,ir.Text=Cr,function(n){function e(e,t){n.call(this,e,t);this.element.innerHTML=this._template(this);var i=this.element.firstElementChild;var r=$(e);i.width=r.width;i.height=r.height;this._rootElement=i;this._root=new sr(i,r);this._mouseTrackHandler=this._trackMouse.bind(this);G(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})}u(e,n);e.prototype=Object.create(n&&n.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;var t={type:{}};t.type.get=function(){return"canvas"};e.prototype.destroy=function e(){n.prototype.destroy.call(this);if(this._root){this._root.destroy();this._root=null}if(this._searchTree){this._searchTree.clear();delete this._searchTree}if(this._cursor){this._cursor.destroy();delete this._cursor}X(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})};e.prototype.draw=function e(t){n.prototype.draw.call(this,t);this._root.load([t],undefined,this.options.cors);if(this._searchTree)this._searchTree.add([t])};e.prototype.clear=function e(){n.prototype.clear.call(this);this._root.clear();if(this._searchTree)this._searchTree.clear();if(this._cursor)this._cursor.clear()};e.prototype.eventTarget=function e(t){if(this._searchTree){var i=this._surfacePoint(t);var r=this._searchTree.pointShape(i);return r}};e.prototype.image=function e(){var t=this;var i=t._root;var r=t._rootElement;var n=[];i.traverse(function(e){if(e.loading)n.push(e.loading)});var a=v();var o=function(){i._invalidate({fixedScale:true});try{var e=r.toDataURL();a.resolve(e)}catch(e){a.reject(e)}};c(n).then(o,o);return a};e.prototype.suspendTracking=function e(){n.prototype.suspendTracking.call(this);if(this._searchTree){this._searchTree.clear();delete this._searchTree}};e.prototype.resumeTracking=function e(){n.prototype.resumeTracking.call(this);if(!this._searchTree){this._searchTree=new pr;var t=this._root.childNodes;var i=[];for(var r=0;r<t.length;r++)i.push(t[r].srcElement);this._searchTree.add(i)}};e.prototype._resize=function e(){this._rootElement.width=this._size.width;this._rootElement.height=this._size.height;this._root.size=this._size;this._root.invalidate()};e.prototype._template=function e(){return"<canvas style='width: 100%; height: 100%;'></canvas>"};e.prototype._enableTracking=function e(){this._searchTree=new pr;this._cursor=new gr(this);n.prototype._enableTracking.call(this)};e.prototype._trackMouse=function e(t){if(this._suspendedTracking)return;var i=this.eventTarget(t);if(t.type!=="click"){var r=this._currentShape;if(r&&r!==i)this.trigger("mouseleave",{element:r,originalEvent:t,type:"mouseleave"});if(i&&r!==i)this.trigger("mouseenter",{element:i,originalEvent:t,type:"mouseenter"});this.trigger("mousemove",{element:i,originalEvent:t,type:"mousemove"});this._currentShape=i}else if(i)this.trigger("click",{element:i,originalEvent:t,type:"click"})};Object.defineProperties(e.prototype,t);return e}(pi)),Tr,Ar,Mr=function(){return typeof document!=="undefined"},Dr=function(){return Mr()&&document.createElement("canvas").getContext},Er=function(){return Mr()&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")},Pr=function(e){function t(){e.call(this);this._items=[{name:"svg",type:tr},{name:"canvas",type:Sr}]}u(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;var i={support:{},current:{}};i.support.get=function(){if(!Ar)Ar={canvas:Dr(),svg:Er()};return Ar};i.current.get=function(){if(!Tr)Tr=new t;return Tr};t.prototype.create=function e(t,i){var r=this._items;var n=r[0];if(i&&i.type){var a=i.type.toLowerCase();for(var o=0;o<r.length;o++)if(r[o].name===a){n=r[o];break}}if(n)return new n.type(t,i);kendo.logToConsole("Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\n"+"- The browser does not support SVG and Canvas. User agent: "+navigator.userAgent)};Object.defineProperties(t,i);return t}(o),Ir=function(e){function t(){e.apply(this,arguments)}u(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;var i={support:{}};i.support.get=function(){return Pr.support};t.create=function e(t,i){return Pr.current.create(t,i)};Object.defineProperties(t,i);return t}(pi);function Br(e){var t=new Ri({skipBaseHref:true});var i=e.clippedBBox();var r=e;if(i){var n=i.getOrigin();var a=new Tt;a.transform(T().translate(-n.x,-n.y));a.children.push(e);r=a}t.load([r]);var o="<?xml version='1.0' ?><svg xmlns='"+yi+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>"+t.render()+"</svg>";t.destroy();return o}var zr={Surface:tr,RootNode:Ri,Node:Ei,GroupNode:qi,ArcNode:Gi,CircleNode:Wi,RectNode:Xi,ImageNode:Yi,TextNode:Zi,PathNode:ji,MultiPathNode:$i,DefinitionNode:Li,ClipNode:Oi,GradientStopNode:Pi,LinearGradientNode:Bi,RadialGradientNode:zi,exportGroup:Br},Or={Surface:Sr,RootNode:sr,Node:nr,GroupNode:ar,ArcNode:yr,CircleNode:wr,RectNode:kr,ImageNode:br,TextNode:Cr,PathNode:_r,MultiPathNode:xr};function Lr(e,h){var t={width:"800px",height:"600px",cors:"Anonymous"};var i=e;var r=e.clippedBBox();if(r){var n=r.getOrigin();i=new Tt;i.transform(T().translate(-n.x,-n.y));i.children.push(e);var a=r.getSize();t.width=a.width+"px";t.height=a.height+"px"}var o=p.extend(t,h);var s=document.createElement("div");var l=s.style;l.display="none";l.width=o.width;l.height=o.height;document.body.appendChild(s);var c=new Sr(s,o);c.suspendTracking();c.draw(i);var u=c.image();var f=function(){c.destroy();document.body.removeChild(s)};u.then(f,f);return u}function Rr(e,t){var i=Br(e);if(!t||!t.raw)i="data:image/svg+xml;base64,"+C(i);return v().resolve(i)}var Fr=l||{};function Vr(e){return Array.prototype.slice.call(e)}var Nr="KENDO-PSEUDO-ELEMENT",Hr={},z={};z._root=z;var Ur,jr=typeof window!=="undefined"?Fr.msie||Fr.edge:false,Gr=function(r){function e(e,t,i){r.call(this,e,t.getOrigin(),i);this._pdfRect=t}u(e,r);e.prototype=Object.create(r&&r.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.rect=function e(){return this._pdfRect};e.prototype.rawBBox=function e(){return this._pdfRect};return e}(kt);function Wr(e,t){if(e.classList)e.classList.add(t);else e.className+=" "+t}function qr(e,i){if(e.classList)e.classList.remove(i);else e.className=e.className.split(/\s+/).reduce(function(e,t){if(t!=i)e.push(t);return e},[]).join(" ")}function Yr(t,i){Object.keys(i).forEach(function(e){t.style[e]=i[e]})}var $r=typeof Element!=="undefined"&&Element.prototype&&function(e){if(e.matches)return function(e,t){return e.matches(t)};if(e.webkitMatchesSelector)return function(e,t){return e.webkitMatchesSelector(t)};if(e.mozMatchesSelector)return function(e,t){return e.mozMatchesSelector(t)};if(e.msMatchesSelector)return function(e,t){return e.msMatchesSelector(t)};return function(e){return[].indexOf.call(document.querySelectorAll(e),this)!==-1}}(Element.prototype);function Xr(e,t){if(e.closest)return e.closest(t);while(e&&!/^\[object (?:HTML)?Document\]$/.test(String(e))){if(e.nodeType==1&&$r(e,t))return e;e=e.parentNode}}var Kr=function(s){if(s)return function e(t){var i=t.cloneNode(false);if(t.nodeType==1){var r=s(t),n=s(i),a;var o=r.data();for(a in o)n.data(a,o[a]);if(/^canvas$/i.test(t.tagName))i.getContext("2d").drawImage(t,0,0);else if(/^(?:input|select|textarea|option)$/i.test(t.tagName)){i.removeAttribute("id");i.removeAttribute("name");if(!/^textarea$/i.test(t.tagName))i.value=t.value;i.checked=t.checked;i.selected=t.selected}for(a=t.firstChild;a;a=a.nextSibling)i.appendChild(e(a))}return i};else return function e(t){var i=function e(t){var i=t.cloneNode(false);if(t._kendoExportVisual)i._kendoExportVisual=t._kendoExportVisual;for(var r=t.firstChild;r;r=r.nextSibling)i.appendChild(e(r));return i}(t);var r=t.querySelectorAll("canvas");if(r.length)Vr(i.querySelectorAll("canvas")).forEach(function(e,t){e.getContext("2d").drawImage(r[t],0,0)});var n=t.querySelectorAll("input, select, textarea, option");Vr(i.querySelectorAll("input, select, textarea, option")).forEach(function(e,t){e.removeAttribute("id");e.removeAttribute("name");if(!/^textarea$/i.test(e.tagName))e.value=n[t].value;e.checked=n[t].checked;e.selected=n[t].selected});return i}}(typeof window!=="undefined"&&window.kendo&&window.kendo.jQuery);function Qr(e){if(typeof e=="number")return{x:e,y:e};if(Array.isArray(e))return{x:e[0],y:e[1]};return{x:e.x,y:e.y}}function Zr(l,c){if(!c)c={};var h=v();if(!l)return h.reject("No element to export");if(typeof window.getComputedStyle!="function")throw new Error("window.getComputedStyle is missing.  You are using an unsupported browser, or running in IE8 compatibility mode.  Drawing HTML is supported in Chrome, Firefox, Safari and IE9+.");kendo.pdf.defineFont(an(l.ownerDocument));var u=Qr(c.scale||1);function f(e){var t=new Tt;var i=e.getBoundingClientRect();In(t,[u.x,0,0,u.y,-i.left*u.x,-i.top*u.y]);z._clipbox=false;z._matrix=a.unit();z._stackingContext={element:e,group:t};if(c.avoidLinks===true)z._avoidLinks="a";else z._avoidLinks=c.avoidLinks;Wr(e,"k-pdf-export");ia(e,t);qr(e,"k-pdf-export");return t}vn([l],function(){var e=c&&c.forcePageBreak;var i=c&&c.paperSize&&c.paperSize!="auto";var t=kendo.pdf.getPaperOptions(function(e,t){if(e=="paperSize")return i?c[e]:"A4";return e in c?c[e]:t});var r=i&&t.paperSize[0];var n=i&&t.paperSize[1];var a=c.margin&&t.margin;var o=Boolean(a);if(e||n){if(!a)a={left:0,top:0,right:0,bottom:0};if(r)r/=u.x;if(n)n/=u.y;a.left/=u.x;a.right/=u.x;a.top/=u.y;a.bottom/=u.y;var s=new Tt({pdf:{multiPage:true,paperSize:i?t.paperSize:"auto",_ignoreMargin:o}});d(function(i){if(c.progress){var r=false,n=0;(function e(){if(n<i.pages.length){var t=f(i.pages[n]);s.append(t);c.progress({page:t,pageNum:++n,totalPages:i.pages.length,cancel:function(){r=true}});if(!r)setTimeout(e);else i.container.parentNode.removeChild(i.container)}else{i.container.parentNode.removeChild(i.container);h.resolve(s)}})()}else{i.pages.forEach(function(e){s.append(f(e))});i.container.parentNode.removeChild(i.container);h.resolve(s)}},l,e,r?r-a.left-a.right:null,n?n-a.top-a.bottom:null,a,c)}else h.resolve(f(l))});function x(r){if(r!=null){if(typeof r=="string")r=kendo.template(r.replace(/^\s+|\s+$/g,""));if(typeof r=="function")return function(e){var t=r(e);if(t&&typeof t=="string"){var i=document.createElement("div");i.innerHTML=t;t=i.firstElementChild}return t};return function(){return r.cloneNode(true)}}}function d(a,e,d,t,l,i,c){var o=x(c.template);var p=e.ownerDocument;var r=[];var h=c._destructive?e:Kr(e);var n=p.createElement("KENDO-PDF-DOCUMENT");var u=0;Vr(h.querySelectorAll("tfoot")).forEach(function(e){e.parentNode.appendChild(e)});Vr(h.querySelectorAll("ol")).forEach(function(e){Vr(e.children).forEach(function(e,t){e.setAttribute("kendo-split-index",t)})});Yr(n,{display:"block",position:"absolute",boxSizing:"content-box",left:"-10000px",top:"-10000px"});if(t){Yr(n,{width:t+"px",paddingLeft:i.left+"px",paddingRight:i.right+"px"});Yr(h,{overflow:"hidden"})}e.parentNode.insertBefore(n,e);n.appendChild(h);if(c.beforePageBreak)pn([n],function(){c.beforePageBreak(n,s)});else pn([n],s);function s(){if(d!="-"||l)g(h);{var e=_();h.parentNode.insertBefore(e,h);e.appendChild(h)}if(o)r.forEach(function(e,t){var i=o({element:e,pageNum:t+1,totalPages:r.length});if(i)e.appendChild(i)});vn(r,a.bind(null,{pages:r,container:n}))}function v(e){if(c.keepTogether&&$r(e,c.keepTogether)&&e.offsetHeight<=l-u)return true;var t=e.tagName;if(/^h[1-6]$/i.test(t)&&e.offsetHeight>=l-u)return false;return e.getAttribute("data-kendo-chart")||/^(?:img|tr|thead|th|tfoot|iframe|svg|object|canvas|input|textarea|select|video|h[1-6])/i.test(e.tagName)}function g(e){if(e.tagName=="TABLE")Yr(e,{tableLayout:"fixed"});if(v(e))return;var t=xn(e);var i=parseFloat(R(t,"padding-bottom"));var r=parseFloat(R(t,"border-bottom-width"));var n=u;u+=i+r;var a=true;for(var o=e.firstChild;o;o=o.nextSibling)if(o.nodeType==1){a=false;if($r(o,d)){f(o);continue}if(!l){g(o);continue}if(!/^(?:static|relative)$/.test(R(xn(o),"position")))continue;var s=y(o);if(s==1)f(o);else if(s)if(v(o))f(o);else g(o);else g(o)}else if(o.nodeType==3&&l){w(o,a);a=false}u=n}function m(e){var t=e.parentNode,i=t.firstChild;if(e===i)return true;if(e===t.children[0]){if(i.nodeType==7||i.nodeType==8)return true;if(i.nodeType==3)return!/\S/.test(i.data)}return false}function f(e){if(e.nodeType==1&&e!==h&&m(e))return f(e.parentNode);var t,i,r,n,a;t=Xr(e,"table");i=t&&t.querySelector("colgroup");if(c.repeatHeaders){r=t&&t.querySelector("thead");n=Xr(e,".k-grid.k-widget");if(n&&n.querySelector(".k-auto-scrollable"))a=n.querySelector(".k-grid-header")}var o=_();var s=p.createRange();s.setStartBefore(h);s.setEndBefore(e);o.appendChild(s.extractContents());h.parentNode.insertBefore(o,h);b(e.parentNode);if(t){t=Xr(e,"table");if(c.repeatHeaders&&r)t.insertBefore(r.cloneNode(true),t.firstChild);if(i)t.insertBefore(i.cloneNode(true),t.firstChild)}if(c.repeatHeaders&&a){n=Xr(e,".k-grid.k-widget");n.insertBefore(a.cloneNode(true),n.firstChild)}}function _(){var e=p.createElement("KENDO-PDF-PAGE");Yr(e,{display:"block",boxSizing:"content-box",width:t?t+"px":"auto",padding:i.top+"px "+i.right+"px "+i.bottom+"px "+i.left+"px",position:"relative",height:l?l+"px":"auto",overflow:l||t?"hidden":"visible",clear:"both"});if(c&&c.pageClassName)e.className=c.pageClassName;r.push(e);return e}function y(e){var t=e.getBoundingClientRect();if(t.width===0||t.height===0)return 0;var i=h.getBoundingClientRect().top;var r=l-u;return t.height>r?3:t.top-i>r?1:t.bottom-i>r?2:0}function w(n,e){if(!/\S/.test(n.data))return;var t=n.data.length;var a=p.createRange();a.selectNodeContents(n);var i=y(a);if(!i)return;var r=n;if(i==1)if(e)f(n.parentNode);else f(n);else{(function e(t,i,r){a.setEnd(n,i);if(t==i||i==r)return i;if(y(a))return e(t,t+i>>1,i);else return e(i,i+r>>1,r)})(0,t>>1,t);if(!/\S/.test(a.toString())&&e)f(n.parentNode);else{r=n.splitText(a.endOffset);var o=_();a.setStartBefore(h);o.appendChild(a.extractContents());h.parentNode.insertBefore(o,h);b(r.parentNode)}}w(r)}function b(e){var t=Xr(e,"li");if(t){t.setAttribute("kendo-no-bullet","1");b(t.parentNode)}}}return h}function Jr(e){var t=new Tt;z._clipbox=false;z._matrix=a.unit();z._stackingContext={element:e,group:t};mn(e,xn(e),t);if(e.firstChild.nodeType==3)ea(e,e.firstChild,t);else jn(e,t);_n();return t}var en=function(){var a=/^((-webkit-|-moz-|-o-|-ms-)?linear-gradient\s*)\(/;var f=/^([-0-9.]+%)/;var o=/^([-0-9.]+px)/;var d=/^(left|right|top|bottom|to|center)\W/;var p=/^([-0-9.]+(deg|grad|rad|turn)|0)/;var l=/^(\s+)/;var v=/^(\()/;var g=/^(\))/;var m=/^(,)/;var _=/^(url)\(/;var y=/^(.*?)\)/;var s={},t={};function i(c){var e=c;if(on(s,e))return s[e];function i(){var e=l.exec(c);if(e)c=c.substr(e[1].length)}function h(e){i();var t=e.exec(c);if(t){c=c.substr(t[1].length);return t[1]}}function u(){var e=kendo.parseColor(c,true);var t,i;if(e){var r=/^#[0-9a-f]+/i.exec(c)||/^rgba?\(.*?\)/i.exec(c)||/^..*?\b/.exec(c);c=c.substr(r[0].length);e=e.toRGB();if(!(t=h(o)))i=h(f);return{color:e,length:t,percent:i}}}function t(e){var t;var i,r;var n=[];var a=false;if(h(v)){t=h(p);if(t=="0")t="0deg";if(t){t=Pn(t);h(m)}else{i=h(d);if(i=="to")i=h(d);else if(i&&/^-/.test(e))a=true;r=h(d);h(m)}if(/-moz-/.test(e)&&t==null&&i==null){var o=h(f),s=h(f);a=true;if(o=="0%")i="left";else if(o=="100%")i="right";if(s=="0%")r="top";else if(s=="100%")r="bottom";h(m)}while(c&&!h(g)){var l=u();if(!l)break;n.push(l);h(m)}return{type:"linear",angle:t,to:i&&r?i+" "+r:i?i:r?r:null,stops:n,reverse:a}}}function r(){if(h(v)){var e=h(y);e=e.replace(/^['"]+|["']+$/g,"");h(g);return{type:"url",url:e}}}var n;if(n=h(a))n=t(n);else if(n=h(_))n=r();return s[e]=n||{type:"none"}}return function(e){if(on(t,e))return t[e];return t[e]=tn(e).map(i)}}(),tn=function(){var u={};return function(t,e){if(!e)e=/^\s*,\s*/;var i=t+e;if(on(u,i))return u[i];var r=[];var n=0,a=0;var o=0;var s=false;var l;function c(e){return l=e.exec(t.substr(a))}function h(e){return e.replace(/^\s+|\s+$/g,"")}while(a<t.length)if(!s&&c(/^[\(\[\{]/)){o++;a++}else if(!s&&c(/^[\)\]\}]/)){o--;a++}else if(!s&&c(/^[\"\']/)){s=l[0];a++}else if(s=="'"&&c(/^\\\'/))a+=2;else if(s=='"'&&c(/^\\\"/))a+=2;else if(s=="'"&&c(/^\'/)){s=false;a++}else if(s=='"'&&c(/^\"/)){s=false;a++}else if(c(e)){if(!s&&!o&&a>n){r.push(h(t.substring(n,a)));n=a+l[0].length}a+=l[0].length}else a++;if(n<a)r.push(h(t.substring(n,a)));return u[i]=r}}(),rn=function(r){return function(e){var t=r[e];if(!t){var i;if(i=/url\((['"]?)([^'")]*?)\1\)\s+format\((['"]?)truetype\3\)/.exec(e))t=r[e]=i[2];else if(i=/url\((['"]?)([^'")]*?\.ttf)\1\)/.exec(e))t=r[e]=i[2]}return t}}(Object.create?Object.create(null):{}),nn=function(i){return function(e){var t=i[e];if(t==null)t=i[e]=s.measureText("Mapq",{font:e}).height;return t}}(Object.create?Object.create(null):{});function an(e){if(e==null)e=document;var a={};for(var t=0;t<e.styleSheets.length;++t)c(e.styleSheets[t]);return a;function c(e){if(e){var t=null;try{t=e.cssRules}catch(e){}if(t)i(e,t)}}function h(e){var t=R(e.style,"src");if(t)return tn(t).reduce(function(e,t){var i=rn(t);if(i)e.push(i);return e},[]);else{var i=rn(e.cssText);return i?[i]:[]}}function i(e,t){for(var i=0;i<t.length;++i){var r=t[i];switch(r.type){case 3:c(r.styleSheet);break;case 5:var n=r.style;var a=tn(R(n,"font-family"));var o=/^([56789]00|bold)$/i.test(R(n,"font-weight"));var s="italic"==R(n,"font-style");var l=h(r);if(l.length>0)u(e,a,o,s,l[0])}}}function u(e,t,i,r,n){if(!/^data:/i.test(n))if(!(/^[^\/:]+:\/\//.test(n)||/^\//.test(n)))n=String(e.href).replace(/[^\/]*$/,"")+n;t.forEach(function(e){e=e.replace(/^(['"]?)(.*?)\1$/,"$2");if(i)e+="|bold";if(r)e+="|italic";a[e]=n})}}function on(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function sn(e){e="_counter_"+e;return z[e]}function ln(e){var t=[],i=z;e="_counter_"+e;while(i){if(on(i,e))t.push(i[e]);i=Object.getPrototypeOf(i)}return t.reverse()}function cn(e,t){var i=z;e="_counter_"+e;while(i&&!on(i,e))i=Object.getPrototypeOf(i);if(!i)i=z._root;i[e]=(i[e]||0)+(t==null?1:t)}function hn(e,t){e="_counter_"+e;z[e]=t==null?0:t}function un(e,t,i){for(var r=0;r<e.length;){var n=e[r++];var a=parseFloat(e[r]);if(isNaN(a))t(n,i);else{t(n,a);++r}}}function fn(e){var t=R(e,"counter-reset");if(t)un(tn(t,/^\s+/),hn,0);var i=R(e,"counter-increment");if(i)un(tn(i,/^\s+/),cn,1)}function dn(e,t){var i=kendo.parseColor(e,true);if(i){i=i.toRGB();if(t)i=i.toCssRgba();else if(i.a===0)i=null}return i}function pn(e,t){var n=0;e.forEach(function(e){var t=e.querySelectorAll("img");for(var i=0;i<t.length;++i){var r=t[i];if(!r.complete){n++;r.onload=r.onerror=a}}});if(!n)a();function a(){if(--n<=0)t()}}function vn(e,t){var i=[];function r(e){if(!Hr[e]){Hr[e]=true;i.push(e)}}e.forEach(function e(t){if(/^img$/i.test(t.tagName))r(t.src);en(R(xn(t),"background-image")).forEach(function(e){if(e.type=="url")r(e.url)});if(t.children)Vr(t.children).forEach(e)});var n=i.length;function a(){if(--n<=0)pn(e,t)}if(n===0)a();i.forEach(function(e){var t=Hr[e]=new window.Image;if(!/^data:/i.test(e))t.crossOrigin="Anonymous";t.src=e;if(t.complete)a();else{t.onload=a;t.onerror=function(){Hr[e]=null;a()}}})}function gn(e){var t="";do{var i=e%26;t=String.fromCharCode(97+i)+t;e=Math.floor(e/26)}while(e>0);return t}function mn(e,t,i){z=Object.create(z);z[e.tagName.toLowerCase()]={element:e,style:t};var r=R(t,"text-decoration");if(r&&r!="none"){var n=R(t,"color");r.split(/\s+/g).forEach(function(e){if(!z[e])z[e]=n})}if(bn(t))z._stackingContext={element:e,group:i}}function _n(){z=Object.getPrototypeOf(z)}function yn(e){if(z._clipbox!=null){var t=e.bbox(z._matrix);if(z._clipbox)z._clipbox=I.intersect(z._clipbox,t);else z._clipbox=t}}function wn(){var e=z._clipbox;if(e==null)return true;if(e)return e.width()===0||e.height()===0}function bn(t){function e(e){return R(t,e)}if(e("transform")!="none"||e("position")!="static"||e("z-index")!="auto"||e("opacity")<1)return true}function xn(e,t){return window.getComputedStyle(e,t||null)}function R(e,t,i){var r=e.getPropertyValue(t);if(r==null||r==="")if(Fr.webkit)r=e.getPropertyValue("-webkit-"+t);else if(Fr.mozilla)r=e.getPropertyValue("-moz-"+t);else if(Fr.opera)r=e.getPropertyValue("-o-"+t);else if(jr)r=e.getPropertyValue("-ms-"+t);if(arguments.length>2&&(r==null||r===""))return i;else return r}function kn(e,t,i,r){e.setProperty(t,i,r);if(Fr.webkit)e.setProperty("-webkit-"+t,i,r);else if(Fr.mozilla)e.setProperty("-moz-"+t,i,r);else if(Fr.opera)e.setProperty("-o-"+t,i,r);else if(jr){e.setProperty("-ms-"+t,i,r);t="ms"+t.replace(/(^|-)([a-z])/g,function(e,t,i){return t+i.toUpperCase()});e[t]=i}}function Cn(e,t){t="border-"+t;return{width:parseFloat(R(e,t+"-width")),style:R(e,t+"-style"),color:dn(R(e,t+"-color"),true)}}function Sn(e,t){var i=e.style.cssText;var r=t();e.style.cssText=i;return r}function Tn(e,t){var i=R(e,"border-"+t+"-radius").split(/\s+/g).map(parseFloat);if(i.length==1)i.push(i[0]);return On({x:i[0],y:i[1]})}function An(e){var t=e.getBoundingClientRect();t=Mn(t,"border-*-width",e);t=Mn(t,"padding-*",e);return t}function Mn(e,t,i){var r,n,a,o,s;if(typeof t=="string"){r=xn(i);n=parseFloat(R(r,t.replace("*","top")));a=parseFloat(R(r,t.replace("*","right")));o=parseFloat(R(r,t.replace("*","bottom")));s=parseFloat(R(r,t.replace("*","left")))}else if(typeof t=="number")n=a=o=s=t;return{top:e.top+n,right:e.right-a,bottom:e.bottom-o,left:e.left+s,width:e.right-e.left-a-s,height:e.bottom-e.top-o-n}}function Dn(e){var t=R(e,"transform");if(t=="none")return null;var i=/^\s*matrix\(\s*(.*?)\s*\)\s*$/.exec(t);if(i){var r=R(e,"transform-origin");i=i[1].split(/\s*,\s*/g).map(parseFloat);r=r.split(/\s+/g).map(parseFloat);return{matrix:i,origin:r}}}function En(e){return 180*e/Math.PI%360}function Pn(e){var t=parseFloat(e);if(/grad$/.test(e))return Math.PI*t/200;else if(/rad$/.test(e))return t;else if(/turn$/.test(e))return Math.PI*t*2;else if(/deg$/.test(e))return Math.PI*t/180}function In(e,t){t=new a(t[0],t[1],t[2],t[3],t[4],t[5]);e.transform(t);return t}function Bn(e,t){e.clip(t)}function zn(e,t,i,r){var n=new Pe([t,i],r).curvePoints(),a=1;while(a<n.length)e.curveTo(n[a++],n[a++],n[a++])}function On(e){if(e.x<=0||e.y<=0)e.x=e.y=0;return e}function Ln(e,h,u,f,d){var t=Math.max(0,h.x),i=Math.max(0,h.y);var r=Math.max(0,u.x),n=Math.max(0,u.y);var a=Math.max(0,f.x),o=Math.max(0,f.y);var s=Math.max(0,d.x),l=Math.max(0,d.y);var c=Math.min(e.width/(t+r),e.height/(n+o),e.width/(a+s),e.height/(l+i));if(c<1){t*=c;i*=c;r*=c;n*=c;a*=c;o*=c;s*=c;l*=c}return{tl:{x:t,y:i},tr:{x:r,y:n},br:{x:a,y:o},bl:{x:s,y:l}}}function Rn(h,u,e){var t=xn(h);var i=Tn(t,"top-left");var r=Tn(t,"top-right");var n=Tn(t,"bottom-left");var a=Tn(t,"bottom-right");if(e=="padding"||e=="content"){var o=Cn(t,"top");var s=Cn(t,"right");var l=Cn(t,"bottom");var c=Cn(t,"left");i.x-=c.width;i.y-=o.width;r.x-=s.width;r.y-=o.width;a.x-=s.width;a.y-=l.width;n.x-=c.width;n.y-=l.width;if(e=="content"){var f=parseFloat(R(t,"padding-top"));var d=parseFloat(R(t,"padding-right"));var p=parseFloat(R(t,"padding-bottom"));var v=parseFloat(R(t,"padding-left"));i.x-=v;i.y-=f;r.x-=d;r.y-=f;a.x-=d;a.y-=p;n.x-=v;n.y-=p}}if(typeof e=="number"){i.x-=e;i.y-=e;r.x-=e;r.y-=e;a.x-=e;a.y-=e;n.x-=e;n.y-=e}return Fn(u,i,r,a,n)}function Fn(e,t,i,r,h){var n=Ln(e,t,i,r,h);var a=n.tl;var o=n.tr;var s=n.br;var l=n.bl;var c=new B({fill:null,stroke:null});c.moveTo(e.left,e.top+a.y);if(a.x)zn(c,e.left+a.x,e.top+a.y,{startAngle:-180,endAngle:-90,radiusX:a.x,radiusY:a.y});c.lineTo(e.right-o.x,e.top);if(o.x)zn(c,e.right-o.x,e.top+o.y,{startAngle:-90,endAngle:0,radiusX:o.x,radiusY:o.y});c.lineTo(e.right,e.bottom-s.y);if(s.x)zn(c,e.right-s.x,e.bottom-s.y,{startAngle:0,endAngle:90,radiusX:s.x,radiusY:s.y});c.lineTo(e.left+l.x,e.bottom);if(l.x)zn(c,e.left+l.x,e.bottom-l.y,{startAngle:90,endAngle:180,radiusX:l.x,radiusY:l.y});return c.close()}function Vn(e,t){var i=String(parseFloat(e));switch(t){case"decimal-leading-zero":if(i.length<2)i="0"+i;return i;case"lower-roman":return F(e).toLowerCase();case"upper-roman":return F(e).toUpperCase();case"lower-latin":case"lower-alpha":return gn(e-1);case"upper-latin":case"upper-alpha":return gn(e-1).toUpperCase();default:return i}}function Nn(i,e){function r(e,t,i){if(!i)return Vn(sn(e)||0,t);i=i.replace(/^\s*(["'])(.*)\1\s*$/,"$2");return ln(e).map(function(e){return Vn(e,t)}).join(i)}var t=tn(e,/^\s+/);var n=[],a;t.forEach(function(e){var t;if(a=/^\s*(["'])(.*)\1\s*$/.exec(e))n.push(a[2].replace(/\\([0-9a-f]{4})/gi,function(e,t){return String.fromCharCode(parseInt(t,16))}));else if(a=/^\s*counter\((.*?)\)\s*$/.exec(e)){t=tn(a[1]);n.push(r(t[0],t[1]))}else if(a=/^\s*counters\((.*?)\)\s*$/.exec(e)){t=tn(a[1]);n.push(r(t[0],t[2],t[1]))}else if(a=/^\s*attr\((.*?)\)\s*$/.exec(e))n.push(i.getAttribute(a[1])||"");else n.push(e)});return n.join("")}function Hn(e){if(e.cssText)return e.cssText;var t=[];for(var i=0;i<e.length;++i)t.push(e[i]+": "+R(e,e[i]));return t.join(";\n")}function Un(a,e){if(a.tagName==Nr){jn(a,e);return}var o=[];function t(e,t){var i=xn(a,e),r=i.content;fn(i);if(r&&r!="normal"&&r!="none"&&i.width!="0px"){var n=a.ownerDocument.createElement(Nr);n.style.cssText=Hn(i);n.textContent=Nn(a,r);a.insertBefore(n,t);o.push(n)}}t(":before",a.firstChild);t(":after",null);if(o.length>0){var i=a.className;a.className+=" kendo-pdf-hide-pseudo-elements";jn(a,e);a.className=i;o.forEach(function(e){a.removeChild(e)})}else jn(a,e)}function jn(y,f){var c=xn(y);var d=Cn(c,"top");var p=Cn(c,"right");var v=Cn(c,"bottom");var g=Cn(c,"left");var m=Tn(c,"top-left");var _=Tn(c,"top-right");var w=Tn(c,"bottom-left");var b=Tn(c,"bottom-right");var x=R(c,"direction");var n=R(c,"background-color");n=dn(n);var a=en(R(c,"background-image"));var o=tn(R(c,"background-repeat"));var s=tn(R(c,"background-position"));var l=tn(R(c,"background-origin"));var u=tn(R(c,"background-size"));var i,r;if(jr){i=c.textOverflow;if(i=="ellipsis"){r=y.style.textOverflow;y.style.textOverflow="clip"}}if(Fr.msie&&Fr.version<10)s=tn(y.currentStyle.backgroundPosition);var h=Mn(y.getBoundingClientRect(),"border-*-width",y);(function(){var e=R(c,"clip");var t=/^\s*rect\((.*)\)\s*$/.exec(e);if(t){var i=t[1].split(/[ ,]+/g);var r=i[0]=="auto"?h.top:parseFloat(i[0])+h.top;var n=i[1]=="auto"?h.right:parseFloat(i[1])+h.left;var a=i[2]=="auto"?h.bottom:parseFloat(i[2])+h.top;var o=i[3]=="auto"?h.left:parseFloat(i[3])+h.left;var s=new Tt;var l=(new B).moveTo(o,r).lineTo(n,r).lineTo(n,a).lineTo(o,a).close();Bn(s,l);f.append(s);f=s;yn(l)}})();var e,t,k;var C=R(c,"display");if(C=="table-row"){e=[];for(t=0,k=y.children;t<k.length;++t)e.push(k[t].getBoundingClientRect())}else{e=y.getClientRects();if(e.length==1)e=[y.getBoundingClientRect()]}e=T(e);for(t=0;t<e.length;++t)P(e[t],t===0,t==e.length-1);if(y.tagName=="A"&&y.href&&!/^#?$/.test(y.getAttribute("href")))if(!z._avoidLinks||!$r(y,z._avoidLinks)){var S=document.createRange();S.selectNodeContents(y);Vr(S.getClientRects()).forEach(function(e){var t=new Tt;t._pdfLink={url:y.href,top:e.top,right:e.right,bottom:e.bottom,left:e.left};f.append(t)})}if(e.length>0&&C=="list-item"&&!y.getAttribute("kendo-no-bullet"))E(e[0]);(function(){function e(){var e=Rn(y,h,"padding");var t=new Tt;Bn(t,e);f.append(t);f=t;yn(e)}if($n(y))e();else if(/^(hidden|auto|scroll)/.test(R(c,"overflow")))e();else if(/^(hidden|auto|scroll)/.test(R(c,"overflow-x")))e();else if(/^(hidden|auto|scroll)/.test(R(c,"overflow-y")))e()})();if(!Wn(y,f))Jn(y,f);if(jr&&i=="ellipsis")y.style.textOverflow=r;return f;function T(e){if(/^td$/i.test(y.tagName)){var t=z.table;if(t&&R(t.style,"border-collapse")=="collapse"){var i=Cn(t.style,"left").width;var r=Cn(t.style,"top").width;if(i===0&&r===0)return e;var n=t.element.getBoundingClientRect();var a=t.element.rows[0].cells[0];var o=a.getBoundingClientRect();if(o.top==n.top||o.left==n.left)return Vr(e).map(function(e){return{left:e.left+i,top:e.top+r,right:e.right+i,bottom:e.bottom+r,height:e.height,width:e.width}})}}return e}function A(o,e,s,t,i,r,n,h){if(s<=0)return;var a,l=new Tt;In(l,h);f.append(l);On(r);On(n);a=new B({fill:{color:o},stroke:null});l.append(a);a.moveTo(r.x?Math.max(r.x,t):0,0).lineTo(e-(n.x?Math.max(n.x,i):0),0).lineTo(e-Math.max(n.x,i),s).lineTo(Math.max(r.x,t),s).close();if(r.x)c(t,r,[-1,0,0,1,r.x,0]);if(n.x)c(i,n,[1,0,0,1,e-n.x,0]);function c(e,t,i){var r=Math.PI/2*e/(e+s);var n={x:t.x-e,y:t.y-s};var a=new B({fill:{color:o},stroke:null}).moveTo(0,0);In(a,i);zn(a,0,t.y,{startAngle:-90,endAngle:-En(r),radiusX:t.x,radiusY:t.y});if(n.x>0&&n.y>0){a.lineTo(n.x*Math.cos(r),t.y-n.y*Math.sin(r));zn(a,0,t.y,{startAngle:-En(r),endAngle:-90,radiusX:n.x,radiusY:n.y,anticlockwise:true})}else if(n.x>0)a.lineTo(n.x,s).lineTo(0,s);else a.lineTo(n.x,s).lineTo(n.x,0);l.append(a.close())}}function M(e){var t=new Tt;Bn(t,Fn(e,m,_,b,w));f.append(t);if(n){var i=new B({fill:{color:n.toCssRgba()},stroke:null});i.moveTo(e.left,e.top).lineTo(e.right,e.top).lineTo(e.right,e.bottom).lineTo(e.left,e.bottom).close();t.append(i)}for(var r=a.length;--r>=0;)D(t,e,a[r],o[r%o.length],s[r%s.length],l[r%l.length],u[r%u.length])}function D(e,t,i,v,g,m,_){if(!i||i=="none")return;if(i.type=="url"){var r=Hr[i.url];if(r&&r.width>0&&r.height>0)n(e,t,r.width,r.height,function(e,t){e.append(new Ct(i.url,t))})}else if(i.type=="linear")n(e,t,t.width,t.height,Gn(i));else return;function n(e,t,i,r,n){var h=i/r,a;var o=t;if(m=="content-box"){o=Mn(o,"border-*-width",y);o=Mn(o,"padding-*",y)}else if(m=="padding-box")o=Mn(o,"border-*-width",y);if(!/^\s*auto(\s+auto)?\s*$/.test(_))if(_=="contain"){a=Math.min(o.width/i,o.height/r);i*=a;r*=a}else if(_=="cover"){a=Math.max(o.width/i,o.height/r);i*=a;r*=a}else{var s=_.split(/\s+/g);if(/%$/.test(s[0]))i=o.width*parseFloat(s[0])/100;else i=parseFloat(s[0]);if(s.length==1||s[1]=="auto")r=i/h;else if(/%$/.test(s[1]))r=o.height*parseFloat(s[1])/100;else r=parseFloat(s[1])}var l=String(g);switch(l){case"bottom":l="50% 100%";break;case"top":l="50% 0";break;case"left":l="0 50%";break;case"right":l="100% 50%";break;case"center":l="50% 50%";break}l=l.split(/\s+/);if(l.length==1)l[1]="50%";if(/%$/.test(l[0]))l[0]=parseFloat(l[0])/100*(o.width-i);else l[0]=parseFloat(l[0]);if(/%$/.test(l[1]))l[1]=parseFloat(l[1])/100*(o.height-r);else l[1]=parseFloat(l[1]);var c=new I([o.left+l[0],o.top+l[1]],[i,r]);function u(){while(c.origin.x>t.left)c.origin.x-=i}function f(){while(c.origin.y>t.top)c.origin.y-=r}function d(){while(c.origin.x<t.right){n(e,c.clone());c.origin.x+=i}}if(v=="no-repeat")n(e,c);else if(v=="repeat-x"){u();d()}else if(v=="repeat-y"){f();while(c.origin.y<t.bottom){n(e,c.clone());c.origin.y+=r}}else if(v=="repeat"){u();f();var p=c.origin.clone();while(c.origin.y<t.bottom){c.origin.x=p.x;d();c.origin.y+=r}}}}function E(){var i=R(c,"list-style-type");if(i=="none")return;var r=R(c,"list-style-position");function e(t){Sn(y,function(){y.style.position="relative";var e=y.ownerDocument.createElement(Nr);e.style.position="absolute";e.style.boxSizing="border-box";if(r=="outside"){e.style.width="6em";e.style.left="-6.8em";e.style.textAlign="right"}else e.style.left="0px";t(e);y.insertBefore(e,y.firstChild);ia(e,f);y.removeChild(e)})}function n(e){var t=y.parentNode.children;var i=y.getAttribute("kendo-split-index");if(i!=null)return e(i|0,t.length);for(var r=0;r<t.length;++r)if(t[r]===y)return e(r,t.length)}switch(i){case"circle":case"disc":case"square":e(function(e){e.style.fontSize="60%";e.style.lineHeight="200%";e.style.paddingRight="0.5em";e.style.fontFamily="DejaVu Serif";e.innerHTML={disc:"",circle:"",square:""}[i]});break;case"decimal":case"decimal-leading-zero":e(function(t){n(function(e){++e;if(i=="decimal-leading-zero"&&e<10)e="0"+e;t.innerHTML=e+"."})});break;case"lower-roman":case"upper-roman":e(function(t){n(function(e){e=F(e+1);if(i=="upper-roman")e=e.toUpperCase();t.innerHTML=e+"."})});break;case"lower-latin":case"lower-alpha":case"upper-latin":case"upper-alpha":e(function(t){n(function(e){e=gn(e);if(/^upper/i.test(i))e=e.toUpperCase();t.innerHTML=e+"."})});break}}function P(e,t,i){if(e.width===0||e.height===0)return;M(e);var r=g.width>0&&(t&&x=="ltr"||i&&x=="rtl");var n=p.width>0&&(i&&x=="ltr"||t&&x=="rtl");if(d.width===0&&g.width===0&&p.width===0&&v.width===0)return;if(d.color==p.color&&d.color==v.color&&d.color==g.color)if(d.width==p.width&&d.width==v.width&&d.width==g.width)if(r&&n){e=Mn(e,d.width/2);var a=Rn(y,e,d.width/2);a.options.stroke={color:d.color,width:d.width};f.append(a);return}if(m.x===0&&_.x===0&&b.x===0&&w.x===0)if(d.width<2&&g.width<2&&p.width<2&&v.width<2){if(d.width>0)f.append(new B({stroke:{width:d.width,color:d.color}}).moveTo(e.left,e.top+d.width/2).lineTo(e.right,e.top+d.width/2));if(v.width>0)f.append(new B({stroke:{width:v.width,color:v.color}}).moveTo(e.left,e.bottom-v.width/2).lineTo(e.right,e.bottom-v.width/2));if(r)f.append(new B({stroke:{width:g.width,color:g.color}}).moveTo(e.left+g.width/2,e.top).lineTo(e.left+g.width/2,e.bottom));if(n)f.append(new B({stroke:{width:p.width,color:p.color}}).moveTo(e.right-p.width/2,e.top).lineTo(e.right-p.width/2,e.bottom));return}var o=Ln(e,m,_,b,w);var s=o.tl;var l=o.tr;var h=o.br;var u=o.bl;A(d.color,e.width,d.width,g.width,p.width,s,l,[1,0,0,1,e.left,e.top]);A(v.color,e.width,v.width,p.width,g.width,h,u,[-1,0,0,-1,e.right,e.bottom]);function c(e){return{x:e.y,y:e.x}}A(g.color,e.height,g.width,v.width,d.width,c(u),c(s),[0,-1,1,0,e.left,e.bottom]);A(p.color,e.height,p.width,d.width,v.width,c(l),c(h),[0,1,-1,0,e.right,e.top])}}function Gn(m){return function(h,e){var t=e.width(),i=e.height();switch(m.type){case"linear":var r=m.angle!=null?m.angle:Math.PI;switch(m.to){case"top":r=0;break;case"left":r=-Math.PI/2;break;case"bottom":r=Math.PI;break;case"right":r=Math.PI/2;break;case"top left":case"left top":r=-Math.atan2(i,t);break;case"top right":case"right top":r=Math.atan2(i,t);break;case"bottom left":case"left bottom":r=Math.PI+Math.atan2(i,t);break;case"bottom right":case"right bottom":r=Math.PI-Math.atan2(i,t);break}if(m.reverse)r-=Math.PI;r%=2*Math.PI;if(r<0)r+=2*Math.PI;var u=Math.abs(t*Math.sin(r))+Math.abs(i*Math.cos(r));var n=Math.atan(t*Math.tan(r)/i);var a=Math.sin(n),f=Math.cos(n);var d=Math.abs(a)+Math.abs(f);var o=d/2*a;var s=d/2*f;if(r>Math.PI/2&&r<=3*Math.PI/2){o=-o;s=-s}var l=[],c=0;var p=m.stops.map(function(e,t){var i=e.percent;if(i)i=parseFloat(i)/100;else if(e.length)i=parseFloat(e.length)/u;else if(t===0)i=0;else if(t==m.stops.length-1)i=1;var r={color:e.color.toCssRgba(),offset:i};if(i!=null){c=i;l.forEach(function(e,t){var i=e.stop;i.offset=e.left+(c-e.left)*(t+1)/(l.length+1)});l=[]}else l.push({left:c,stop:r});return r});var v=[.5-o,.5+s];var g=[.5+o,.5-s];h.append(B.fromRect(e).stroke(null).fill(new ti({start:v,end:g,stops:p,userSpace:false})));break;case"radial":if(window.console&&window.console.log)window.console.log("Radial gradients are not yet supported in HTML renderer");break}}}function Wn(e,t){var i;if(e._kendoExportVisual)i=e._kendoExportVisual();else if(window.kendo&&window.kendo.jQuery&&e.getAttribute(window.kendo.attr("role"))){var r=window.kendo.widgetInstance(window.kendo.jQuery(e));if(r&&(r.exportDOMVisual||r.exportVisual))if(r.exportDOMVisual)i=r.exportDOMVisual();else i=r.exportVisual()}if(!i)return false;var n=new Tt;n.children.push(i);var a=e.getBoundingClientRect();n.transform(T().translate(a.left,a.top));t.append(n);return true}function qn(e,t,i){var r=An(e);var n=new I([r.left,r.top],[r.width,r.height]);var a=new Ct(t,n);Bn(a,Rn(e,r,"content"));i.append(a)}function Yn(e,t){var i=xn(e);var r=xn(t);var n=parseFloat(R(i,"z-index"));var a=parseFloat(R(r,"z-index"));var o=R(i,"position");var s=R(r,"position");if(isNaN(n)&&isNaN(a)){if(/static|absolute/.test(o)&&/static|absolute/.test(s))return 0;if(o=="static")return-1;if(s=="static")return 1;return 0}if(isNaN(n))return a===0?0:a>0?-1:1;if(isNaN(a))return n===0?0:n>0?1:-1;return parseFloat(n)-parseFloat(a)}function $n(e){return/^(?:textarea|select|input)$/i.test(e.tagName)}function Xn(e){if(e.selectedOptions&&e.selectedOptions.length>0)return e.selectedOptions[0];return e.options[e.selectedIndex]}function Kn(e,t){var i=xn(e);var r=R(i,"color");var n=e.getBoundingClientRect();if(e.type=="checkbox"){t.append(B.fromRect(new I([n.left+1,n.top+1],[n.width-2,n.height-2])).stroke(r,1));if(e.checked)t.append((new B).stroke(r,1.2).moveTo(n.left+.22*n.width,n.top+.55*n.height).lineTo(n.left+.45*n.width,n.top+.75*n.height).lineTo(n.left+.78*n.width,n.top+.22*n.width))}else{t.append(new ke(new pe([(n.left+n.right)/2,(n.top+n.bottom)/2],Math.min(n.width-2,n.height-2)/2)).stroke(r,1));if(e.checked)t.append(new ke(new pe([(n.left+n.right)/2,(n.top+n.bottom)/2],Math.min(n.width-8,n.height-8)/2)).fill(r).stroke(null))}}function Qn(e,t){var i=e.tagName.toLowerCase();if(i=="input"&&(e.type=="checkbox"||e.type=="radio"))return Kn(e,t);var r=e.parentNode;var n=e.ownerDocument;var a=n.createElement(Nr);var o;a.style.cssText=Hn(xn(e));if(i=="input")a.style.whiteSpace="pre";if(i=="select"||i=="textarea")a.style.overflow="auto";if(i=="select")if(e.multiple)for(var s=0;s<e.options.length;++s){o=n.createElement(Nr);o.style.cssText=Hn(xn(e.options[s]));o.style.display="block";o.textContent=e.options[s].textContent;a.appendChild(o)}else{o=Xn(e);if(o)a.textContent=o.textContent}else a.textContent=e.value;r.insertBefore(a,e);a.scrollLeft=e.scrollLeft;a.scrollTop=e.scrollTop;e.style.display="none";Jn(a,t);e.style.display="";r.removeChild(a)}function Zn(e){var t=new window.XMLSerializer;var i=t.serializeToString(e);if(Fr.mozilla&&!(e.getAttribute("width")&&e.getAttribute("height"))){var r=(new window.DOMParser).parseFromString(i,"image/svg+xml");var n=r.documentElement;var a=An(e);n.setAttribute("width",a.width);n.setAttribute("height",a.height);i=t.serializeToString(n)}return i}function Jn(e,t){if(z._stackingContext.element===e)z._stackingContext.group=t;switch(e.tagName.toLowerCase()){case"img":qn(e,e.src,t);break;case"svg":var i=Zn(e);var r="data:image/svg+xml;base64,"+C(i);qn(e,r,t);break;case"canvas":try{qn(e,e.toDataURL("image/png"),t)}catch(e){}break;case"textarea":case"input":case"select":Qn(e,t);break;default:var n=[],a=[],o=[];for(var s=e.firstChild;s;s=s.nextSibling)switch(s.nodeType){case 3:if(/\S/.test(s.data))ea(e,s,t);break;case 1:var l=xn(s);var c=R(l,"float");var h=R(l,"position");if(h!="static")o.push(s);else if(c!="none")a.push(s);else n.push(s);break}P(n,Yn).forEach(function(e){ia(e,t)});P(a,Yn).forEach(function(e){ia(e,t)});P(o,Yn).forEach(function(e){ia(e,t)})}}function ea(e,c,s){if(wn())return;var t=xn(e);if(parseFloat(R(t,"text-indent"))<-500)return;var h=c.data;var u=0;var f=h.search(/\S\s*$/)+1;if(!f)return;var a=R(t,"font-size");var o=R(t,"line-height");var l=[R(t,"font-style"),R(t,"font-variant"),R(t,"font-weight"),a,R(t,"font-family")].join(" ");a=parseFloat(a);o=parseFloat(o);if(a===0)return;var v=R(t,"color");var d=e.ownerDocument.createRange();var i=R(t,"text-align");var g=i=="justify";var m=R(t,"column-count",1);var _=R(t,"white-space");var y=R(t,"text-transform");var w=e.getBoundingClientRect().width/a*5;if(w===0)w=500;var b=null;var r=z["underline"];var x=z["line-through"];var k=z["overline"];var n=r||x||k;while(!C());if(n){d.selectNode(c);Vr(d.getClientRects()).forEach(T)}return;function p(e){if(jr||Fr.chrome||Fr.safari){var t=e.getClientRects(),i={top:Infinity,right:-Infinity,bottom:-Infinity,left:Infinity},r=false;for(var n=0;n<t.length;++n){var a=t[n];if(a.width<=1||a.bottom===b)continue;i.left=Math.min(a.left,i.left);i.top=Math.min(a.top,i.top);i.right=Math.max(a.right,i.right);i.bottom=Math.max(a.bottom,i.bottom);r=true}if(!r)return e.getBoundingClientRect();i.width=i.right-i.left;i.height=i.bottom-i.top;return i}return e.getBoundingClientRect()}function C(){var e=u;var a,t=h.substr(u).search(/\S/);u+=t;if(t<0||u>=f)return true;d.setStart(c,u);d.setEnd(c,u+1);a=p(d);var i=false;if(g||m>1){t=h.substr(u).search(/\s/);if(t>=0){d.setEnd(c,u+t);var r=p(d);if(r.bottom==a.bottom){a=r;i=true;u+=t}}}if(!i){t=function e(t,i,r){d.setEnd(c,i);var n=p(d);if(n.bottom!=a.bottom&&t<i)return e(t,t+i>>1,i);else if(n.right!=a.right){a=n;if(i<r)return e(i,i+r>>1,r);else return i}else return i}(u,Math.min(f,u+w),f);if(t==u)return true;u=t;t=d.toString().search(/\s+$/);if(t===0)return false;if(t>0){d.setEnd(c,d.startOffset+t);a=p(d)}}if(jr)a=d.getClientRects()[0];var n=d.toString();if(!/^(?:pre|pre-wrap)$/i.test(_))n=n.replace(/\s+/g," ");else if(/\t/.test(n)){var o=0;for(t=e;t<d.startOffset;++t){var s=h.charCodeAt(t);if(s==9)o+=8-o%8;else if(s==10||s==13)o=0;else o++}while((t=n.search("\t"))>=0){var l="        ".substr(0,8-(o+t)%8);n=n.substr(0,t)+l+n.substr(t+1)}}if(!i)b=a.bottom;S(n,a)}function S(e,t){if(jr&&!isNaN(o)){var i=nn(l);var r=(t.top+t.bottom-i)/2;t={top:r,right:t.right,bottom:r+i,left:t.left,height:i,width:t.right-t.left}}switch(y){case"uppercase":e=e.toUpperCase();break;case"lowercase":e=e.toLowerCase();break;case"capitalize":e=e.replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()});break}var n=new Gr(e,new I([t.left,t.top],[t.width,t.height]),{font:l,fill:{color:v}});s.append(n)}function T(n){e(r,n.bottom);e(x,n.bottom-n.height/2.7);e(k,n.top);function e(e,t){if(e){var i=a/12;var r=new B({stroke:{width:i,color:e}});t-=i;r.moveTo(n.left,t).lineTo(n.right,t);s.append(r)}}}}function ta(e,t,i){var r;if(i!="auto"){r=z._stackingContext.group;i=parseFloat(i)}else{r=t;i=0}var n=r.children;for(var a=0;a<n.length;++a)if(n[a]._dom_zIndex!=null&&n[a]._dom_zIndex>i)break;var o=new Tt;r.insert(a,o);o._dom_zIndex=i;if(r!==t)if(z._clipbox){var s=z._matrix.invert();var l=z._clipbox.transformCopy(s);Bn(o,B.fromRect(l))}return o}function ia(n,e){var a=xn(n);fn(a);if(/^(style|script|link|meta|iframe|col|colgroup)$/i.test(n.tagName))return;if(z._clipbox==null)return;var t=parseFloat(R(a,"opacity"));var i=R(a,"visibility");var r=R(a,"display");if(t===0||i=="hidden"||r=="none")return;var o=Dn(a);var s;var l=R(a,"z-index");if((o||t<1)&&l=="auto")l=0;s=ta(n,e,l);if(t<1)s.opacity(t*s.opacity());mn(n,a,s);if(!o)Un(n,s);else Sn(n,function(){kn(n.style,"transform","none","important");kn(n.style,"transition","none","important");if(R(a,"position")=="static")kn(n.style,"position","relative","important");var e=n.getBoundingClientRect();var t=e.left+o.origin[0];var i=e.top+o.origin[1];var r=[1,0,0,1,-t,-i];r=ra(r,o.matrix);r=ra(r,[1,0,0,1,t,i]);r=In(s,r);z._matrix=z._matrix.multiplyCopy(r);Un(n,s)});_n()}function ra(e,t){var i=e[0],r=e[1],n=e[2],a=e[3],h=e[4],u=e[5];var o=t[0],s=t[1],l=t[2],c=t[3],f=t[4],d=t[5];return[i*o+r*l,i*s+r*c,n*o+a*l,n*s+a*c,h*o+u*l+f,h*s+u*c+d]}var na={svg:zr,canvas:Or,util:te,HasObservers:r,PathParser:ui,parsePath:vt,BaseNode:fi,OptionsStore:re,Surface:Ir,SurfaceFactory:Pr,exportImage:Lr,exportSVG:Rr,QuadNode:hr,ShapesQuadTree:pr,Element:ue,Circle:ke,Arc:wt,Path:B,MultiPath:_t,Text:kt,Image:Ct,Group:Tt,Layout:Bt,Rect:zt,align:Lt,vAlign:Rt,stack:Nt,vStack:Ht,wrap:Gt,vWrap:Wt,fit:qt,LinearGradient:ti,RadialGradient:ii,GradientStop:Zt,Gradient:Jt,Animation:ci,AnimationFactory:li,drawDOM:Zr,drawText:Jr,getFontFaces:an};kendo.deepExtend(kendo,{drawing:na,geometry:cr}),kendo.drawing.Segment=kendo.geometry.Segment,kendo.dataviz.drawing=kendo.drawing,kendo.dataviz.geometry=kendo.geometry,kendo.drawing.util.measureText=kendo.util.measureText,kendo.drawing.util.objectKey=kendo.util.objectKey,kendo.drawing.Color=kendo.Color,kendo.util.encodeBase64=kendo.drawing.util.encodeBase64})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("drawing/surface-tooltip.min",["../kendo.popup.min","./kendo-drawing.min"],function(){var i=window.kendo.jQuery,t=".kendo",n=window.kendo,r=n.deepExtend,e=n.drawing.util,a=e.defined,g=e.limitValue,m=e.eventCoordinates,o=n._outerWidth,l=n._outerHeight,s=i.proxy,c='<div class="k-tooltip">'+'<div class="k-tooltip-content"></div>'+"</div>",h='<div class="k-tooltip-button"><a href="\\#" class="k-icon k-i-close">close</a></div>',u=n.Class.extend({init:function(e,t){this.element=i(c);this.content=this.element.children(".k-tooltip-content");t=t||{};this.options=r({},this.options,this._tooltipOptions(t));this.popupOptions={appendTo:t.appendTo,animation:t.animation,copyAnchorStyles:false,collision:"fit fit"};this._openPopupHandler=i.proxy(this._openPopup,this);this.surface=e;this._bindEvents()},options:{position:"top",showOn:"mouseenter",offset:7,autoHide:true,hideDelay:0,showAfter:100},_bindEvents:function(){this._showHandler=s(this._showEvent,this);this._surfaceLeaveHandler=s(this._surfaceLeave,this);this._mouseleaveHandler=s(this._mouseleave,this);this._mousemoveHandler=s(this._mousemove,this);this.surface.bind("click",this._showHandler);this.surface.bind("mouseenter",this._showHandler);this.surface.bind("mouseleave",this._mouseleaveHandler);this.surface.bind("mousemove",this._mousemoveHandler);this.surface.element.on("mouseleave"+t,this._surfaceLeaveHandler);this.element.on("click"+t,".k-tooltip-button",s(this._hideClick,this));this.element.on("mouseleave"+t,s(this._tooltipLeave,this))},getPopup:function(){if(!this.popup)this.popup=new n.ui.Popup(this.element,this.popupOptions);return this.popup},destroy:function(){var e=this.popup;this.surface.unbind("click",this._showHandler);this.surface.unbind("mouseenter",this._showHandler);this.surface.unbind("mouseleave",this._mouseleaveHandler);this.surface.unbind("mousemove",this._mousemoveHandler);this.surface.element.off("mouseleave"+t,this._surfaceLeaveHandler);this.element.off("click"+t);this.element.off("mouseleave"+t);if(e){e.destroy();delete this.popup}delete this.popupOptions;clearTimeout(this._timeout);delete this.element;delete this.content;delete this.surface},_tooltipOptions:function(e){e=e||{};return{position:e.position,showOn:e.showOn,offset:e.offset,autoHide:e.autoHide,width:e.width,height:e.height,content:e.content,shared:e.shared,hideDelay:e.hideDelay,showAfter:e.showAfter}},_tooltipShape:function(e){while(e&&!e.options.tooltip)e=e.parent;return e},_updateContent:function(e,t,i){var r=i.content;if(n.isFunction(r))r=r({element:t,target:e});if(r){this.content.html(r);return true}},_position:function(h,u,f,d){var e=u.position;var t=u.offset||0;var i=this.surface;var r=i._instance._elementOffset();var p=i.getSize();var n=i._instance._offset;var a=h.bbox();var o=f.width;var s=f.height;var l=0,c=0;a.origin.translate(r.left,r.top);if(n)a.origin.translate(-n.x,-n.y);if(e=="cursor"&&d){var v=m(d);l=v.x-o/2;c=v.y-s-t}else if(e=="left"){l=a.origin.x-o-t;c=a.center().y-s/2}else if(e=="right"){l=a.bottomRight().x+t;c=a.center().y-s/2}else if(e=="bottom"){l=a.center().x-o/2;c=a.bottomRight().y+t}else{l=a.center().x-o/2;c=a.origin.y-s-t}return{left:g(l,r.left,r.left+p.width),top:g(c,r.top,r.top+p.height)}},show:function(e,t){this._show(e,e,r({},this.options,this._tooltipOptions(e.options.tooltip),t))},hide:function(){var e=this.popup;var t=this._current;delete this._current;clearTimeout(this._showTimeout);if(e&&e.visible()&&t&&!this.surface.trigger("tooltipClose",{element:t.shape,target:t.target,popup:e}))e.close()},_hideClick:function(e){e.preventDefault();this.hide()},_show:function(e,t,i,r,n){var a=this._current;clearTimeout(this._timeout);if(a&&(a.shape===t&&i.shared||a.target===e))return;clearTimeout(this._showTimeout);var o=this.getPopup();if(!this.surface.trigger("tooltipOpen",{element:t,target:e,popup:o})&&this._updateContent(e,t,i)){this._autoHide(i);var s=this._measure(i);if(o.visible())o.close(true);this._current={options:i,elementSize:s,shape:t,target:e,position:this._position(i.shared?t:e,i,s,r)};if(n)this._showTimeout=setTimeout(this._openPopupHandler,i.showAfter||0);else this._openPopup()}},_openPopup:function(){var e=this._current;var t=e.position;this.getPopup().open(t.left,t.top)},_autoHide:function(e){if(e.autoHide&&this._closeButton){this.element.removeClass("k-tooltip-closable");this._closeButton.remove();delete this._closeButton}if(!e.autoHide&&!this._closeButton){this.element.addClass("k-tooltip-closable");this._closeButton=i(h).appendTo(this.element)}},_showEvent:function(e){var t=this._tooltipShape(e.element);if(t){var i=r({},this.options,this._tooltipOptions(t.options.tooltip));if(i&&i.showOn==e.type)this._show(e.element,t,i,e.originalEvent,true)}},_measure:function(e){var t=this.getPopup();var i,r;this.element.css({width:"auto",height:"auto"});var n=t.visible();if(!n)t.wrapper.show();this.element.css({width:a(e.width)?e.width:"auto",height:a(e.height)?e.height:"auto"});i=o(this.element);r=l(this.element);if(!n)t.wrapper.hide();return{width:i,height:r}},_mouseleave:function(e){if(this.popup&&!this._popupRelatedTarget(e.originalEvent)){var t=this;var i=t._current;if(i&&i.options.autoHide)t._timeout=setTimeout(function(){clearTimeout(t._showTimeout);t.hide()},i.options.hideDelay||0)}},_mousemove:function(e){var t=this._current;if(t&&e.element){var i=t.options;if(i.position=="cursor"){var r=this._position(e.element,i,t.elementSize,e.originalEvent);t.position=r;this.getPopup().wrapper.css({left:r.left,top:r.top})}}},_surfaceLeave:function(e){if(this.popup&&!this._popupRelatedTarget(e)){clearTimeout(this._showTimeout);this.hide()}},_popupRelatedTarget:function(e){return e.relatedTarget&&i(e.relatedTarget).closest(this.popup.wrapper).length},_tooltipLeave:function(){var e=this;var t=e._current;if(t&&t.options.autoHide)e._timeout=setTimeout(function(){e.hide()},t.options.hideDelay||0)}});n.drawing.SurfaceTooltip=u})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("drawing/surface.min",["./kendo-drawing.min","./surface-tooltip.min"],function(){var e=window.kendo.jQuery,t=window.kendo,i=t.drawing,r=i.Surface,n=t.ui.Widget,a=t.deepExtend,o=e.proxy,s=(t.support.svg=r.support.svg,t.support.canvas=r.support.canvas,n.extend({init:function(e,t){n.fn.init.call(this,e,{});this.options=a({},this.options,t);this._instance=r.create(this.element[0],t);if(this._instance.translate)this.translate=l;this._triggerInstanceHandler=o(this._triggerInstanceEvent,this);this._bindHandler("click");this._bindHandler("mouseenter");this._bindHandler("mouseleave");this._bindHandler("mousemove");this._enableTracking()},options:{name:"Surface",tooltip:{}},events:["click","mouseenter","mouseleave","mousemove","resize","tooltipOpen","tooltipClose"],_triggerInstanceEvent:function(e){this.trigger(e.type,e)},_bindHandler:function(e){this._instance.bind(e,this._triggerInstanceHandler)},draw:function(e){this._instance.draw(e)},clear:function(){if(this._instance)this._instance.clear();this.hideTooltip()},destroy:function(){if(this._instance){this._instance.destroy();delete this._instance}if(this._tooltip){this._tooltip.destroy();delete this._tooltip}n.fn.destroy.call(this)},exportVisual:function(){return this._instance.exportVisual()},eventTarget:function(e){return this._instance.eventTarget(e)},showTooltip:function(e,t){if(this._tooltip)this._tooltip.show(e,t)},hideTooltip:function(){if(this._tooltip)this._tooltip.hide()},suspendTracking:function(){this._instance.suspendTracking();this.hideTooltip()},resumeTracking:function(){this._instance.resumeTracking()},getSize:function(){return{width:this.element.width(),height:this.element.height()}},setSize:function(e){this.element.css({width:e.width,height:e.height});this._size=e;this._instance.currentSize(e);this._resize()},_resize:function(){this._instance.currentSize(this._size);this._instance._resize()},_enableTracking:function(){if(t.ui.Popup)this._tooltip=new i.SurfaceTooltip(this,this.options.tooltip||{})}}));function l(e){this._instance.translate(e)}t.ui.plugin(s),s.create=function(e,t){return new s(e,t)},t.drawing.Surface=s})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("drawing/html.min",["./kendo-drawing.min"],function(){var i=window.kendo.jQuery,e,t=window.kendo.drawing,r=t.drawDOM;t.drawDOM=function(e,t){return r(i(e)[0],t)},t.drawDOM.drawText=t.drawText,t.drawDOM.getFontFaces=t.getFontFaces})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.drawing.min",["./drawing/util.min","./drawing/kendo-drawing.min","./drawing/surface-tooltip.min","./drawing/surface.min","./drawing/html.min"],function(){var e={id:"drawing",name:"Drawing API",category:"framework",description:"The Kendo UI low-level drawing API",depends:["core","color","popup"]}})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("dataviz/core/kendo-core.min",["../../kendo.core.min","../../kendo.drawing.min"],function(){var h=window.kendo.jQuery,d=(window.kendo.dataviz=window.kendo.dataviz||{},kendo.drawing),r=d.util,v=d.Path,g=d.Group,e=kendo.Class,t=kendo.support,u=kendo.geometry,S=u.Rect,p=u.Circle,A=u.transform,M=u.Segment,i=kendo.dataviz,f=kendo.deepExtend,n=kendo.isFunction,a=kendo.getter,_="arc",o="axisLabelClick",l="#000",D="bottom",E="center",P="circle",I=3,B="cross",c="date",z="12px sans-serif",O=400,w=10,L=600,R,F=/\{\d+:?/,V="height",N,H="inside",U="left",j=Number.MAX_VALUE,G=-Number.MAX_VALUE,W="none",q="noteClick",Y="noteHover",$="noteLeave",X="object",K="outside",Q="right",Z="roundedRect",J,ee="string",te="top",ie="triangle",re,s="#fff",ne="width",b="x",x="y",ae,oe={ARC:_,AXIS_LABEL_CLICK:o,BLACK:l,BOTTOM:D,CENTER:E,CIRCLE:P,COORD_PRECISION:I,CROSS:B,DATE:c,DEFAULT_FONT:z,DEFAULT_HEIGHT:O,DEFAULT_PRECISION:w,DEFAULT_WIDTH:L,END:"end",FORMAT_REGEX:F,HEIGHT:V,HIGHLIGHT_ZINDEX:100,INSIDE:H,LEFT:U,MAX_VALUE:j,MIN_VALUE:G,NONE:W,NOTE_CLICK:q,NOTE_HOVER:Y,NOTE_LEAVE:$,OBJECT:X,OUTSIDE:K,RIGHT:Q,ROUNDED_RECT:Z,START:"start",STRING:ee,TOP:te,TRIANGLE:ie,VALUE:"value",WHITE:s,WIDTH:ne,X:b,Y:x,DEFAULT_SERIES_OPACITY:1};function se(e){return Array.isArray(e)}function le(e,t){var i=se(t)?t:[t];for(var r=0;r<i.length;r++){var n=i[r];if(e.className.indexOf(n)===-1)e.className+=" "+n}}var ce=/\s+/g;function he(e,t){if(e&&e.className)e.className=e.className.replace(t,"").replace(ce," ")}function ue(e){var t=.5;if(e.options.stroke&&kendo.drawing.util.defined(e.options.stroke.width))if(e.options.stroke.width%2===0)t=0;for(var i=0;i<e.segments.length;i++)e.segments[i].anchor().round(0).translate(t,t);return e}function fe(e,t){return-e.x*t.y+e.y*t.x<0}function de(e){return typeof e==="number"&&!isNaN(e)}function pe(e){return typeof e===ee}function ve(e){return de(e)||pe(e)&&isFinite(e)}function ge(e){return typeof e==="object"}function me(e){if(de(e))return e+"px";return e}var _e=/width|height|top|left|bottom|right/i;function ye(e){return _e.test(e)}function we(e,t){var i=pe(t)?[t]:t;if(se(i)){var r={};var n=window.getComputedStyle(e);for(var a=0;a<i.length;a++){var o=i[a];r[o]=ye(o)?parseFloat(n[o]):n[o]}return r}else if(ge(t))for(var s in t)e.style[s]=me(t[s])}function be(e,t){if(t===void 0)t=0;var i={top:0,right:0,bottom:0,left:0};if(typeof e==="number")i[te]=i[Q]=i[D]=i[U]=e;else{i[te]=e[te]||t;i[Q]=e[Q]||t;i[D]=e[D]||t;i[U]=e[U]||t}return i}var xe={compile:function(e){return e}},ke=e.extend({});function Ce(e){if(e===void 0)e={};var t;if(e.template)e.template=t=ke.compile(e.template);else if(n(e.content))t=e.content;return t}function Se(e,t){var i=e.length;var r=[];for(var n=0;n<i;n++)if(t(e[n]))r.push(e[n]);return r}function Te(e,t){if(e.className){var i=t.split(" ");for(var r=0;r<i.length;r++)if(e.className.indexOf(i[r])!==-1)return true}}ke.register=function(e){xe=e},ke.compile=function(e){return xe.compile(e)};var Ae=function e(){this._map={}};function Me(e,t){if(t)return t.indexOf(e)!==-1}function De(e,t,i){return kendo.drawing.util.round(e+(t-e)*i,I)}Ae.prototype.get=function e(t){return this._map[this._key(t)]},Ae.prototype.set=function e(t,i){this._map[this._key(t)]=i},Ae.prototype._key=function e(t){return t instanceof Date?t.getTime():t};var Ee="trigger",Pe=e.extend({init:function(e,t){this.observer=e;this.handlerMap=f({},this.handlerMap,t)},trigger:function(e,t){var i=this;var r=i.observer;var n=i.handlerMap;var a;if(n[e])a=this.callObserver(n[e],t);else if(r[Ee])a=this.callObserver(Ee,e,t);return a},callObserver:function(e){var t=[],i=arguments.length-1;while(i-- >0)t[i]=arguments[i+1];return this.observer[e].apply(this.observer,t)},requiresHandlers:function(e){var t=this;if(this.observer.requiresHandlers)return this.observer.requiresHandlers(e);for(var i=0;i<e.length;i++)if(t.handlerMap[e[i]])return true}});function Ie(e,t){var i=e.length;var r=[];for(var n=0;n<i;n++){var a=t(e[n]);if(kendo.drawing.util.defined(a))r.push(a)}return r}var Be=t.browser||{};function ze(e){var t=0;if(e.wheelDelta){t=-e.wheelDelta/120;if(Be.webkit)t=t/(2*Math.max(window.devicePixelRatio,.625))}else if(e.detail)t=e.detail/3;t=t>0?Math.ceil(t):Math.floor(t);return t}var Oe=kendo.drawing.util,Le=Oe.append,Re=Oe.bindEvents,y=Oe.defined,Fe=Oe.deg,Ve=Oe.elementOffset,Ne=Oe.elementSize,He=Oe.eventCoordinates,Ue=Oe.eventElement,je=Oe.hashKey,Ge=Oe.last,T=Oe.limitValue,We=Oe.objectKey,qe=Oe.rad,k=Oe.round,Ye=Oe.unbindEvents,$e=Oe.valueOrDefault,Xe=e.extend({});function Ke(e,t){var i=e.prototype;if(i.options)i.options=f({},i.options,t);else i.options=t}function Qe(e){var t=j;var i=G;for(var r=0,n=e.length;r<n;r++){var a=e[r];if(a!==null&&isFinite(a)){t=Math.min(t,a);i=Math.max(i,a)}}return{min:t===j?undefined:t,max:i===G?undefined:i}}function Ze(e,t){for(var i=0;i<e.length;i++){var r=e[i];if(t(r,i,e))return r}}Xe.fetchFonts=function(i,r,n){if(n===void 0)n={depth:0};var e=5;if(!i||n.depth>e||!document.fonts)return;Object.keys(i).forEach(function(e){var t=i[e];if(e==="dataSource"||e[0]==="$"||!t)return;if(e==="font")r.push(t);else if(typeof t==="object"){n.depth++;Xe.fetchFonts(t,r,n);n.depth--}})},Xe.loadFonts=function(e,t){var i=[];if(e.length>0&&document.fonts){try{i=e.map(function(e){return document.fonts.load(e)})}catch(e){kendo.logToConsole(e)}Promise.all(i).then(t,t)}else t()},Xe.preloadFonts=function(e,t){var i=[];Xe.fetchFonts(e,i);Xe.loadFonts(i,t)};var Je=u.Matrix,et=/matrix\((.*)\)/;function tt(e){var t=e.match(et);if(t===null||t.length!==2)return Je.unit();var i=t[1].split(",").map(function(e){return parseFloat(e)});return new(Function.prototype.bind.apply(Je,[null].concat(i)))}function it(e){var t=getComputedStyle(e).transform;if(t==="none")return Je.unit();return tt(t)}function rt(e){if(!e)return Je.unit();var t=it(e);var i=e.parentElement;while(i){var r=it(i);t=t.multiplyCopy(r);i=i.parentElement}t.b=t.c=t.e=t.f=0;return t}function nt(e){var t=new kendo.Color(e).isDark();if(t)return s;return l}var at={},ot=e.extend({init:function(e){var t=this;this._index={};this._values=e?e.slice(0):[];for(var i=0;i<this._values.length;i++)t._index[t._values[i]]=i},values:function(){return this._values.filter(function(e){return e!==at})},has:function(e){return this._index[e]!==undefined},add:function(e){if(!this.has(e)){this._index[e]=this._values.length;this._values.push(e)}},delete:function(e){var t=this._index[e];if(t!==undefined){this._values[t]=at;delete this._index[e]}},clear:function(){this._index={};this._values=[]}});if(Object.defineProperties)Object.defineProperties(ot.fn,{size:{get:function(){return this._values.length}}});var st=e.extend({init:function(e){this._set=new Set(e)},values:function(){return Array.from(this._set)},has:function(e){return this._set.has(e)},add:function(e){this._set.add(e)},delete:function(e){this._set.delete(e)},clear:function(){this._set.clear()}});if(Object.defineProperties)Object.defineProperties(st.fn,{size:{get:function(){return this._set.size}}});var lt=function(){var e=false;if(typeof Set==="function"){var t=new Set([1]);e=t.has(1)}return e};function ct(e){if(lt())return new st(e);return new ot(e)}function ht(e){throw e}var ut={INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110};function ft(e,t){var i=k(t-e,w-1);if(i===0){if(t===0)return.1;i=Math.abs(t)}var r=Math.pow(10,Math.floor(Math.log(i)/Math.log(10)));var n=k(i/r,w);var a=1;if(n<1.904762)a=.2;else if(n<4.761904)a=.5;else if(n<9.523809)a=1;else a=2;return k(r*a,w)}var dt=e.extend({init:function(e,t){this.x=e||0;this.y=t||0},clone:function(){return new dt(this.x,this.y)},equals:function(e){return e&&this.x===e.x&&this.y===e.y},rotate:function(e,t){var i=qe(t);var r=Math.cos(i);var n=Math.sin(i);var a=e.x;var o=e.y;var s=this;var l=s.x;var c=s.y;this.x=k(a+(l-a)*r+(c-o)*n,I);this.y=k(o+(c-o)*r-(l-a)*n,I);return this},multiply:function(e){this.x*=e;this.y*=e;return this},distanceTo:function(e){var t=this.x-e.x;var i=this.y-e.y;return Math.sqrt(t*t+i*i)}}),C=(dt.onCircle=function(e,t,i){var r=qe(t);return new dt(e.x-i*Math.cos(r),e.y-i*Math.sin(r))},e.extend({init:function(e,t,i,r){this.x1=e||0;this.y1=t||0;this.x2=i||0;this.y2=r||0},equals:function(e){return this.x1===e.x1&&this.x2===e.x2&&this.y1===e.y1&&this.y2===e.y2},width:function(){return this.x2-this.x1},height:function(){return this.y2-this.y1},translate:function(e,t){this.x1+=e;this.x2+=e;this.y1+=t;this.y2+=t;return this},move:function(e,t){var i=this.height();var r=this.width();if(y(e)){this.x1=e;this.x2=this.x1+r}if(y(t)){this.y1=t;this.y2=this.y1+i}return this},wrap:function(e){this.x1=Math.min(this.x1,e.x1);this.y1=Math.min(this.y1,e.y1);this.x2=Math.max(this.x2,e.x2);this.y2=Math.max(this.y2,e.y2);return this},wrapPoint:function(e){var t=se(e);var i=t?e[0]:e.x;var r=t?e[1]:e.y;this.wrap(new C(i,r,i,r));return this},snapTo:function(e,t){if(t===b||!t){this.x1=e.x1;this.x2=e.x2}if(t===x||!t){this.y1=e.y1;this.y2=e.y2}return this},alignTo:function(e,t){var i=this.height();var r=this.width();var n=t===te||t===D?x:b;var a=n===x?i:r;if(t===E){var o=e.center();var s=this.center();this.x1+=o.x-s.x;this.y1+=o.y-s.y}else if(t===te||t===U)this[n+1]=e[n+1]-a;else this[n+1]=e[n+2];this.x2=this.x1+r;this.y2=this.y1+i;return this},shrink:function(e,t){this.x2-=e;this.y2-=t;return this},expand:function(e,t){this.shrink(-e,-t);return this},pad:function(e){var t=be(e);this.x1-=t.left;this.x2+=t.right;this.y1-=t.top;this.y2+=t.bottom;return this},unpad:function(e){var t=be(e);t.left=-t.left;t.top=-t.top;t.right=-t.right;t.bottom=-t.bottom;return this.pad(t)},clone:function(){return new C(this.x1,this.y1,this.x2,this.y2)},center:function(){return new dt(this.x1+this.width()/2,this.y1+this.height()/2)},containsPoint:function(e){return e.x>=this.x1&&e.x<=this.x2&&e.y>=this.y1&&e.y<=this.y2},points:function(){return[new dt(this.x1,this.y1),new dt(this.x2,this.y1),new dt(this.x2,this.y2),new dt(this.x1,this.y2)]},getHash:function(){return[this.x1,this.y1,this.x2,this.y2].join(",")},overlaps:function(e){return!(e.y2<this.y1||this.y2<e.y1||e.x2<this.x1||this.x2<e.x1)},rotate:function(e){var t=this.width();var i=this.height();var r=this.center();var n=r.x;var a=r.y;var o=pt(0,0,n,a,e);var s=pt(t,0,n,a,e);var l=pt(t,i,n,a,e);var c=pt(0,i,n,a,e);t=Math.max(o.x,s.x,l.x,c.x)-Math.min(o.x,s.x,l.x,c.x);i=Math.max(o.y,s.y,l.y,c.y)-Math.min(o.y,s.y,l.y,c.y);this.x2=this.x1+t;this.y2=this.y1+i;return this},toRect:function(){return new S([this.x1,this.y1],[this.width(),this.height()])},hasSize:function(){return this.width()!==0&&this.height()!==0},align:function(e,t,i){var r=t+1;var n=t+2;var a=t===b?ne:V;var o=this[a]();if(Me(i,[U,te])){this[r]=e[r];this[n]=this[r]+o}else if(Me(i,[Q,D])){this[n]=e[n];this[r]=this[n]-o}else if(i===E){this[r]=e[r]+(e[a]()-o)/2;this[n]=this[r]+o}}}));function pt(e,t,i,r,n){var a=qe(n);return new dt(i+(e-i)*Math.cos(a)+(t-r)*Math.sin(a),r-(e-i)*Math.sin(a)+(t-r)*Math.cos(a))}var vt=e.extend({init:function(e,t,i,r,n){this.center=e;this.innerRadius=t;this.radius=i;this.startAngle=r;this.angle=n},clone:function(){return new vt(this.center,this.innerRadius,this.radius,this.startAngle,this.angle)},middle:function(){return this.startAngle+this.angle/2},setRadius:function(e,t){if(t)this.innerRadius=e;else this.radius=e;return this},point:function(e,t){var i=qe(e);var r=Math.cos(i);var n=Math.sin(i);var a=t?this.innerRadius:this.radius;var o=k(this.center.x-r*a,I);var s=k(this.center.y-n*a,I);return new dt(o,s)},adjacentBox:function(h,e,t){var i=this.clone().expand(h);var r=i.middle();var n=i.point(r);var a=e/2;var u=t/2;var o=Math.sin(qe(r));var s=Math.cos(qe(r));var l=n.x-a;var c=n.y-u;if(Math.abs(o)<.9)l+=a*-s/Math.abs(s);if(Math.abs(s)<.9)c+=u*-o/Math.abs(o);return new C(l,c,l+e,c+t)},containsPoint:function(e){var t=this.center;var i=this.innerRadius;var r=this.radius;var h=this.startAngle;var u=this.startAngle+this.angle;var n=e.x-t.x;var a=e.y-t.y;var o=new dt(n,a);var s=this.point(h);var l=new dt(s.x-t.x,s.y-t.y);var c=this.point(u);var f=new dt(c.x-t.x,c.y-t.y);var d=k(n*n+a*a,I);return(l.equals(o)||fe(l,o))&&!fe(f,o)&&d>=i*i&&d<=r*r},getBBox:function(){var h=this;var e=new C(j,j,G,G);var t=k(this.startAngle%360);var i=k((t+this.angle)%360);var r=this.innerRadius;var n=[0,90,180,270,t,i].sort(gt);var a=n.indexOf(t);var o=n.indexOf(i);var s;if(t===i)s=n;else if(a<o)s=n.slice(a,o+1);else s=[].concat(n.slice(0,o+1),n.slice(a,n.length));for(var l=0;l<s.length;l++){var c=h.point(s[l]);e.wrapPoint(c);e.wrapPoint(c,r)}if(!r)e.wrapPoint(this.center);return e},expand:function(e){this.radius+=e;return this}});function gt(e,t){return e-t}var mt=vt.extend({init:function(e,t,i,r){vt.fn.init.call(this,e,0,t,i,r)},expand:function(e){return vt.fn.expand.call(this,e)},clone:function(){return new mt(this.center,this.radius,this.startAngle,this.angle)},setRadius:function(e){this.radius=e;return this}}),_t=.001,yt=e.extend({createRing:function(e,t){var i=e.startAngle+180;var r=e.angle+i;if(e.angle>0&&i===r)r+=_t;var n=new u.Point(e.center.x,e.center.y);var a=Math.max(e.radius,0);var o=Math.max(e.innerRadius,0);var s=new u.Arc(n,{startAngle:i,endAngle:r,radiusX:a,radiusY:a});var l=v.fromArc(s,t).close();if(o){s.radiusX=s.radiusY=o;var c=s.pointAt(r);l.lineTo(c.x,c.y);l.arc(r,i,o,o,true)}else l.lineTo(n.x,n.y);return l}}),wt=(yt.current=new yt,e.extend({init:function(e){this.children=[];this.options=f({},this.options,this.initUserOptions(e))},initUserOptions:function(e){return e},reflow:function(e){var t=this.children;var i;for(var r=0;r<t.length;r++){var n=t[r];n.reflow(e);i=i?i.wrap(n.box):n.box.clone()}this.box=i||e},destroy:function(){var e=this.children;if(this.animation)this.animation.destroy();for(var t=0;t<e.length;t++)e[t].destroy()},getRoot:function(){var e=this.parent;return e?e.getRoot():null},getSender:function(){var e=this.getService();if(e)return e.sender},getService:function(){var e=this;while(e){if(e.chartService)return e.chartService;e=e.parent}},translateChildren:function(e,t){var i=this.children;var r=i.length;for(var n=0;n<r;n++)i[n].box.translate(e,t)},append:function(){var e=arguments;var t=this;for(var i=0;i<arguments.length;i++){var r=e[i];t.children.push(r);r.parent=t}},renderVisual:function(){if(this.options.visible===false)return;this.createVisual();this.addVisual();this.renderChildren();this.createAnimation();this.renderComplete()},addVisual:function(){if(this.visual){this.visual.chartElement=this;if(this.parent)this.parent.appendVisual(this.visual)}},renderChildren:function(){var e=this.children;var t=e.length;for(var i=0;i<t;i++)e[i].renderVisual()},createVisual:function(){this.visual=new g({zIndex:this.options.zIndex,visible:$e(this.options.visible,true)})},createAnimation:function(){if(this.visual&&this.options.animation)this.animation=d.Animation.create(this.visual,this.options.animation)},appendVisual:function(e){if(!e.chartElement)e.chartElement=this;if(e.options.noclip)this.clipRoot().visual.append(e);else if(y(e.options.zIndex))this.stackRoot().stackVisual(e);else if(this.isStackRoot)this.stackVisual(e);else if(this.visual)this.visual.append(e);else this.parent.appendVisual(e)},clipRoot:function(){if(this.parent)return this.parent.clipRoot();return this},stackRoot:function(){if(this.parent)return this.parent.stackRoot();return this},stackVisual:function(e){var t=e.options.zIndex||0;var i=this.visual.children;var r=i.length;var n;for(n=0;n<r;n++){var a=i[n];var o=$e(a.options.zIndex,0);if(o>t)break}this.visual.insert(n,e)},traverse:function(e){var t=this.children;var i=t.length;for(var r=0;r<i;r++){var n=t[r];e(n);if(n.traverse)n.traverse(e)}},closest:function(e){var t=this;var i=false;while(t&&!i){i=e(t);if(!i)t=t.parent}if(i)return t},renderComplete:function(){},hasHighlight:function(){var e=(this.options||{}).highlight;return!(!this.createHighlight||e&&e.visible===false)},toggleHighlight:function(e,t){var i=this;var r=(this.options||{}).highlight||{};var n=r.visual;var a=this._highlight;if(!a){var o={fill:{color:s,opacity:t||.2},stroke:{color:s,width:1,opacity:t||.2}};if(n){a=this._highlight=n(h.extend(this.highlightVisualArgs(),{createVisual:function(){return i.createHighlight(o)},sender:this.getSender(),series:this.series,dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total}));if(!a)return}else a=this._highlight=this.createHighlight(o);if(!y(a.options.zIndex))a.options.zIndex=$e(r.zIndex,this.options.zIndex);this.appendVisual(a)}a.visible(e)},createGradientOverlay:function(e,t,i){var r=new v(h.extend({stroke:{color:"none"},fill:this.createGradient(i),closed:e.options.closed},t));r.segments.elements(e.segments.elements());return r},createGradient:function(e){if(this.parent)return this.parent.createGradient(e)},supportsPointInactiveOpacity:function(){return true}})),bt=(wt.prototype.options={},wt.extend({init:function(e){wt.fn.init.call(this,e);this.options.margin=be(this.options.margin);this.options.padding=be(this.options.padding)},reflow:function(e){var t=this;var i=this.options;var r=i.width;var n=i.height;var h=i.shrinkToFit;var u=r&&n;var a=i.margin;var o=i.padding;var s=i.border.width;var l;var f=function(){t.align(e,b,i.align);t.align(e,x,i.vAlign);t.paddingBox=l.clone().unpad(a).unpad(s)};var c=e.clone();if(u){c.x2=c.x1+r;c.y2=c.y1+n}if(h)c.unpad(a).unpad(s).unpad(o);wt.fn.reflow.call(this,c);if(u)l=this.box=new C(0,0,r,n);else l=this.box;if(h&&u){f();c=this.contentBox=this.paddingBox.clone().unpad(o)}else{c=this.contentBox=l.clone();l.pad(o).pad(s).pad(a);f()}this.translateChildren(l.x1-c.x1+a.left+s+o.left,l.y1-c.y1+a.top+s+o.top);var d=this.children;for(var p=0;p<d.length;p++){var v=d[p];v.reflow(v.box)}},align:function(e,t,i){this.box.align(e,t,i)},hasBox:function(){var e=this.options;return e.border.width||e.background},createVisual:function(){wt.fn.createVisual.call(this);var e=this.options;if(e.visible&&this.hasBox())this.visual.append(v.fromRect(this.paddingBox.toRect(),this.visualStyle()))},visualStyle:function(){var e=this.options;var t=e.border||{};return{stroke:{width:t.width,color:t.color,opacity:$e(t.opacity,e.opacity),dashType:t.dashType},fill:{color:e.background,opacity:e.opacity},cursor:e.cursor}}})),xt=(Ke(bt,{align:U,vAlign:te,margin:{},padding:{},border:{color:l,width:0},background:"",shrinkToFit:false,width:0,height:0,visible:true}),bt.extend({init:function(e,t){bt.fn.init.call(this,e);this.pointData=t},getElement:function(){var e=this;var t=e.options;var i=e.paddingBox;var r=t.type;var n=t.rotation;var a=i.center();var o=i.width()/2;var h=i.height()/2;if(!t.visible||!this.hasBox())return null;var s=this.visualStyle();var l;if(r===P)l=new d.Circle(new p([k(i.x1+o,I),k(i.y1+h,I)],Math.min(o,h)),s);else if(r===ie)l=v.fromPoints([[i.x1+o,i.y1],[i.x1,i.y2],[i.x2,i.y2]],s).close();else if(r===B){l=new d.MultiPath(s);l.moveTo(i.x1,i.y1).lineTo(i.x2,i.y2);l.moveTo(i.x1,i.y2).lineTo(i.x2,i.y1)}else{var c=i.toRect();if(r===Z){var u=$e(t.borderRadius,c.width()/5);c.setCornerRadius(u)}l=v.fromRect(c,s)}if(n)l.transform(A().rotate(-n,[a.x,a.y]));l.options.zIndex=t.zIndex;return l},createElement:function(){var e=this;var t=this.options.visual;var i=this.pointData||{};var r;if(t)r=t({value:i.value,dataItem:i.dataItem,sender:this.getSender(),series:i.series,category:i.category,rect:this.paddingBox.toRect(),options:this.visualOptions(),createVisual:function(){return e.getElement()}});else r=this.getElement();return r},visualOptions:function(){var e=this.options;return{background:e.background,border:e.border,margin:e.margin,padding:e.padding,type:e.type,size:e.width,visible:e.visible}},createVisual:function(){this.visual=this.createElement()}}));Ke(xt,{type:P,align:E,vAlign:E});var kt,Ct="radial",St={glass:{type:"linear",rotation:0,stops:[{offset:0,color:s,opacity:0},{offset:.25,color:s,opacity:.3},{offset:1,color:s,opacity:0}]},sharpBevel:{type:Ct,stops:[{offset:0,color:s,opacity:.55},{offset:.65,color:s,opacity:0},{offset:.95,color:s,opacity:.25}]},roundedBevel:{type:Ct,stops:[{offset:.33,color:s,opacity:.06},{offset:.83,color:s,opacity:.2},{offset:.95,color:s,opacity:0}]},roundedGlass:{type:Ct,supportVML:false,stops:[{offset:0,color:s,opacity:0},{offset:.5,color:s,opacity:.3},{offset:.99,color:s,opacity:0}]},sharpGlass:{type:Ct,supportVML:false,stops:[{offset:0,color:s,opacity:.2},{offset:.15,color:s,opacity:.15},{offset:.17,color:s,opacity:.35},{offset:.85,color:s,opacity:.05},{offset:.87,color:s,opacity:.15},{offset:.99,color:s,opacity:0}]},bubbleShadow:{type:Ct,center:[.5,.5],radius:.5}};function Tt(e,t){if(e.x1===t.x1&&e.y1===t.y1&&e.x2===t.x2&&e.y2===t.y2)return t;var i=Math.min(e.x1,t.x1);var r=Math.max(e.x1,t.x1);var n=Math.min(e.x2,t.x2);var a=Math.max(e.x2,t.x2);var o=Math.min(e.y1,t.y1);var s=Math.max(e.y1,t.y1);var l=Math.min(e.y2,t.y2);var h=Math.max(e.y2,t.y2);var c=[];c[0]=new C(r,o,n,s);c[1]=new C(i,s,r,l);c[2]=new C(n,s,a,l);c[3]=new C(r,l,n,h);if(e.x1===i&&e.y1===o||t.x1===i&&t.y1===o){c[4]=new C(i,o,r,s);c[5]=new C(n,l,a,h)}else{c[4]=new C(n,o,a,s);c[5]=new C(i,l,r,h)}return Se(c,function(e){return e.height()>0&&e.width()>0})[0]}var At=wt.extend({init:function(e){wt.fn.init.call(this,e);var t=this.options;t.width=parseInt(t.width,10);t.height=parseInt(t.height,10);this.gradients={}},reflow:function(){var e=this;var t=e.options;var i=e.children;var r=new C(0,0,t.width,t.height);this.box=r.unpad(t.margin);for(var n=0;n<i.length;n++){i[n].reflow(r);r=Tt(r,i[n].box)||new C}},createVisual:function(){this.visual=new g;this.createBackground()},createBackground:function(){var e=this.options;var t=e.border||{};var i=this.box.clone().pad(e.margin).unpad(t.width);var r=v.fromRect(i.toRect(),{stroke:{color:t.width?t.color:"",width:t.width,dashType:t.dashType},fill:{color:e.background,opacity:e.opacity},zIndex:-10});this.visual.append(r)},getRoot:function(){return this},createGradient:function(e){var t=this.gradients;var i=We(e);var r=St[e.gradient];var n;if(t[i])n=t[i];else{var a=h.extend({},r,e);if(r.type==="linear")n=new d.LinearGradient(a);else{if(e.innerRadius)a.stops=Mt(a);n=new d.RadialGradient(a);n.supportVML=r.supportVML!==false}t[i]=n}return n},cleanGradients:function(){var e=this.gradients;for(var t in e)e[t]._observers=[]},size:function(){var e=this.options;return new C(0,0,e.width,e.height)}});function Mt(e){var t=e.stops;var i=e.innerRadius/e.radius*100;var r=t.length;var n=[];for(var a=0;a<r;a++){var o=h.extend({},t[a]);o.offset=(o.offset*(100-i)+i)/100;n.push(o)}return n}Ke(At,{width:L,height:O,background:s,border:{color:l,width:0},margin:be(5),zIndex:-2});var Dt=wt.extend({init:function(e){wt.fn.init.call(this,e);this._initDirection()},_initDirection:function(){var e=this.options;if(e.vertical){this.groupAxis=b;this.elementAxis=x;this.groupSizeField=ne;this.elementSizeField=V;this.groupSpacing=e.spacing;this.elementSpacing=e.vSpacing}else{this.groupAxis=x;this.elementAxis=b;this.groupSizeField=V;this.elementSizeField=ne;this.groupSpacing=e.vSpacing;this.elementSpacing=e.spacing}},reflow:function(e){this.box=e.clone();this.reflowChildren()},reflowChildren:function(){var e=this;var t=this;var i=t.box;var r=t.elementAxis;var n=t.groupAxis;var h=t.elementSizeField;var a=t.groupSizeField;var o=this.groupOptions();var u=o.groups;var f=o.groupsSize;var d=o.maxGroupElementsSize;var p=u.length;var s=i[n+1]+this.alignStart(f,i[a]());if(p){var v=s;for(var g=0;g<p;g++){var m=u[g];var _=m.groupElements;var y=i[r+1];var w=_.length;for(var b=0;b<w;b++){var x=_[b];var l=e.elementSize(x);var k=v+e.alignStart(l[a],m.groupSize);var c=new C;c[n+1]=k;c[n+2]=k+l[a];c[r+1]=y;c[r+2]=y+l[h];x.reflow(c);y+=l[h]+e.elementSpacing}v+=m.groupSize+e.groupSpacing}i[n+1]=s;i[n+2]=s+f;i[r+2]=i[r+1]+d}},alignStart:function(e,t){var i=0;var r=this.options.align;if(r===Q||r===D)i=t-e;else if(r===E)i=(t-e)/2;return i},groupOptions:function(){var h=this;var e=this;var u=e.box;var f=e.children;var t=e.elementSizeField;var d=e.groupSizeField;var p=e.elementSpacing;var v=e.groupSpacing;var g=k(u[t]());var m=f.length;var i=[];var r=0;var n=0;var a=0;var o=0;var s=[];for(var l=0;l<m;l++){var c=f[l];if(!c.box)c.reflow(u);var _=h.elementSize(c);if(h.options.wrap&&k(n+p+_[t])>g){i.push({groupElements:s,groupSize:r,groupElementsSize:n});o=Math.max(o,n);a+=v+r;r=0;n=0;s=[]}r=Math.max(r,_[d]);if(n>0)n+=p;n+=_[t];s.push(c)}i.push({groupElements:s,groupSize:r,groupElementsSize:n});o=Math.max(o,n);a+=r;return{groups:i,groupsSize:a,maxGroupElementsSize:o}},elementSize:function(e){return{width:e.box.width(),height:e.box.height()}},createVisual:function(){}}),Et=(Ke(Dt,{vertical:true,wrap:true,vSpacing:0,spacing:0}),d.Text),Pt=wt.extend({init:function(e,t){wt.fn.init.call(this,t);this.content=e;this.reflow(new C)},reflow:function(e){var t=this.options;var i=t.size=r.measureText(this.content,{font:t.font});this.baseline=i.baseline;this.box=new C(e.x1,e.y1,e.x1+i.width,e.y1+i.height)},createVisual:function(){var e=this.options;var t=e.font;var i=e.color;var r=e.opacity;var n=e.cursor;this.visual=new Et(this.content,this.box.toRect().topLeft(),{font:t,fill:{color:i,opacity:r},cursor:n})}});function It(e){var t=e.origin;var i=e.bottomRight();return new C(t.x,t.y,i.x,i.y)}Ke(Pt,{font:z,color:l});var Bt=/\n/m,zt=bt.extend({init:function(e,t,i){bt.fn.init.call(this,t);this.content=e;this.data=i;this._initContainer();if(this.options._autoReflow!==false)this.reflow(new C)},_initContainer:function(){var e=this.options;var t=String(this.content).split(Bt);var i=new Dt({vertical:true,align:e.align,wrap:false});var r=f({},e,{opacity:1,animation:null});this.container=i;this.append(i);for(var n=0;n<t.length;n++){var a=new Pt(t[n].trim(),r);i.append(a)}},reflow:function(e){var t=this.options;var i=t.visual;this.container.options.align=t.align;if(i&&!this._boxReflow){var r=e;if(!r.hasSize()){this._boxReflow=true;this.reflow(r);this._boxReflow=false;r=this.box}var n=this.visual=i(this.visualContext(r));if(n){r=It(n.clippedBBox()||new S);n.options.zIndex=t.zIndex}this.box=this.contentBox=this.paddingBox=r}else{bt.fn.reflow.call(this,e);if(t.rotation){var a=be(t.margin);var o=this.box.unpad(a);this.targetBox=e;this.normalBox=o.clone();o=this.rotate();o.translate(a.left-a.right,a.top-a.bottom);this.rotatedBox=o.clone();o.pad(a)}}},createVisual:function(){var e=this.options;this.visual=new g({transform:this.rotationTransform(),zIndex:e.zIndex,noclip:e.noclip});if(this.hasBox()){var t=v.fromRect(this.paddingBox.toRect(),this.visualStyle());this.visual.append(t)}},renderVisual:function(){if(!this.options.visible)return;if(this.options.visual){var e=this.visual;if(e&&!y(e.options.noclip))e.options.noclip=this.options.noclip;this.addVisual();this.createAnimation()}else bt.fn.renderVisual.call(this)},visualContext:function(e){var t=this;var i={text:this.content,rect:e.toRect(),sender:this.getSender(),options:this.options,createVisual:function(){t._boxReflow=true;t.reflow(e);t._boxReflow=false;return t.getDefaultVisual()}};if(this.data)h.extend(i,this.data);return i},getDefaultVisual:function(){this.createVisual();this.renderChildren();var e=this.visual;delete this.visual;return e},rotate:function(){var e=this.options;this.box.rotate(e.rotation);this.align(this.targetBox,b,e.align);this.align(this.targetBox,x,e.vAlign);return this.box},rotationTransform:function(){var e=this.options.rotation;if(!e)return null;var t=this.normalBox.center();var i=t.x;var r=t.y;var n=this.rotatedBox.center();return A().translate(n.x-i,n.y-r).rotate(e,[i,r])}}),Ot=wt.extend({init:function(e){wt.fn.init.call(this,e);this.append(new zt(this.options.text,h.extend({},this.options,{vAlign:this.options.position})))},reflow:function(e){wt.fn.reflow.call(this,e);this.box.snapTo(e,b)}}),Lt=(Ot.buildTitle=function(e,t,i){var r=e;if(typeof e==="string")r={text:e};r=h.extend({visible:true},i,r);var n;if(r&&r.visible&&r.text){n=new Ot(r);t.append(n)}return n},Ke(Ot,{color:l,position:te,align:E,margin:be(5),padding:be(5)}),zt.extend({init:function(e,t,i,r,n){zt.fn.init.call(this,t,n);this.text=t;this.value=e;this.index=i;this.dataItem=r;this.reflow(new C)},visualContext:function(e){var t=zt.fn.visualContext.call(this,e);t.value=this.value;t.dataItem=this.dataItem;t.format=this.options.format;t.culture=this.options.culture;return t},click:function(e,t){e.trigger(o,{element:Ue(t),value:this.value,text:this.text,index:this.index,dataItem:this.dataItem,axis:this.parent.options})},rotate:function(){if(this.options.alignRotation!==E){var e=this.normalBox.toRect();var t=this.rotationTransform();this.box=It(e.bbox(t.matrix()))}else zt.fn.rotate.call(this);return this.box},rotationTransform:function(){var h=this.options;var u=h.rotation;if(!u)return null;if(h.alignRotation===E)return zt.fn.rotationTransform.call(this);var e=A().rotate(u).matrix();var t=this.normalBox.toRect();var i=this.targetBox.toRect();var r=h.rotationOrigin||te;var n=r===te||r===D?b:x;var a=r===te||r===D?x:b;var f=r===te||r===U?i.origin:i.bottomRight();var o=t.topLeft().transformCopy(e);var s=t.topRight().transformCopy(e);var d=t.bottomRight().transformCopy(e);var p=t.bottomLeft().transformCopy(e);var v=S.fromPoints(o,s,d,p);var l={};l[a]=i.origin[a]-v.origin[a];var g=Math.abs(o[a]+l[a]-f[a]);var m=Math.abs(s[a]+l[a]-f[a]);var c,_;if(k(g,w)===k(m,w)){c=o;_=s}else if(m<g){c=s;_=d}else{c=o;_=p}var y=c[n]+(_[n]-c[n])/2;l[n]=i.center()[n]-y;return A().translate(l.x,l.y).rotate(u)}})),Rt=(Ke(Lt,{_autoReflow:false}),7),Ft="#fff",Vt=bt.extend({init:function(e,t,i){bt.fn.init.call(this,t);this.fields=e;this.chartService=i;this.render()},hide:function(){this.options.visible=false},show:function(){this.options.visible=true},render:function(){var h=this;var e=this.options;if(e.visible){var t=e.label;var i=e.icon;var r=new C;var n=function(){return h};var a=i.size;var o=this.fields.text;var s,l;if(y(t)&&t.visible){var u=Ce(t);if(u)o=u(this.fields);else if(t.format)o=this.chartService.format.auto(t.format,o);if(!t.color)t.color=t.position===H?Ft:i.background;this.label=new zt(o,f({},t));this.label.aliasFor=n;if(t.position===H&&!y(a)){if(i.type===P)a=Math.max(this.label.box.width(),this.label.box.height());else{s=this.label.box.width();l=this.label.box.height()}r.wrap(this.label.box)}}i.width=s||a||Rt;i.height=l||a||Rt;var c=new xt(f({},i));c.aliasFor=n;this.marker=c;this.append(c);if(this.label)this.append(this.label);c.reflow(new C);this.wrapperBox=r.wrap(c.box)}},reflow:function(e){var t=this;var i=t.options;var r=t.label;var h=t.marker;var n=t.wrapperBox;var a=e.center();var u=i.line.length;var o=i.position;if(i.visible){var s,l,c;if(Me(o,[U,Q]))if(o===U){c=n.alignTo(e,o).translate(-u,e.center().y-n.center().y);if(i.line.visible){s=[e.x1,a.y];this.linePoints=[s,[c.x2,a.y]];l=c.clone().wrapPoint(s)}}else{c=n.alignTo(e,o).translate(u,e.center().y-n.center().y);if(i.line.visible){s=[e.x2,a.y];this.linePoints=[s,[c.x1,a.y]];l=c.clone().wrapPoint(s)}}else if(o===D){c=n.alignTo(e,o).translate(e.center().x-n.center().x,u);if(i.line.visible){s=[a.x,e.y2];this.linePoints=[s,[a.x,c.y1]];l=c.clone().wrapPoint(s)}}else{c=n.alignTo(e,o).translate(e.center().x-n.center().x,-u);if(i.line.visible){s=[a.x,e.y1];this.linePoints=[s,[a.x,c.y2]];l=c.clone().wrapPoint(s)}}if(h)h.reflow(c);if(r){r.reflow(c);if(h){if(i.label.position===K)r.box.alignTo(h.box,o);r.reflow(r.box)}}this.contentBox=c;this.targetBox=e;this.box=l||c}},createVisual:function(){bt.fn.createVisual.call(this);this.visual.options.noclip=this.options.noclip;if(this.options.visible)this.createLine()},renderVisual:function(){var t=this;var e=this.options;var i=e.visual;if(e.visible&&i){this.visual=i(h.extend(this.fields,{sender:this.getSender(),rect:this.targetBox.toRect(),options:{background:e.background,border:e.background,icon:e.icon,label:e.label,line:e.line,position:e.position,visible:e.visible},createVisual:function(){t.createVisual();t.renderChildren();var e=t.visual;delete t.visual;return e}}));this.addVisual()}else bt.fn.renderVisual.call(this)},createLine:function(){var e=this.options.line;if(this.linePoints){var t=v.fromPoints(this.linePoints,{stroke:{color:e.color,width:e.width,dashType:e.dashType}});ue(t);this.visual.append(t)}},click:function(e,t){var i=this.eventArgs(t);if(!e.trigger(q,i))t.preventDefault()},over:function(e,t){var i=this.eventArgs(t);if(!e.trigger(Y,i))t.preventDefault()},out:function(e,t){var i=this.eventArgs(t);e.trigger($,i)},eventArgs:function(e){var t=this.options;return h.extend(this.fields,{element:Ue(e),text:y(t.label)?t.label.text:"",visual:this.visual})}});Ke(Vt,{icon:{visible:true,type:P},label:{position:H,visible:true,align:E,vAlign:E},line:{visible:true},visible:true,position:te,zIndex:2});var Nt,Ht={format:function(e,t){return t},toString:function(e){return e},parseDate:function(e){return new Date(e)},firstDay:function(){return 0}},Ut=e.extend({});if(Ut.register=function(e){Ht=e},Object.defineProperties)Object.defineProperties(Ut,{implementation:{get:function(){return Ht}}});var jt=/\{(\d+)(:[^\}]+)?\}/g,Gt=e.extend({init:function(e){this._intlService=e},auto:function(e){var t=[],i=arguments.length-1;while(i-- >0)t[i]=arguments[i+1];var r=this.intl;if(pe(e)&&e.match(F))return r.format.apply(r,[e].concat(t));return r.toString(t[0],e)},localeAuto:function(e,n,a){var o=this.intl;var t;if(pe(e)&&e.match(F))t=e.replace(jt,function(e,t,i){var r=n[parseInt(t,10)];return o.toString(r,i?i.substring(1):"",a)});else t=o.toString(n[0],e,a);return t}});if(Object.defineProperties)Object.defineProperties(Gt.fn,{intl:{get:function(){return this._intlService||Ut.implementation},set:function(e){this._intlService=e}}});var Wt=e.extend({init:function(e,t){if(t===void 0)t={};this._intlService=t.intlService;this.sender=t.sender||e;this.format=new Gt(t.intlService);this.chart=e;this.rtl=Boolean(t.rtl)},notify:function(e,t){if(this.chart)this.chart.trigger(e,t)},isPannable:function(e){var t=((this.chart||{}).options||{}).pannable;return t&&t.lock!==e}}),qt;if(Object.defineProperties)Object.defineProperties(Wt.fn,{intl:{get:function(){return this._intlService||Ut.implementation},set:function(e){this._intlService=e;this.format.intl=e}}});var Yt=e.extend({}),$t=(Yt.register=function(e){qt=e},Yt.create=function(e,t){if(qt)return qt.create(e,t)},{ChartService:Wt,DomEventsBuilder:Yt,FormatService:Gt,IntlService:Ut,TemplateService:ke});function Xt(e,t){var i=e.tickX;var r=e.tickY;var n=e.position;var a=new v({stroke:{width:t.width,color:t.color}});if(e.vertical)a.moveTo(i,n).lineTo(i+t.size,n);else a.moveTo(n,r).lineTo(n,r+t.size);ue(a);return a}function Kt(e,t){var i=e.lineStart;var r=e.lineEnd;var n=e.position;var a=new v({stroke:{width:t.width,color:t.color,dashType:t.dashType}});if(e.vertical)a.moveTo(i,n).lineTo(r,n);else a.moveTo(n,i).lineTo(n,r);ue(a);return a}var Qt=wt.extend({init:function(e,t){if(t===void 0)t=new Wt;wt.fn.init.call(this,e);this.chartService=t;if(!this.options.visible)this.options=f({},this.options,{labels:{visible:false},line:{visible:false},margin:0,majorTickSize:0,minorTickSize:0});this.options.minorTicks=f({},{color:this.options.line.color,width:this.options.line.width,visible:this.options.minorTickType!==W},this.options.minorTicks,{size:this.options.minorTickSize,align:this.options.minorTickType});this.options.majorTicks=f({},{color:this.options.line.color,width:this.options.line.width,visible:this.options.majorTickType!==W},this.options.majorTicks,{size:this.options.majorTickSize,align:this.options.majorTickType});this.initFields();if(!this.options._deferLabels)this.createLabels();this.createTitle();this.createNotes()},initFields:function(){},labelsRange:function(){return{min:this.options.labels.skip,max:this.labelsCount()}},normalizeLabelRotation:function(e){var t=e.rotation;if(ge(t)){e.alignRotation=t.align;e.rotation=t.angle}},createLabels:function(){var e=this;var t=this.options;var i=t.vertical?Q:E;var r=f({},t.labels,{align:i,zIndex:t.zIndex});var n=Math.max(1,r.step);this.clearLabels();if(r.visible){this.normalizeLabelRotation(r);if(r.rotation==="auto"){r.rotation=0;t.autoRotateLabels=true}var a=this.labelsRange();for(var o=a.min;o<a.max;o+=n){var s={index:o,count:a.max};var l=e.createAxisLabel(o,r,s);if(l){e.append(l);e.labels.push(l)}}}},clearLabels:function(){this.children=Se(this.children,function(e){return!(e instanceof Lt)});this.labels=[]},clearTitle:function(){var t=this;if(this.title){this.children=Se(this.children,function(e){return e!==t.title});this.title=undefined}},clear:function(){this.clearLabels();this.clearTitle()},lineBox:function(){var e=this;var t=e.options;var i=e.box;var r=t.vertical;var n=t.labels.mirror;var a=n?i.x1:i.x2;var o=n?i.y2:i.y1;var s=t.line.width||0;return r?new C(a,i.y1,a,i.y2-s):new C(i.x1,o,i.x2-s,o)},createTitle:function(){var e=this.options;var t=f({rotation:e.vertical?-90:0,text:"",zIndex:1,visualSize:true},e.title);if(t.visible&&t.text){var i=new zt(t.text,t);this.append(i);this.title=i}},createNotes:function(){var e=this;var t=this.options;var i=t.notes;var r=i.data||[];this.notes=[];for(var n=0;n<r.length;n++){var a=f({},i,r[n]);a.value=e.parseNoteValue(a.value);var o=new Vt({value:a.value,text:a.label.text,dataItem:a},a,e.chartService);if(o.options.visible){if(y(o.options.position)){if(t.vertical&&!Me(o.options.position,[U,Q]))o.options.position=t.reverse?U:Q;else if(!t.vertical&&!Me(o.options.position,[te,D]))o.options.position=t.reverse?D:te}else if(t.vertical)o.options.position=t.reverse?U:Q;else o.options.position=t.reverse?D:te;e.append(o);e.notes.push(o)}}},parseNoteValue:function(e){return e},renderVisual:function(){wt.fn.renderVisual.call(this);this.createPlotBands()},createVisual:function(){wt.fn.createVisual.call(this);this.createBackground();this.createLine()},gridLinesVisual:function(){var e=this._gridLines;if(!e){e=this._gridLines=new g({zIndex:-2});this.appendVisual(this._gridLines)}return e},createTicks:function(o){var e=this.options;var s=this.lineBox();var l=e.labels.mirror;var t=e.majorTicks.visible?e.majorUnit:0;var c={vertical:e.vertical};function i(e,t,i){var r=e.length;var n=Math.max(1,t.step);if(t.visible)for(var a=t.skip;a<r;a+=n){if(y(i)&&a%i===0)continue;c.tickX=l?s.x2:s.x2-t.size;c.tickY=l?s.y1-t.size:s.y1;c.position=e[a];o.append(Xt(c,t))}}i(this.getMajorTickPositions(),e.majorTicks);i(this.getMinorTickPositions(),e.minorTicks,t/e.minorUnit)},createLine:function(){var e=this.options;var t=e.line;var i=this.lineBox();if(t.width>0&&t.visible){var r=new v({stroke:{width:t.width,color:t.color,dashType:t.dashType}});r.moveTo(i.x1,i.y1).lineTo(i.x2,i.y2);if(e._alignLines)ue(r);var n=this._lineGroup=new g;n.append(r);this.visual.append(n);this.createTicks(n)}},getActualTickSize:function(){var e=this.options;var t=0;if(e.majorTicks.visible&&e.minorTicks.visible)t=Math.max(e.majorTicks.size,e.minorTicks.size);else if(e.majorTicks.visible)t=e.majorTicks.size;else if(e.minorTicks.visible)t=e.minorTicks.size;return t},createBackground:function(){var e=this;var t=e.options;var i=e.box;var r=t.background;if(r){this._backgroundPath=v.fromRect(i.toRect(),{fill:{color:r},stroke:null});this.visual.append(this._backgroundPath)}},createPlotBands:function(){var t=this;var e=this.options;var i=e.plotBands||[];var h=e.vertical;var u=this.plotArea;if(i.length===0)return;var r=this._plotbandGroup=new g({zIndex:-1});var f=Se(this.pane.axes,function(e){return e.options.vertical!==t.options.vertical})[0];for(var n=0;n<i.length;n++){var a=i[n];var o=void 0,s=void 0;var l=a.label;var c=void 0;if(h){o=(f||u.axisX).lineBox();s=t.getSlot(a.from,a.to,true)}else{o=t.getSlot(a.from,a.to,true);s=(f||u.axisY).lineBox()}if(l){l.vAlign=l.position||U;c=t.createPlotBandLabel(l,a,new C(o.x1,s.y1,o.x2,s.y2))}if(o.width()!==0&&s.height()!==0){var d=new S([o.x1,s.y1],[o.width(),s.height()]);var p=v.fromRect(d,{fill:{color:a.color,opacity:a.opacity},stroke:null});r.append(p);if(c)r.append(c)}}this.appendVisual(r)},createPlotBandLabel:function(e,t,i){if(e.visible===false)return null;var r=e.text;var n;if(y(e)&&e.visible){var a=Ce(e);if(a)r=a({text:r,item:t});else if(e.format)r=this.chartService.format.auto(e.format,r);if(!e.color)e.color=this.options.labels.color}n=new zt(r,e);n.reflow(i);n.renderVisual();return n.visual},createGridLines:function(e){var t=this.options;var i=t.minorGridLines;var r=t.majorGridLines;var h=t.minorUnit;var n=t.vertical;var u=e.options.line.visible;var f=r.visible?t.majorUnit:0;var a=e.lineBox();var d=a[n?"y1":"x1"];var s={lineStart:a[n?"x1":"y1"],lineEnd:a[n?"x2":"y2"],vertical:n};var l=[];var c=this.gridLinesVisual();function o(e,t,i){var r=e.length;var n=Math.max(1,t.step);if(t.visible)for(var a=t.skip;a<r;a+=n){var o=k(e[a]);if(!Me(o,l))if(a%i!==0&&(!u||d!==o)){s.position=o;c.append(Kt(s,t));l.push(o)}}}o(this.getMajorTickPositions(),r);o(this.getMinorTickPositions(),i,f/h);return c.children},reflow:function(e){var t=this;var i=t.options;var r=t.labels;var n=t.title;var a=i.vertical;var h=r.length;var o=a?ne:V;var u=n?n.box[o]():0;var s=this.getActualTickSize()+i.margin+u;var f=(this.getRoot()||{}).box||e;var d=f[o]();var l=0;for(var c=0;c<h;c++){var p=r[c].box[o]();if(p+s<=d)l=Math.max(l,p)}if(a)this.box=new C(e.x1,e.y1,e.x1+l+s,e.y2);else this.box=new C(e.x1,e.y1,e.x2,e.y1+l+s);this.arrangeTitle();this.arrangeLabels();this.arrangeNotes()},getLabelsTickPositions:function(){return this.getMajorTickPositions()},labelTickIndex:function(e){return e.index},arrangeLabels:function(){var e=this;var t=this;var i=t.options;var r=t.labels;var h=this.labelsBetweenTicks();var u=i.vertical;var f=i.labels.mirror;var d=this.getLabelsTickPositions();for(var n=0;n<r.length;n++){var a=r[n];var p=e.labelTickIndex(a);var o=u?a.box.height():a.box.width();var s=d[p];var v=d[p+1];var l=void 0,c=void 0;if(u){if(h){var g=s+(v-s)/2;l=g-o/2}else l=s-o/2;c=l}else if(h){l=s;c=v}else{l=s-o/2;c=l+o}e.positionLabel(a,f,l,c)}},positionLabel:function(e,t,i,r){if(r===void 0)r=i;var n=this.options;var h=n.vertical;var a=this.lineBox();var o=this.getActualTickSize()+n.margin;var s;if(h){var l=a.x2;if(t){l+=o;e.options.rotationOrigin=U}else{l-=o+e.box.width();e.options.rotationOrigin=Q}s=e.box.move(l,i)}else{var c=a.y1;if(t){c-=o+e.box.height();e.options.rotationOrigin=D}else{c+=o;e.options.rotationOrigin=te}s=new C(i,c,r,c+e.box.height())}e.reflow(s)},autoRotateLabelAngle:function(e,t){if(e.width()<t)return 0;if(e.height()>t)return-90;return-45},autoRotateLabels:function(){var e=this;if(!this.options.autoRotateLabels||this.options.vertical)return false;var t=this.getMajorTickPositions();var i=this.labels;var r=Math.min(i.length,t.length-1);var n=0;for(var a=0;a<r;a++){var o=Math.abs(t[a+1]-t[a]);var s=i[a].box;var l=e.autoRotateLabelAngle(s,o);if(l!==0)n=l;if(n===-90)break}if(n!==0){for(var c=0;c<i.length;c++){i[c].options.rotation=n;i[c].reflow(new C)}return true}},arrangeTitle:function(){var e=this;var t=e.options;var i=e.title;var r=t.labels.mirror;var n=t.vertical;if(i){if(n){i.options.align=r?Q:U;i.options.vAlign=i.options.position}else{i.options.align=i.options.position;i.options.vAlign=r?te:D}i.reflow(this.box)}},arrangeNotes:function(){var e=this;for(var t=0;t<this.notes.length;t++){var i=e.notes[t];var r=i.options.value;var n=void 0;if(y(r)){if(e.shouldRenderNote(r))i.show();else i.hide();n=e.noteSlot(r)}else i.hide();i.reflow(n||e.lineBox())}},noteSlot:function(e){return this.getSlot(e)},alignTo:function(e){var t=e.lineBox();var i=this.options.vertical;var r=i?x:b;this.box.snapTo(t,r);if(i)this.box.shrink(0,this.lineBox().height()-t.height());else this.box.shrink(this.lineBox().width()-t.width(),0);this.box[r+1]-=this.lineBox()[r+1]-t[r+1];this.box[r+2]-=this.lineBox()[r+2]-t[r+2]},axisLabelText:function(e,t,i){var r=this;var n;var a=Ce(t);var o=function(){if(!t.format)return e;return r.chartService.format.localeAuto(t.format,[e],t.culture)};if(a){var s=h.extend({},i,{get text(){return o()},value:e,format:t.format,culture:t.culture});n=a(s)}else n=o();return n},slot:function(e,t,i){var r=this.getSlot(e,t,i);if(r)return r.toRect()},contentBox:function(){var e=this.box.clone();var t=this.labels;if(t.length){var i=this.options.vertical?x:b;if(this.chartService.isPannable(i)){var r=this.maxLabelOffset();e[i+1]-=r.start;e[i+2]+=r.end}else{if(t[0].options.visible)e.wrap(t[0].box);var n=t[t.length-1];if(n.options.visible)e.wrap(n.box)}}return e},maxLabelOffset:function(){var h=this;var e=this.options;var u=e.vertical;var t=e.reverse;var f=this.labelsBetweenTicks();var i=this.getLabelsTickPositions();var d=u?x:b;var p=this.labels;var v=t?1:0;var g=t?0:1;var r=0;var n=0;for(var a=0;a<p.length;a++){var o=p[a];var s=h.labelTickIndex(o);var l=void 0,c=void 0;if(f){l=i[s+v];c=i[s+g]}else l=c=i[s];r=Math.max(r,l-o.box[d+1]);n=Math.max(n,o.box[d+2]-c)}return{start:r,end:n}},limitRange:function(e,t,i,r,n){var a=this.options;if(e<i&&n<0&&(!y(a.min)||a.min<=i)||r<t&&n>0&&(!y(a.max)||r<=a.max))return null;if(t<i&&n>0||r<e&&n<0)return{min:e,max:t};var o=t-e;var s=e;var l=t;if(e<i&&n<0){s=T(e,i,r);l=T(e+o,i+o,r)}else if(t>r&&n>0){l=T(t,i,r);s=T(t-o,i,r-o)}return{min:s,max:l}},valueRange:function(){return{min:this.seriesMin,max:this.seriesMax}},lineDir:function(){var e=this.options;var t=e.vertical;var i=e.reverse;return(t?-1:1)*(i?-1:1)},lineInfo:function(){var e=this.options;var t=e.vertical;var i=this.lineBox();var r=t?i.height():i.width();var n=t?x:b;var a=this.lineDir();var o=a===1?1:2;var s=n+o.toString();var l=i[s];return{axis:n,axisOrigin:s,axisDir:a,lineBox:i,lineSize:r,lineStart:l}},pointOffset:function(e){var t=this.lineInfo();var i=t.axis;var r=t.axisDir;var n=t.axisOrigin;var a=t.lineBox;var o=t.lineSize;var s=r>0?e[i]-a[n]:a[n]-e[i];var l=s/o;return l},scaleToDelta:function(e,t){var i=.999;var r=T(e,-i,i);var n;if(r>0)n=t*Math.min(1,r);else n=t-t/(1+r);return n},labelsBetweenTicks:function(){return!this.options.justified},prepareUserOptions:function(){}}),Zt=(Ke(Qt,{labels:{visible:true,rotation:0,mirror:false,step:1,skip:0},line:{width:1,color:l,visible:true},title:{visible:true,position:E},majorTicks:{align:K,size:4,skip:0,step:1},minorTicks:{align:K,size:3,skip:0,step:1},axisCrossingValue:0,majorTickType:K,minorTickType:W,majorGridLines:{skip:0,step:1},minorGridLines:{visible:false,width:1,color:l,skip:0,step:1},margin:5,visible:true,reverse:false,justified:true,notes:{label:{text:""}},_alignLines:true,_deferLabels:false}),"milliseconds"),Jt="seconds",ei="minutes",ti="hours",ii="days",ri="weeks",ni="months",ai="years",oi,si=1e3,li=60*si,ci=60*li,hi=24*ci,ui=7*hi,fi=31*hi,di=365*hi,pi={years:di,months:fi,weeks:ui,days:hi,hours:ci,minutes:li,seconds:si,milliseconds:1};function vi(e,t){var i=e.getTime()-t;var r=e.getTimezoneOffset()-t.getTimezoneOffset();return i-r*li}function gi(e,t){return new Date(e.getTime()+t)}function m(e){var t;if(e instanceof Date)t=e;else if(e)t=new Date(e);return t}function mi(e,t){if(t===void 0)t=0;var i=0;var r=e.getDay();if(!isNaN(r))while(r!==t){if(r===0)r=6;else r--;i++}return gi(e,-i*hi)}function _i(e,t){if(t===0&&e.getHours()===23){e.setHours(e.getHours()+2);return true}return false}function yi(e,t){var i=new Date(e);i.setMinutes(0,0,0);var r=(e.getTimezoneOffset()-i.getTimezoneOffset())*li;return gi(i,r+t*ci)}function wi(e,t,i,r){var n=e;if(e){var a=m(e);var o=a.getHours();if(i===ai){n=new Date(a.getFullYear()+t,0,1);_i(n,0)}else if(i===ni){n=new Date(a.getFullYear(),a.getMonth()+t,1);_i(n,o)}else if(i===ri){n=wi(mi(a,r),t*7,ii);_i(n,o)}else if(i===ii){n=new Date(a.getFullYear(),a.getMonth(),a.getDate()+t);_i(n,o)}else if(i===ti)n=yi(a,t);else if(i===ei){n=gi(a,t*li);if(n.getSeconds()>0)n.setSeconds(0)}else if(i===Jt)n=gi(a,t*si);else if(i===Zt)n=gi(a,t);if(i!==Zt&&n.getMilliseconds()>0)n.setMilliseconds(0)}return n}function bi(e,t,i){return wi(m(e),0,t,i)}function xi(e,t,i){var r=m(e);if(r&&bi(r,t,i).getTime()===r.getTime())return r;return wi(r,1,t,i)}function ki(e,t){if(e&&t)return e.getTime()-t.getTime();return-1}function Ci(e,t){return e.getTime()-t}function Si(e){if(se(e)){var t=[];for(var i=0;i<e.length;i++)t.push(Si(e[i]));return t}else if(e)return m(e).getTime()}function Ti(e,t){if(e&&t)return Si(e)===Si(t);return e===t}function Ai(e,t,i){return vi(e,t)/pi[i]}function Mi(e,t,i,r){var n=m(e);var a=m(t);var o;if(i===ni)o=n.getMonth()-a.getMonth()+(n.getFullYear()-a.getFullYear())*12+Ai(n,new Date(n.getFullYear(),n.getMonth()),ii)/new Date(n.getFullYear(),n.getMonth()+1,0).getDate();else if(i===ai)o=n.getFullYear()-a.getFullYear()+Mi(n,new Date(n.getFullYear(),0),ni,1)/12;else if(i===ii||i===ri)o=Ai(n,a,i);else o=Ci(n,t)/pi[i];return o/r}function Di(e,t,i){var r;if(i===ai)r=t.getFullYear()-e.getFullYear();else if(i===ni)r=Di(e,t,ai)*12+t.getMonth()-e.getMonth();else if(i===ii)r=Math.floor(Ci(t,e)/hi);else r=Math.floor(Ci(t,e)/pi[i]);return r}function Ei(e,t){var i=0;var r=t.length-1;var n;while(i<=r){n=Math.floor((i+r)/2);var a=t[n];if(a<e){i=n+1;continue}if(a>e){r=n-1;continue}while(Ti(t[n-1],e))n--;return n}if(t[n]<=e)return n;return n-1}function Pi(e,t){var i;if(pe(t))i=e.parseDate(t)||m(t);else i=m(t);return i}function Ii(e,t){if(se(t)){var i=[];for(var r=0;r<t.length;r++)i.push(Pi(e,t[r]));return i}return Pi(e,t)}function Bi(e,t){if(de(e.weekStartDay))return e.weekStartDay;if(t&&t.firstDay)return t.firstDay();return 0}var zi=.01,Oi=.1;function Li(e,t){if(e instanceof Date){var i=t.length;for(var r=0;r<i;r++)if(Ti(t[r],e))return r;return-1}return t.indexOf(e)}var Ri=Qt.extend({initFields:function(){this._ticks={}},categoriesHash:function(){return""},clone:function(){var e=new Ri(h.extend({},this.options,{categories:this.options.srcCategories}),this.chartService);e.createLabels();return e},initUserOptions:function(e){var t=e.categories||[];var i=y(e.min);var r=y(e.max);e.srcCategories=e.categories=t;if((i||r)&&t.length){var n=i?Math.floor(e.min):0;var a;if(r)a=e.justified?Math.floor(e.max)+1:Math.ceil(e.max);else a=t.length;e.categories=e.categories.slice(n,a)}return e},rangeIndices:function(){var e=this.options;var t=e.categories.length||1;var i=de(e.min)?e.min%1:0;var r;if(de(e.max)&&e.max%1!==0&&e.max<this.totalRange().max)r=t-(1-e.max%1);else r=t-(e.justified?1:0);return{min:i,max:r}},totalRangeIndices:function(e){var t=this.options;var i=de(t.min)?t.min:0;var r;if(de(t.max))r=t.max;else if(de(t.min))r=i+t.categories.length;else r=this.totalRange().max||1;if(e){var n=this.totalRange();i=T(i,0,n.max);r=T(r,0,n.max)}return{min:i,max:r}},range:function(){var e=this.options;var t=de(e.min)?e.min:0;var i=de(e.max)?e.max:this.totalRange().max;return{min:t,max:i}},roundedRange:function(){return this.range()},totalRange:function(){var e=this.options;return{min:0,max:Math.max(this._seriesMax||0,e.srcCategories.length)-(e.justified?1:0)}},scaleOptions:function(){var e=this.rangeIndices();var t=e.min;var i=e.max;var r=this.lineBox();var n=this.options.vertical?r.height():r.width();var a=n/(i-t||1);return{scale:a*(this.options.reverse?-1:1),box:r,min:t,max:i}},arrangeLabels:function(){Qt.fn.arrangeLabels.call(this);this.hideOutOfRangeLabels()},hideOutOfRangeLabels:function(){var e=this;var t=e.box;var i=e.labels;if(i.length>0){var r=this.options.vertical?x:b;var n=t[r+1];var a=t[r+2];var o=i[0];var s=Ge(i);if(o.box[r+1]>a||o.box[r+2]<n)o.options.visible=false;if(s.box[r+1]>a||s.box[r+2]<n)s.options.visible=false}},getMajorTickPositions:function(){return this.getTicks().majorTicks},getMinorTickPositions:function(){return this.getTicks().minorTicks},getLabelsTickPositions:function(){return this.getTicks().labelTicks},tickIndices:function(e){var t=this.rangeIndices();var i=t.min;var r=t.max;var n=Math.ceil(r);var a=Math.floor(i);var o=[];while(a<=n){o.push(a);a+=e}return o},getTickPositions:function(e){var t=this.options;var i=t.vertical;var r=t.reverse;var n=this.scaleOptions();var a=n.scale;var o=n.box;var h=n.min;var u=o[(i?x:b)+(r?2:1)];var s=this.tickIndices(e);var l=[];for(var c=0;c<s.length;c++)l.push(u+k(a*(s[c]-h),I));return l},getTicks:function(){var e=this.options;var t=this._ticks;var i=this.rangeIndices();var r=this.lineBox();var n=r.getHash()+i.min+","+i.max+e.reverse+e.justified;if(t._hash!==n){var a=e.minorTicks.visible||e.minorGridLines.visible;t._hash=n;t.labelTicks=this.getTickPositions(1);t.majorTicks=this.filterOutOfRangePositions(t.labelTicks,r);t.minorTicks=a?this.filterOutOfRangePositions(this.getTickPositions(.5),r):[]}return t},filterOutOfRangePositions:function(e,t){if(!e.length)return e;var i=this.options.vertical?x:b;var r=function(e){return t[i+1]<=e&&e<=t[i+2]};var n=e.length-1;var a=0;while(!r(e[a])&&a<=n)a++;var o=n;while(!r(e[o])&&o>=0)o--;return e.slice(a,o+1)},lineInfo:function(){var e=this.options;var t=e.vertical;var i=e.reverse;var r=this.lineBox();var n=t?r.height():r.width();var a=t?x:b;var o=i?-1:1;var s=o===1?1:2;var l=a+s.toString();var c=r[l];return{axis:a,axisOrigin:l,axisDir:o,lineBox:r,lineSize:n,lineStart:c}},lineDir:function(){var e=this.options;var t=e.reverse;return t?-1:1},getSlot:function(h,e,u){var t=this.options;var f=t.reverse;var d=t.justified;var i=this.scaleOptions();var p=i.scale;var r=i.box;var v=i.min;var g=this.lineInfo();var n=g.axis;var m=g.lineStart;var a=r.clone();var _=!y(e);var o=$e(h,0);var s=$e(e,o);s=Math.max(s-1,o);s=Math.max(o,s);var l=m+(o-v)*p;var c=m+(s+1-v)*p;if(_&&d)c=l;if(u){l=T(l,r[n+1],r[n+2]);c=T(c,r[n+1],r[n+2])}a[n+1]=f?c:l;a[n+2]=f?l:c;return a},limitSlot:function(e){var t=this.options.vertical;var i=t?x:b;var r=this.lineBox();var n=e.clone();n[i+1]=T(e[i+1],r[i+1],r[i+2]);n[i+2]=T(e[i+2],r[i+1],r[i+2]);return n},slot:function(e,t,i){var r=Math.floor(this.options.min||0);var n=e;var a=t;if(typeof n==="string")n=this.categoryIndex(n);else if(de(n))n-=r;if(typeof a==="string")a=this.categoryIndex(a);else if(de(a))a-=r;return Qt.fn.slot.call(this,n,a,i)},pointCategoryIndex:function(e){var t=this.options;var i=t.reverse;var r=t.justified;var h=t.vertical;var n=h?x:b;var a=this.scaleOptions();var u=a.scale;var o=a.box;var f=a.min;var d=a.max;var p=i?d:f;var s=o[n+1];var v=o[n+2];var l=e[n];if(l<s||l>v)return null;var c=p+(l-s)/u;var g=c%1;if(r)c=Math.round(c);else if(g===0&&c>0)c--;return Math.floor(c)},getCategory:function(e){var t=this.pointCategoryIndex(e);if(t===null)return null;return this.options.categories[t]},categoryIndex:function(e){return this.totalIndex(e)-Math.floor(this.options.min||0)},categoryAt:function(e,t){var i=this.options;return(t?i.srcCategories:i.categories)[e]},categoriesCount:function(){return(this.options.categories||[]).length},translateRange:function(e){var t=this.options;var i=this.lineBox();var r=t.vertical?i.height():i.width();var n=t.categories.length;var a=r/n;var o=k(e/a,w);return{min:o,max:n+o}},scaleRange:function(e,t){var i=Math.abs(this.pointOffset(t));var r=this.totalRangeIndices();var n=r.max-r.min;var a=this.scaleToDelta(e,n);var o=i*a;var s=(1-i)*a;var l=r.min+o;var c=r.max-s;if(c-l<Oi)c=l+Oi;return{min:l,max:c}},zoomRange:function(e,t){var i=this.totalRange();var r=i.min;var n=i.max;var a=this.scaleRange(e,t);return{min:T(a.min,r,n),max:T(a.max,r,n)}},labelsCount:function(){var e=this.labelsRange();return e.max-e.min},labelsRange:function(){var e=this.options;var t=e.justified;var i=e.labels;var r=this.totalRangeIndices(true);var n=r.min;var a=r.max;var o=Math.floor(n);if(!t){n=Math.floor(n);a=Math.ceil(a)}else{n=Math.ceil(n);a=Math.floor(a)}var s;if(n>i.skip)s=i.skip+i.step*Math.ceil((n-i.skip)/i.step);else s=i.skip;return{min:s-o,max:(e.categories.length?a+(t?1:0):0)-o}},createAxisLabel:function(e,t,i){var r=this.options;var n=r.dataItems?r.dataItems[e]:null;var a=$e(r.categories[e],"");i.dataItem=n;var o=this.axisLabelText(a,t,i);return new Lt(a,o,e,n,t)},shouldRenderNote:function(e){var t=this.totalRangeIndices();return Math.floor(t.min)<=e&&e<=Math.ceil(t.max)},noteSlot:function(e){var t=this.options;var i=e-Math.floor(t.min||0);return this.getSlot(i)},arrangeNotes:function(){Qt.fn.arrangeNotes.call(this);this.hideOutOfRangeNotes()},hideOutOfRangeNotes:function(){var e=this;var t=e.notes;var i=e.box;if(t&&t.length){var r=this.options.vertical?x:b;var n=i[r+1];var a=i[r+2];for(var o=0;o<t.length;o++){var s=t[o];if(s.box&&(a<s.box[r+1]||s.box[r+2]<n))s.hide()}}},pan:function(e){var t=this.totalRangeIndices(true);var i=this.scaleOptions();var r=i.scale;var n=k(e/r,w);var a=this.totalRange();var o=t.min+n;var s=t.max+n;return this.limitRange(o,s,0,a.max,n)},pointsRange:function(h,u){var e=this.options;var f=e.reverse;var d=e.vertical;var t=d?x:b;var i=this.totalRangeIndices(true);var r=this.scaleOptions();var n=r.scale;var p=r.box;var a=p[t+(f?2:1)];var v=h[t]-a;var g=u[t]-a;var o=i.min+v/n;var s=i.min+g/n;var l=Math.min(o,s);var c=Math.max(o,s);if(c-l>=zi)return{min:l,max:c}},valueRange:function(){return this.range()},totalIndex:function(e){var t=this.options;var i=this._categoriesMap?this._categoriesMap.get(e):Li(e,t.srcCategories);return i},currentRangeIndices:function(){var e=this.options;var t=0;if(de(e.min))t=Math.floor(e.min);var i;if(de(e.max))i=e.justified?Math.floor(e.max):Math.ceil(e.max)-1;else i=this.totalCount()-1;return{min:t,max:i}},mapCategories:function(){if(!this._categoriesMap){var e=this._categoriesMap=new Ae;var t=this.options.srcCategories;for(var i=0;i<t.length;i++)e.set(t[i],i)}},totalCount:function(){return Math.max(this.options.srcCategories.length,this._seriesMax||0)}}),Fi=(Ke(Ri,{type:"category",vertical:false,majorGridLines:{visible:false,width:1,color:l},labels:{zIndex:1},justified:false,_deferLabels:true}),3e5),Vi={milliseconds:"HH:mm:ss.fff",seconds:"HH:mm:ss",minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},Ni=.2,Hi="auto",Ui=[Zt,Jt,ei,ti,ii,ri,ni,ai],ji="fit";function Gi(e){var t=e._range;if(!t){t=e._range=Qe(e);t.min=m(t.min);t.max=m(t.max)}return t}var Wi=e.extend({init:function(e){this.options=e},displayIndices:function(){return{min:0,max:1}},displayRange:function(){return{}},total:function(){return{}},valueRange:function(){return{}},valueIndex:function(){return-1},values:function(){return[]},totalIndex:function(){return-1},valuesCount:function(){return 0},totalCount:function(){return 0},dateAt:function(){return null}}),qi=e.extend({init:function(e,t,i){this.options=i;i.baseUnitStep=i.baseUnitStep||1;var r=i.roundToBaseUnit;var n=i.justified;this.start=wi(e,0,i.baseUnit,i.weekStartDay);var a=this.roundToTotalStep(t);var o=!n&&Ti(t,a)&&!i.justifyEnd;this.end=this.roundToTotalStep(t,!n,o?1:0);var s=i.min||e;this.valueStart=this.roundToTotalStep(s);this.displayStart=r?this.valueStart:s;var l=i.max;if(!l){this.valueEnd=a;this.displayEnd=r||o?this.end:t}else{var c=!n&&Ti(l,this.roundToTotalStep(l))?-1:0;this.valueEnd=this.roundToTotalStep(l,false,c);this.displayEnd=r?this.roundToTotalStep(l,!n):i.max}if(this.valueEnd<this.valueStart)this.valueEnd=this.valueStart;if(this.displayEnd<=this.displayStart)this.displayEnd=this.roundToTotalStep(this.displayStart,false,1)},displayRange:function(){return{min:this.displayStart,max:this.displayEnd}},displayIndices:function(){if(!this._indices){var e=this.options;var t=e.baseUnit;var i=e.baseUnitStep;var r=Mi(this.displayStart,this.valueStart,t,i);var n=Mi(this.displayEnd,this.valueStart,t,i);this._indices={min:r,max:n}}return this._indices},total:function(){return{min:this.start,max:this.end}},totalCount:function(){var e=this.totalIndex(this.end);return e+(this.options.justified?1:0)},valueRange:function(){return{min:this.valueStart,max:this.valueEnd}},valueIndex:function(e){var t=this.options;return Math.floor(Mi(e,this.valueStart,t.baseUnit,t.baseUnitStep))},totalIndex:function(e){var t=this.options;return Math.floor(Mi(e,this.start,t.baseUnit,t.baseUnitStep))},dateIndex:function(e){var t=this.options;return Mi(e,this.valueStart,t.baseUnit,t.baseUnitStep)},valuesCount:function(){var e=this.valueIndex(this.valueEnd);return e+1},values:function(){var e=this._values;if(!e){var t=this.options;var i=this.valueRange();this._values=e=[];for(var r=i.min;r<=i.max;){e.push(r);r=wi(r,t.baseUnitStep,t.baseUnit,t.weekStartDay)}}return e},dateAt:function(e,t){var i=this.options;return wi(t?this.start:this.valueStart,i.baseUnitStep*e,i.baseUnit,i.weekStartDay)},roundToTotalStep:function(e,t,i){var r=this.options;var n=r.baseUnit;var a=r.baseUnitStep;var o=r.weekStartDay;var s=this.start;var l=Mi(e,s,n,a);var c=t?Math.ceil(l):Math.floor(l);if(i)c+=i;return wi(s,c*a,n,o)}});function Yi(e,t,h){var i=Gi(e.categories);var u=(e.max||i.max)-(e.min||i.min);var f=e.autoBaseUnitSteps;var r=e.maxDateGroups;var d=e.baseUnit===ji;var p=t?Ui.indexOf(t):0;var n=d?Ui[p++]:e.baseUnit;var a=u/pi[n];var o=a;var s,l,c;while(!l||a>=r){s=s||f[n].slice(0);do{c=s.shift()}while(c&&t===n&&c<h);if(c){l=c;a=o/l}else if(n===Ge(Ui)){l=Math.ceil(o/r);break}else if(d){n=Ui[p++]||Ge(Ui);o=u/pi[n];s=null}else{if(a>r)l=Math.ceil(o/r);break}}e.baseUnitStep=l;e.baseUnit=n}function $i(e){var t=e.categories;var i=y(t)?t.length:0;var r=j;var n,a;for(var o=0;o<i;o++){var s=t[o];if(s&&n){var l=vi(s,n);if(l>0){r=Math.min(r,l);if(r>=di)a=ai;else if(r>=fi-hi*3)a=ni;else if(r>=ui)a=ri;else if(r>=hi)a=ii;else if(r>=ci)a=ti;else if(r>=li)a=ei;else a=Jt}}n=s}e.baseUnit=a||ii}function Xi(e){var t=(e.baseUnit||"").toLowerCase();var i=t!==ji&&!Me(t,Ui);if(i)$i(e);if(t===ji||e.baseUnitStep===Hi)Yi(e);return e}var Ki=Ri.extend({clone:function(){var e=new Ki(h.extend({},this.options),this.chartService);e.createLabels();return e},categoriesHash:function(){var e=this.dataRange.total().min;return this.options.baseUnit+this.options.baseUnitStep+e},initUserOptions:function(e){return e},initFields:function(){Ri.fn.initFields.call(this);var e=this.chartService;var t=e.intl;var i=this.options;var r=i.categories||[];if(!r._parsed){r=Ii(t,r);r._parsed=true}i=f({roundToBaseUnit:true},i,{categories:r,min:Pi(t,i.min),max:Pi(t,i.max),weekStartDay:Bi(i,t)});if(e.panning&&e.isPannable(i.vertical?x:b))i.roundToBaseUnit=false;i.userSetBaseUnit=i.userSetBaseUnit||i.baseUnit;i.userSetBaseUnitStep=i.userSetBaseUnitStep||i.baseUnitStep;this.options=i;i.srcCategories=r;if(r.length>0){var n=Gi(r);var a=i.maxDivisions;this.dataRange=new qi(n.min,n.max,Xi(i));if(a){var o=this.dataRange.displayRange();var s=h.extend({},i,{justified:true,roundToBaseUnit:false,baseUnit:"fit",min:o.min,max:o.max,maxDateGroups:a});var l=this.dataRange.options;Yi(s,l.baseUnit,l.baseUnitStep);this.divisionRange=new qi(n.min,n.max,s)}else this.divisionRange=this.dataRange}else{i.baseUnit=i.baseUnit||ii;this.dataRange=this.divisionRange=new Wi(i)}this.rangeLabels=[]},tickIndices:function(e){var t=this;var i=t.dataRange;var r=t.divisionRange;var n=r.valuesCount();if(!this.options.maxDivisions||!n)return Ri.fn.tickIndices.call(this,e);var a=[];var o=r.values();var s=0;if(!this.options.justified){o=o.concat(r.dateAt(n));s=.5}for(var l=0;l<o.length;l++){a.push(i.dateIndex(o[l])+s);if(e!==1&&l>=1){var c=a.length-1;a.splice(l,0,a[c-1]+(a[c]-a[c-1])*e)}}return a},shouldRenderNote:function(e){var t=this.range();var i=this.options.categories||[];return ki(e,t.min)>=0&&ki(e,t.max)<=0&&i.length},parseNoteValue:function(e){return Pi(this.chartService.intl,e)},noteSlot:function(e){return this.getSlot(e)},translateRange:function(e){var t=this.options;var i=t.baseUnit;var r=t.weekStartDay;var n=t.vertical;var a=this.lineBox();var o=n?a.height():a.width();var s=this.range();var l=o/(s.max-s.min);var c=k(e/l,w);if(s.min&&s.max){var h=gi(t.min||s.min,c);var u=gi(t.max||s.max,c);s={min:wi(h,0,i,r),max:wi(u,0,i,r)}}return s},labelsRange:function(){return{min:this.options.labels.skip,max:this.divisionRange.valuesCount()}},pan:function(e){if(this.isEmpty())return null;var t=this.options;var i=this.lineBox();var r=t.vertical?i.height():i.width();var n=this.dataRange.displayRange();var a=n.min;var o=n.max;var s=this.dataRange.total();var h=r/(o-a);var l=k(e/h,w)*(t.reverse?-1:1);var u=gi(a,l);var f=gi(o,l);var c=this.limitRange(Si(u),Si(f),Si(s.min),Si(s.max),l);if(c){c.min=m(c.min);c.max=m(c.max);c.baseUnit=t.baseUnit;c.baseUnitStep=t.baseUnitStep||1;c.userSetBaseUnit=t.userSetBaseUnit;c.userSetBaseUnitStep=t.userSetBaseUnitStep;return c}},pointsRange:function(e,t){if(this.isEmpty())return null;var i=Ri.fn.pointsRange.call(this,e,t);var r=this.dataRange.displayRange();var n=this.dataRange.displayIndices();var a=Ci(r.max,r.min)/(n.max-n.min);var o=this.options;var s=gi(r.min,i.min*a);var l=gi(r.min,i.max*a);return{min:s,max:l,baseUnit:o.userSetBaseUnit||o.baseUnit,baseUnitStep:o.userSetBaseUnitStep||o.baseUnitStep}},scaleRange:function(h,u){if(this.isEmpty())return{};var e=this.options;var f=e.userSetBaseUnit===ji;var t=this.dataRange.total();var d=this.dataRange.displayRange();var i=d.min;var r=d.max;var p=Math.abs(this.pointOffset(u));var v=r-i;var g=this.scaleToDelta(h,v);var m=Math.round(p*g);var _=Math.round((1-p)*g);var y=this.dataRange.options;var n=y.baseUnit;var a=new Date(i.getTime()+m);var o=new Date(r.getTime()-_);if(f){var s=e.autoBaseUnitSteps;var w=e.maxDateGroups;var b=Ge(s[n])*w*pi[n];var x=Ci(r,i);var k=Ci(o,a);var C=Ui.indexOf(n);var l,c;if(k<pi[n]&&n!==Zt){n=Ui[C-1];l=Ge(s[n]);c=(x-(w-1)*l*pi[n])/2;a=gi(i,c);o=gi(r,-c)}else if(k>b&&n!==ai){var S=0;do{C++;n=Ui[C];S=0;c=2*pi[n];do{l=s[n][S];S++}while(S<s[n].length&&c*l<x)}while(n!==ai&&c*l<x);c=(c*l-x)/2;if(c>0){a=gi(i,-c);o=gi(r,c);a=gi(a,T(o,t.min,t.max)-o);o=gi(o,T(a,t.min,t.max)-a)}}}if(a&&o&&Ci(o,a)>0)return{min:a,max:o,baseUnit:e.userSetBaseUnit||e.baseUnit,baseUnitStep:e.userSetBaseUnitStep||e.baseUnitStep}},zoomRange:function(e,t){var i=this.dataRange.total();var r=this.scaleRange(e,t);if(r){if(r.min<i.min)r.min=i.min;if(r.max>i.max)r.max=i.max}return r},range:function(){return this.dataRange.displayRange()},createLabels:function(){Ri.fn.createLabels.call(this);this.createRangeLabels()},clearLabels:function(){Ri.fn.clearLabels.call(this);this.rangeLabels=[]},arrangeLabels:function(){this.arrangeRangeLabels();Ri.fn.arrangeLabels.call(this)},arrangeRangeLabels:function(){var e=this;var t=e.options;var i=e.rangeLabels;if(i.length===0)return;var r=this.lineBox();var n=t.vertical;var a=t.rangeLabels.mirror||t.labels.mirror;var o=i[0];if(o){var s=n?r.y1-o.box.height()/2:r.x1;this.positionLabel(o,a,s)}var l=i[1];if(l){var c=n?r.y2-l.box.height()/2:r.x2;this.positionLabel(l,a,c)}},autoRotateLabels:function(){Ri.fn.autoRotateLabels.call(this);this.autoRotateRangeLabels()},hideOutOfRangeLabels:function(){Ri.fn.hideOutOfRangeLabels.call(this);this.hideOverlappingLabels()},hideOverlappingLabels:function(){var e=this;var t=e.rangeLabels;var i=e.labels;if(t.length===0)return;function r(e,t){if(!t.options.visible||t.box.overlaps(e.box)){t.options.visible=false;return true}return false}var n=t[0];if(n&&n.options.visible)for(var a=0;a<i.length;a++){var o=r(n,i[a]);if(!o)break}var s=t[1];if(s&&s.options.visible)for(var l=i.length-1;l>0;--l){var c=r(s,i[l]);if(!c)break}},contentBox:function(){var e=Ri.fn.contentBox.call(this);var t=this.rangeLabels;for(var i=0;i<t.length;i++){var r=t[i];if(r.options.visible)e.wrap(r.box)}return e},createAxisLabel:function(e,t,i){if(i===void 0)i={};var r=this.options;var n=r.dataItems&&!r.maxDivisions?r.dataItems[e]:null;var a=this.divisionRange.dateAt(e);var o=t.dateFormats[this.divisionRange.options.baseUnit];t.format=t.format||o;i.dataItem=n;var s=this.axisLabelText(a,t,i);if(s)return new Lt(a,s,e,n,t)},createRangeLabels:function(){var n=this;var e=this.divisionRange;var t=e.displayStart;var i=e.displayEnd;var r=this.options;var a=h.extend({},r.labels,r.rangeLabels,{align:E,zIndex:r.zIndex});if(a.visible!==true)return;this.normalizeLabelRotation(a);a.alignRotation=E;if(a.rotation==="auto"){a.rotation=0;r.autoRotateRangeLabels=true}var o=a.dateFormats[this.divisionRange.options.baseUnit];a.format=a.format||o;var s=function(e,t,i){if(i){var r=new Lt(t,i,e,null,a);n.append(r);n.rangeLabels.push(r)}};var l=this.axisLabelText(t,a,{index:0,count:2});s(0,t,l);var c=this.axisLabelText(i,a,{index:1,count:2});s(1,i,c)},autoRotateRangeLabels:function(){var a=this;var e=this.rangeLabels;if(!this.options.autoRotateRangeLabels||this.options.vertical||e.length!==2)return;var t=function(e,t,i){var r=Math.abs(t[i+1]-t[i])*2;var n=a.autoRotateLabelAngle(e.box,r);if(n!==0){e.options.rotation=n;e.reflow(new C)}};var i=this.getMajorTickPositions();t(e[0],i,0);t(e[1],i,i.length-2)},categoryIndex:function(e){return this.dataRange.valueIndex(e)},slot:function(e,t,i){var r=this.dataRange;var n=e;var a=t;if(n instanceof Date)n=r.dateIndex(n);if(a instanceof Date)a=r.dateIndex(a);var o=this.getSlot(n,a,i);if(o)return o.toRect()},getSlot:function(e,t,i){var r=e;var n=t;if(typeof r===X)r=this.categoryIndex(r);if(typeof n===X)n=this.categoryIndex(n);return Ri.fn.getSlot.call(this,r,n,i)},valueRange:function(){var e=this.options;var t=Gi(e.srcCategories);return{min:m(t.min),max:m(t.max)}},categoryAt:function(e,t){return this.dataRange.dateAt(e,t)},categoriesCount:function(){return this.dataRange.valuesCount()},rangeIndices:function(){return this.dataRange.displayIndices()},labelsBetweenTicks:function(){return!this.divisionRange.options.justified},prepareUserOptions:function(){if(this.isEmpty())return;this.options.categories=this.dataRange.values()},getCategory:function(e){var t=this.pointCategoryIndex(e);if(t===null)return null;return this.dataRange.dateAt(t)},totalIndex:function(e){return this.dataRange.totalIndex(e)},currentRangeIndices:function(){var e=this.dataRange.valueRange();return{min:this.dataRange.totalIndex(e.min),max:this.dataRange.totalIndex(e.max)}},totalRange:function(){return this.dataRange.total()},totalCount:function(){return this.dataRange.totalCount()},isEmpty:function(){return!this.options.srcCategories.length},roundedRange:function(){if(this.options.roundToBaseUnit!==false||this.isEmpty())return this.range();var e=this.options;var t=Gi(e.srcCategories);var i=new qi(t.min,t.max,h.extend({},e,{justified:false,roundToBaseUnit:true,justifyEnd:e.justified}));return i.displayRange()}});function Qi(e,t,i){if(!e&&!t)return 0;var r;if(e>=0&&t>=0){var n=e===t?0:e;var a=(t-n)/t;if(i===false||!i&&a>Ni)return 0;r=Math.max(0,n-(t-n)/2)}else r=e;return r}function Zi(e,t,i){if(!e&&!t)return 1;var r;if(e<=0&&t<=0){var n=e===t?0:t;var a=Math.abs((n-e)/n);if(i===false||!i&&a>Ni)return 0;r=Math.min(0,n-(e-n)/2)}else r=t;return r}function Ji(e,t){return k(Math.floor(e/t)*t,w)}function er(e,t){return k(Math.ceil(e/t)*t,w)}function tr(e){return Math.max(Math.min(e,Fi),-Fi)}Ke(Ki,{type:c,labels:{dateFormats:Vi},rangeLabels:{visible:false},autoBaseUnitSteps:{milliseconds:[1,10,100],seconds:[1,2,5,15,30],minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10});var ir=Math.pow(10,-w+1),rr=Qt.extend({init:function(e,t,i,r){Qt.fn.init.call(this,h.extend({},i,{seriesMin:e,seriesMax:t}),r)},initUserOptions:function(e){var t=nr(e.seriesMin,e.seriesMax,e);this.totalOptions=ar(t,e);return sr(t,e)},initFields:function(){this.totalMin=this.totalOptions.min;this.totalMax=this.totalOptions.max;this.totalMajorUnit=this.totalOptions.majorUnit;this.seriesMin=this.options.seriesMin;this.seriesMax=this.options.seriesMax},clone:function(){return new rr(this.seriesMin,this.seriesMax,h.extend({},this.options),this.chartService)},startValue:function(){return 0},range:function(){var e=this.options;return{min:e.min,max:e.max}},getDivisions:function(e){if(e===0)return 1;var t=this.options;var i=t.max-t.min;return Math.floor(k(i/e,I))+1},getTickPositions:function(e,t){var i=this.options;var r=this.lineInfo();var n=r.axisDir;var a=r.axisOrigin;var h=r.lineBox;var u=r.lineSize;var f=i.max-i.min;var d=u/f;var p=e*d;var v=this.getDivisions(e);var o=[];var s=h[a];var l=0;if(t)l=t/e;for(var c=0;c<v;c++){if(c%l!==0)o.push(k(s,I));s=s+p*n}return o},getMajorTickPositions:function(){return this.getTickPositions(this.options.majorUnit)},getMinorTickPositions:function(){return this.getTickPositions(this.options.minorUnit)},getSlot:function(e,t,i){if(i===void 0)i=false;var r=this.options;var n=this.lineInfo();var h=n.axis;var a=n.axisDir;var o=n.lineBox;var u=n.lineSize;var f=n.lineStart;var d=a*(u/(r.max-r.min));var s=$e(e,t||0);var l=$e(t,e||0);if(i){s=T(s,r.min,r.max);l=T(l,r.min,r.max)}var p=Math.min(s,l)-r.min;var v=Math.max(s,l)-r.min;var c=new C(o.x1,o.y1,o.x1,o.y1);c[h+1]=tr(f+d*(a>0?p:v));c[h+2]=tr(f+d*(a>0?v:p));return c},getValue:function(e){var t=this.options;var i=Number(t.max);var r=Number(t.min);var n=this.pointOffset(e);var a=n*(i-r);if(n<0||n>1)return null;var o=r+a;return k(o,w)},translateRange:function(e){var t=this.options;var i=t.vertical;var r=t.reverse;var n=t.max;var a=t.min;var o=this.lineInfo();var s=o.lineSize;var l=n-a;var h=s/l;var c=k(e/h,w);if((i||r)&&!(i&&r))c=-c;return{min:a+c,max:n+c,offset:c}},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(e,t,i){var r=this.options;var n=k(r.min+e*r.majorUnit,w);var a=this.axisLabelText(n,t,i);return new Lt(n,a,e,null,t)},shouldRenderNote:function(e){var t=this.range();return t.min<=e&&e<=t.max},pan:function(e){var t=this.translateRange(e);return this.limitRange(t.min,t.max,this.totalMin,this.totalMax,t.offset)},pointsRange:function(e,t){var i=this.getValue(e);var r=this.getValue(t);var n=Math.min(i,r);var a=Math.max(i,r);if(this.isValidRange(n,a))return{min:n,max:a}},scaleRange:function(e,t){var i=Math.abs(this.pointOffset(t));var r=this.options.max-this.options.min;var n=this.scaleToDelta(e,r);var a=i*n;var o=(1-i)*n;var s=k(this.options.min+a,w);var l=k(this.options.max-o,w);if(l-s<ir)l=s+ir;return{min:s,max:l}},zoomRange:function(e,t){var i=this;var r=i.totalMin;var n=i.totalMax;var a=this.scaleRange(e,t);return{min:T(a.min,r,n),max:T(a.max,r,n),narrowRange:false}},isValidRange:function(e,t){return t-e>ir}});function nr(e,t,i){var r=i.narrowRange;var n=Qi(e,t,r);var a=Zi(e,t,r);var o=ft(n,a);var s={majorUnit:o};if(i.roundToMajorUnit!==false){if(n<0&&lr(n,o,1/3))n-=o;if(a>0&&lr(a,o,1/3))a+=o}s.min=Ji(n,o);s.max=er(a,o);return s}function ar(e,t){return{min:y(t.min)?Math.min(e.min,t.min):e.min,max:y(t.max)?Math.max(e.max,t.max):e.max,majorUnit:e.majorUnit}}function or(e,t){for(var i=0;i<t.length;i++){var r=t[i];if(e[r]===null)e[r]=undefined}}function sr(e,t){var i=t;var r,n;if(t){or(t,["min","max"]);r=y(t.min);n=y(t.max);var a=r||n;if(a)if(t.min===t.max)if(t.min>0)t.min=0;else t.max=1;if(t.majorUnit){e.min=Ji(e.min,t.majorUnit);e.max=er(e.max,t.majorUnit)}else if(a){i=f(e,t);e.majorUnit=ft(i.min,i.max)}}e.minorUnit=(i.majorUnit||e.majorUnit)/5;var o=f(e,i);if(o.min>=o.max)if(r&&!n)o.max=o.min+o.majorUnit;else if(!r&&n)o.min=o.max-o.majorUnit;return o}function lr(e,t,i){var r=k(Math.abs(e%t),w);var n=t*(1-i);return r===0||r>n}Ke(rr,{type:"numeric",min:0,max:1,vertical:true,majorGridLines:{visible:true,width:1,color:l},labels:{format:"#.####################"},zIndex:1});var cr=1e3,hr=Qt.extend({init:function(e,t,i,r){var n=m(e);var a=m(t);var o=r.intl;var s=i||{};s=f(s||{},{min:Pi(o,s.min),max:Pi(o,s.max),axisCrossingValue:Ii(o,s.axisCrossingValues||s.axisCrossingValue),weekStartDay:Bi(s,o)});s=fr(n,a,s);Qt.fn.init.call(this,s,r);this.intlService=o;this.seriesMin=n;this.seriesMax=a;var l=s.weekStartDay||0;this.totalMin=Si(bi(Si(n)-1,s.baseUnit,l));this.totalMax=Si(xi(Si(a)+1,s.baseUnit,l))},clone:function(){return new hr(this.seriesMin,this.seriesMax,h.extend({},this.options),this.chartService)},range:function(){var e=this.options;return{min:e.min,max:e.max}},getDivisions:function(e){var t=this.options;return Math.floor(Di(t.min,t.max,t.baseUnit)/e+1)},getTickPositions:function(e){var t=this.options;var i=this.lineInfo();var r=i.axisDir;var n=i.lineSize;var a=i.lineStart;var o=this.getDivisions(e);var s=Ci(t.max,t.min);var h=n/s;var u=t.weekStartDay||0;var l=[a];for(var c=1;c<o;c++){var f=wi(t.min,c*e,t.baseUnit,u);var d=a+Ci(f,t.min)*h*r;l.push(k(d,I))}return l},getMajorTickPositions:function(){return this.getTickPositions(this.options.majorUnit)},getMinorTickPositions:function(){return this.getTickPositions(this.options.minorUnit)},getSlot:function(e,t,i){return rr.prototype.getSlot.call(this,Pi(this.intlService,e),Pi(this.intlService,t),i)},getValue:function(e){var t=rr.prototype.getValue.call(this,e);return t!==null?m(t):null},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(e,t,i){var r=this.options;var n=e*r.majorUnit;var a=r.weekStartDay||0;var o=r.min;if(n>0)o=wi(o,n,r.baseUnit,a);var s=t.dateFormats[r.baseUnit];t.format=t.format||s;var l=this.axisLabelText(o,t,i);return new Lt(o,l,e,null,t)},translateRange:function(e){var t=this.options;var i=this.lineBox();var r=t.vertical;var n=t.reverse;var a=r?i.height():i.width();var o=this.range();var s=a/Ci(o.max,o.min);var l=k(e/s,w);if((r||n)&&!(r&&n))l=-l;var c=gi(t.min,l);var h=gi(t.max,l);return{min:c,max:h,offset:l}},shouldRenderNote:function(e){var t=this.range();return ki(e,t.min)>=0&&ki(e,t.max)<=0},pan:function(e){var t=this.translateRange(e,true);var i=this.limitRange(Si(t.min),Si(t.max),this.totalMin,this.totalMax,t.offset);if(i)return{min:m(i.min),max:m(i.max)}},pointsRange:function(e,t){var i=this.getValue(e);var r=this.getValue(t);var n=Math.min(i,r);var a=Math.max(i,r);return{min:m(n),max:m(a)}},scaleRange:function(e,t){var i=Math.abs(this.pointOffset(t));var r=this.options.max-this.options.min;var n=this.scaleToDelta(e,r);var a=i*n;var o=(1-i)*n;var s=m(Si(this.options.min)+a);var l=m(Si(this.options.max)-o);if(l-s<cr)l=m(Si(s)+cr);return{min:s,max:l}},zoomRange:function(e,t){var i=this.scaleRange(e,t);var r=m(T(Si(i.min),this.totalMin,this.totalMax));var n=m(T(Si(i.max),this.totalMin,this.totalMax));return{min:r,max:n}}});function ur(e){var t=ti;if(e>=di)t=ai;else if(e>=fi)t=ni;else if(e>=ui)t=ri;else if(e>=hi)t=ii;return t}function fr(h,u,e){var t=e.min||h;var i=e.max||u;var r=e.baseUnit||(i&&t?ur(vi(i,t)):ti);var n=pi[r];var a=e.weekStartDay||0;var o=bi(Si(t)-1,r,a)||m(i);var s=xi(Si(i)+1,r,a);var f=e.majorUnit?e.majorUnit:undefined;var l=f||er(ft(o.getTime(),s.getTime()),n)/n;var c=Di(o,s,r);var d=er(c,l);var p=d-c;var v=Math.floor(p/2);var g=p-v;if(!e.baseUnit)delete e.baseUnit;e.baseUnit=e.baseUnit||r;e.min=e.min||wi(o,-v,r,a);e.max=e.max||wi(s,g,r,a);e.minorUnit=e.minorUnit||l/5;e.majorUnit=l;return e}Ke(hr,{type:c,majorGridLines:{visible:true,width:1,color:l},labels:{dateFormats:Vi}});var dr=10,pr=1e-6,vr=Qt.extend({init:function(e,t,i,r){var n=f({majorUnit:dr,min:e,max:t},i);var a=n.majorUnit;var o=_r(t,a);var s=mr(e,t,n);var l=gr(s,o,n,i);n.max=l.max;n.min=l.min;n.minorUnit=i.minorUnit||k(a-1,w);Qt.fn.init.call(this,n,r);this.totalMin=y(i.min)?Math.min(s,i.min):s;this.totalMax=y(i.max)?Math.max(o,i.max):o;this.logMin=k(wr(l.min,a),w);this.logMax=k(wr(l.max,a),w);this.seriesMin=e;this.seriesMax=t;this.createLabels()},clone:function(){return new vr(this.seriesMin,this.seriesMax,h.extend({},this.options),this.chartService)},startValue:function(){return this.options.min},getSlot:function(e,h,u){var t=this;var i=t.options;var r=t.logMin;var f=t.logMax;var d=i.majorUnit;var p=i.min;var v=i.max;var n=this.lineInfo();var g=n.axis;var a=n.axisDir;var o=n.lineBox;var m=n.lineSize;var _=n.lineStart;var y=a*(m/(f-r));var s=$e(e,h||1);var l=$e(h,e||1);if(s<=0||l<=0)return null;if(u){s=T(s,p,v);l=T(l,p,v)}s=wr(s,d);l=wr(l,d);var w=Math.min(s,l)-r;var b=Math.max(s,l)-r;var c=new C(o.x1,o.y1,o.x1,o.y1);c[g+1]=tr(_+y*(a>0?w:b));c[g+2]=tr(_+y*(a>0?b:w));return c},getValue:function(e){var t=this;var i=t.options;var r=t.logMin;var n=t.logMax;var a=i.majorUnit;var o=this.lineInfo();var s=o.axis;var h=o.axisDir;var u=o.lineStart;var l=o.lineSize;var f=(n-r)/l;var c=h*(e[s]-u);var d=c*f;if(c<0||c>l)return null;var p=r+d;return k(Math.pow(a,p),w)},range:function(){var e=this.options;return{min:e.min,max:e.max}},translateRange:function(e){var t=this;var i=t.options;var r=t.logMin;var n=t.logMax;var a=i.reverse;var o=i.vertical;var s=i.majorUnit;var l=this.lineBox();var h=o?l.height():l.width();var u=h/(n-r);var c=k(e/u,w);if((o||a)&&!(o&&a))c=-c;return{min:Math.pow(s,r+c),max:Math.pow(s,n+c),offset:c}},labelsCount:function(){var e=Math.floor(this.logMax);var t=Math.floor(e-this.logMin)+1;return t},getMajorTickPositions:function(){var t=[];this.traverseMajorTicksPositions(function(e){t.push(e)},{step:1,skip:0});return t},createTicks:function(i){var e=this.options;var t=e.majorTicks;var r=e.minorTicks;var n=e.vertical;var a=e.labels.mirror;var o=this.lineBox();var s=[];var l={vertical:n};function c(e,t){l.tickX=a?o.x2:o.x2-t.size;l.tickY=a?o.y1-t.size:o.y1;l.position=e;i.append(Xt(l,t))}if(t.visible)this.traverseMajorTicksPositions(c,t);if(r.visible)this.traverseMinorTicksPositions(c,r);return s},createGridLines:function(e){var t=this.options;var i=t.minorGridLines;var r=t.majorGridLines;var n=t.vertical;var a=e.lineBox();var o={lineStart:a[n?"x1":"y1"],lineEnd:a[n?"x2":"y2"],vertical:n};var s=[];var l=this.gridLinesVisual();function c(e,t){if(!Me(e,s)){o.position=e;l.append(Kt(o,t));s.push(e)}}if(r.visible)this.traverseMajorTicksPositions(c,r);if(i.visible)this.traverseMinorTicksPositions(c,i);return l.children},traverseMajorTicksPositions:function(e,t){var i=this.lineInfo();var r=i.lineStart;var n=i.step;var a=this;var o=a.logMin;var s=a.logMax;for(var l=Math.ceil(o)+t.skip;l<=s;l+=t.step){var c=k(r+n*(l-o),w);e(c,t)}},traverseMinorTicksPositions:function(e,t){var h=this;var i=this.options;var u=i.min;var f=i.max;var d=i.minorUnit;var p=i.majorUnit;var r=this.lineInfo();var v=r.lineStart;var g=r.step;var n=this;var a=n.logMin;var m=n.logMax;var _=Math.floor(a);for(var o=_;o<m;o++){var s=h._minorIntervalOptions(o);for(var l=t.skip;l<d;l+=t.step){var c=s.value+l*s.minorStep;if(c>f)break;if(c>=u){var y=k(v+g*(wr(c,p)-a),w);e(y,t)}}}},createAxisLabel:function(e,t,i){var r=Math.ceil(this.logMin+e);var n=Math.pow(this.options.majorUnit,r);var a=this.axisLabelText(n,t,i);return new Lt(n,a,e,null,t)},shouldRenderNote:function(e){var t=this.range();return t.min<=e&&e<=t.max},pan:function(e){var t=this.translateRange(e);return this.limitRange(t.min,t.max,this.totalMin,this.totalMax,t.offset)},pointsRange:function(e,t){var i=this.getValue(e);var r=this.getValue(t);var n=Math.min(i,r);var a=Math.max(i,r);return{min:n,max:a}},scaleRange:function(e,t){var i=this.options;var r=i.majorUnit;var n=wr(this.options.min,r);var a=wr(this.options.max,r);var o=Math.abs(this.pointOffset(t));var h=a-n;var s=this.scaleToDelta(e,h);var l=Math.pow(r,n+o*s);var c=Math.pow(r,a-(1-o)*s);if(c-l<pr)c=l+pr;return{min:l,max:c}},zoomRange:function(e,t){var i=this.scaleRange(e,t);var r=this;var n=r.totalMin;var a=r.totalMax;return{min:T(i.min,n,a),max:T(i.max,n,a)}},_minorIntervalOptions:function(e){var t=this.options;var i=t.minorUnit;var r=t.majorUnit;var n=Math.pow(r,e);var a=Math.pow(r,e+1);var o=a-n;var s=o/i;return{value:n,minorStep:s}},lineInfo:function(){var e=Qt.fn.lineInfo.call(this);e.step=e.axisDir*(e.lineSize/(this.logMax-this.logMin));return e}});function gr(e,t,i,r){var n=i.min;var a=i.max;if(y(i.axisCrossingValue)&&i.axisCrossingValue<=0)yr();if(!y(r.max))a=t;else if(r.max<=0)yr();if(!y(r.min))n=e;else if(r.min<=0)yr();return{min:n,max:a}}function mr(e,t,i){var r=i.majorUnit;var n=e;if(e<=0)n=t<=1?Math.pow(r,-2):1;else if(!i.narrowRange)n=Math.pow(r,Math.floor(wr(e,r)));return n}function _r(e,t){var i=k(wr(e,t),w)%1;var r;if(e<=0)r=t;else if(i!==0&&(i<.3||i>.9))r=Math.pow(t,wr(e,t)+.2);else r=Math.pow(t,Math.ceil(wr(e,t)));return r}function yr(){throw new Error("Non positive values cannot be used for a logarithmic axis")}function wr(e,t){return Math.log(e)/Math.log(t)}Ke(vr,{type:"log",majorUnit:dr,minorUnit:1,axisCrossingValue:1,vertical:true,majorGridLines:{visible:true,width:1,color:l},zIndex:1,_deferLabels:true});var br={createGridLines:function(e){var t=this.options;var i=Math.abs(this.box.center().y-e.lineBox().y1);var r=[];var n=false;var a,o;if(t.majorGridLines.visible){a=this.majorGridLineAngles(e);n=true;r=this.renderMajorGridLines(a,i,t.majorGridLines)}if(t.minorGridLines.visible){o=this.minorGridLineAngles(e,n);Le(r,this.renderMinorGridLines(o,i,t.minorGridLines,e,n))}return r},renderMajorGridLines:function(e,t,i){return this.renderGridLines(e,t,i)},renderMinorGridLines:function(e,t,i,r,n){var a=this.radiusCallback&&this.radiusCallback(t,r,n);return this.renderGridLines(e,t,i,a)},renderGridLines:function(e,t,i,r){var n={stroke:{width:i.width,color:i.color,dashType:i.dashType}};var a=this.box.center();var o=new p([a.x,a.y],t);var s=this.gridLinesVisual();for(var l=0;l<e.length;l++){var c=new v(n);if(r)o.radius=r(e[l]);c.moveTo(o.center).lineTo(o.pointAt(e[l]+180));s.append(c)}return s.children},gridLineAngles:function(e,t,i,r,n){var a=this;var o=this.intervals(t,i,r,n);var s=e.options;var l=s.visible&&(s.line||{}).visible!==false;return Ie(o,function(e){var t=a.intervalAngle(e);if(!l||t!==90)return t})}},xr=Ri.extend({range:function(){return{min:0,max:this.options.categories.length}},reflow:function(e){this.box=e;this.reflowLabels()},lineBox:function(){return this.box},reflowLabels:function(){var e=this;var t=this;var i=t.labels;var r=t.options.labels;var n=r.skip||0;var a=r.step||1;var o=new C;for(var s=0;s<i.length;s++){i[s].reflow(o);var l=i[s].box;i[s].reflow(e.getSlot(n+s*a).adjacentBox(0,l.width(),l.height()))}},intervals:function(e,t,i,r){if(r===void 0)r=false;var n=this.options;var h=n.categories.length;var a=h/e||1;var o=360/a;var u=t||0;var f=i||1;var s=[];var l=0;for(var c=u;c<a;c+=f){if(n.reverse)l=360-c*o;else l=c*o;l=k(l,I)%360;if(!(r&&Me(l,r)))s.push(l)}return s},majorIntervals:function(){return this.intervals(1)},minorIntervals:function(){return this.intervals(.5)},intervalAngle:function(e){return(360+e+this.options.startAngle)%360},majorAngles:function(){var t=this;return Ie(this.majorIntervals(),function(e){return t.intervalAngle(e)})},createLine:function(){return[]},majorGridLineAngles:function(e){var t=this.options.majorGridLines;return this.gridLineAngles(e,1,t.skip,t.step)},minorGridLineAngles:function(e,t){var i=this.options;var r=i.minorGridLines;var n=i.majorGridLines;var a=t?this.intervals(1,n.skip,n.step):null;return this.gridLineAngles(e,.5,r.skip,r.step,a)},radiusCallback:function(t,e,i){if(e.options.type!==_){var r=qe(360/(this.options.categories.length*2));var n=Math.cos(r)*t;var a=this.majorAngles();var o=function(e){if(!i&&Me(e,a))return t;return n};return o}},createPlotBands:function(){var e=this;var t=this.options.plotBands||[];var i=this._plotbandGroup=new g({zIndex:-1});for(var r=0;r<t.length;r++){var n=t[r];var a=e.plotBandSlot(n);var o=e.getSlot(n.from);var s=n.from-Math.floor(n.from);a.startAngle+=s*o.angle;var l=Math.ceil(n.to)-n.to;a.angle-=(l+s)*o.angle;var c=yt.current.createRing(a,{fill:{color:n.color,opacity:n.opacity},stroke:{opacity:n.opacity}});i.append(c)}this.appendVisual(i)},plotBandSlot:function(e){return this.getSlot(e.from,e.to-1)},getSlot:function(e,t){var i=this.options;var r=i.justified;var n=this.box;var a=this.majorAngles();var o=a.length;var s=360/o;var l=e;if(i.reverse&&!r)l=(l+1)%o;l=T(Math.floor(l),0,o-1);var c=a[l];if(r){c=c-s/2;if(c<0)c+=360}var h=T(Math.ceil(t||l),l,o-1);var u=h-l+1;var f=s*u;return new vt(n.center(),0,n.height()/2,c,f)},slot:function(e,t){var i=this.getSlot(e,t);var r=i.startAngle+180;var n=r+i.angle;return new u.Arc([i.center.x,i.center.y],{startAngle:r,endAngle:n,radiusX:i.radius,radiusY:i.radius})},pointCategoryIndex:function(e){var t=this;var i=this.options.categories.length;var r=null;for(var n=0;n<i;n++){var a=t.getSlot(n);if(a.containsPoint(e)){r=n;break}}return r}}),kr=(Ke(xr,{startAngle:90,labels:{margin:be(10)},majorGridLines:{visible:true},justified:true}),f(xr.prototype,br),Qt.extend({init:function(e,t){Qt.fn.init.call(this,e,t);var i=this.options;i.minorUnit=i.minorUnit||i.majorUnit/2},getDivisions:function(e){return rr.prototype.getDivisions.call(this,e)-1},reflow:function(e){this.box=e;this.reflowLabels()},reflowLabels:function(){var e=this;var t=this;var i=t.options;var r=t.labels;var n=t.options.labels;var a=n.skip||0;var o=n.step||1;var s=new C;var h=this.intervals(i.majorUnit,a,o);for(var l=0;l<r.length;l++){r[l].reflow(s);var c=r[l].box;r[l].reflow(e.getSlot(h[l]).adjacentBox(0,c.width(),c.height()))}},lineBox:function(){return this.box},intervals:function(e,t,i,r){if(r===void 0)r=false;var n=this.options.min;var a=this.getDivisions(e);var o=[];var s=t||0;var h=i||1;for(var l=s;l<a;l+=h){var c=(360+n+l*e)%360;if(!(r&&Me(c,r)))o.push(c)}return o},majorIntervals:function(){return this.intervals(this.options.majorUnit)},minorIntervals:function(){return this.intervals(this.options.minorUnit)},intervalAngle:function(e){return(540-e-this.options.startAngle)%360},createLine:function(){return[]},majorGridLineAngles:function(e){var t=this.options.majorGridLines;return this.gridLineAngles(e,this.options.majorUnit,t.skip,t.step)},minorGridLineAngles:function(e,t){var i=this.options;var r=i.minorGridLines;var n=i.majorGridLines;var a=t?this.intervals(i.majorUnit,n.skip,n.step):null;return this.gridLineAngles(e,i.minorUnit,r.skip,r.step,a)},plotBandSlot:function(e){return this.getSlot(e.from,e.to)},getSlot:function(e,t){var i=this;var r=i.options;var n=i.box;var a=r.startAngle;var o=T(e,r.min,r.max);var s=T(t||o,o,r.max);if(r.reverse){o*=-1;s*=-1}o=(540-o-a)%360;s=(540-s-a)%360;if(s<o){var l=o;o=s;s=l}return new vt(n.center(),0,n.height()/2,o,s-o)},slot:function(e,t){if(t===void 0)t=e;var i=this.options;var r=360-i.startAngle;var n=this.getSlot(e,t);var a=Math.min(e,t);var o=Math.max(e,t);var s,l;if(i.reverse){s=a;l=o}else{s=360-o;l=360-a}s=(s+r)%360;l=(l+r)%360;return new u.Arc([n.center.x,n.center.y],{startAngle:s,endAngle:l,radiusX:n.radius,radiusY:n.radius})},getValue:function(e){var t=this.options;var i=this.box.center();var r=e.x-i.x;var n=e.y-i.y;var a=Math.round(Fe(Math.atan2(n,r)));var o=t.startAngle;if(!t.reverse){a*=-1;o*=-1}return(a+o+360)%360},valueRange:function(){return{min:0,max:Math.PI*2}}})),Cr=(Ke(kr,{type:"polar",startAngle:0,reverse:false,majorUnit:60,min:0,max:360,labels:{margin:be(10)},majorGridLines:{color:l,visible:true,width:1},minorGridLines:{color:"#aaa"}}),f(kr.prototype,br,{createPlotBands:xr.prototype.createPlotBands,majorAngles:xr.prototype.majorAngles,range:rr.prototype.range,labelsCount:rr.prototype.labelsCount,createAxisLabel:rr.prototype.createAxisLabel}),{options:{majorGridLines:{visible:true}},createPlotBands:function(){var e=this;var t=this.options;var h=t.majorGridLines.type;var i=t.plotBands;if(i===void 0)i=[];var r=this.plotArea.polarAxis;var u=r.majorAngles();var n=r.box.center();var a=this._plotbandGroup=new g({zIndex:-1});for(var o=0;o<i.length;o++){var s=i[o];var l={fill:{color:s.color,opacity:s.opacity},stroke:{opacity:s.opacity}};var f=e.getSlot(s.from,s.to,true);var d=new vt(n,n.y-f.y2,n.y-f.y1,0,360);var c=void 0;if(h===_)c=yt.current.createRing(d,l);else c=v.fromPoints(e.plotBandPoints(d,u),l).close();a.append(c)}this.appendVisual(a)},plotBandPoints:function(e,t){var i=[];var r=[];var n=[e.center.x,e.center.y];var a=new p(n,e.innerRadius);var o=new p(n,e.radius);for(var s=0;s<t.length;s++){i.push(a.pointAt(t[s]+180));r.push(o.pointAt(t[s]+180))}i.reverse();i.push(i[0]);r.push(r[0]);return r.concat(i)},createGridLines:function(e){var t=this.options;var i=this.radarMajorGridLinePositions();var r=e.majorAngles();var n=e.box.center();var a=[];if(t.majorGridLines.visible)a=this.renderGridLines(n,i,r,t.majorGridLines);if(t.minorGridLines.visible){var o=this.radarMinorGridLinePositions();Le(a,this.renderGridLines(n,o,r,t.minorGridLines))}return a},renderGridLines:function(e,t,i,r){var h={stroke:{width:r.width,color:r.color,dashType:r.dashType}};var n=r.skip;if(n===void 0)n=0;var a=r.step;if(a===void 0)a=0;var o=this.gridLinesVisual();for(var s=n;s<t.length;s+=a){var u=e.y-t[s];if(u>0){var f=new p([e.x,e.y],u);if(r.type===_)o.append(new d.Circle(f,h));else{var l=new v(h);for(var c=0;c<i.length;c++)l.lineTo(f.pointAt(i[c]+180));l.close();o.append(l)}}}return o.children},getValue:function(e){var t=this.lineBox();var i=this.plotArea.polarAxis;var r=i.majorAngles();var n=i.box.center();var a=e.distanceTo(n);var o=a;if(this.options.majorGridLines.type!==_&&r.length>1){var s=e.x-n.x;var h=e.y-n.y;var l=(Fe(Math.atan2(h,s))+540)%360;r.sort(function(e,t){return Sr(e,l)-Sr(t,l)});var u=Sr(r[0],r[1])/2;var f=Sr(l,r[0]);var c=90-u;var d=180-f-c;o=a*(Math.sin(qe(d))/Math.sin(qe(c)))}return this.axisType().prototype.getValue.call(this,new dt(t.x1,t.y2-o))}});function Sr(e,t){return 180-Math.abs(Math.abs(e-t)-180)}var Tr=rr.extend({radarMajorGridLinePositions:function(){return this.getTickPositions(this.options.majorUnit)},radarMinorGridLinePositions:function(){var e=this.options;var t=0;if(e.majorGridLines.visible)t=e.majorUnit;return this.getTickPositions(e.minorUnit,t)},axisType:function(){return rr}}),Ar=(f(Tr.prototype,Cr),vr.extend({radarMajorGridLinePositions:function(){var t=[];this.traverseMajorTicksPositions(function(e){t.push(e)},this.options.majorGridLines);return t},radarMinorGridLinePositions:function(){var t=[];this.traverseMinorTicksPositions(function(e){t.push(e)},this.options.minorGridLines);return t},axisType:function(){return vr}})),Mr=(f(Ar.prototype,Cr),.333),Dr=.01,Er=e.extend({init:function(e){this.closed=e},process:function(h){var u=this;var e=h.slice(0);var t=[];var i=this.closed;var r=e.length;if(r>2){this.removeDuplicates(0,e);r=e.length}if(r<2||r===2&&e[0].equals(e[1]))return t;var n=e[0];var a=e[1];var o=e[2];t.push(new M(n));while(n.equals(e[r-1])){i=true;e.pop();r--}if(r===2){var f=this.tangent(n,a,b,x);Ge(t).controlOut(this.firstControlPoint(f,n,a,b,x));t.push(new M(a,this.secondControlPoint(f,n,a,b,x)));return t}var s,d;if(i){n=e[r-1];a=e[0];o=e[1];var p=this.controlPoints(n,a,o);s=p[1];d=p[0]}else{var v=this.tangent(n,a,b,x);s=this.firstControlPoint(v,n,a,b,x)}var l=s;for(var c=0;c<=r-3;c++){u.removeDuplicates(c,e);r=e.length;if(c+3<=r){n=e[c];a=e[c+1];o=e[c+2];var g=u.controlPoints(n,a,o);Ge(t).controlOut(l);l=g[1];var m=g[0];t.push(new M(a,m))}}if(i){n=e[r-2];a=e[r-1];o=e[0];var _=this.controlPoints(n,a,o);Ge(t).controlOut(l);t.push(new M(a,_[0]));Ge(t).controlOut(_[1]);t.push(new M(o,d))}else{var y=this.tangent(a,o,b,x);Ge(t).controlOut(l);t.push(new M(o,this.secondControlPoint(y,a,o,b,x)))}return t},removeDuplicates:function(e,t){while(t[e+1]&&(t[e].equals(t[e+1])||t[e+1].equals(t[e+2])))t.splice(e+1,1)},invertAxis:function(e,t,i){var r=false;if(e.x===t.x)r=true;else if(t.x===i.x){if(t.y<i.y&&e.y<=t.y||i.y<t.y&&t.y<=e.y)r=true}else{var n=this.lineFunction(e,t);var a=this.calculateFunction(n,i.x);if(!(e.y<=t.y&&i.y<=a)&&!(t.y<=e.y&&i.y>=a))r=true}return r},isLine:function(e,t,i){var r=this.lineFunction(e,t);var n=this.calculateFunction(r,i.x);return e.x===t.x&&t.x===i.x||k(n,1)===k(i.y,1)},lineFunction:function(e,t){var i=(t.y-e.y)/(t.x-e.x);var r=e.y-i*e.x;return[r,i]},controlPoints:function(e,t,i){var r=b;var n=x;var a=false;var o=false;var s;if(this.isLine(e,t,i))s=this.tangent(e,t,b,x);else{var l={x:this.isMonotonicByField(e,t,i,b),y:this.isMonotonicByField(e,t,i,x)};if(l.x&&l.y){s=this.tangent(e,i,b,x);a=true}else{if(this.invertAxis(e,t,i)){r=x;n=b}if(l[r])s=0;else{var c;if(i[n]<e[n]&&e[n]<=t[n]||e[n]<i[n]&&t[n]<=e[n])c=Pr((i[n]-e[n])*(t[r]-e[r]));else c=-Pr((i[r]-e[r])*(t[n]-e[n]));s=Dr*c;o=true}}}var h=this.secondControlPoint(s,e,t,r,n);if(o){var u=r;r=n;n=u}var f=this.firstControlPoint(s,t,i,r,n);if(a){this.restrictControlPoint(e,t,h,s);this.restrictControlPoint(t,i,f,s)}return[h,f]},restrictControlPoint:function(e,t,i,r){if(e.y<t.y){if(t.y<i.y){i.x=e.x+(t.y-e.y)/r;i.y=t.y}else if(i.y<e.y){i.x=t.x-(t.y-e.y)/r;i.y=e.y}}else if(i.y<t.y){i.x=e.x-(e.y-t.y)/r;i.y=t.y}else if(e.y<i.y){i.x=t.x+(e.y-t.y)/r;i.y=e.y}},tangent:function(e,t,i,r){var n=t[i]-e[i];var a=t[r]-e[r];var o;if(n===0)o=0;else o=a/n;return o},isMonotonicByField:function(e,t,i,r){return i[r]>t[r]&&t[r]>e[r]||i[r]<t[r]&&t[r]<e[r]},firstControlPoint:function(e,t,i,r,n){var a=t[r];var o=i[r];var s=(o-a)*Mr;return this.point(a+s,t[n]+s*e,r,n)},secondControlPoint:function(e,t,i,r,n){var a=t[r];var o=i[r];var s=(o-a)*Mr;return this.point(o-s,i[n]-s*e,r,n)},point:function(e,t,i,r){var n=new u.Point;n[i]=e;n[r]=t;return n},calculateFunction:function(e,t){var i=e.length;var r=0;for(var n=0;n<i;n++)r+=Math.pow(t,n)*e[n];return r}});function Pr(e){return e<=0?-1:1}i.Gradients=St,kendo.deepExtend(kendo.dataviz,{constants:oe,services:$t,autoMajorUnit:ft,Point:dt,Box:C,Ring:vt,Sector:mt,ShapeBuilder:yt,ShapeElement:xt,ChartElement:wt,BoxElement:bt,RootElement:At,FloatElement:Dt,Text:Pt,TextBox:zt,Title:Ot,AxisLabel:Lt,Axis:Qt,Note:Vt,CategoryAxis:Ri,DateCategoryAxis:Ki,DateValueAxis:hr,NumericAxis:rr,LogarithmicAxis:vr,PolarAxis:kr,RadarCategoryAxis:xr,RadarNumericAxis:Tr,RadarLogarithmicAxis:Ar,CurveProcessor:Er,rectToBox:It,addClass:le,removeClass:he,alignPathToPixel:ue,clockwise:fe,convertableToNumber:ve,deepExtend:f,elementStyles:we,getSpacing:be,getTemplate:Ce,getter:a,grep:Se,hasClasses:Te,HashMap:Ae,inArray:Me,interpolateValue:De,InstanceObserver:Pe,isArray:se,isFunction:n,isNumber:de,isObject:ge,isString:pe,map:Ie,mousewheelDelta:ze,FontLoader:Xe,setDefaultOptions:Ke,sparseArrayLimits:Qe,styleValue:me,find:Ze,elementScale:rt,autoTextColor:nt,createHashSet:ct,defaultErrorHandler:ht,keys:ut,append:Le,bindEvents:Re,Class:e,defined:y,deg:Fe,elementOffset:Ve,elementSize:Ne,eventCoordinates:He,eventElement:Ue,hashKey:je,last:Ge,limitValue:T,logToConsole:kendo.logToConsole,objectKey:We,rad:qe,round:k,unbindEvents:Ye,valueOrDefault:$e,absoluteDateDiff:vi,addDuration:wi,addTicks:gi,ceilDate:xi,dateComparer:ki,dateDiff:Ci,dateEquals:Ti,dateIndex:Mi,duration:Di,floorDate:bi,lteDateIndex:Ei,startOfWeek:mi,toDate:m,parseDate:Pi,parseDates:Ii,toTime:Si,firstDay:Bi})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("dataviz/core/core.min",["./kendo-core.min"],function(){var r=window.kendo.jQuery,t=kendo.dataviz,e=t.services,n=kendo.drawing;t.SASS_THEMES=["sass","default-v2","bootstrap-v4","material-v2"],t.ExportMixin={extend:function(e,t){if(!e.exportVisual)throw new Error("Mixin target has no exportVisual method defined.");e.exportSVG=this.exportSVG;e.exportImage=this.exportImage;e.exportPDF=this.exportPDF;if(!t){e.svg=this.svg;e.imageDataURL=this.imageDataURL}},exportSVG:function(e){return n.exportSVG(this.exportVisual(),e)},exportImage:function(e){return n.exportImage(this.exportVisual(e),e)},exportPDF:function(e){return n.exportPDF(this.exportVisual(),e)},svg:function(){if(n.svg.Surface)return n.svg.exportGroup(this.exportVisual());else throw new Error("SVG Export failed. Unable to export instantiate kendo.drawing.svg.Surface")},imageDataURL:function(){if(!kendo.support.canvas)return null;if(n.canvas.Surface){var e=r("<div />").css({display:"none",width:this.element.width(),height:this.element.height()}).appendTo(document.body);var t=new n.canvas.Surface(e[0]);t.draw(this.exportVisual());var i=t._rootElement.toDataURL();t.destroy();e.remove();return i}else throw new Error("Image Export failed. Unable to export instantiate kendo.drawing.canvas.Surface")}},e.IntlService.register({format:function(e){return kendo.format.apply(null,[e].concat(Array.prototype.slice.call(arguments,1)))},toString:kendo.toString,parseDate:kendo.parseDate,firstDay:function(){return kendo.culture().calendars.standard.firstDay}}),e.TemplateService.register({compile:kendo.template}),t.Point2D=t.Point,t.Box2D=t.Box,t.mwDelta=function(e){return t.mousewheelDelta(e.originalEvent)}})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.dataviz.core.min",["./dataviz/core/kendo-core.min","./dataviz/core/core.min"],function(){var e={id:"dataviz.core",name:"Core",description:"The DataViz core functions",category:"dataviz",depends:["core","drawing"],hidden:true}})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("dataviz/themes/chart-base-theme.min",["../../kendo.dataviz.core.min"],function(){window.kendo.dataviz=window.kendo.dataviz||{};var e=1.5,t=.4,i="#000",r="Arial, Helvetica, sans-serif",h="11px "+r,n="12px "+r,a="16px "+r,o="transparent",s="#fff",l=function(){return{icon:{border:{width:1}},label:{font:n,padding:3},line:{length:10,width:2},visible:true}},u=function(){return{labels:{font:n},notes:l(),title:{font:a,margin:5}}},c=function(){return{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:false},opacity:.4}},f=function(){return{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:false},opacity:.4}},d=function(){return{gap:e,spacing:t}},p=function(){return{outliersField:"",meanField:"",border:{_brightness:.8,width:1},downColor:s,gap:1,highlight:{border:{opacity:1,width:2},whiskers:{width:3},mean:{width:2},median:{width:2}},mean:{width:2},median:{width:2},spacing:.3,whiskers:{width:2}}},v=function(){return{border:{width:0},labels:{background:o},opacity:.6}},g=function(){return{gap:e,spacing:t,target:{color:"#ff0000"}}},m=function(){return{border:{_brightness:.8,width:1},downColor:s,gap:1,highlight:{border:{opacity:1,width:2},line:{width:2}},line:{color:i,width:1},spacing:.3}},_=function(){return{gap:e,spacing:t}},y=function(){return{margin:1}},w=function(){return{width:2}},b=function(){return{gap:1,highlight:{line:{opacity:1,width:3}},line:{width:1},spacing:.3}},x=function(){return{line:{opacity:1,width:0},markers:{size:6,visible:false},opacity:.5}},k=function(){return{markers:{visible:false},width:2}},C=function(){return{gap:e,spacing:t}},S=function(){return{gap:e,spacing:t}},T=function(){return{width:1}},A=function(){return{gap:.5,line:{color:i,width:1},spacing:t}},M=function(){return{labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}}}},D=function(){return{labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}}}},E=function(){return{labels:{color:"",background:o,visible:true},highlight:{border:{width:0}}}},P=function(e){return{visible:true,labels:{font:h},overlay:e.gradients?{}:{gradient:"none"},area:c(),rangeArea:f(),verticalRangeArea:f(),bar:d(),boxPlot:p(),bubble:v(),bullet:g(),candlestick:m(),column:_(),heatmap:E(),pie:M(),donut:y(),funnel:D(),horizontalWaterfall:A(),line:w(),notes:l(),ohlc:b(),radarArea:x(),radarLine:k(),polarArea:x(),polarLine:k(),rangeBar:C(),rangeColumn:S(),scatterLine:T(),verticalArea:c(),verticalBoxPlot:p(),verticalBullet:g(),verticalLine:w(),waterfall:A()}},I=function(){return{font:a}},B=function(){return{labels:{font:n}}},z;kendo.deepExtend(kendo.dataviz,{chartBaseTheme:function(e){if(e===void 0)e={};return{axisDefaults:u(),categoryAxis:{majorGridLines:{visible:true}},navigator:{pane:{height:90,margin:{top:10}}},seriesDefaults:P(e),title:I(),legend:B()}}})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("dataviz/themes/auto-theme.min",["../../kendo.dataviz.core.min"],function(){var l=window.kendo.jQuery,t,i=30;function c(){var e='<div class="k-var--series-a"></div>'+'<div class="k-var--series-b"></div>'+'<div class="k-var--series-c"></div>'+'<div class="k-var--series-d"></div>'+'<div class="k-var--series-e"></div>'+'<div class="k-var--series-f"></div>';for(var t=0;t<i;t++)e+='<div class="k-var--series-'+(t+1)+'"></div>';return e}function e(e){if(!e&&t)return t;var a={chart:kendo.dataviz.chartBaseTheme()};var i=l('<div style="display: none">'+'  <div class="k-var--accent"></div>'+'  <div class="k-var--accent-contrast"></div>'+'  <div class="k-var--base"></div>'+'  <div class="k-var--background"></div>'+'  <div class="k-var--normal-background"></div>'+'  <div class="k-var--normal-text-color"></div>'+'  <div class="k-var--hover-background"></div>'+'  <div class="k-var--hover-text-color"></div>'+'  <div class="k-var--selected-background"></div>'+'  <div class="k-var--selected-text-color"></div>'+'  <div class="k-var--chart-error-bars-background"></div>'+'  <div class="k-var--chart-notes-background"></div>'+'  <div class="k-var--chart-notes-border"></div>'+'  <div class="k-var--chart-notes-lines"></div>'+'  <div class="k-var--chart-crosshair-background"></div>'+'  <div class="k-var--chart-inactive"></div>'+'  <div class="k-var--chart-major-lines"></div>'+'  <div class="k-var--chart-minor-lines"></div>'+'  <div class="k-var--chart-area-opacity"></div>'+'  <div class="k-var--chart-area-inactive-opacity"></div>'+'  <div class="k-var--chart-line-inactive-opacity"></div>'+'  <div class="k-widget k-chart">'+'      <div class="k-var--chart-font"></div>'+'      <div class="k-var--chart-title-font"></div>'+'      <div class="k-var--chart-pane-title-font"></div>'+'      <div class="k-var--chart-label-font"></div>'+"  </div>"+'  <div class="k-var--series-unset"></div>'+'  <div class="k-var--series">'+c()+"  </div>"+'  <div class="k-var--gauge-pointer"></div>'+'  <div class="k-var--gauge-track"></div>'+"</div>").appendTo(document.body);function r(e,t){s(e,o(t,"backgroundColor"))}function o(e,t){return i.find(".k-var--"+e).css(t)}function s(e,t){var i=a;var r=e.split(".");var n=r.shift();while(r.length>0){i=i[n]=i[n]||{};n=r.shift()}i[n]=t}function n(e,t){var i=parseFloat(o(t,"opacity"));if(!isNaN(i)&&i<1)e.forEach(function(e){s("chart.seriesDefaults."+e+".highlight.inactiveOpacity",i)})}(function e(){r("chart.axisDefaults.crosshair.color","chart-crosshair-background");r("chart.axisDefaults.labels.color","normal-text-color");r("chart.axisDefaults.line.color","chart-major-lines");r("chart.axisDefaults.majorGridLines.color","chart-major-lines");r("chart.axisDefaults.minorGridLines.color","chart-minor-lines");r("chart.axisDefaults.notes.icon.background","chart-notes-background");r("chart.axisDefaults.notes.icon.border.color","chart-notes-border");r("chart.axisDefaults.notes.line.color","chart-notes-lines");r("chart.axisDefaults.title.color","normal-text-color");r("chart.chartArea.background","background");r("chart.legend.inactiveItems.labels.color","chart-inactive");r("chart.legend.inactiveItems.markers.color","chart-inactive");r("chart.legend.labels.color","normal-text-color");r("chart.seriesDefaults.boxPlot.downColor","chart-major-lines");r("chart.seriesDefaults.boxPlot.mean.color","base");r("chart.seriesDefaults.boxPlot.median.color","base");r("chart.seriesDefaults.boxPlot.whiskers.color","accent");r("chart.seriesDefaults.bullet.target.color","accent");r("chart.seriesDefaults.candlestick.downColor","normal-text-color");r("chart.seriesDefaults.candlestick.line.color","normal-text-color");r("chart.seriesDefaults.errorBars.color","chart-error-bars-background");r("chart.seriesDefaults.horizontalWaterfall.line.color","chart-major-lines");r("chart.seriesDefaults.icon.border.color","chart-major-lines");r("chart.seriesDefaults.labels.background","background");r("chart.seriesDefaults.labels.color","normal-text-color");r("chart.seriesDefaults.notes.icon.background","chart-notes-background");r("chart.seriesDefaults.notes.icon.border.color","chart-notes-border");r("chart.seriesDefaults.notes.line.color","chart-notes-lines");r("chart.seriesDefaults.verticalBoxPlot.downColor","chart-major-lines");r("chart.seriesDefaults.verticalBoxPlot.mean.color","base");r("chart.seriesDefaults.verticalBoxPlot.median.color","base");r("chart.seriesDefaults.verticalBoxPlot.whiskers.color","accent");r("chart.seriesDefaults.verticalBullet.target.color","accent");r("chart.seriesDefaults.waterfall.line.color","chart-major-lines");r("chart.title.color","normal-text-color");r("diagram.shapeDefaults.fill.color","accent");r("diagram.shapeDefaults.content.color","accent-contrast");r("diagram.shapeDefaults.connectorDefaults.fill.color","normal-text-color");r("diagram.shapeDefaults.connectorDefaults.stroke.color","accent-contrast");r("diagram.shapeDefaults.connectorDefaults.hover.fill.color","accent-contrast");r("diagram.shapeDefaults.connectorDefaults.hover.stroke.color","normal-text-color");r("diagram.editable.resize.handles.stroke.color","normal-text-color");r("diagram.editable.resize.handles.fill.color","normal-background");r("diagram.editable.resize.handles.hover.stroke.color","normal-text-color");r("diagram.editable.resize.handles.hover.fill.color","normal-text-color");r("diagram.selectable.stroke.color","normal-text-color");r("diagram.connectionDefaults.stroke.color","normal-text-color");r("diagram.connectionDefaults.content.color","normal-text-color");r("diagram.connectionDefaults.selection.handles.fill.color","accent-contrast");r("diagram.connectionDefaults.selection.handles.stroke.color","normal-text-color");r("diagram.connectionDefaults.selection.stroke.color","normal-text-color");r("gauge.pointer.color","gauge-pointer");r("gauge.scale.labels.color","normal-text-color");r("gauge.scale.minorTicks.color","normal-text-color");r("gauge.scale.majorTicks.color","normal-text-color");r("gauge.scale.line.color","normal-text-color");r("gauge.scale.rangePlaceholderColor","gauge-track");var t=parseFloat(o("chart-area-opacity","opacity"));if(!isNaN(t)){s("chart.seriesDefaults.area.opacity",t);s("chart.seriesDefaults.radarArea.opacity",t);s("chart.seriesDefaults.verticalArea.opacity",t);s("chart.seriesDefaults.labels.opacity",t)}n(["area","verticalArea"],"chart-area-inactive-opacity");n(["line","verticalLine"],"chart-line-inactive-opacity")})();(function e(){s("diagram.connectionDefaults.selection.handles.width",8);s("diagram.connectionDefaults.selection.handles.height",8)})();(function e(){function t(e){return o(e,"fontWeight")+" "+o(e,"fontSize")+" "+o(e,"fontFamily")}var i=t("chart-font");var r=t("chart-title-font");var n=t("chart-pane-title-font");var a=t("chart-label-font");s("chart.axisDefaults.labels.font",a);s("chart.axisDefaults.notes.label.font",i);s("chart.axisDefaults.title.font",i);s("chart.legend.labels.font",i);s("chart.seriesDefaults.labels.font",a);s("chart.seriesDefaults.notes.label.font",i);s("chart.title.font",r);s("chart.paneDefaults.title.font",n)})();(function e(){function r(e){return e.toLowerCase().charCodeAt(0)-"a".charCodeAt(0)}function n(e){var t=e.match(/series-([a-z])$/);if(t!==null)return r(t[1]);var i=e.split("--series-")[1];return parseInt(i,10)-1}var t=l(".k-var--series div").toArray();var a=l(".k-var--series-unset").css("backgroundColor");var i=t.reduce(function(e,t){var i=n(t.className);var r=l(t).css("backgroundColor");if(r!==a)e[i]=r;return e},[]);s("chart.seriesColors",i)})();i.remove();t=a;return a}kendo.dataviz.autoTheme=e})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("dataviz/themes/themes.min",["./chart-base-theme.min"],function(){var h=window.kendo.jQuery,u=window.kendo,f=u.dataviz.ui,n=u.deepExtend,d="#000",p,v="12px "+"Arial,Helvetica,sans-serif",e="#fff",g=u.dataviz.chartBaseTheme({gradients:true}),m={scale:{labels:{font:v}}},_={shapeDefaults:{hover:{opacity:.2},stroke:{width:0}},editable:{resize:{handles:{width:7,height:7}}},selectable:{stroke:{width:1,dashType:"dot"}},connectionDefaults:{stroke:{width:2},selection:{handles:{width:8,height:8}},editable:{tools:["edit","delete"]}}},y=f.themes,t=f.registerTheme=function(e,t){var i={};i.chart=n({},g,t.chart);i.gauge=n({},m,t.gauge);i.diagram=n({},_,t.diagram);i.treeMap=n({},t.treeMap);var r=i.chart.seriesDefaults;r.verticalLine=n({},r.line);r.verticalArea=n({},r.area);r.rangeArea=n({},r.area);r.verticalRangeArea=n({},r.rangeArea);r.verticalBoxPlot=n({},r.boxPlot);r.polarArea=n({},r.radarArea);r.polarLine=n({},r.radarLine);y[e]=i},i=(t("black",{chart:{title:{color:e},legend:{labels:{color:e},inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}},seriesDefaults:{labels:{color:e},errorBars:{color:e},notes:{icon:{background:"#3b3b3b",border:{color:"#8e8e8e"}},label:{color:e},line:{color:"#8e8e8e"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#3d3d3d"}},scatter:{markers:{background:"#3d3d3d"}},scatterLine:{markers:{background:"#3d3d3d"}},waterfall:{line:{color:"#8e8e8e"}},horizontalWaterfall:{line:{color:"#8e8e8e"}},candlestick:{downColor:"#555",line:{color:e},border:{_brightness:1.5,opacity:1},highlight:{border:{color:e,opacity:.2}}},ohlc:{line:{color:e}}},chartArea:{background:"#3d3d3d"},seriesColors:["#0081da","#3aafff","#99c900","#ffeb3d","#b20753","#ff4195"],axisDefaults:{line:{color:"#8e8e8e"},labels:{color:e},majorGridLines:{color:"#545454"},minorGridLines:{color:"#454545"},title:{color:e},crosshair:{color:"#8e8e8e"},notes:{icon:{background:"#3b3b3b",border:{color:"#8e8e8e"}},label:{color:e},line:{color:"#8e8e8e"}}}},gauge:{pointer:{color:"#0070e4"},scale:{rangePlaceholderColor:"#1d1d1d",labels:{color:e},minorTicks:{color:e},majorTicks:{color:e},line:{color:e}}},diagram:{shapeDefaults:{fill:{color:"#0066cc"},connectorDefaults:{fill:{color:e},stroke:{color:"#384049"},hover:{fill:{color:"#3d3d3d"},stroke:{color:"#efefef"}}},content:{color:e}},editable:{resize:{handles:{fill:{color:"#3d3d3d"},stroke:{color:e},hover:{fill:{color:e},stroke:{color:e}}}},rotate:{thumb:{stroke:{color:e},fill:{color:e}}}},selectable:{stroke:{color:e}},connectionDefaults:{stroke:{color:e},content:{color:e},selection:{handles:{fill:{color:"#3d3d3d"},stroke:{color:"#efefef"}}}}},treeMap:{colors:[["#0081da","#314b5c"],["#3aafff","#3c5464"],["#99c900","#4f5931"],["#ffeb3d","#64603d"],["#b20753","#543241"],["#ff4195","#643e4f"]]}}),t("blueopal",{chart:{title:{color:"#293135"},legend:{labels:{color:"#293135"},inactiveItems:{labels:{color:"#27A5BA"},markers:{color:"#27A5BA"}}},seriesDefaults:{labels:{color:d,background:e,opacity:.5},errorBars:{color:"#293135"},candlestick:{downColor:"#c4d0d5",line:{color:"#9aabb2"}},waterfall:{line:{color:"#9aabb2"}},horizontalWaterfall:{line:{color:"#9aabb2"}},notes:{icon:{background:"transparent",border:{color:"#9aabb2"}},label:{color:"#293135"},line:{color:"#9aabb2"}}},seriesColors:["#0069a5","#0098ee","#7bd2f6","#ffb800","#ff8517","#e34a00"],axisDefaults:{line:{color:"#9aabb2"},labels:{color:"#293135"},majorGridLines:{color:"#c4d0d5"},minorGridLines:{color:"#edf1f2"},title:{color:"#293135"},crosshair:{color:"#9aabb2"},notes:{icon:{background:"transparent",border:{color:"#9aabb2"}},label:{color:"#293135"},line:{color:"#9aabb2"}}}},gauge:{pointer:{color:"#005c83"},scale:{rangePlaceholderColor:"#daecf4",labels:{color:"#293135"},minorTicks:{color:"#293135"},majorTicks:{color:"#293135"},line:{color:"#293135"}}},diagram:{shapeDefaults:{fill:{color:"#7ec6e3"},connectorDefaults:{fill:{color:"#003f59"},stroke:{color:e},hover:{fill:{color:e},stroke:{color:"#003f59"}}},content:{color:"#293135"}},editable:{resize:{handles:{fill:{color:e},stroke:{color:"#003f59"},hover:{fill:{color:"#003f59"},stroke:{color:"#003f59"}}}},rotate:{thumb:{stroke:{color:"#003f59"},fill:{color:"#003f59"}}}},selectable:{stroke:{color:"#003f59"}},connectionDefaults:{stroke:{color:"#003f59"},content:{color:"#293135"},selection:{handles:{fill:{color:"#3d3d3d"},stroke:{color:"#efefef"}}}}},treeMap:{colors:[["#0069a5","#bad7e7"],["#0098ee","#b9e0f5"],["#7bd2f6","#ceeaf6"],["#ffb800","#e6e3c4"],["#ff8517","#e4d8c8"],["#e34a00","#ddccc2"]]}}),t("highcontrast",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#66465B"},markers:{color:"#66465B"}}},seriesDefaults:{labels:{color:"#ffffff"},errorBars:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#ffffff"}},label:{color:"#ffffff"},line:{color:"#ffffff"}},pie:{overlay:{gradient:"sharpGlass"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#2c232b"}},scatter:{markers:{background:"#2c232b"}},scatterLine:{markers:{background:"#2c232b"}},area:{opacity:.5},waterfall:{line:{color:"#ffffff"}},horizontalWaterfall:{line:{color:"#ffffff"}},candlestick:{downColor:"#664e62",line:{color:"#ffffff"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#ffffff",opacity:1}}},ohlc:{line:{color:"#ffffff"}}},chartArea:{background:"#2c232b"},seriesColors:["#a7008f","#ffb800","#3aafff","#99c900","#b20753","#ff4195"],axisDefaults:{line:{color:"#ffffff"},labels:{color:"#ffffff"},majorGridLines:{color:"#664e62"},minorGridLines:{color:"#4f394b"},title:{color:"#ffffff"},crosshair:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#ffffff"}},label:{color:"#ffffff"},line:{color:"#ffffff"}}}},gauge:{pointer:{color:"#a7008f"},scale:{rangePlaceholderColor:"#2c232b",labels:{color:"#ffffff"},minorTicks:{color:"#2c232b"},majorTicks:{color:"#664e62"},line:{color:"#ffffff"}}},diagram:{shapeDefaults:{fill:{color:"#a7018f"},connectorDefaults:{fill:{color:e},stroke:{color:"#2c232b"},hover:{fill:{color:"#2c232b"},stroke:{color:e}}},content:{color:e}},editable:{resize:{handles:{fill:{color:"#2c232b"},stroke:{color:e},hover:{fill:{color:e},stroke:{color:e}}}},rotate:{thumb:{stroke:{color:e},fill:{color:e}}}},selectable:{stroke:{color:e}},connectionDefaults:{stroke:{color:e},content:{color:e},selection:{handles:{fill:{color:"#2c232b"},stroke:{color:e}}}}},treeMap:{colors:[["#a7008f","#451c3f"],["#ffb800","#564122"],["#3aafff","#2f3f55"],["#99c900","#424422"],["#b20753","#471d33"],["#ff4195","#562940"]]}}),t("default",{chart:{title:{color:"#8e8e8e"},legend:{labels:{color:"#232323"},inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}},seriesDefaults:{labels:{color:d,background:e,opacity:.5},errorBars:{color:"#232323"},candlestick:{downColor:"#dedede",line:{color:"#8d8d8d"}},waterfall:{line:{color:"#8e8e8e"}},horizontalWaterfall:{line:{color:"#8e8e8e"}},notes:{icon:{background:"transparent",border:{color:"#8e8e8e"}},label:{color:"#232323"},line:{color:"#8e8e8e"}}},seriesColors:["#ff6800","#a0a700","#ff8d00","#678900","#ffb53c","#396000"],axisDefaults:{line:{color:"#8e8e8e"},labels:{color:"#232323"},minorGridLines:{color:"#f0f0f0"},majorGridLines:{color:"#dfdfdf"},title:{color:"#232323"},crosshair:{color:"#8e8e8e"},notes:{icon:{background:"transparent",border:{color:"#8e8e8e"}},label:{color:"#232323"},line:{color:"#8e8e8e"}}}},gauge:{pointer:{color:"#ea7001"},scale:{rangePlaceholderColor:"#dedede",labels:{color:"#2e2e2e"},minorTicks:{color:"#2e2e2e"},majorTicks:{color:"#2e2e2e"},line:{color:"#2e2e2e"}}},diagram:{shapeDefaults:{fill:{color:"#e15613"},connectorDefaults:{fill:{color:"#282828"},stroke:{color:e},hover:{fill:{color:e},stroke:{color:"#282828"}}},content:{color:"#2e2e2e"}},editable:{resize:{handles:{fill:{color:e},stroke:{color:"#282828"},hover:{fill:{color:"#282828"},stroke:{color:"#282828"}}}},rotate:{thumb:{stroke:{color:"#282828"},fill:{color:"#282828"}}}},selectable:{stroke:{color:"#a7018f"}},connectionDefaults:{stroke:{color:"#282828"},content:{color:"#2e2e2e"},selection:{handles:{fill:{color:e},stroke:{color:"#282828"}}}}},treeMap:{colors:[["#ff6800","#edcfba"],["#a0a700","#dadcba"],["#ff8d00","#edd7ba"],["#678900","#cfd6ba"],["#ffb53c","#eddfc6"],["#396000","#c6ceba"]]}}),t("silver",{chart:{title:{color:"#4e5968"},legend:{labels:{color:"#4e5968"},inactiveItems:{labels:{color:"#B1BCC8"},markers:{color:"#B1BCC8"}}},seriesDefaults:{labels:{color:"#293135",background:"#eaeaec",opacity:.5},errorBars:{color:"#4e5968"},notes:{icon:{background:"transparent",border:{color:"#4e5968"}},label:{color:"#4e5968"},line:{color:"#4e5968"}},line:{markers:{background:"#eaeaec"}},scatter:{markers:{background:"#eaeaec"}},scatterLine:{markers:{background:"#eaeaec"}},pie:{connectors:{color:"#A6B1C0"}},donut:{connectors:{color:"#A6B1C0"}},waterfall:{line:{color:"#a6b1c0"}},horizontalWaterfall:{line:{color:"#a6b1c0"}},candlestick:{downColor:"#a6afbe"}},chartArea:{background:"#eaeaec"},seriesColors:["#007bc3","#76b800","#ffae00","#ef4c00","#a419b7","#430B62"],axisDefaults:{line:{color:"#a6b1c0"},labels:{color:"#4e5968"},majorGridLines:{color:"#dcdcdf"},minorGridLines:{color:"#eeeeef"},title:{color:"#4e5968"},crosshair:{color:"#a6b1c0"},notes:{icon:{background:"transparent",border:{color:"#4e5968"}},label:{color:"#4e5968"},line:{color:"#4e5968"}}}},gauge:{pointer:{color:"#0879c0"},scale:{rangePlaceholderColor:"#f3f3f4",labels:{color:"#515967"},minorTicks:{color:"#515967"},majorTicks:{color:"#515967"},line:{color:"#515967"}}},diagram:{shapeDefaults:{fill:{color:"#1c82c2"},connectorDefaults:{fill:{color:"#515967"},stroke:{color:e},hover:{fill:{color:e},stroke:{color:"#282828"}}},content:{color:"#515967"}},editable:{resize:{handles:{fill:{color:e},stroke:{color:"#515967"},hover:{fill:{color:"#515967"},stroke:{color:"#515967"}}}},rotate:{thumb:{stroke:{color:"#515967"},fill:{color:"#515967"}}}},selectable:{stroke:{color:"#515967"}},connectionDefaults:{stroke:{color:"#515967"},content:{color:"#515967"},selection:{handles:{fill:{color:e},stroke:{color:"#515967"}}}}},treeMap:{colors:[["#007bc3","#c2dbea"],["#76b800","#dae7c3"],["#ffae00","#f5e5c3"],["#ef4c00","#f2d2c3"],["#a419b7","#e3c7e8"],["#430b62","#d0c5d7"]]}}),t("metro",{chart:{title:{color:"#777777"},legend:{labels:{color:"#777777"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:d},errorBars:{color:"#777777"},notes:{icon:{background:"transparent",border:{color:"#777777"}},label:{color:"#777777"},line:{color:"#777777"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},waterfall:{line:{color:"#c7c7c7"}},horizontalWaterfall:{line:{color:"#c7c7c7"}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:["#8ebc00","#309b46","#25a0da","#ff6900","#e61e26","#d8e404","#16aba9","#7e51a1","#313131","#ed1691"],axisDefaults:{line:{color:"#c7c7c7"},labels:{color:"#777777"},minorGridLines:{color:"#c7c7c7"},majorGridLines:{color:"#c7c7c7"},title:{color:"#777777"},crosshair:{color:"#c7c7c7"},notes:{icon:{background:"transparent",border:{color:"#777777"}},label:{color:"#777777"},line:{color:"#777777"}}}},gauge:{pointer:{color:"#8ebc00"},scale:{rangePlaceholderColor:"#e6e6e6",labels:{color:"#777"},minorTicks:{color:"#777"},majorTicks:{color:"#777"},line:{color:"#777"}}},diagram:{shapeDefaults:{fill:{color:"#8ebc00"},connectorDefaults:{fill:{color:d},stroke:{color:e},hover:{fill:{color:e},stroke:{color:d}}},content:{color:"#777"}},editable:{resize:{handles:{fill:{color:e},stroke:{color:"#787878"},hover:{fill:{color:"#787878"},stroke:{color:"#787878"}}}},rotate:{thumb:{stroke:{color:"#787878"},fill:{color:"#787878"}}}},selectable:{stroke:{color:"#515967"}},connectionDefaults:{stroke:{color:"#787878"},content:{color:"#777"},selection:{handles:{fill:{color:e},stroke:{color:"#787878"}}}}},treeMap:{colors:[["#8ebc00","#e8f2cc"],["#309b46","#d6ebda"],["#25a0da","#d3ecf8"],["#ff6900","#ffe1cc"],["#e61e26","#fad2d4"],["#d8e404","#f7facd"],["#16aba9","#d0eeee"],["#7e51a1","#e5dcec"],["#313131","#d6d6d6"],["#ed1691","#fbd0e9"]]}}),t("metroblack",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#797979"},markers:{color:"#797979"}}},seriesDefaults:{border:{_brightness:1},labels:{color:"#ffffff"},errorBars:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#cecece"}},label:{color:"#ffffff"},line:{color:"#cecece"}},line:{markers:{background:"#0e0e0e"}},bubble:{opacity:.6},scatter:{markers:{background:"#0e0e0e"}},scatterLine:{markers:{background:"#0e0e0e"}},candlestick:{downColor:"#828282",line:{color:"#ffffff"}},waterfall:{line:{color:"#cecece"}},horizontalWaterfall:{line:{color:"#cecece"}},overlay:{gradient:"none"}},chartArea:{background:"#0e0e0e"},seriesColors:["#00aba9","#309b46","#8ebc00","#ff6900","#e61e26","#d8e404","#25a0da","#7e51a1","#313131","#ed1691"],axisDefaults:{line:{color:"#cecece"},labels:{color:"#ffffff"},minorGridLines:{color:"#2d2d2d"},majorGridLines:{color:"#333333"},title:{color:"#ffffff"},crosshair:{color:"#cecece"},notes:{icon:{background:"transparent",border:{color:"#cecece"}},label:{color:"#ffffff"},line:{color:"#cecece"}}}},gauge:{pointer:{color:"#00aba9"},scale:{rangePlaceholderColor:"#2d2d2d",labels:{color:"#ffffff"},minorTicks:{color:"#333333"},majorTicks:{color:"#cecece"},line:{color:"#cecece"}}},diagram:{shapeDefaults:{fill:{color:"#00aba9"},connectorDefaults:{fill:{color:e},stroke:{color:"#0e0e0e"},hover:{fill:{color:"#0e0e0e"},stroke:{color:e}}},content:{color:e}},editable:{resize:{handles:{fill:{color:"#0e0e0e"},stroke:{color:"#787878"},hover:{fill:{color:"#787878"},stroke:{color:"#787878"}}}},rotate:{thumb:{stroke:{color:e},fill:{color:e}}}},selectable:{stroke:{color:"#787878"}},connectionDefaults:{stroke:{color:e},content:{color:e},selection:{handles:{fill:{color:"#0e0e0e"},stroke:{color:e}}}}},treeMap:{colors:[["#00aba9","#0b2d2d"],["#309b46","#152a19"],["#8ebc00","#28310b"],["#ff6900","#3e200b"],["#e61e26","#391113"],["#d8e404","#36390c"],["#25a0da","#132b37"],["#7e51a1","#241b2b"],["#313131","#151515"],["#ed1691","#3b1028"]]}}),t("moonlight",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#A1A7AB"},markers:{color:"#A1A7AB"}}},seriesDefaults:{labels:{color:"#ffffff"},errorBars:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#8c909e"}},label:{color:"#ffffff"},line:{color:"#8c909e"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#212a33"}},bubble:{opacity:.6},scatter:{markers:{background:"#212a33"}},scatterLine:{markers:{background:"#212a33"}},area:{opacity:.3},candlestick:{downColor:"#757d87",line:{color:"#ea9d06"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:e,opacity:.2}}},waterfall:{line:{color:"#8c909e"}},horizontalWaterfall:{line:{color:"#8c909e"}},ohlc:{line:{color:"#ea9d06"}}},chartArea:{background:"#212a33"},seriesColors:["#ffca08","#ff710f","#ed2e24","#ff9f03","#e13c02","#a00201"],axisDefaults:{line:{color:"#8c909e"},minorTicks:{color:"#8c909e"},majorTicks:{color:"#8c909e"},labels:{color:"#ffffff"},majorGridLines:{color:"#3e424d"},minorGridLines:{color:"#2f3640"},title:{color:"#ffffff"},crosshair:{color:"#8c909e"},notes:{icon:{background:"transparent",border:{color:"#8c909e"}},label:{color:"#ffffff"},line:{color:"#8c909e"}}}},gauge:{pointer:{color:"#f4af03"},scale:{rangePlaceholderColor:"#2f3640",labels:{color:e},minorTicks:{color:"#8c909e"},majorTicks:{color:"#8c909e"},line:{color:"#8c909e"}}},diagram:{shapeDefaults:{fill:{color:"#f3ae03"},connectorDefaults:{fill:{color:e},stroke:{color:"#414550"},hover:{fill:{color:"#414550"},stroke:{color:e}}},content:{color:e}},editable:{resize:{handles:{fill:{color:"#414550"},stroke:{color:e},hover:{fill:{color:e},stroke:{color:e}}}},rotate:{thumb:{stroke:{color:e},fill:{color:e}}}},selectable:{stroke:{color:e}},connectionDefaults:{stroke:{color:e},content:{color:e},selection:{handles:{fill:{color:"#414550"},stroke:{color:e}}}}},treeMap:{colors:[["#ffca08","#4e4b2b"],["#ff710f","#4e392d"],["#ed2e24","#4b2c31"],["#ff9f03","#4e422a"],["#e13c02","#482e2a"],["#a00201","#3b232a"]]}}),t("uniform",{chart:{title:{color:"#686868"},legend:{labels:{color:"#686868"},inactiveItems:{labels:{color:"#B6B6B6"},markers:{color:"#B6B6B6"}}},seriesDefaults:{labels:{color:"#686868"},errorBars:{color:"#686868"},notes:{icon:{background:"transparent",border:{color:"#9e9e9e"}},label:{color:"#686868"},line:{color:"#9e9e9e"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#ffffff"}},bubble:{opacity:.6},scatter:{markers:{background:"#ffffff"}},scatterLine:{markers:{background:"#ffffff"}},area:{opacity:.3},candlestick:{downColor:"#cccccc",line:{color:"#cccccc"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#cccccc",opacity:.2}}},waterfall:{line:{color:"#9e9e9e"}},horizontalWaterfall:{line:{color:"#9e9e9e"}},ohlc:{line:{color:"#cccccc"}}},chartArea:{background:"#ffffff"},seriesColors:["#527aa3","#6f91b3","#8ca7c2","#a8bdd1","#c5d3e0","#e2e9f0"],axisDefaults:{line:{color:"#9e9e9e"},minorTicks:{color:"#aaaaaa"},majorTicks:{color:"#888888"},labels:{color:"#686868"},majorGridLines:{color:"#dadada"},minorGridLines:{color:"#e7e7e7"},title:{color:"#686868"},crosshair:{color:"#9e9e9e"},notes:{icon:{background:"transparent",border:{color:"#9e9e9e"}},label:{color:"#686868"},line:{color:"#9e9e9e"}}}},gauge:{pointer:{color:"#527aa3"},scale:{rangePlaceholderColor:"#e7e7e7",labels:{color:"#686868"},minorTicks:{color:"#aaaaaa"},majorTicks:{color:"#888888"},line:{color:"#9e9e9e"}}},diagram:{shapeDefaults:{fill:{color:"#d1d1d1"},connectorDefaults:{fill:{color:"#686868"},stroke:{color:e},hover:{fill:{color:e},stroke:{color:"#686868"}}},content:{color:"#686868"}},editable:{resize:{handles:{fill:{color:e},stroke:{color:"#686868"},hover:{fill:{color:"#686868"},stroke:{color:"#686868"}}}},rotate:{thumb:{stroke:{color:"#686868"},fill:{color:"#686868"}}}},selectable:{stroke:{color:"#686868"}},connectionDefaults:{stroke:{color:"#686868"},content:{color:"#686868"},selection:{handles:{fill:{color:e},stroke:{color:"#686868"}}}}},treeMap:{colors:[["#527aa3","#d0d8e1"],["#6f91b3","#d6dde4"],["#8ca7c2","#dce1e7"],["#a8bdd1","#e2e6ea"],["#c5d3e0","#e7eaed"],["#e2e9f0","#edeff0"]]}}),t("bootstrap",{chart:{title:{color:"#333333"},legend:{labels:{color:"#333333"},inactiveItems:{labels:{color:"#999999"},markers:{color:"#9A9A9A"}}},seriesDefaults:{labels:{color:"#333333"},overlay:{gradient:"none"},errorBars:{color:"#343434"},notes:{icon:{background:"#000000",border:{color:"#000000"}},label:{color:"#333333"},line:{color:"#000000"}},pie:{overlay:{gradient:"none"}},donut:{overlay:{gradient:"none"}},line:{markers:{background:"#ffffff"}},bubble:{opacity:.6},scatter:{markers:{background:"#ffffff"}},scatterLine:{markers:{background:"#ffffff"}},area:{opacity:.8},candlestick:{downColor:"#d0d0d0",line:{color:"#333333"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#b8b8b8",opacity:.2}}},waterfall:{line:{color:"#cccccc"}},horizontalWaterfall:{line:{color:"#cccccc"}},ohlc:{line:{color:"#333333"}}},chartArea:{background:"#ffffff"},seriesColors:["#428bca","#5bc0de","#5cb85c","#f2b661","#e67d4a","#da3b36"],axisDefaults:{line:{color:"#cccccc"},minorTicks:{color:"#ebebeb"},majorTicks:{color:"#cccccc"},labels:{color:"#333333"},majorGridLines:{color:"#cccccc"},minorGridLines:{color:"#ebebeb"},title:{color:"#333333"},crosshair:{color:"#000000"},notes:{icon:{background:"#000000",border:{color:"#000000"}},label:{color:"#ffffff"},line:{color:"#000000"}}}},gauge:{pointer:{color:"#428bca"},scale:{rangePlaceholderColor:"#cccccc",labels:{color:"#333333"},minorTicks:{color:"#ebebeb"},majorTicks:{color:"#cccccc"},line:{color:"#cccccc"}}},diagram:{shapeDefaults:{fill:{color:"#428bca"},connectorDefaults:{fill:{color:"#333333"},stroke:{color:e},hover:{fill:{color:e},stroke:{color:"#333333"}}},content:{color:"#333333"}},editable:{resize:{handles:{fill:{color:e},stroke:{color:"#333333"},hover:{fill:{color:"#333333"},stroke:{color:"#333333"}}}},rotate:{thumb:{stroke:{color:"#333333"},fill:{color:"#333333"}}}},selectable:{stroke:{color:"#333333"}},connectionDefaults:{stroke:{color:"#c4c4c4"},content:{color:"#333333"},selection:{handles:{fill:{color:e},stroke:{color:"#333333"}},stroke:{color:"#333333"}}}},treeMap:{colors:[["#428bca","#d1e0ec"],["#5bc0de","#d6eaf0"],["#5cb85c","#d6e9d6"],["#5cb85c","#f4e8d7"],["#e67d4a","#f2ddd3"],["#da3b36","#f0d0cf"]]}}),t("flat",{chart:{title:{color:"#4c5356"},legend:{labels:{color:"#4c5356"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:"#4c5356"},errorBars:{color:"#4c5356"},notes:{icon:{background:"transparent",border:{color:"#cdcdcd"}},label:{color:"#4c5356"},line:{color:"#cdcdcd"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},area:{opacity:.9},waterfall:{line:{color:"#cdcdcd"}},horizontalWaterfall:{line:{color:"#cdcdcd"}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:["#10c4b2","#ff7663","#ffb74f","#a2df53","#1c9ec4","#ff63a5","#1cc47b"],axisDefaults:{line:{color:"#cdcdcd"},labels:{color:"#4c5356"},minorGridLines:{color:"#cdcdcd"},majorGridLines:{color:"#cdcdcd"},title:{color:"#4c5356"},crosshair:{color:"#cdcdcd"},notes:{icon:{background:"transparent",border:{color:"#cdcdcd"}},label:{color:"#4c5356"},line:{color:"#cdcdcd"}}}},gauge:{pointer:{color:"#10c4b2"},scale:{rangePlaceholderColor:"#cdcdcd",labels:{color:"#4c5356"},minorTicks:{color:"#4c5356"},majorTicks:{color:"#4c5356"},line:{color:"#4c5356"}}},diagram:{shapeDefaults:{fill:{color:"#10c4b2"},connectorDefaults:{fill:{color:"#363940"},stroke:{color:e},hover:{fill:{color:e},stroke:{color:"#363940"}}},content:{color:"#4c5356"}},editable:{resize:{handles:{fill:{color:e},stroke:{color:"#363940"},hover:{fill:{color:"#363940"},stroke:{color:"#363940"}}}},rotate:{thumb:{stroke:{color:"#363940"},fill:{color:"#363940"}}}},selectable:{stroke:{color:"#363940"}},connectionDefaults:{stroke:{color:"#cdcdcd"},content:{color:"#4c5356"},selection:{handles:{fill:{color:e},stroke:{color:"#363940"}},stroke:{color:"#363940"}}}},treeMap:{colors:[["#10c4b2","#cff3f0"],["#ff7663","#ffe4e0"],["#ffb74f","#fff1dc"],["#a2df53","#ecf9dd"],["#1c9ec4","#d2ecf3"],["#ff63a5","#ffe0ed"],["#1cc47b","#d2f3e5"]]}}),t("material",{chart:{title:{color:"#444444"},legend:{labels:{color:"#444444"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:"#444444"},errorBars:{color:"#444444"},notes:{icon:{background:"transparent",border:{color:"#e5e5e5"}},label:{color:"#444444"},line:{color:"#e5e5e5"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},area:{opacity:.9},waterfall:{line:{color:"#e5e5e5"}},horizontalWaterfall:{line:{color:"#e5e5e5"}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#ff9800","#ff5722"],axisDefaults:{line:{color:"#e5e5e5"},labels:{color:"#444444"},minorGridLines:{color:"#e5e5e5"},majorGridLines:{color:"#e5e5e5"},title:{color:"#444444"},crosshair:{color:"#7f7f7f"},notes:{icon:{background:"transparent",border:{color:"#e5e5e5"}},label:{color:"#444444"},line:{color:"#e5e5e5"}}}},gauge:{pointer:{color:"#3f51b5"},scale:{rangePlaceholderColor:"#e5e5e5",labels:{color:"#444444"},minorTicks:{color:"#444444"},majorTicks:{color:"#444444"},line:{color:"#444444"}}},diagram:{shapeDefaults:{fill:{color:"#3f51b5"},connectorDefaults:{fill:{color:"#7f7f7f"},stroke:{color:e},hover:{fill:{color:e},stroke:{color:"#7f7f7f"}}},content:{color:"#444444"}},editable:{resize:{handles:{fill:{color:e},stroke:{color:"#444444"},hover:{fill:{color:"#444444"},stroke:{color:"#444444"}}}},rotate:{thumb:{stroke:{color:"#444444"},fill:{color:"#444444"}}}},selectable:{stroke:{color:"#444444"}},connectionDefaults:{stroke:{color:"#7f7f7f"},content:{color:"#444444"},selection:{handles:{fill:{color:e},stroke:{color:"#444444"}},stroke:{color:"#444444"}}}},treeMap:{colors:[["#3f51b5","#cff3f0"],["#03a9f4","#e5f6fe"],["#4caf50","#edf7ed"],["#f9ce1d","#fefae8"],["#ff9800","#fff4e5"],["#ff5722","#ffeee8"]]}}),t("materialblack",{chart:{title:{color:"#fff"},legend:{labels:{color:"#fff"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:"#fff"},errorBars:{color:"#fff"},notes:{icon:{background:"transparent",border:{color:"#e5e5e5"}},label:{color:"#fff"},line:{color:"#e5e5e5"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},area:{opacity:.9},waterfall:{line:{color:"#4d4d4d"}},horizontalWaterfall:{line:{color:"#4d4d4d"}},overlay:{gradient:"none"},border:{_brightness:1}},chartArea:{background:"#1c1c1c"},seriesColors:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#ff9800","#ff5722"],axisDefaults:{line:{color:"#4d4d4d"},labels:{color:"#fff"},minorGridLines:{color:"#4d4d4d"},majorGridLines:{color:"#4d4d4d"},title:{color:"#fff"},crosshair:{color:"#7f7f7f"},notes:{icon:{background:"transparent",border:{color:"#4d4d4d"}},label:{color:"#fff"},line:{color:"#4d4d4d"}}}},gauge:{pointer:{color:"#3f51b5"},scale:{rangePlaceholderColor:"#4d4d4d",labels:{color:"#fff"},minorTicks:{color:"#fff"},majorTicks:{color:"#fff"},line:{color:"#fff"}}},diagram:{shapeDefaults:{fill:{color:"#3f51b5"},connectorDefaults:{fill:{color:"#7f7f7f"},stroke:{color:e},hover:{fill:{color:e},stroke:{color:"#7f7f7f"}}},content:{color:"#fff"}},editable:{resize:{handles:{fill:{color:e},stroke:{color:"#fff"},hover:{fill:{color:"#fff"},stroke:{color:"#fff"}}}},rotate:{thumb:{stroke:{color:"#fff"},fill:{color:"#fff"}}}},selectable:{stroke:{color:"#fff"}},connectionDefaults:{stroke:{color:"#7f7f7f"},content:{color:"#fff"},selection:{handles:{fill:{color:e},stroke:{color:"#fff"}},stroke:{color:"#fff"}}}},treeMap:{colors:[["#3f51b5","#cff3f0"],["#03a9f4","#e5f6fe"],["#4caf50","#edf7ed"],["#f9ce1d","#fefae8"],["#ff9800","#fff4e5"],["#ff5722","#ffeee8"]]}}),"#333333"),w="#7f7f7f",r="#bdbdbd",a="#c8c8c8",b,x=["#008fd3","#99d101","#f39b02","#f05662","#c03c53","#acacac"],k,C=x[0],S;function T(){return{icon:{background:"#007cc0",border:{color:"#007cc0"}},label:{color:"#ffffff"},line:{color:a}}}t("fiori",{chart:{title:{color:i},legend:{labels:{color:i},inactiveItems:{labels:{color:w},markers:{color:w}}},seriesDefaults:{labels:{color:i},errorBars:{color:i},notes:T(),candlestick:{downColor:a,line:{color:r}},area:{opacity:.8},waterfall:{line:{color:a}},horizontalWaterfall:{line:{color:a}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:x,axisDefaults:{line:{color:a},labels:{color:i},minorGridLines:{color:"#dddddd"},majorGridLines:{color:a},title:{color:i},crosshair:{color:w},notes:T()}},gauge:{pointer:{color:C},scale:{rangePlaceholderColor:a,labels:{color:i},minorTicks:{color:i},majorTicks:{color:i},line:{color:i}}},diagram:{shapeDefaults:{fill:{color:C},connectorDefaults:{fill:{color:i},stroke:{color:e},hover:{fill:{color:e},stroke:{color:i}}},content:{color:i}},editable:{resize:{handles:{fill:{color:e},stroke:{color:r},hover:{fill:{color:r},stroke:{color:r}}}},rotate:{thumb:{stroke:{color:r},fill:{color:r}}}},selectable:{stroke:{color:r}},connectionDefaults:{stroke:{color:r},content:{color:r},selection:{handles:{fill:{color:e},stroke:{color:r}},stroke:{color:r}}}},treeMap:{colors:K(x,["#cbe8f5","#eaf5cb","#fceacc","#fbdcdf","#f2d7dc","#eeeeee"])}});var o="#4e4e4e",A="#7f7f7f",s="#bdbdbd",M="#c8c8c8",D,E=["#0072c6","#5db2ff","#008a17","#82ba00","#ff8f32","#ac193d"],P,I=E[0],B;function z(){return{icon:{background:"#00b0ff",border:{color:"#00b0ff"}},label:{color:"#ffffff"},line:{color:M}}}t("office365",{chart:{title:{color:o},legend:{labels:{color:o},inactiveItems:{labels:{color:A},markers:{color:A}}},seriesDefaults:{labels:{color:o},errorBars:{color:o},notes:z(),candlestick:{downColor:M,line:{color:s}},area:{opacity:.8},waterfall:{line:{color:M}},horizontalWaterfall:{line:{color:M}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:E,axisDefaults:{line:{color:M},labels:{color:o},minorGridLines:{color:"#e5e5e5"},majorGridLines:{color:M},title:{color:o},crosshair:{color:A},notes:z()}},gauge:{pointer:{color:I},scale:{rangePlaceholderColor:M,labels:{color:o},minorTicks:{color:o},majorTicks:{color:o},line:{color:o}}},diagram:{shapeDefaults:{fill:{color:I},connectorDefaults:{fill:{color:o},stroke:{color:e},hover:{fill:{color:e},stroke:{color:o}}},content:{color:o}},editable:{resize:{handles:{fill:{color:e},stroke:{color:s},hover:{fill:{color:s},stroke:{color:s}}}},rotate:{thumb:{stroke:{color:s},fill:{color:s}}}},selectable:{stroke:{color:s}},connectionDefaults:{stroke:{color:s},content:{color:s},selection:{handles:{fill:{color:e},stroke:{color:s}},stroke:{color:s}}}},treeMap:{colors:K(E,["#cbe2f3","#deeffe","#cbe7d0","#e5f0cb","#fee8d5","#eed0d7"])}});var l="#32364c",O="#7f7f7f",c="#bdbdbd",L="#dfe0e1",R,F=["#ff4350","#ff9ea5","#00acc1","#80deea","#ffbf46","#ffd78c"],V,N=F[0],H;function U(){return{icon:{background:"#007cc0",border:{color:"#007cc0"}},label:{color:"#ffffff"},line:{color:L}}}t("nova",{chart:{title:{color:l},legend:{labels:{color:l},inactiveItems:{labels:{color:O},markers:{color:O}}},seriesDefaults:{labels:{color:l},errorBars:{color:l},notes:U(),candlestick:{downColor:L,line:{color:c}},area:{opacity:.8},waterfall:{line:{color:L}},horizontalWaterfall:{line:{color:L}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:F,axisDefaults:{line:{color:L},labels:{color:l},minorGridLines:{color:"#dfe0e1"},majorGridLines:{color:L},title:{color:l},crosshair:{color:l},notes:U()}},gauge:{pointer:{color:N},scale:{rangePlaceholderColor:L,labels:{color:l},minorTicks:{color:l},majorTicks:{color:l},line:{color:l}}},diagram:{shapeDefaults:{fill:{color:N},connectorDefaults:{fill:{color:l},stroke:{color:e},hover:{fill:{color:e},stroke:{color:l}}},content:{color:l}},editable:{resize:{handles:{fill:{color:e},stroke:{color:c},hover:{fill:{color:c},stroke:{color:c}}}},rotate:{thumb:{stroke:{color:c},fill:{color:c}}}},selectable:{stroke:{color:c}},connectionDefaults:{stroke:{color:c},content:{color:c},selection:{handles:{fill:{color:e},stroke:{color:c}},stroke:{color:c}}}},treeMap:{colors:K(F,["#ffd9dc","#ffeced","#cceef3","#e6f8fb","#fff2da","#fff7e8"])}});var j,G,W=(t("default-v2",{chart:{},gauge:{},diagram:{},treeMap:{colors:K(["#ff6358","#ffd246","#78d237","#28b4c8","#2d73f5","#aa46be"],["#ffd9dc","#ffeced","#cceef3","#e6f8fb","#fff2da","#fff7e8"])}}),y.sass=y["default-v2"],"#292b2c"),q,Y=["#0275d8","#5bc0de","#5cb85c","#f0ad4e","#e67d4a","#d9534f"],$,X;function K(e,i){return h.map(e,function(e,t){return[[e,i[t]]]})}return t("bootstrap-v4",{chart:{},gauge:{pointer:{color:Y[0]},scale:{rangePlaceholderColor:"rgba(0, 0, 0, .04)",labels:{color:W},minorTicks:{color:W},majorTicks:{color:W},line:{color:W}}},diagram:{},treeMap:{colors:K(Y,["#ffd9dc","#ffeced","#cceef3","#e6f8fb","#fff2da","#fff7e8"])}}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.dataviz.themes.min",["./kendo.dataviz.core.min","./dataviz/themes/chart-base-theme.min","./dataviz/themes/auto-theme.min","./dataviz/themes/themes.min"],function(){var e={id:"dataviz.themes",name:"Themes",description:"Built-in themes for the DataViz widgets",category:"dataviz",depends:["dataviz.core"],hidden:true}})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("dataviz/chart/kendo-chart.min",["../../kendo.core.min","../../kendo.color.min","../../kendo.drawing.min","../../kendo.dataviz.core.min"],function(){var m=window.kendo.jQuery,S=(window.kendo.dataviz=window.kendo.dataviz||{},kendo.dataviz),t=S.Class,v=S.isNumber,T=S.constants,f=T.MAX_VALUE,u=T.MIN_VALUE,h=T.VALUE,A=T.CENTER,P=T.TOP,I=T.BOTTOM,B=T.LEFT,a=T.WHITE,d=T.CIRCLE,_=T.X,g=T.Y,z=T.RIGHT,n=T.BLACK,b=T.DATE,o=T.DEFAULT_PRECISION,i=T.ARC,M=S.defined,c=S.getter,p=S.isArray,w=S.ChartElement,D=S.Point,E=S.Box,y=S.alignPathToPixel,e=S.setDefaultOptions,k=S.inArray,O=S.isFunction,L=S.valueOrDefault,C=S.isObject,x=S.deepExtend,R=S.last,F=S.eventElement,V=S.getTemplate,N=S.TextBox,H=S.ShapeElement,U=S.getSpacing,s=S.CurveProcessor,j=S.append,G=S.isString,W=S.parseDate,l=S.styleValue,q=S.CategoryAxis,Y=S.BoxElement,$=S.round,X=S.limitValue,K=S.grep,Q=S.elementStyles,Z=S.hasClasses,r=S.bindEvents,J=S.services,ee=S.unbindEvents,te=kendo.support,ie=kendo.drawing,re=ie.Path,ne=ie.Animation,ae=ie.AnimationFactory,oe=ie.Group,se=kendo.Color,le=kendo.geometry,ce=le.Point,he=le.transform,ue=t.extend({init:function(e){this._axis=e;this.options=e.options},value:function(e){var t=this._axis;var i=t.getCategory?t.getCategory(e):t.getValue(e);return i},slot:function(e,t,i){if(i===void 0)i=true;return this._axis.slot(e,t,i)},range:function(){return this._axis.range()},valueRange:function(){return this._axis.valueRange()}});function fe(e,t){for(var i=0;i<t.length;i++)if(t[i].options.name===e){t[i].prepareUserOptions();return new ue(t[i])}}var de=kendo.Class.extend({init:function(e){this.visual=e.visual;this.chartsVisual=e.chartContainer.visual;this._pane=e},findAxisByName:function(e){return fe(e,this._pane.axes)}}),pe=t.extend({init:function(e){this._plotArea=e;this.visual=e.visual;this.backgroundVisual=e._bgVisual}});function ve(e){var t=e.length;var i=0;for(var r=0;r<t;r++){var n=e[r];if(v(n))i++}return i}var ge={min:function(e){var t=e.length;var i=f;for(var r=0;r<t;r++){var n=e[r];if(v(n))i=Math.min(i,n)}return i===f?e[0]:i},max:function(e){var t=e.length;var i=u;for(var r=0;r<t;r++){var n=e[r];if(v(n))i=Math.max(i,n)}return i===u?e[0]:i},sum:function(e){var t=e.length;var i=0;for(var r=0;r<t;r++){var n=e[r];if(v(n))i+=n}return i},sumOrNull:function(e){var t=null;if(ve(e))t=ge.sum(e);return t},count:function(e){var t=e.length;var i=0;for(var r=0;r<t;r++){var n=e[r];if(n!==null&&M(n))i++}return i},avg:function(e){var t=ve(e);var i=e[0];if(t>0)i=ge.sum(e)/t;return i},first:function(e){var t=e.length;for(var i=0;i<t;i++){var r=e[i];if(r!==null&&M(r))return r}return e[0]}};function me(e,t){if(t===null)return t;var i=c(e,true);return i(t)}var _e=t.extend({init:function(){this._valueFields={};this._otherFields={};this._nullValue={};this._undefinedValue={}},register:function(e,t,i){var r=this;if(t===void 0)t=[h];if(i===void 0)i={};for(var n=0;n<e.length;n++){var a=e[n];r._valueFields[a]=t;r._otherFields[a]=i;r._nullValue[a]=r._makeValue(t,null);r._undefinedValue[a]=r._makeValue(t,undefined)}},canonicalFields:function(e){return this.valueFields(e).concat(this.otherFields(e))},valueFields:function(e){return this._valueFields[e.type]||[h]},otherFields:function(e){return this._otherFields[e.type]||[h]},bindPoint:function(e,t,i){var r=e.data;var n=M(i)?i:r[t];var a={valueFields:{value:n}};var o=this.valueFields(e);var s=this._otherFields[e.type];var l,c;if(n===null)c=this._nullValue[e.type];else if(!M(n))c=this._undefinedValue[e.type];else if(Array.isArray(n)){var h=n.slice(o.length);c=this._bindFromArray(n,o);l=this._bindFromArray(h,s)}else if(typeof n==="object"){var u=this.sourceFields(e,o);var f=this.sourceFields(e,s);c=this._bindFromObject(n,o,u);l=this._bindFromObject(n,s,f)}if(M(c))if(o.length===1)a.valueFields.value=c[o[0]];else a.valueFields=c;a.fields=l||{};return a},_makeValue:function(e,t){var i={};var r=e.length;for(var n=0;n<r;n++){var a=e[n];i[a]=t}return i},_bindFromArray:function(e,t){var i={};if(t){var r=Math.min(t.length,e.length);for(var n=0;n<r;n++)i[t[n]]=e[n]}return i},_bindFromObject:function(e,t,i){if(i===void 0)i=t;var r={};if(t){var n=t.length;for(var a=0;a<n;a++){var o=t[a];var s=i[a];if(s!==null)r[o]=me(s,e)}}return r},sourceFields:function(e,t){var i=[];if(t){var r=t.length;for(var n=0;n<r;n++){var a=t[n];var o=a===h?"field":a+"Field";i.push(e[o]!==null?e[o]||a:null)}}return i}}),ye=(_e.current=new _e,"stderr"),we,be=/percent(?:\w*)\((\d+)\)/,xe=new RegExp("^"+"stddev"+"(?:\\((\\d+(?:\\.\\d+)?)\\))?$"),ke=t.extend({init:function(e,t,i){this.initGlobalRanges(e,t,i)},initGlobalRanges:function(e,t,i){var r=t.data;var n=xe.exec(e);if(n){this.valueGetter=this.createValueGetter(t,i);var a=this.getAverage(r);var o=this.getStandardDeviation(r,a,false);var s=n[1]?parseFloat(n[1]):1;var l={low:a.value-o*s,high:a.value+o*s};this.globalRange=function(){return l}}else if(e.indexOf&&e.indexOf(ye)>=0){this.valueGetter=this.createValueGetter(t,i);var c=this.getStandardError(r,this.getAverage(r));this.globalRange=function(e){return{low:e-c,high:e+c}}}},createValueGetter:function(e,t){var i=e.data;var r=_e.current;var n=r.valueFields(e);var a=M(i[0])?i[0]:{};var o;if(p(a)){var s=t?n.indexOf(t):0;o=c("["+s+"]")}else if(v(a))o=c();else if(typeof a===T.OBJECT){var l=r.sourceFields(e,n);o=c(l[n.indexOf(t)])}return o},getErrorRange:function(e,t){var i,r,n;if(!M(t))return null;if(this.globalRange)return this.globalRange(e);if(p(t)){i=e-t[0];r=e+t[1]}else if(v(n=parseFloat(t))){i=e-n;r=e+n}else if(n=be.exec(t)){var a=e*(parseFloat(n[1])/100);i=e-Math.abs(a);r=e+Math.abs(a)}else throw new Error("Invalid ErrorBar value: "+t);return{low:i,high:r}},getStandardError:function(e,t){return this.getStandardDeviation(e,t,true)/Math.sqrt(t.count)},getStandardDeviation:function(e,t,i){var r=this;var n=e.length;var a=i?t.count-1:t.count;var o=0;for(var s=0;s<n;s++){var l=r.valueGetter(e[s]);if(v(l))o+=Math.pow(l-t.value,2)}return Math.sqrt(o/a)},getAverage:function(e){var t=this;var i=e.length;var r=0;var n=0;for(var a=0;a<i;a++){var o=t.valueGetter(e[a]);if(v(o)){r+=o;n++}}return{value:r/n,count:n}}}),Ce,Se=600,Te="fadeIn",Ae,Me=.8,De=5,Ee=(te.browser||{}).msie?.001:0,Pe="errorLow",Ie="errorHigh",Be="xErrorLow",ze="xErrorHigh",Oe="yErrorLow",Le="yErrorHigh",Re=8,Fe="zero",Ve="interpolate",Ne="gap",He="above",Ue="below",je="smooth",Ge="step",We="area",qe="bar",Ye="boxPlot",$e="bubble",Xe="bullet",Ke="candlestick",Qe="column",Ze="donut",Je="funnel",et="heatmap",tt="horizontalWaterfall",it="line",rt="ohlc",nt="pie",at="polarArea",ot="polarLine",st="polarScatter",lt="radarArea",ct="radarColumn",ht="radarLine",ut="rangeArea",ft="rangeBar",dt="rangeColumn",pt="scatter",vt="scatterLine",gt="verticalArea",mt="verticalBoxPlot",_t="verticalBullet",yt="verticalLine",wt="verticalRangeArea",bt="waterfall",xt=[qe,Qe,rt,Ke,Ye,mt,Xe,dt,ft,bt,tt],kt="legendItemClick",Ct="legendItemHover",St="legendItemLeave",Tt="seriesClick",At="seriesHover",Mt="seriesOver",Dt="seriesLeave",Et="plotAreaClick",Pt="plotAreaHover",It="plotAreaLeave",Bt="drag",zt="dragEnd",Ot="dragStart",Lt="zoomStart",Rt="zoom",Ft="zoomEnd",Vt="selectStart",Nt="select",Ht="selectEnd",Ut="render",jt="showTooltip",Gt="hideTooltip",Wt="paneRender",qt="log",Yt="category",$t="insideEnd",Xt="insideBase",Kt="outsideEnd",Qt="DOMMouseScroll mousewheel",Zt=150,Jt=.3,ei={INITIAL_ANIMATION_DURATION:Se,FADEIN:Te,LEGEND_ITEM_CLICK:kt,LEGEND_ITEM_HOVER:Ct,LEGEND_ITEM_LEAVE:St,SERIES_CLICK:Tt,SERIES_HOVER:At,SERIES_OVER:Mt,SERIES_LEAVE:Dt,GLASS:"glass",BORDER_BRIGHTNESS:Me,TOOLTIP_OFFSET:De,START_SCALE:Ee,ERROR_LOW_FIELD:Pe,ERROR_HIGH_FIELD:Ie,X_ERROR_LOW_FIELD:Be,X_ERROR_HIGH_FIELD:ze,Y_ERROR_LOW_FIELD:Oe,Y_ERROR_HIGH_FIELD:Le,LINE_MARKER_SIZE:Re,INTERPOLATE:Ve,ZERO:Fe,SMOOTH:je,STEP:Ge,CATEGORY:Yt,FUNNEL:Je,BAR:qe,CANDLESTICK:Ke,PIE:nt,COLUMN:Qe,AREA:We,VERTICAL_BULLET:_t,BOX_PLOT:Ye,OHLC:rt,WATERFALL:bt,LINE:it,BULLET:Xe,VERTICAL_LINE:yt,VERTICAL_AREA:gt,RANGE_AREA:ut,VERTICAL_RANGE_AREA:wt,RANGE_COLUMN:dt,VERTICAL_BOX_PLOT:mt,RANGE_BAR:ft,HORIZONTAL_WATERFALL:tt,SCATTER:pt,SCATTER_LINE:vt,BUBBLE:$e,RADAR_AREA:lt,RADAR_LINE:ht,RADAR_COLUMN:ct,POLAR_LINE:ot,POLAR_AREA:at,POLAR_SCATTER:st,RENDER:Ut,PLOT_AREA_CLICK:Et,PLOT_AREA_HOVER:Pt,PLOT_AREA_LEAVE:It,LOGARITHMIC:qt,DRAG:Bt,DRAG_START:Ot,DRAG_END:zt,ZOOM_START:Lt,ZOOM:Rt,ZOOM_END:Ft,SELECT_START:Vt,SELECT:Nt,SELECT_END:Ht,PANE_RENDER:Wt,GAP:Ne,DONUT:Ze,INSIDE_END:$t,INSIDE_BASE:Xt,OUTSIDE_END:Kt,MOUSEWHEEL:Qt,MOUSEWHEEL_DELAY:Zt,MOUSEWHEEL_ZOOM_RATE:Jt,SHOW_TOOLTIP:jt,HIDE_TOOLTIP:Gt,EQUALLY_SPACED_SERIES:xt,ABOVE:He,BELOW:Ue,HEATMAP:et},ti=4,ii=w.extend({init:function(e,t,i,r,n,a){w.fn.init.call(this,a);this.low=e;this.high=t;this.isVertical=i;this.chart=r;this.series=n},reflow:function(e){var t=this.options.endCaps;var i=this.isVertical;var h=this.getAxis();var r=h.getSlot(this.low,this.high);var n=e.center();var a=this.getCapsWidth(e,i);var o=i?n.x:n.y;var s=o-a;var l=o+a;var c;if(i){c=[new D(n.x,r.y1),new D(n.x,r.y2)];if(t)c.push(new D(s,r.y1),new D(l,r.y1),new D(s,r.y2),new D(l,r.y2));this.box=new E(s,r.y1,l,r.y2)}else{c=[new D(r.x1,n.y),new D(r.x2,n.y)];if(t)c.push(new D(r.x1,s),new D(r.x1,l),new D(r.x2,s),new D(r.x2,l));this.box=new E(r.x1,s,r.x2,l)}this.linePoints=c},getCapsWidth:function(e,t){var i=t?e.width():e.height();var r=Math.min(Math.floor(i/2),ti)||ti;return r},createVisual:function(){var t=this;var e=this.options;var i=e.visual;if(i)this.visual=i({low:this.low,high:this.high,rect:this.box.toRect(),sender:this.getSender(),options:{endCaps:e.endCaps,color:e.color,line:e.line},createVisual:function(){t.createDefaultVisual();var e=t.visual;delete t.visual;return e}});else this.createDefaultVisual()},createDefaultVisual:function(){var e=this;var t=this;var i=t.options;var r=t.linePoints;var n={stroke:{color:i.color,width:i.line.width,dashType:i.line.dashType}};w.fn.createVisual.call(this);for(var a=0;a<r.length;a+=2){var o=new re(n).moveTo(r[a].x,r[a].y).lineTo(r[a+1].x,r[a+1].y);y(o);e.visual.append(o)}}}),ri=(e(ii,{animation:{type:Te,delay:Se},endCaps:true,line:{width:2},zIndex:1}),ii.extend({getAxis:function(){var e=this.chart.seriesValueAxis(this.series);return e}})),ni=5;function ai(e,t,i,r){if(i===void 0)i={};if(r===void 0)r=false;var n=i.defaults=i.defaults||{};var a=i.depth=i.depth||0;var o=false;i.excluded=i.excluded||[];if(a>ni)return null;for(var s in e)if(!k(s,i.excluded)&&e.hasOwnProperty(s)){var l=e[s];if(O(l)){o=true;if(!r)e[s]=L(l(t),n[s])}else if(C(l)){if(!r)i.defaults=n[s];i.depth++;o=ai(l,t,i,r)||o;i.depth--}}return o}function oi(e){var t=e.length;var i=0;for(var r=0;r<t;r++)i=Math.max(i,e[r].data.length);return i}var si=w.extend({init:function(e,t){w.fn.init.call(this,t);this.plotArea=e;this.chartService=e.chartService;this.categoryAxis=e.seriesCategoryAxis(t.series[0]);this.valueAxisRanges={};this.points=[];this.categoryPoints=[];this.seriesPoints=[];this.seriesOptions=[];this._evalSeries=[];this.render()},render:function(){this.traverseDataPoints(this.addValue.bind(this))},pointOptions:function(e,t){var i=this.seriesOptions[t];if(!i){var r=this.pointType().prototype.defaults;this.seriesOptions[t]=i=x({},r,{vertical:!this.options.invertAxes},e)}return i},plotValue:function(e){if(!e)return 0;if(this.options.isStacked100&&v(e.value)){var t=e.categoryIx;var i=this.categoryPoints[t];var r=[];var n=0;for(var a=0;a<i.length;a++){var o=i[a];if(o){var s=e.series.stack;var l=o.series.stack;if(s&&l&&s.group!==l.group)continue;if(v(o.value)){n+=Math.abs(o.value);r.push(Math.abs(o.value))}}}if(n>0)return e.value/n}return e.value},plotRange:function(e,t){var i=this;if(t===void 0)t=0;var h=this.categoryPoints[e.categoryIx];if(this.options.isStacked){var r=this.plotValue(e);var u=r>=0;var n=t;var f=false;for(var a=0;a<h.length;a++){var o=h[a];if(e===o)break;var s=e.series.stack;var l=o.series.stack;if(s&&l){if(typeof s===T.STRING&&s!==l)continue;if(s.group&&s.group!==l.group)continue}var c=i.plotValue(o);if(c>=0&&u||c<0&&!u){n+=c;r+=c;f=true;if(i.options.isStacked100)r=Math.min(r,1)}}if(f)n-=t;return[n,r]}var d=e.series;var p=this.seriesValueAxis(d);var v=this.categoryAxisCrossingValue(p);return[v,S.convertableToNumber(e.value)?e.value:v]},stackLimits:function(e,t){var i=this;var r=f;var n=u;for(var a=0;a<this.categoryPoints.length;a++){var o=i.categoryPoints[a];if(!o)continue;for(var s=0;s<o.length;s++){var l=o[s];if(l)if(l.series.stack===t||l.series.axis===e){var c=i.plotRange(l,0)[1];if(M(c)&&isFinite(c)){n=Math.max(n,c);r=Math.min(r,c)}}}}return{min:r,max:n}},updateStackRange:function(){var e=this;var t=this.options;var h=t.isStacked;var i=t.series;var r={};if(h)for(var n=0;n<i.length;n++){var a=i[n];var o=a.axis;var s=o+a.stack;var l=r[s];if(!l){l=e.stackLimits(o,a.stack);var c=e.errorTotals;if(c){if(c.negative.length)l.min=Math.min(l.min,S.sparseArrayLimits(c.negative).min);if(c.positive.length)l.max=Math.max(l.max,S.sparseArrayLimits(c.positive).max)}if(l.min!==f||l.max!==u)r[s]=l;else l=null}if(l)e.valueAxisRanges[o]=l}},addErrorBar:function(e,t,i){var r=e.value;var n=e.series;var a=e.seriesIx;var o=e.options.errorBars;var s=t.fields[Pe];var l=t.fields[Ie];var c;if(v(s)&&v(l))c={low:s,high:l};else if(o&&M(o.value)){this.seriesErrorRanges=this.seriesErrorRanges||[];this.seriesErrorRanges[a]=this.seriesErrorRanges[a]||new ke(o.value,n,h);c=this.seriesErrorRanges[a].getErrorRange(r,o.value)}if(c){e.low=c.low;e.high=c.high;this.addPointErrorBar(e,i)}},addPointErrorBar:function(e,t){var i=!this.options.invertAxes;var r=e.options.errorBars;var n=e.series;var a=e.low;var o=e.high;if(this.options.isStacked){var s=this.stackedErrorRange(e,t);a=s.low;o=s.high}else{var l={categoryIx:t,series:n};this.updateRange({value:a},l);this.updateRange({value:o},l)}var c=new ri(a,o,i,this,n,r);e.errorBars=[c];e.append(c)},stackedErrorRange:function(e,t){var i=this.plotRange(e,0)[1]-e.value;var r=e.low+i;var n=e.high+i;this.errorTotals=this.errorTotals||{positive:[],negative:[]};if(r<0)this.errorTotals.negative[t]=Math.min(this.errorTotals.negative[t]||0,r);if(n>0)this.errorTotals.positive[t]=Math.max(this.errorTotals.positive[t]||0,n);return{low:r,high:n}},addValue:function(e,t){var i=t.categoryIx;var r=t.series;var n=t.seriesIx;var a=this.categoryPoints[i];if(!a)this.categoryPoints[i]=a=[];var o=this.seriesPoints[n];if(!o)this.seriesPoints[n]=o=[];var s=this.createPoint(e,t);if(s){m.extend(s,t);s.owner=this;s.noteText=e.fields.noteText;if(!M(s.dataItem))s.dataItem=r.data[i];this.addErrorBar(s,e,i)}this.points.push(s);o.push(s);a.push(s);this.updateRange(e.valueFields,t)},evalPointOptions:function(e,t,i,r,n,a){var o={defaults:n._defaults,excluded:["data","aggregate","_events","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint"]};var s=this._evalSeries[a];if(!M(s))this._evalSeries[a]=s=ai(e,{},o,true);var l=e;if(s){l=x({},l);ai(l,{value:t,category:i,index:r,series:n,dataItem:n.data[r]},o)}return l},updateRange:function(e,t){var i=t.series.axis;var r=e.value;var n=this.valueAxisRanges[i];if(isFinite(r)&&r!==null){n=this.valueAxisRanges[i]=n||{min:f,max:u};n.min=Math.min(n.min,r);n.max=Math.max(n.max,r)}},seriesValueAxis:function(e){var t=this.plotArea;var i=e.axis;var r=i?t.namedValueAxes[i]:t.valueAxis;if(!r)throw new Error("Unable to locate value axis with name "+i);return r},reflow:function(e){var h=this;var u=this.categorySlots=[];var f=this.points;var d=this.categoryAxis;var p=0;this.traverseDataPoints(function(c,e){var t=e.categoryIx;var i=e.series;var r=h.seriesValueAxis(i);var n=f[p++];var a=u[t];if(!a)u[t]=a=h.categorySlot(d,t,r);if(n){var o=h.plotRange(n,r.startValue());var s=h.valueSlot(r,o);if(s){var l=h.pointSlot(a,s);n.aboveAxis=h.aboveAxis(n,r);n.stackValue=o[1];if(h.options.isStacked100)n.percentage=h.plotValue(n);h.reflowPoint(n,l)}else n.visible=false}});this.reflowCategories(u);if(!this.options.clip&&this.options.limitPoints&&this.points.length)this.limitPoints();this.box=e},valueSlot:function(e,t){return e.getSlot(t[0],t[1],!this.options.clip)},limitPoints:function(){var e=this;var t=this.categoryPoints;var i=t[0].concat(R(t));for(var r=0;r<i.length;r++)if(i[r])e.limitPoint(i[r])},limitPoint:function(e){var t=this.categoryAxis.limitSlot(e.box);if(!t.equals(e.box))e.reflow(t)},aboveAxis:function(e,t){var i=this.categoryAxisCrossingValue(t);var r=e.value;return t.options.reverse?r<i:r>=i},categoryAxisCrossingValue:function(e){var t=this.categoryAxis;var i=e.options;var r=[].concat(i.axisCrossingValues||i.axisCrossingValue);return r[t.axisIndex||0]||0},reflowPoint:function(e,t){e.reflow(t)},reflowCategories:function(){},pointSlot:function(e,t){var i=this.options;var r=i.invertAxes;var n=r?t:e;var a=r?e:t;return new E(n.x1,a.y1,n.x2,a.y2)},categorySlot:function(e,t){return e.getSlot(t)},traverseDataPoints:function(e){var t=this;var i=this.options.series;var r=oi(i);var n=i.length;for(var a=0;a<n;a++)t._outOfRangeCallback(i[a],"_outOfRangeMinPoint",a,e);for(var o=0;o<r;o++)for(var s=0;s<n;s++){var l=i[s];var h=t.categoryAxis.categoryAt(o);var u=t._bindPoint(l,s,o);e(u,{category:h,categoryIx:o,categoriesCount:r,series:l,seriesIx:s})}for(var c=0;c<n;c++)t._outOfRangeCallback(i[c],"_outOfRangeMaxPoint",c,e)},_outOfRangeCallback:function(e,t,i,r){var n=e[t];if(n){var a=n.categoryIx;var o=this._bindPoint(e,i,a,n.item);r(o,{category:n.category,categoryIx:a,series:e,seriesIx:i,dataItem:n.item})}},_bindPoint:function(e,t,i,r){if(!this._bindCache)this._bindCache=[];var n=this._bindCache[t];if(!n)n=this._bindCache[t]=[];var a=n[i];if(!a)a=n[i]=_e.current.bindPoint(e,i,r);return a},formatPointValue:function(e,t){if(e.value===null)return"";return this.chartService.format.auto(t,e.value)},pointValue:function(e){return e.valueFields.value}}),li=(e(si,{series:[],invertAxes:false,isStacked:false,clip:true,limitPoints:true}),{click:function(e,t){return e.trigger(Tt,this.eventArgs(t))},hover:function(e,t){return e.trigger(At,this.eventArgs(t))},over:function(e,t){return e.trigger(Mt,this.eventArgs(t))},out:function(e,t){return e.trigger(Dt,this.eventArgs(t))},eventArgs:function(e){return{value:this.value,percentage:this.percentage,stackValue:this.stackValue,category:this.category,series:this.series,dataItem:this.dataItem,runningTotal:this.runningTotal,total:this.total,element:F(e),originalEvent:e,point:this}}}),ci={createNote:function(){var e=this.options.notes;var t=this.noteText||e.label.text;if(e.visible!==false&&M(t)&&t!==null){this.note=new S.Note({value:this.value,text:t,dataItem:this.dataItem,category:this.category,series:this.series},this.options.notes,this.owner.chartService);this.append(this.note)}}},hi=w.extend({init:function(e,t){w.fn.init.call(this);this.value=e;this.options=t;this.aboveAxis=L(this.options.aboveAxis,true);this.tooltipTracking=true},render:function(){var e=this.options;var t=e.markers;var i=e.labels;if(this._rendered)return;this._rendered=true;if(t.visible&&t.size){this.marker=this.createMarker();this.append(this.marker)}if(i.visible){var r=V(i);var n=this.pointData();var a=this.value;if(r)a=r(n);else if(i.format)a=this.formatValue(i.format);this.label=new N(a,x({align:A,vAlign:A,margin:{left:5,right:5},zIndex:L(i.zIndex,this.series.zIndex)},i),n);this.append(this.label)}this.createNote();if(this.errorBar)this.append(this.errorBar)},markerBorder:function(){var e=this.options.markers;var t=e.background;var i=x({color:this.color},e.border);if(!M(i.color))i.color=new se(t).brightness(Me).toHex();return i},createVisual:function(){},createMarker:function(){var e=this.options.markers;var t=new H({type:e.type,width:e.size,height:e.size,rotation:e.rotation,background:e.background,border:this.markerBorder(),opacity:this.series.opacity||e.opacity,zIndex:L(e.zIndex,this.series.zIndex),animation:e.animation,visual:e.visual},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category});return t},markerBox:function(){if(!this.marker){this.marker=this.createMarker();this.marker.reflow(this._childBox)}return this.marker.box},reflow:function(e){var t=this;var i=this;var r=i.options;var n=i.aboveAxis;var a=r.vertical;this.render();this.box=e;var o=e.clone();if(a)if(n)o.y1-=o.height();else o.y2+=o.height();else if(n)o.x1+=o.width();else o.x2-=o.width();this._childBox=o;if(this.marker)this.marker.reflow(o);this.reflowLabel(o);if(this.errorBars)for(var s=0;s<this.errorBars.length;s++)t.errorBars[s].reflow(o);if(this.note){var l=this.markerBox();if(!(r.markers.visible&&r.markers.size)){var c=l.center();l=new E(c.x,c.y,c.x,c.y)}this.note.reflow(l)}},reflowLabel:function(e){var t=this;var i=t.options;var r=t.label;var n=i.labels.position;if(r){n=n===He?P:n;n=n===Ue?I:n;r.reflow(e);r.box.alignTo(this.markerBox(),n);r.reflow(r.box)}},createHighlight:function(){var e=this.options.highlight.markers;var t=this.markerBorder().color;var i=this.options.markers;var r=i.size+(i.border.width||0)+(e.border.width||0);var n=new H({type:i.type,width:r,height:r,rotation:i.rotation,background:e.color||t,border:{color:e.border.color,width:e.border.width,opacity:L(e.border.opacity,1)},opacity:L(e.opacity,1)});n.reflow(this._childBox);return n.getElement()},highlightVisual:function(){return(this.marker||{}).visual},highlightVisualArgs:function(){var e=this.marker;var t,i;if(e){i=e.paddingBox.toRect();t=e.visual}else{var r=this.options.markers.size;var n=r/2;var a=this.box.center();i=new le.Rect([a.x-n,a.y-n],[r,r])}return{options:this.options,rect:i,visual:t}},tooltipAnchor:function(){var e=this.markerBox();var t=this.owner.pane.clipBox();var i=!t||t.overlaps(e);if(i){var r=e.x2+De;var n=B;var a,o;if(this.aboveAxis){a=e.y1;o=I}else{a=e.y2;o=P}return{point:new D(r,a),align:{horizontal:n,vertical:o}}}},formatValue:function(e){return this.owner.formatPointValue(this,e)},overlapsBox:function(e){var t=this.markerBox();return t.overlaps(e)},unclipElements:function(){if(this.label)this.label.options.noclip=true;if(this.note)this.note.options.noclip=true},pointData:function(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,series:this.series}}}),ui=(hi.prototype.defaults={vertical:true,markers:{visible:true,background:a,size:Re,type:d,border:{width:2},opacity:1},labels:{visible:false,position:He,margin:U(3),padding:U(4),animation:{type:Te,delay:Se}},notes:{label:{}},highlight:{markers:{border:{color:"#fff",width:2}},zIndex:T.HIGHLIGHT_ZINDEX},errorBars:{line:{width:1}}},x(hi.prototype,li),x(hi.prototype,ci),w.extend({init:function(e,t,i){w.fn.init.call(this);this.linePoints=e;this.series=t;this.seriesIx=i},points:function(){return this.toGeometryPoints(this.linePoints)},toGeometryPoints:function(e){var t=[];for(var i=0,r=e.length;i<r;i++)if(e[i]&&e[i].visible!==false)t.push(e[i]._childBox.toRect().center());return t},createVisual:function(){var e=this;var t=this.series.visual;if(t){this.visual=t({points:this.toGeometryPoints(this.linePoints),series:this.series,sender:this.getSender(),createVisual:function(){e.segmentVisual();return e.visual}});if(this.visual&&!M(this.visual.options.zIndex))this.visual.options.zIndex=this.series.zIndex}else this.segmentVisual()},segmentVisual:function(){var e=this;var t=e.options;var i=e.series;var r=i.color;var n=i._defaults;if(O(r)&&n)r=n.color;var a=re.fromPoints(this.points(),{stroke:{color:r,width:i.width,opacity:i.opacity,dashType:i.dashType},zIndex:i.zIndex});if(t.closed)a.close();this.visual=a},aliasFor:function(e,t){return this.parent.getNearestPoint(t.x,t.y,this.seriesIx)}})),fi=(e(ui,{closed:false}),{calculateStepPoints:function(e){var h=this.parent.plotArea.seriesCategoryAxis(this.series);var t=h.options;var u=t.justified;var f=t.vertical;var d=t.reverse;var i=f?_:g;var r=f?g:_;var n=d?2:1;var p=n;var a=di(e[0],i,n,r,p);var o=[a];for(var s=1;s<e.length;s++){var l=di(e[s],i,n,r,p);if(a[i]!==l[i]){var c=new ce;c[i]=a[i];c[r]=l[r];o.push(c,l)}a=l}if(!u)o.push(di(R(e),i,n,r,d?1:2));else if(a!==R(o))o.push(a);return o}});function di(e,t,i,r,n){var a=e.box;var o=new ce;o[t]=a[t+i];o[r]=a[r+n];return o}var pi=ui.extend({points:function(){return this.calculateStepPoints(this.linePoints)}}),vi=(x(pi.prototype,fi),ui.extend({segmentVisual:function(){var e=this.series;var t=e._defaults;var i=e.color;if(O(i)&&t)i=t.color;var r=new s(this.options.closed);var n=r.process(this.points());var a=new re({stroke:{color:i,width:e.width,opacity:e.opacity,dashType:e.dashType},zIndex:e.zIndex});a.segments.push.apply(a.segments,n);this.visual=a}})),gi={renderSegments:function(){var e=this;var t=this;var h=t.options;var i=t.seriesPoints;var u=h.series;var f=i.length;var r;this._segments=[];for(var n=0;n<f;n++){var a=u[n];var o=e.sortPoints(i[n]);var d=o.length;var s=[];for(var l=0;l<d;l++){var c=o[l];if(c)s.push(c);else if(e.seriesMissingValues(a)!==Ve){if(s.length>1){r=e.createSegment(s,a,n,r);e._addSegment(r)}s=[]}}if(s.length>1){r=e.createSegment(s,a,n,r);e._addSegment(r)}}this.children.unshift.apply(this.children,this._segments)},_addSegment:function(e){this._segments.push(e);e.parent=this},sortPoints:function(e){return e},seriesMissingValues:function(e){var t=e.missingValues;var i=!t&&this.options.isStacked;return i?Fe:t||Ve},getNearestPoint:function(e,t,i){var r=new D(e,t);var n=this.seriesPoints[i];var a=f;var o;for(var s=0;s<n.length;s++){var l=n[s];if(l&&M(l.value)&&l.value!==null&&l.visible!==false){var h=l.box;var c=h.center().distanceTo(r);if(c<a){o=l;a=c}}}return o}},mi=ne.extend({setup:function(){this._setEnd(this.options.box.x1)},step:function(e){var t=this.options.box;this._setEnd(S.interpolateValue(t.x1,t.x2,e))},_setEnd:function(e){var t=this.element;var i=t.segments;var r=i[1].anchor();var n=i[2].anchor();t.suspend();r.setX(e);t.resume();n.setX(e)}});function _i(e){for(var t=0;t<e.length;t++)if(M(e[t].zIndex))return true}e(mi,{duration:Se}),ae.current.register("clip",mi);var yi={createAnimation:function(){var e=this.getRoot();if(e&&(e.options||{}).transitions!==false){var t=e.size();var i=re.fromRect(t.toRect());this.visual.clip(i);this.animation=new mi(i,{box:t});if(_i(this.options.series))this._setChildrenAnimation(i)}},_setChildrenAnimation:function(e){var t=this.animationPoints();for(var i=0;i<t.length;i++){var r=t[i];if(r&&r.visual&&M(r.visual.options.zIndex))r.visual.clip(e)}}},wi=si.extend({render:function(){si.fn.render.call(this);this.updateStackRange();this.renderSegments()},pointType:function(){return hi},createPoint:function(e,t){var i=t.categoryIx;var r=t.category;var n=t.series;var a=t.seriesIx;var h=this.seriesMissingValues(n);var o=e.valueFields.value;if(!M(o)||o===null)if(h===Fe)o=0;else return null;var s=this.pointOptions(n,a);s=this.evalPointOptions(s,o,r,i,n,a);var l=e.fields.color||n.color;if(O(n.color))l=s.color;var c=new hi(o,s);c.color=l;this.append(c);return c},plotRange:function(e){var t=this;var i=this.plotValue(e);if(this.options.isStacked){var r=e.categoryIx;var n=this.categoryPoints[r];for(var a=0;a<n.length;a++){var o=n[a];if(e===o)break;i+=t.plotValue(o);if(t.options.isStacked100)i=Math.min(i,1)}}return[i,i]},createSegment:function(e,t,i){var r=t.style;var n;if(r===Ge)n=pi;else if(r===je)n=vi;else n=ui;return new n(e,t,i)},animationPoints:function(){var e=this.points;var t=[];for(var i=0;i<e.length;i++)t.push((e[i]||{}).marker);return t.concat(this._segments)},supportsPointInactiveOpacity:function(){return false}}),bi=(x(wi.prototype,gi,yi),ui.extend({init:function(e,t,i,r,n){ui.fn.init.call(this,e,t,i);this.prevSegment=r;this.stackPoints=n},createVisual:function(){var e=this.series;var t=e._defaults;var i=e.line||{};var r=e.color;if(O(r)&&t)r=t.color;this.visual=new oe({zIndex:e.zIndex});this.createFill({fill:{color:r,opacity:e.opacity},stroke:null});if(i.width>0&&i.visible!==false)this.createStroke({stroke:x({color:r,opacity:e.opacity,lineCap:"butt"},i)})},strokeSegments:function(){var e=this._strokeSegments;if(!e)e=this._strokeSegments=this.createStrokeSegments();return e},createStrokeSegments:function(){return this.segmentsFromPoints(this.points())},stackSegments:function(){if(this.prevSegment)return this.prevSegment.createStackSegments(this.stackPoints);return this.createStackSegments(this.stackPoints)},createStackSegments:function(e){return this.segmentsFromPoints(this.toGeometryPoints(e)).reverse()},segmentsFromPoints:function(e){return e.map(function(e){return new le.Segment(e)})},createStroke:function(e){var t=new re(e);t.segments.push.apply(t.segments,this.strokeSegments());this.visual.append(t)},hasStackSegment:function(){return this.prevSegment||this.stackPoints&&this.stackPoints.length},createFill:function(e){var t=this.strokeSegments();var i=t.slice(0);var r=this.hasStackSegment();if(r){var n=this.stackSegments();j(i,n)}var a=new re(e);a.segments.push.apply(a.segments,i);if(!r&&t.length>1)this.fillToAxes(a);this.visual.append(a)},fillToAxes:function(e){var t=this.parent;var i=t.options.invertAxes;var r=t.seriesValueAxis(this.series);var n=t.categoryAxisCrossingValue(r);var a=r.getSlot(n,n,true);var o=this.strokeSegments();var s=o[0].anchor();var l=R(o).anchor();var c=i?a.x1:a.y1;if(i)e.lineTo(c,l.y).lineTo(c,s.y);else e.lineTo(l.x,c).lineTo(s.x,c)}})),xi=bi.extend({createStrokeSegments:function(){return this.segmentsFromPoints(this.calculateStepPoints(this.linePoints))},createStackSegments:function(e){return this.segmentsFromPoints(this.calculateStepPoints(e)).reverse()}}),ki=(x(xi.prototype,fi),bi.extend({createStrokeSegments:function(){var e=new s(this.options.closed);var t=this.points();return e.process(t)},createStackSegments:function(){var e=this.strokeSegments();var t=[];for(var i=e.length-1;i>=0;i--){var r=e[i];t.push(new le.Segment(r.anchor(),r.controlOut(),r.controlIn()))}return t}})),Ci=wi.extend({createSegment:function(e,t,i,r){var n=this.options.isStacked;var a=(t.line||{}).style;var o;var s;if(n&&i>0&&r){var l=this.seriesMissingValues(t);if(l!=="gap"){s=r.linePoints;o=r}else s=this._gapStackPoints(e,i,a)}var c;if(a===Ge)c=xi;else if(a===je)c=ki;else c=bi;return new c(e,t,i,o,s)},reflow:function(e){var t=this;wi.fn.reflow.call(this,e);var i=this._stackPoints;if(i)for(var r=0;r<i.length;r++){var n=i[r];var a=t.categoryAxis.getSlot(n.categoryIx);n.reflow(a)}},_gapStackPoints:function(e,h,t){var i=this;var r=this.seriesPoints;var n=e[0].categoryIx;var u=e.length;if(n<0){n=0;u--}var f=n+u;var d=this.seriesOptions[0]._outOfRangeMinPoint?1:0;var a=[];this._stackPoints=this._stackPoints||[];for(var o=n;o<f;o++){var s=o+d;var l=h;var c=void 0;do{l--;c=r[l][s]}while(l>0&&!c);if(c){if(t!==Ge&&o>n&&!r[l][s-1])a.push(i._previousSegmentPoint(o,s,s-1,l));a.push(c);if(t!==Ge&&o+1<f&&!r[l][s+1])a.push(i._previousSegmentPoint(o,s,s+1,l))}else{var p=i._createGapStackPoint(o);i._stackPoints.push(p);a.push(p)}}return a},_previousSegmentPoint:function(e,t,i,r){var n=this.seriesPoints;var a=r;var o;while(a>0&&!o){a--;o=n[a][i]}if(!o){o=this._createGapStackPoint(e);this._stackPoints.push(o)}else o=n[a][t];return o},_createGapStackPoint:function(e){var t=this.pointOptions({},0);var i=new hi(0,t);i.categoryIx=e;i.series={};return i},seriesMissingValues:function(e){return e.missingValues||Fe},supportsPointInactiveOpacity:function(){return false}}),Si=t.extend({init:function(){this.axisRanges={}},update:function(e){var t=this.axisRanges;for(var i in e){var r=e[i];var n=t[i];t[i]=n=n||{min:f,max:u};n.min=Math.min(n.min,r.min);n.max=Math.max(n.max,r.max)}},reset:function(e){this.axisRanges[e]=undefined},query:function(e){return this.axisRanges[e]}}),Ti=w.extend({init:function(e,t,i){w.fn.init.call(this,t);this.textBox=new N(e,this.options,i);this.append(this.textBox)},createVisual:function(){this.textBox.options.noclip=this.options.noclip},reflow:function(e){var t=this.options;var i=t.vertical;var r=t.aboveAxis;var n=this.children[0];var a=n.options;var o=n.box;var s=n.options.padding;var l=e;a.align=i?A:B;a.vAlign=i?P:A;if(t.position===$t)if(i){a.vAlign=P;if(!r&&o.height()<e.height())a.vAlign=I}else a.align=r?z:B;else if(t.position===A){a.vAlign=A;a.align=A}else if(t.position===Xt)if(i)a.vAlign=r?I:P;else a.align=r?B:z;else if(t.position===Kt)if(i)if(r)l=new E(e.x1,e.y1-o.height(),e.x2,e.y1);else l=new E(e.x1,e.y2,e.x2,e.y2+o.height());else{a.align=A;if(r)l=new E(e.x2,e.y1,e.x2+o.width(),e.y2);else l=new E(e.x1-o.width(),e.y1,e.x1,e.y2)}if(!t.rotation)if(i)s.left=s.right=(l.width()-n.contentBox.width())/2;else s.top=s.bottom=(l.height()-n.contentBox.height())/2;n.reflow(l)},alignToClipBox:function(e){var t=this.options.vertical;var i=t?g:_;var r=i+"1";var n=i+"2";var a=this.children[0];var o=this.parent.box;if(o[r]<e[r]||e[n]<o[n]){var s=a.paddingBox.clone();s[r]=Math.max(o[r],e[r]);s[n]=Math.min(o[n],e[n]);this.reflow(s)}}});function Ai(e){var t=e.overlay;return t&&t.gradient&&t.gradient!=="none"}e(Ti,{position:Kt,margin:U(3),padding:U(4),color:n,background:"",border:{width:1,color:""},aboveAxis:true,vertical:false,animation:{type:Te,delay:Se},zIndex:2});var Mi=6,Di=w.extend({init:function(e,t){w.fn.init.call(this);this.options=t;this.color=t.color||a;this.aboveAxis=L(this.options.aboveAxis,true);this.value=e},render:function(){if(this._rendered)return;this._rendered=true;this.createLabel();this.createNote();if(this.errorBar)this.append(this.errorBar)},createLabel:function(){var e=this.options;var t=e.labels;if(t.visible){var i=this.pointData();var r=V(t);var n;if(r)n=r(i);else n=this.formatValue(t.format);this.label=new Ti(n,x({vertical:e.vertical},t),i);this.append(this.label)}},formatValue:function(e){return this.owner.formatPointValue(this,e)},reflow:function(e){var t=this;this.render();var i=this.label;this.box=e;if(i){i.options.aboveAxis=this.aboveAxis;i.reflow(e)}if(this.note)this.note.reflow(e);if(this.errorBars)for(var r=0;r<this.errorBars.length;r++)t.errorBars[r].reflow(e)},createVisual:function(){var t=this;var e=this;var i=e.box;var r=e.options;var n=r.visual;if(this.visible!==false){w.fn.createVisual.call(this);if(n){var a=this.rectVisual=n({category:this.category,dataItem:this.dataItem,value:this.value,sender:this.getSender(),series:this.series,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,rect:i.toRect(),createVisual:function(){var e=new oe;t.createRect(e);return e},options:r});if(a)this.visual.append(a)}else if(i.width()>0&&i.height()>0)this.createRect(this.visual)}},createRect:function(e){var t=this.options;var i=t.border;var r=M(i.opacity)?i.opacity:t.opacity;var n=this.box.toRect();n.size.width=Math.round(n.size.width);var a=this.rectVisual=re.fromRect(n,{fill:{color:this.color,opacity:t.opacity},stroke:{color:this.getBorderColor(),width:i.width,opacity:r,dashType:i.dashType}});var o=this.box.width();var s=this.box.height();var l=t.vertical?o:s;if(l>Mi){y(a);if(o<1||s<1)a.options.stroke.lineJoin="round"}e.append(a);if(Ai(t)){var c=this.createGradientOverlay(a,{baseColor:this.color},x({end:!t.vertical?[0,1]:undefined},t.overlay));e.append(c)}},createHighlight:function(e){var t=re.fromRect(this.box.toRect(),e);return y(t)},highlightVisual:function(){return this.rectVisual},highlightVisualArgs:function(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}},getBorderColor:function(){var e=this.color;var t=this.options.border;var i=t._brightness||Me;var r=t.color;if(!M(r))r=new se(e).brightness(i).toHex();return r},tooltipAnchor:function(){var e=this;var t=e.options;var i=e.box;var r=e.aboveAxis;var n=this.owner.pane.clipBox()||i;var a=B;var o=P;var s,l;if(t.vertical){s=Math.min(i.x2,n.x2)+De;if(r)l=Math.max(i.y1,n.y1);else{l=Math.min(i.y2,n.y2);o=I}}else{var c=Math.max(i.x1,n.x1);var h=Math.min(i.x2,n.x2);if(t.isStacked){o=I;if(r){a=z;s=h}else s=c;l=Math.max(i.y1,n.y1)-De}else{if(r)s=h+De;else{s=c-De;a=z}l=Math.max(i.y1,n.y1)}}return{point:new D(s,l),align:{horizontal:a,vertical:o}}},overlapsBox:function(e){return this.box.overlaps(e)},pointData:function(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,series:this.series}}});function Ei(e,t){e.forEach(t)}function Pi(e,t){var i=e.length;for(var r=i-1;r>=0;r--)t(e[r],r-i-1)}x(Di.prototype,li),x(Di.prototype,ci),Di.prototype.defaults={border:{width:1},vertical:true,overlay:{gradient:"glass"},labels:{visible:false,format:"{0}"},opacity:1,notes:{label:{}}};var Ii=w.extend({init:function(e){w.fn.init.call(this,e);this.forEach=e.rtl?Pi:Ei},reflow:function(r){var e=this.options;var t=e.vertical;var i=e.gap;var n=e.spacing;var a=this.children;var o=a.length;var s=t?g:_;var h=o+i+n*(o-1);var l=(t?r.height():r.width())/h;var c=r[s+1]+l*(i/2);this.forEach(a,function(e,t){var i=(e.box||r).clone();i[s+1]=c;i[s+2]=c+l;e.reflow(i);if(t<o-1)c+=l*n;c+=l})}}),Bi=(e(Ii,{vertical:false,gap:0,spacing:0}),w.extend({reflow:function(e){var t=this;var i=this.options.vertical?_:g;var r=this.children;var n=r.length;var a=this.box=new E;for(var o=0;o<n;o++){var s=r[o];if(s.visible!==false){var l=s.box.clone();l.snapTo(e,i);if(o===0)a=t.box=l.clone();s.reflow(l);a.wrap(l)}}}})),zi=(e(Bi,{vertical:true}),si.extend({render:function(){si.fn.render.call(this);this.updateStackRange()},pointType:function(){return Di},clusterType:function(){return Ii},stackType:function(){return Bi},stackLimits:function(e,t){var i=si.fn.stackLimits.call(this,e,t);return i},createPoint:function(e,t){var h=t.categoryIx;var u=t.category;var i=t.series;var f=t.seriesIx;var d=this;var r=d.options;var p=d.children;var n=r.isStacked;var a=this.pointValue(e);var o=this.pointOptions(i,f);var v=o.labels;if(n)if(v.position===Kt)v.position=$t;o.isStacked=n;var s=e.fields.color||i.color;if(a<0&&o.negativeColor)s=o.negativeColor;o=this.evalPointOptions(o,a,u,h,i,f);if(O(i.color))s=o.color;var g=this.pointType();var l=new g(a,o);l.color=s;var c=p[h];if(!c){var m=this.clusterType();c=new m({vertical:r.invertAxes,gap:r.gap,spacing:r.spacing,rtl:!r.invertAxes&&(this.chartService||{}).rtl});this.append(c)}if(n){var _=this.getStackWrap(i,c);_.append(l)}else c.append(l);return l},getStackWrap:function(e,t){var i=e.stack;var r=i?i.group||i:i;var n=t.children;var a;if(typeof r===T.STRING){for(var o=0;o<n.length;o++)if(n[o]._stackGroup===r){a=n[o];break}}else a=n[0];if(!a){var s=this.stackType();a=new s({vertical:!this.options.invertAxes});a._stackGroup=r;t.append(a)}return a},categorySlot:function(e,t,i){var r=this.options;var n=e.getSlot(t);var a=i.startValue();if(r.isStacked){var o=i.getSlot(a,a,true);var s=r.invertAxes?_:g;n[s+1]=n[s+2]=o[s+1]}return n},reflowCategories:function(e){var t=this.children;var i=t.length;for(var r=0;r<i;r++)t[r].reflow(e[r])},createAnimation:function(){this._setAnimationOptions();si.fn.createAnimation.call(this);if(_i(this.options.series))this._setChildrenAnimation()},_setChildrenAnimation:function(){var e=this;var t=this.points;for(var i=0;i<t.length;i++){var r=t[i];var n=r.visual;if(n&&M(n.options.zIndex)){r.options.animation=e.options.animation;r.createAnimation()}}},_setAnimationOptions:function(){var e=this.options;var t=e.animation||{};var i;if(e.isStacked){var r=this.seriesValueAxis(e.series[0]);i=r.getSlot(r.startValue())}else i=this.categoryAxis.getSlot(0);t.origin=new ce(i.x1,i.y1);t.vertical=!e.invertAxes}})),Oi=(e(zi,{animation:{type:qe}}),w.extend({init:function(e,t){w.fn.init.call(this,t);this.value=e},reflow:function(e){var t=this;var i=t.options;var r=t.value;var n=t.owner;var a=n.seriesValueAxis(i);var o=a.getSlot(r.open,r.close);var s=a.getSlot(r.low,r.high);o.x1=s.x1=e.x1;o.x2=s.x2=e.x2;this.realBody=o;var l=s.center().x;var c=[];c.push([[l,s.y1],[l,o.y1]]);c.push([[l,o.y2],[l,s.y2]]);this.lines=c;this.box=s.clone().wrap(o);if(!this._rendered){this._rendered=true;this.createNote()}this.reflowNote()},reflowNote:function(){if(this.note)this.note.reflow(this.box)},createVisual:function(){w.fn.createVisual.call(this);this._mainVisual=this.mainVisual(this.options);this.visual.append(this._mainVisual);this.createOverlay()},mainVisual:function(e){var t=new oe;this.createBody(t,e);this.createLines(t,e);return t},createBody:function(e,t){var i=re.fromRect(this.realBody.toRect(),{fill:{color:this.color,opacity:t.opacity},stroke:null});if(t.border.width>0)i.options.set("stroke",{color:this.getBorderColor(),width:t.border.width,dashType:t.border.dashType,opacity:L(t.border.opacity,t.opacity)});y(i);e.append(i);if(Ai(t))e.append(this.createGradientOverlay(i,{baseColor:this.color},x({end:!t.vertical?[0,1]:undefined},t.overlay)))},createLines:function(e,t){this.drawLines(e,t,this.lines,t.line)},drawLines:function(e,t,i,r){if(!i)return;var n={stroke:{color:r.color||this.color,opacity:L(r.opacity,t.opacity),width:r.width,dashType:r.dashType,lineCap:"butt"}};for(var a=0;a<i.length;a++){var o=re.fromPoints(i[a],n);y(o);e.append(o)}},getBorderColor:function(){var e=this.options.border;var t=e.color;if(!M(t))t=new se(this.color).brightness(e._brightness).toHex();return t},createOverlay:function(){var e=re.fromRect(this.box.toRect(),{fill:{color:a,opacity:0},stroke:null});this.visual.append(e)},createHighlight:function(){var e=this.options.highlight;var t=this.color;this.color=e.color||this.color;var i=this.mainVisual(x({},this.options,{line:{color:this.getBorderColor()}},e));this.color=t;return i},highlightVisual:function(){return this._mainVisual},highlightVisualArgs:function(){return{options:this.options,rect:this.box.toRect(),visual:this._mainVisual}},tooltipAnchor:function(){var e=this.box;var t=this.owner.pane.clipBox()||e;return{point:new D(e.x2+De,Math.max(e.y1,t.y1)+De),align:{horizontal:B,vertical:P}}},formatValue:function(e){return this.owner.formatPointValue(this,e)},overlapsBox:function(e){return this.box.overlaps(e)}}));function Li(e){return ve(e)===e.length}e(Oi,{vertical:true,border:{_brightness:.8},line:{width:2},overlay:{gradient:"glass"},tooltip:{format:"<table>"+"<tr><th colspan='2'>{4:d}</th></tr>"+"<tr><td>Open:</td><td>{0:C}</td></tr>"+"<tr><td>High:</td><td>{1:C}</td></tr>"+"<tr><td>Low:</td><td>{2:C}</td></tr>"+"<tr><td>Close:</td><td>{3:C}</td></tr>"+"</table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:true,label:{}}}),x(Oi.prototype,li),x(Oi.prototype,ci);var Ri=si.extend({reflowCategories:function(e){var t=this.children;var i=t.length;for(var r=0;r<i;r++)t[r].reflow(e[r])},addValue:function(e,t){var i=t.categoryIx;var h=t.category;var r=t.series;var u=t.seriesIx;var n=this;var f=n.children;var a=n.options;var o=e.valueFields;var d=this.splitValue(o);var p=Li(d);var v=r.data[i];var s=this.categoryPoints[i];var l;if(!s)this.categoryPoints[i]=s=[];if(p)l=this.createPoint(e,t);var c=f[i];if(!c){c=new Ii({vertical:a.invertAxes,gap:a.gap,spacing:a.spacing,rtl:!a.invertAxes&&(this.chartService||{}).rtl});this.append(c)}if(l){this.updateRange(o,t);c.append(l);l.categoryIx=i;l.category=h;l.series=r;l.seriesIx=u;l.owner=this;l.dataItem=v;l.noteText=e.fields.noteText}this.points.push(l);s.push(l)},pointType:function(){return Oi},createPoint:function(e,t){var i=t.categoryIx;var r=t.category;var n=t.series;var a=t.seriesIx;var h=this.pointType();var o=e.valueFields;var s=x({},n);var l=e.fields.color||n.color;s=this.evalPointOptions(s,o,r,i,n,a);if(n.type===Ke)if(o.open>o.close)l=e.fields.downColor||n.downColor||n.color;if(O(n.color))l=s.color;s.vertical=!this.options.invertAxes;var c=new h(o,s);c.color=l;return c},splitValue:function(e){return[e.low,e.open,e.close,e.high]},updateRange:function(e,t){var i=t.series.axis;var r=this.splitValue(e);var n=this.valueAxisRanges[i];n=this.valueAxisRanges[i]=n||{min:f,max:u};n=this.valueAxisRanges[i]={min:Math.min.apply(Math,r.concat([n.min])),max:Math.max.apply(Math,r.concat([n.max]))}},formatPointValue:function(e,t){var i=e.value;return this.chartService.format.auto(t,i.open,i.high,i.low,i.close,e.category)},animationPoints:function(){return this.points}}),Fi=(x(Ri.prototype,yi),Oi.extend({init:function(e,t){Oi.fn.init.call(this,e,t);this.createNote()},reflow:function(e){var t=this;var i=t.options;var r=t.value;var n=t.owner;var a=n.seriesValueAxis(i);var o,s;this.boxSlot=s=a.getSlot(r.q1,r.q3);this.realBody=s;this.reflowBoxSlot(e);this.whiskerSlot=o=a.getSlot(r.lower,r.upper);this.reflowWhiskerSlot(e);var l=a.getSlot(r.median);if(r.mean){var c=a.getSlot(r.mean);this.meanPoints=this.calcMeanPoints(e,c)}this.whiskerPoints=this.calcWhiskerPoints(s,o);this.medianPoints=this.calcMedianPoints(e,l);this.box=o.clone().wrap(s);this.reflowNote()},reflowBoxSlot:function(e){this.boxSlot.x1=e.x1;this.boxSlot.x2=e.x2},reflowWhiskerSlot:function(e){this.whiskerSlot.x1=e.x1;this.whiskerSlot.x2=e.x2},calcMeanPoints:function(e,t){return[[[e.x1,t.y1],[e.x2,t.y1]]]},calcWhiskerPoints:function(e,t){var i=t.center().x;return[[[i-5,t.y1],[i+5,t.y1],[i,t.y1],[i,e.y1]],[[i-5,t.y2],[i+5,t.y2],[i,t.y2],[i,e.y2]]]},calcMedianPoints:function(e,t){return[[[e.x1,t.y1],[e.x2,t.y1]]]},renderOutliers:function(e){var t=this;var i=this.value;var r=i.outliers||[];var n=Math.abs(i.q3-i.q1)*3;var a=[];var o=e.markers||{};for(var s=0;s<r.length;s++){var l=r[s];if(l<i.q3+n&&l>i.q1-n)o=e.outliers;else o=e.extremes;var c=x({},o.border);if(!M(c.color))if(M(t.color))c.color=t.color;else c.color=new se(o.background).brightness(Me).toHex();var h=new H({type:o.type,width:o.size,height:o.size,rotation:o.rotation,background:o.background,border:c,opacity:o.opacity});h.value=l;a.push(h)}this.reflowOutliers(a);return a},reflowOutliers:function(e){var t=this;var i=this.owner.seriesValueAxis(this.options);var r=this.box.center();for(var n=0;n<e.length;n++){var a=e[n].value;var o=i.getSlot(a);if(t.options.vertical)o.move(r.x);else o.move(undefined,r.y);t.box=t.box.wrap(o);e[n].reflow(o)}},mainVisual:function(e){var t=Oi.fn.mainVisual.call(this,e);var i=this.renderOutliers(e);for(var r=0;r<i.length;r++){var n=i[r].getElement();if(n)t.append(n)}return t},createLines:function(e,t){this.drawLines(e,t,this.whiskerPoints,t.whiskers);this.drawLines(e,t,this.medianPoints,t.median);this.drawLines(e,t,this.meanPoints,t.mean)},getBorderColor:function(){if((this.options.border||{}).color)return this.options.border.color;if(this.color)return this.color;return Oi.fn.getBorderColor.call(this)}})),Vi=(e(Fi,{border:{_brightness:.8},line:{width:2},median:{color:"#f6f6f6"},mean:{width:2,dashType:"dash",color:"#f6f6f6"},overlay:{gradient:"glass"},tooltip:{format:"<table>"+"<tr><th colspan='2'>{6:d}</th></tr>"+"<tr><td>Lower:</td><td>{0:C}</td></tr>"+"<tr><td>Q1:</td><td>{1:C}</td></tr>"+"<tr><td>Median:</td><td>{2:C}</td></tr>"+"<tr><td>Mean:</td><td>{5:C}</td></tr>"+"<tr><td>Q3:</td><td>{3:C}</td></tr>"+"<tr><td>Upper:</td><td>{4:C}</td></tr>"+"</table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:true,label:{}},outliers:{visible:true,size:Re,type:T.CROSS,background:a,border:{width:2,opacity:1},opacity:0},extremes:{visible:true,size:Re,type:d,background:a,border:{width:2,opacity:1},opacity:0}}),x(Fi.prototype,li),Fi.extend({reflowBoxSlot:function(e){this.boxSlot.y1=e.y1;this.boxSlot.y2=e.y2},reflowWhiskerSlot:function(e){this.whiskerSlot.y1=e.y1;this.whiskerSlot.y2=e.y2},calcMeanPoints:function(e,t){return[[[t.x1,e.y1],[t.x1,e.y2]]]},calcWhiskerPoints:function(e,t){var i=t.center().y;return[[[t.x1,i-5],[t.x1,i+5],[t.x1,i],[e.x1,i]],[[t.x2,i-5],[t.x2,i+5],[t.x2,i],[e.x2,i]]]},calcMedianPoints:function(e,t){return[[[t.x1,e.y1],[t.x1,e.y2]]]}})),Ni=Ri.extend({addValue:function(e,t){var i=t.categoryIx;var h=t.category;var r=t.series;var u=t.seriesIx;var n=this;var f=n.children;var a=n.options;var o=e.valueFields;var d=this.splitValue(o);var p=Li(d);var v=r.data[i];var s=this.categoryPoints[i];var l;if(!s)this.categoryPoints[i]=s=[];if(p)l=this.createPoint(e,t);var c=f[i];if(!c){c=new Ii({vertical:a.invertAxes,gap:a.gap,spacing:a.spacing,rtl:!a.invertAxes&&(this.chartService||{}).rtl});this.append(c)}if(l){this.updateRange(o,t);c.append(l);l.categoryIx=i;l.category=h;l.series=r;l.seriesIx=u;l.owner=this;l.dataItem=v}this.points.push(l);s.push(l)},pointType:function(){if(this.options.invertAxes)return Vi;return Fi},splitValue:function(e){return[e.lower,e.q1,e.median,e.q3,e.upper]},updateRange:function(e,t){var i=t.series.axis;var r=this.valueAxisRanges[i];var n=this.splitValue(e).concat(this.filterOutliers(e.outliers));if(M(e.mean))n=n.concat(e.mean);r=this.valueAxisRanges[i]=r||{min:f,max:u};r=this.valueAxisRanges[i]={min:Math.min.apply(Math,n.concat([r.min])),max:Math.max.apply(Math,n.concat([r.max]))}},formatPointValue:function(e,t){var i=e.value;return this.chartService.format.auto(t,i.lower,i.q1,i.median,i.q3,i.upper,i.mean,e.category)},filterOutliers:function(e){var t=(e||[]).length;var i=[];for(var r=0;r<t;r++){var n=e[r];if(M(n)&&n!==null)i.push(n)}return i},supportsPointInactiveOpacity:function(){return false}}),Hi=ii.extend({getAxis:function(){var e=this.chart.seriesAxes(this.series);var t=this.isVertical?e.y:e.x;return t}});function Ui(e){return M(e)&&e!==null}var ji=w.extend({init:function(e,t){w.fn.init.call(this,t);this.plotArea=e;this.chartService=e.chartService;this._initFields();this.render()},_initFields:function(){this.xAxisRanges={};this.yAxisRanges={};this.points=[];this.seriesPoints=[];this.seriesOptions=[];this._evalSeries=[]},render:function(){this.traverseDataPoints(this.addValue.bind(this))},addErrorBar:function(e,t,i){var r=e.value[t];var n=t+"Value";var h=t+"ErrorLow";var u=t+"ErrorHigh";var a=i.seriesIx;var f=i.series;var o=e.options.errorBars;var s=i[h];var l=i[u];if(v(r)){var c;if(v(s)&&v(l))c={low:s,high:l};if(o&&M(o[n])){this.seriesErrorRanges=this.seriesErrorRanges||{x:[],y:[]};this.seriesErrorRanges[t][a]=this.seriesErrorRanges[t][a]||new ke(o[n],f,t);c=this.seriesErrorRanges[t][a].getErrorRange(r,o[n])}if(c)this.addPointErrorBar(c,e,t)}},addPointErrorBar:function(e,t,i){var r=e.low;var n=e.high;var a=t.series;var o=t.options.errorBars;var s=i===g;var l={};t[i+"Low"]=r;t[i+"High"]=n;t.errorBars=t.errorBars||[];var c=new Hi(r,n,s,this,a,o);t.errorBars.push(c);t.append(c);l[i]=r;this.updateRange(l,a);l[i]=n;this.updateRange(l,a)},addValue:function(e,t){var i=e.x;var r=e.y;var n=t.seriesIx;var a=this.options.series[n];var o=this.seriesMissingValues(a);var s=this.seriesPoints[n];var l=e;if(!(Ui(i)&&Ui(r)))l=this.createMissingValue(l,o);var c;if(l){c=this.createPoint(l,t);if(c){m.extend(c,t);this.addErrorBar(c,_,t);this.addErrorBar(c,g,t)}this.updateRange(l,t.series)}this.points.push(c);s.push(c)},seriesMissingValues:function(e){return e.missingValues},createMissingValue:function(){},updateRange:function(e,t){var i=this.chartService.intl;var r=t.xAxis;var n=t.yAxis;var a=e.x;var o=e.y;var s=this.xAxisRanges[r];var l=this.yAxisRanges[n];if(Ui(a)){s=this.xAxisRanges[r]=s||{min:f,max:u};if(G(a))a=W(i,a);s.min=Math.min(s.min,a);s.max=Math.max(s.max,a)}if(Ui(o)){l=this.yAxisRanges[n]=l||{min:f,max:u};if(G(o))o=W(i,o);l.min=Math.min(l.min,o);l.max=Math.max(l.max,o)}},evalPointOptions:function(e,t,i){var r=i.series;var n=i.seriesIx;var a={defaults:r._defaults,excluded:["data","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint"]};var o=this._evalSeries[n];if(!M(o))this._evalSeries[n]=o=ai(e,{},a,true);var s=e;if(o){s=x({},e);ai(s,{value:t,series:r,dataItem:i.dataItem},a)}return s},pointType:function(){return hi},pointOptions:function(e,t){var i=this.seriesOptions[t];if(!i){var r=this.pointType().prototype.defaults;this.seriesOptions[t]=i=x({},r,{markers:{opacity:e.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},e)}return i},createPoint:function(e,t){var i=t.series;var r=this.pointOptions(i,t.seriesIx);var n=t.color||i.color;r=this.evalPointOptions(r,e,t);if(O(i.color))n=r.color;var a=new hi(e,r);a.color=n;this.append(a);return a},seriesAxes:function(e){var t=e.xAxis;var i=e.yAxis;var r=this.plotArea;var n=t?r.namedXAxes[t]:r.axisX;var a=i?r.namedYAxes[i]:r.axisY;if(!n)throw new Error("Unable to locate X axis with name "+t);if(!a)throw new Error("Unable to locate Y axis with name "+i);return{x:n,y:a}},reflow:function(e){var s=this;var l=this.points;var c=!this.options.clip;var h=0;this.traverseDataPoints(function(e,t){var i=l[h++];var r=s.seriesAxes(t.series);var n=r.x.getSlot(e.x,e.x,c);var a=r.y.getSlot(e.y,e.y,c);if(i)if(n&&a){var o=s.pointSlot(n,a);i.reflow(o)}else i.visible=false});this.box=e},pointSlot:function(e,t){return new E(e.x1,t.y1,e.x2,t.y2)},traverseDataPoints:function(e){var t=this;var i=this;var r=i.options.series;var n=i.seriesPoints;for(var a=0;a<r.length;a++){var o=r[a];var s=n[a];if(!s)n[a]=[];for(var l=0;l<o.data.length;l++){var c=t._bindPoint(o,a,l);var h=c.valueFields;var u=c.fields;e(h,x({pointIx:l,series:o,seriesIx:a,dataItem:o.data[l],owner:t},u))}}},formatPointValue:function(e,t){var i=e.value;return this.chartService.format.auto(t,i.x,i.y)},animationPoints:function(){var e=this.points;var t=[];for(var i=0;i<e.length;i++)t.push((e[i]||{}).marker);return t}}),Gi=(e(ji,{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"},clip:true}),x(ji.prototype,yi,{_bindPoint:si.prototype._bindPoint}),hi.extend({init:function(e,t){hi.fn.init.call(this,e,t);this.category=e.category},createHighlight:function(){var e=this.options.highlight;var t=e.border;var i=this.options.markers;var r=this.box.center();var n=(i.size+i.border.width+t.width)/2;var a=new oe;var o=new ie.Circle(new le.Circle([r.x,r.y+n/5+t.width/2],n+t.width/2),{stroke:{color:"none"},fill:this.createGradient({gradient:"bubbleShadow",color:i.background,stops:[{offset:0,color:i.background,opacity:.3},{offset:1,color:i.background,opacity:0}]})});var s=new ie.Circle(new le.Circle([r.x,r.y],n),{stroke:{color:t.color||new se(i.background).brightness(Me).toHex(),width:t.width,opacity:t.opacity},fill:{color:i.background,opacity:e.opacity}});a.append(o,s);return a}})),Wi=(Gi.prototype.defaults=x({},Gi.prototype.defaults,{labels:{position:A},highlight:{opacity:1,border:{color:"#fff",width:2,opacity:1}}}),Gi.prototype.defaults.highlight.zIndex=undefined,ji.extend({_initFields:function(){this._maxSize=u;ji.fn._initFields.call(this)},addValue:function(e,t){if(e.size!==null&&(e.size>0||e.size<0&&t.series.negativeValues.visible)){this._maxSize=Math.max(this._maxSize,Math.abs(e.size));ji.fn.addValue.call(this,e,t)}else{this.points.push(null);this.seriesPoints[t.seriesIx].push(null)}},reflow:function(e){this.updateBubblesSize(e);ji.fn.reflow.call(this,e)},pointType:function(){return Gi},createPoint:function(e,t){var i=t.series;var r=i.data.length;var n=t.pointIx*(Se/r);var a={delay:n,duration:Se-n,type:$e};var o=t.color||i.color;if(e.size<0&&i.negativeValues.visible)o=L(i.negativeValues.color,o);var s=x({labels:{animation:{delay:n,duration:Se-n}}},this.pointOptions(i,t.seriesIx),{markers:{type:d,border:i.border,opacity:i.opacity,animation:a}});s=this.evalPointOptions(s,e,t);if(O(i.color))o=s.color;s.markers.background=o;var l=new Gi(e,s);l.color=o;this.append(l);return l},updateBubblesSize:function(e){var t=this;var h=this;var i=h.options.series;var r=Math.min(e.width(),e.height());for(var n=0;n<i.length;n++){var a=i[n];var u=t.seriesPoints[n];var f=a.minSize||Math.max(r*.02,10);var d=a.maxSize||r*.2;var p=f/2;var o=d/2;var v=Math.PI*p*p;var g=Math.PI*o*o;var m=g-v;var _=m/t._maxSize;for(var s=0;s<u.length;s++){var l=u[s];if(l){var y=Math.abs(l.value.size)*_;var w=Math.sqrt((v+y)/Math.PI);var b=L(l.options.zIndex,0);var c=b+(1-w/o);x(l.options,{zIndex:c,markers:{size:w*2,zIndex:c},labels:{zIndex:c+1}})}}}},formatPointValue:function(e,t){var i=e.value;return this.chartService.format.auto(t,i.x,i.y,i.size,e.category)},createAnimation:function(){},createVisual:function(){}})),qi=(e(Wi,{tooltip:{format:"{3}"},labels:{format:"{3}"}}),H.extend({})),Yi=(x(qi.prototype,li),w.extend({init:function(e,t){w.fn.init.call(this,t);this.aboveAxis=this.options.aboveAxis;this.color=t.color||a;this.value=e},render:function(){var e=this.options;if(!this._rendered){this._rendered=true;if(M(this.value.target)){this.target=new qi({type:e.target.shape,background:e.target.color||this.color,opacity:e.opacity,zIndex:e.zIndex,border:e.target.border,vAlign:P,align:z});this.target.value=this.value;this.target.dataItem=this.dataItem;this.target.series=this.series;this.append(this.target)}this.createNote()}},reflow:function(e){this.render();var t=this;var i=t.options;var r=t.target;var n=t.owner;var a=i.invertAxes;var o=n.seriesValueAxis(this.options);var s=n.categorySlot(n.categoryAxis,i.categoryIx,o);var l=o.getSlot(this.value.target);var h=a?l:s;var u=a?s:l;if(r){var c=new E(h.x1,u.y1,h.x2,u.y2);r.options.height=a?c.height():i.target.line.width;r.options.width=a?i.target.line.width:c.width();r.reflow(c)}if(this.note)this.note.reflow(e);this.box=e},createVisual:function(){w.fn.createVisual.call(this);var e=this.options;var t=re.fromRect(this.box.toRect(),{fill:{color:this.color,opacity:e.opacity},stroke:null});if(e.border.width>0)t.options.set("stroke",{color:e.border.color||this.color,width:e.border.width,dashType:e.border.dashType,opacity:L(e.border.opacity,e.opacity)});this.bodyVisual=t;y(t);this.visual.append(t)},createAnimation:function(){if(this.bodyVisual)this.animation=ne.create(this.bodyVisual,this.options.animation)},createHighlight:function(e){return re.fromRect(this.box.toRect(),e)},highlightVisual:function(){return this.bodyVisual},highlightVisualArgs:function(){return{rect:this.box.toRect(),visual:this.bodyVisual,options:this.options}},formatValue:function(e){return this.owner.formatPointValue(this,e)}})),$i=(Yi.prototype.tooltipAnchor=Di.prototype.tooltipAnchor,e(Yi,{border:{width:1},vertical:false,opacity:1,target:{shape:"",border:{width:0,color:"green"},line:{width:2}},tooltip:{format:"Current: {0}<br />Target: {1}"}}),x(Yi.prototype,li),x(Yi.prototype,ci),si.extend({init:function(e,t){Xi(t);si.fn.init.call(this,e,t)},reflowCategories:function(e){var t=this.children;var i=t.length;for(var r=0;r<i;r++)t[r].reflow(e[r])},plotRange:function(e){var t=e.series;var i=this.seriesValueAxis(t);var r=this.categoryAxisCrossingValue(i);return[r,e.value.current||r]},createPoint:function(e,t){var i=t.categoryIx;var h=t.category;var r=t.series;var u=t.seriesIx;var n=this;var a=n.options;var f=n.children;var o=e.valueFields;var s=x({vertical:!a.invertAxes,overlay:r.overlay,categoryIx:i,invertAxes:a.invertAxes},r);var d=e.fields.color||r.color;s=this.evalPointOptions(s,o,h,i,r,u);if(O(r.color))d=s.color;var l=new Yi(o,s);l.color=d;var c=f[i];if(!c){c=new Ii({vertical:a.invertAxes,gap:a.gap,spacing:a.spacing,rtl:!a.invertAxes&&(this.chartService||{}).rtl});this.append(c)}c.append(l);return l},updateRange:function(e,t){var i=e.current;var r=e.target;var n=t.series.axis;var a=this.valueAxisRanges[n];if(M(i)&&!isNaN(i)&&M(r&&!isNaN(r))){a=this.valueAxisRanges[n]=a||{min:f,max:u};a.min=Math.min(a.min,i,r);a.max=Math.max(a.max,i,r)}},formatPointValue:function(e,t){return this.chartService.format.auto(t,e.value.current,e.value.target)},pointValue:function(e){return e.valueFields.current},aboveAxis:function(e){var t=e.value.current;return t>0},createAnimation:function(){var e=this;var t=this.points;this._setAnimationOptions();for(var i=0;i<t.length;i++){var r=t[i];r.options.animation=e.options.animation;r.createAnimation()}}}));function Xi(e){var t=e.series;for(var i=0;i<t.length;i++){var r=t[i];var n=r.data;if(n&&!p(n[0])&&!C(n[0]))r.data=[n]}}$i.prototype._setAnimationOptions=zi.prototype._setAnimationOptions,e($i,{animation:{type:qe}});var Ki=t.extend({init:function(e,t){this.chartService=e;this.options=x({},this.options,t)},getStyle:function(e,t){var i=e.background;var r=e.border.color;if(t){var n=t.color||t.options.color;i=L(i,n);r=L(r,n)}var a=U(e.padding||{},"auto");return{backgroundColor:i,borderColor:r,font:e.font,color:e.color,opacity:e.opacity,borderWidth:l(e.border.width),paddingTop:l(a.top),paddingBottom:l(a.bottom),paddingLeft:l(a.left),paddingRight:l(a.right)}},show:function(e,t,i){e.format=t.format;var r=this.getStyle(t,i);e.style=r;var n=new se(r.backgroundColor);if(!M(t.color)&&!n.isDark())e.className="k-chart-tooltip-inverse";this.chartService.notify(jt,e);this.visible=true},hide:function(){if(this.chartService)this.chartService.notify(Gt);this.visible=false},destroy:function(){delete this.chartService}}),Qi=(e(Ki,{border:{width:1},opacity:1}),Ki.extend({init:function(e,t,i){Ki.fn.init.call(this,e,i);this.crosshair=t;this.formatService=e.format;this.initAxisName()},initAxisName:function(){var e=this.crosshair.axis;var t=e.plotArea;var i;if(t.categoryAxis)i=e.getCategory?"categoryAxis":"valueAxis";else i=e.options.vertical?"yAxis":"xAxis";this.axisName=i},showAt:function(e){var t=this;var i=t.crosshair.axis;var r=t.options;var n=i[r.stickyMode?"getCategory":"getValue"](e);var a=n;if(r.format)a=this.formatService.auto(r.format,n);else if(i.options.type===b)a=this.formatService.auto(i.options.labels.dateFormats[i.options.baseUnit],n);this.show({point:e,anchor:this.getAnchor(),crosshair:this.crosshair,value:a,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex},this.options)},hide:function(){this.chartService.notify(Gt,{crosshair:this.crosshair,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex})},getAnchor:function(){var e=this;var t=e.crosshair;var i=e.options;var r=i.position;var n=i.padding;var a=!t.axis.options.vertical;var o=t.line.bbox();var s,l,c;if(a){s=A;if(r===I){l=P;c=o.bottomLeft().translate(0,n)}else{l=I;c=o.topLeft().translate(0,-n)}}else{l=A;if(r===B){s=z;c=o.topLeft().translate(-n,0)}else{s=B;c=o.topRight().translate(n,0)}}return{point:c,align:{horizontal:s,vertical:l}}}})),Zi=(e(Qi,{padding:10}),w.extend({init:function(e,t,i){w.fn.init.call(this,i);this.axis=t;this.stickyMode=t instanceof q;var r=this.options.tooltip;if(r.visible)this.tooltip=new Qi(e,this,x({},r,{stickyMode:this.stickyMode}))},showAt:function(e){this.point=e;this.moveLine();this.line.visible(true);if(this.tooltip)this.tooltip.showAt(e)},hide:function(){this.line.visible(false);if(this.tooltip)this.tooltip.hide()},moveLine:function(){var e=this;var t=e.axis;var i=e.point;var r=t.options.vertical;var n=this.getBox();var a=r?g:_;var o=new ce(n.x1,n.y1);var s;if(r)s=new ce(n.x2,n.y1);else s=new ce(n.x1,n.y2);if(i)if(this.stickyMode){var l=t.getSlot(t.pointCategoryIndex(i));o[a]=s[a]=l.center()[a]}else o[a]=s[a]=i[a];this.box=n;this.line.moveTo(o).lineTo(s)},getBox:function(){var e=this.axis;var t=e.pane.axes;var i=t.length;var r=e.options.vertical;var n=e.lineBox().clone();var a=r?_:g;var o;for(var s=0;s<i;s++){var l=t[s];if(l.options.vertical!==r)if(!o)o=l.lineBox().clone();else o.wrap(l.lineBox())}n[a+1]=o[a+1];n[a+2]=o[a+2];return n},createVisual:function(){w.fn.createVisual.call(this);var e=this.options;this.line=new re({stroke:{color:e.color,width:e.width,opacity:e.opacity,dashType:e.dashType},visible:false});this.moveLine();this.visual.append(this.line)},destroy:function(){if(this.tooltip)this.tooltip.destroy();w.fn.destroy.call(this)}})),Ji=(e(Zi,{color:n,width:2,zIndex:-1,tooltip:{visible:false}}),w.extend({init:function(e,t){w.fn.init.call(this,e);this.pane=t},shouldClip:function(){var e=this.children;var t=e.length;for(var i=0;i<t;i++)if(e[i].options.clip===true)return true;return false},_clipBox:function(){return this.pane.chartsBox()},createVisual:function(){this.visual=new oe({zIndex:0});if(this.shouldClip()){var e=this.clipBox=this._clipBox();var t=e.toRect();var i=re.fromRect(t);y(i);this.visual.clip(i);this.unclipLabels()}},stackRoot:function(){return this},unclipLabels:function(){var e=this;var t=e.children;var i=e.clipBox;for(var r=0;r<t.length;r++){var n=t[r].points||{};var a=n.length;for(var o=0;o<a;o++){var s=n[o];if(s&&s.visible!==false&&s.overlapsBox&&s.overlapsBox(i))if(s.unclipElements)s.unclipElements();else{var l=s.label;var c=s.note;if(l&&l.options.visible){if(l.alignToClipBox)l.alignToClipBox(i);l.options.noclip=true}if(c&&c.options.visible)c.options.noclip=true}}}},destroy:function(){w.fn.destroy.call(this);delete this.parent}})),er=(Ji.prototype.isStackRoot=true,Y.extend({init:function(e){Y.fn.init.call(this,e);this.id=ir();this.createTitle();this.content=new w;this.chartContainer=new Ji({},this);this.append(this.content);this.axes=[];this.charts=[]},createTitle:function(){var e=this.options.title;if(C(e))e=x({},e,{align:e.position,position:P});this.title=S.Title.buildTitle(e,this,er.prototype.options.title)},appendAxis:function(e){this.content.append(e);this.axes.push(e);e.pane=this},appendAxisAt:function(e,t){this.content.append(e);this.axes.splice(t,0,e);e.pane=this},appendChart:function(e){if(this.chartContainer.parent!==this.content)this.content.append(this.chartContainer);this.charts.push(e);this.chartContainer.append(e);e.pane=this},empty:function(){var e=this;var t=this.parent;if(t){for(var i=0;i<this.axes.length;i++)t.removeAxis(e.axes[i]);for(var r=0;r<this.charts.length;r++)t.removeChart(e.charts[r])}this.axes=[];this.charts=[];this.content.destroy();this.content.children=[];this.chartContainer.children=[]},reflow:function(e){var t;if(R(this.children)===this.content)t=this.children.pop();Y.fn.reflow.call(this,e);if(t)this.children.push(t);if(this.title)this.contentBox.y1+=this.title.box.height()},visualStyle:function(){var e=Y.fn.visualStyle.call(this);e.zIndex=-10;return e},renderComplete:function(){if(this.options.visible)this.createGridLines()},stackRoot:function(){return this},clipRoot:function(){return this},createGridLines:function(){var e=this.axes;var t=e.concat(this.parent.axes);var i=[];var r=[];for(var n=0;n<e.length;n++){var a=e[n];var o=a.options.vertical;var s=o?i:r;for(var l=0;l<t.length;l++)if(s.length===0){var c=t[l];if(o!==c.options.vertical)j(s,a.createGridLines(c))}}},refresh:function(){this.visual.clear();this.content.parent=null;this.content.createGradient=this.createGradient.bind(this);this.content.renderVisual();this.content.parent=this;if(this.title)this.visual.append(this.title.visual);this.visual.append(this.content.visual);this.renderComplete();this.notifyRender()},chartsBox:function(){var e=this.axes;var h=e.length;var t=new E;for(var i=0;i<h;i++){var r=e[i];var n=r.options.vertical?g:_;var a=r.lineBox();t[n+1]=a[n+1];t[n+2]=a[n+2]}if(t.x2===0){var o=this.parent.axes;var u=o.length;for(var s=0;s<u;s++){var l=o[s];if(!l.options.vertical){var c=l.lineBox();t.x1=c.x1;t.x2=c.x2}}}return t},clipBox:function(){return this.chartContainer.clipBox},notifyRender:function(){var e=this.getService();if(e)e.notify(Wt,{pane:new de(this),index:this.paneIndex,name:this.options.name})}})),tr=1;function ir(){return"pane"+tr++}function rr(e,t){if(t!==null)e.push(t)}function nr(e,t,i){var r=t.visible;if(M(r))return r;var n=e.pointVisibility;if(n)return n[i]}function ar(e){var t=e.data;var i=[];var r=0;var n=0;for(var a=0;a<t.length;a++){var o=_e.current.bindPoint(e,a);var s=o.valueFields.value;if(G(s))s=parseFloat(s);if(v(s)){o.visible=nr(e,o.fields,a)!==false;o.value=Math.abs(s);i.push(o);if(o.visible)r+=o.value;if(s!==0)n++}else i.push(null)}return{total:r,points:i,count:n}}function or(e,t){if(e&&t)return e.toLowerCase()===t.toLowerCase();return e===t}function sr(e,t){var i=[];var r=[].concat(t);for(var n=0;n<e.length;n++){var a=e[n];if(k(a.type,r))i.push(a)}return i}function lr(e,t,i){if(t===null)return t;var r="_date_"+e;var n=t[r];if(!n){n=W(i,c(e,true)(t));t[r]=n}return n}function cr(e,t){var i=e.type;var r=t instanceof Date;return!i&&r||or(i,b)}function hr(e){return e.length===1?e[0]:e}er.prototype.isStackRoot=true,e(er,{zIndex:-1,shrinkToFit:true,title:{align:B},visible:true});var ur=/area/i;function fr(e){if(e.missingValues)return e.missingValues;return ur.test(e.type)||e.stack?Fe:Ve}function dr(e,t){var i=_e.current.bindPoint(e,null,t);var r=i.valueFields;for(var n in r)if(S.convertableToNumber(r[n]))return true}function pr(e){var t=e.start;var i=e.dir;var r=e.min;var n=e.max;var a=e.getter;var o=e.hasItem;var h=e.series;var s,l;var c=t;do{c+=i;if(o(c)){l=a(c);s=dr(h,l.item)}}while(r<=c&&c<=n&&!s);if(s)return l}function vr(e,h,t,i,u){var r=h.min;var n=h.max;var a=r>0&&r<t;var f=n+1<t;if(a||f){var d=fr(e);var o,s;if(d!==Ve){if(a)o=i(r-1);if(f)s=i(n+1)}else{var l,c;if(a){l=i(r-1);c=dr(e,l.item);if(!c)o=pr({start:r,dir:-1,min:0,max:t-1,getter:i,hasItem:u,series:e});else o=l}if(f){l=i(n+1);c=dr(e,l.item);if(!c)s=pr({start:n,dir:1,min:0,max:t-1,getter:i,hasItem:u,series:e});else s=l}}if(o)e._outOfRangeMinPoint=o;if(s)e._outOfRangeMaxPoint=s}}var gr=w.extend({init:function(e,t,i){w.fn.init.call(this,t);this.initFields(e,t);this.series=e;this.initSeries();this.charts=[];this.options.legend=this.options.legend||{};this.options.legend.items=[];this.axes=[];this.crosshairs=[];this.chartService=i;this.originalOptions=t;this.createPanes();this.render();this.createCrosshairs()},initFields:function(){},initSeries:function(){var e=this.series;for(var t=0;t<e.length;t++)e[t].index=t},createPanes:function(){var e=this;var t=this.options.title||{};var i=this.options.paneDefaults;var r=this.options.panes||[];var n=Math.max(r.length,1);var a=[];var o=x({title:{color:t.color}},i);for(var s=0;s<n;s++){var l=x({},o,r[s]);if(G(l.title))l.title=x({text:l.title},o.title);var c=new er(l);c.paneIndex=s;a.push(c);e.append(c)}this.panes=a},crosshairOptions:function(e){return e.options.crosshair},createCrosshairs:function(e){var t=this;if(e===void 0)e=this.panes;for(var i=0;i<e.length;i++){var r=e[i];for(var n=0;n<r.axes.length;n++){var a=r.axes[n];var o=t.crosshairOptions(a);if(o&&o.visible){var s=new Zi(t.chartService,a,o);t.crosshairs.push(s);r.content.append(s)}}}},removeCrosshairs:function(e){var t=this.crosshairs;var i=e.axes;for(var r=t.length-1;r>=0;r--)for(var n=0;n<i.length;n++)if(t[r].axis===i[n]){t.splice(r,1);break}},hideCrosshairs:function(){var e=this.crosshairs;for(var t=0;t<e.length;t++)e[t].hide()},findPane:function(e){var t=this.panes;var i;for(var r=0;r<t.length;r++)if(t[r].options.name===e){i=t[r];break}return i||t[0]},findPointPane:function(e){var t=this.panes;var i;for(var r=0;r<t.length;r++)if(t[r].box.containsPoint(e)){i=t[r];break}return i},appendAxis:function(e){var t=this.findPane(e.options.pane);t.appendAxis(e);this.axes.push(e);e.plotArea=this},removeAxis:function(e){var t=this;var i=[];for(var r=0;r<this.axes.length;r++){var n=t.axes[r];if(e!==n)i.push(n);else n.destroy()}this.axes=i},appendChart:function(e,t){this.charts.push(e);if(t)t.appendChart(e);else this.append(e)},removeChart:function(e){var t=this;var i=[];for(var r=0;r<this.charts.length;r++){var n=t.charts[r];if(n!==e)i.push(n);else n.destroy()}this.charts=i},addToLegend:function(e){var h=e.length;var t=this.options.legend;var u=t.labels||{};var f=t.inactiveItems||{};var i=f.labels||{};var d=[];for(var r=0;r<h;r++){var n=e[r];var a=n.visible!==false;if(n.visibleInLegend===false)continue;var o=n.name;var p=a?V(u):V(i)||V(u);if(p)o=p({text:Ui(o)?o:"",series:n});var v=n._defaults;var s=n.color;if(O(s)&&v)s=v.color;var l=void 0,c=void 0;if(a){l={};c=s}else{l={color:i.color,font:i.font};c=f.markers.color}if(Ui(o)&&o!=="")d.push({text:o,labels:l,markerColor:c,series:n,active:a})}j(t.items,d)},groupAxes:function(e){var t=[];var i=[];for(var r=0;r<e.length;r++){var n=e[r].axes;for(var a=0;a<n.length;a++){var o=n[a];if(o.options.vertical)i.push(o);else t.push(o)}}return{x:t,y:i,any:t.concat(i)}},groupSeriesByPane:function(){var e=this;var t=this.series;var i={};for(var r=0;r<t.length;r++){var n=t[r];var a=e.seriesPaneName(n);if(i[a])i[a].push(n);else i[a]=[n]}return i},filterVisibleSeries:function(e){var t=[];for(var i=0;i<e.length;i++){var r=e[i];if(r.visible!==false)t.push(r)}return t},reflow:function(e){var t=this.options.plotArea;var i=this.panes;var r=U(t.margin);this.box=e.clone().unpad(r);this.reflowPanes();this.detachLabels();this.reflowAxes(i);this.reflowCharts(i)},redraw:function(e){var t=this;var i=[].concat(e);this.initSeries();var r=this.getRoot();if(r)r.cleanGradients();for(var n=0;n<i.length;n++){t.removeCrosshairs(i[n]);i[n].empty()}this.render(i);this.detachLabels();this.reflowAxes(this.panes);this.reflowCharts(i);this.createCrosshairs(i);for(var a=0;a<i.length;a++)i[a].refresh()},axisCrossingValues:function(e,t){var i=e.options;var r=[].concat(i.axisCrossingValues||i.axisCrossingValue);var n=t.length-r.length;var a=r[0]||0;for(var o=0;o<n;o++)r.push(a);return r},alignAxisTo:function(e,t,i,r){var n=e.getSlot(i,i,true);var a=e.options.reverse?2:1;var o=t.getSlot(r,r,true);var s=t.options.reverse?2:1;var l=e.box.translate(o[_+s]-n[_+a],o[g+s]-n[g+a]);if(e.pane!==t.pane)l.translate(0,e.pane.box.y1-t.pane.box.y1);e.reflow(l)},alignAxes:function(e,t){var i=this;var h=e[0];var u=t[0];var f=this.axisCrossingValues(h,t);var d=this.axisCrossingValues(u,e);var p={};var v={};var g={};var m={};for(var r=0;r<t.length;r++){var n=t[r];var _=n.pane;var a=_.id;var y=n.options.visible!==false;var o=yr(e,_)||h;var w=f;if(o!==h)w=i.axisCrossingValues(o,t);i.alignAxisTo(n,o,d[r],w[r]);if(n.options._overlap)continue;if($(n.lineBox().x1)===$(o.lineBox().x1)){if(p[a])n.reflow(n.box.alignTo(p[a].box,B).translate(-n.options.margin,0));if(y)p[a]=n}if($(n.lineBox().x2)===$(o.lineBox().x2)){if(!n._mirrored){n.options.labels.mirror=!n.options.labels.mirror;n._mirrored=true}i.alignAxisTo(n,o,d[r],w[r]);if(v[a])n.reflow(n.box.alignTo(v[a].box,z).translate(n.options.margin,0));if(y)v[a]=n}if(r!==0&&u.pane===n.pane){n.alignTo(u);n.reflow(n.box)}}for(var s=0;s<e.length;s++){var l=e[s];var b=l.pane;var c=b.id;var x=l.options.visible!==false;var k=yr(t,b)||u;var C=d;if(k!==u)C=i.axisCrossingValues(k,e);i.alignAxisTo(l,k,f[s],C[s]);if(l.options._overlap)continue;if($(l.lineBox().y1)===$(k.lineBox().y1)){if(!l._mirrored){l.options.labels.mirror=!l.options.labels.mirror;l._mirrored=true}i.alignAxisTo(l,k,f[s],C[s]);if(g[c])l.reflow(l.box.alignTo(g[c].box,P).translate(0,-l.options.margin));if(x)g[c]=l}if($(l.lineBox().y2,T.COORD_PRECISION)===$(k.lineBox().y2,T.COORD_PRECISION)){if(m[c])l.reflow(l.box.alignTo(m[c].box,I).translate(0,l.options.margin));if(x)m[c]=l}if(s!==0){l.alignTo(h);l.reflow(l.box)}}},shrinkAxisWidth:function(e){var t=this.groupAxes(e).any;var i=_r(t);var r=0;for(var n=0;n<e.length;n++){var a=e[n];if(a.axes.length>0)r=Math.max(r,i.width()-a.contentBox.width())}if(r!==0)for(var o=0;o<t.length;o++){var s=t[o];if(!s.options.vertical)s.reflow(s.box.shrink(r,0))}},shrinkAxisHeight:function(e){var t;for(var i=0;i<e.length;i++){var r=e[i];var n=r.axes;var a=Math.max(0,_r(n).height()-r.contentBox.height());if(a!==0){for(var o=0;o<n.length;o++){var s=n[o];if(s.options.vertical)s.reflow(s.box.shrink(0,a))}t=true}}return t},fitAxes:function(e){var t=this.groupAxes(e).any;var i=0;for(var r=0;r<e.length;r++){var n=e[r];var a=n.axes;var o=n.contentBox;if(a.length>0){var s=_r(a);var h=Math.max(o.y1-s.y1,o.y2-s.y2);i=Math.max(i,o.x1-s.x1);for(var l=0;l<a.length;l++){var u=a[l];u.reflow(u.box.translate(0,h))}}}for(var c=0;c<t.length;c++){var f=t[c];f.reflow(f.box.translate(i,0))}},reflowAxes:function(e){var t=this;var i=this.groupAxes(e);for(var r=0;r<e.length;r++)t.reflowPaneAxes(e[r]);if(i.x.length>0&&i.y.length>0){this.alignAxes(i.x,i.y);this.shrinkAxisWidth(e);this.autoRotateAxisLabels(i);this.alignAxes(i.x,i.y);if(this.shrinkAxisWidth(e))this.alignAxes(i.x,i.y);this.shrinkAxisHeight(e);this.alignAxes(i.x,i.y);if(this.shrinkAxisHeight(e))this.alignAxes(i.x,i.y);this.fitAxes(e)}},autoRotateAxisLabels:function(e){var t=this;var i=this;var r=i.panes;var n=br(r);var a;for(var o=0;o<n.length;o++){var s=n[o];if(s.autoRotateLabels())a=true}if(a){for(var l=0;l<r.length;l++)t.reflowPaneAxes(r[l]);if(e.x.length>0&&e.y.length>0){this.alignAxes(e.x,e.y);this.shrinkAxisWidth(r)}}},reflowPaneAxes:function(e){var t=e.axes;var i=t.length;if(i>0)for(var r=0;r<i;r++)t[r].reflow(e.contentBox)},reflowCharts:function(e){var t=this.charts;var i=t.length;var r=this.box;for(var n=0;n<i;n++){var a=t[n].pane;if(!a||k(a,e))t[n].reflow(r)}},reflowPanes:function(){var e=this;var t=e.box;var i=e.panes;var r=i.length;var n=t.height();var h=r;var u=0;var f=t.y1;for(var a=0;a<r;a++){var o=i[a];var s=o.options.height;o.options.width=t.width();if(!o.options.height)u++;else{if(s.indexOf&&s.indexOf("%")){var d=parseInt(s,10)/100;o.options.height=d*t.height()}o.reflow(t.clone());n-=o.options.height}}for(var l=0;l<r;l++){var p=i[l];if(!p.options.height)p.options.height=n/u}for(var c=0;c<r;c++){var v=i[c];var g=t.clone().move(t.x1,f);v.reflow(g);h--;f+=v.options.height}},backgroundBox:function(){var e=this.axes;var t=e.length;var i;for(var r=0;r<t;r++){var n=e[r];for(var a=0;a<t;a++){var o=e[a];if(n.options.vertical!==o.options.vertical){var s=n.lineBox().clone().wrap(o.lineBox());if(!i)i=s;else i=i.wrap(s)}}}return i||this.box},chartsBoxes:function(){var e=this.panes;var t=[];for(var i=0;i<e.length;i++)t.push(e[i].chartsBox());return t},addBackgroundPaths:function(e){var t=this.chartsBoxes();for(var i=0;i<t.length;i++)e.paths.push(re.fromRect(t[i].toRect()))},backgroundContainsPoint:function(e){var t=this.chartsBoxes();for(var i=0;i<t.length;i++)if(t[i].containsPoint(e))return true},createVisual:function(){w.fn.createVisual.call(this);var e=this.options.plotArea;var t=e.opacity;var i=e.background;var r=e.border;if(r===void 0)r={};if(wr(i)){i=a;t=0}var n=this._bgVisual=new ie.MultiPath({fill:{color:i,opacity:t},stroke:{color:r.width?r.color:"",width:r.width,dashType:r.dashType},zIndex:-1});this.addBackgroundPaths(n);this.appendVisual(n)},pointsByCategoryIndex:function(e){var t=this.charts;var i=[];if(e!==null)for(var r=0;r<t.length;r++){var n=t[r];if(n.pane.options.name==="_navigator")continue;var a=t[r].categoryPoints[e];if(a&&a.length)for(var o=0;o<a.length;o++){var s=a[o];if(s&&M(s.value)&&s.value!==null)i.push(s)}}return i},pointsBySeriesIndex:function(t){return this.filterPoints(function(e){return e.series.index===t})},pointsBySeriesName:function(t){return this.filterPoints(function(e){return e.series.name===t})},filterPoints:function(e){var t=this.charts;var i=[];for(var r=0;r<t.length;r++){var n=t[r];var a=n.points;for(var o=0;o<a.length;o++){var s=a[o];if(s&&s.visible!==false&&e(s))i.push(s)}}return i},findPoint:function(e){var t=this.charts;for(var i=0;i<t.length;i++){var r=t[i];var n=r.points;for(var a=0;a<n.length;a++){var o=n[a];if(o&&o.visible!==false&&e(o))return o}}},paneByPoint:function(e){var t=this.panes;for(var i=0;i<t.length;i++){var r=t[i];if(r.box.containsPoint(e))return r}},detachLabels:function(){var e=this.groupAxes(this.panes);var t=e.x;var i=e.y;this.detachAxisGroupLabels(i,t);this.detachAxisGroupLabels(t,i)},detachAxisGroupLabels:function(e,t){var i=this;var r=0;for(var n=0;n<e.length;n++){var a=e[n];var o=a.pane;var s=yr(t,o)||t[0];var l=n+r;var c=i.createLabelAxis(a,l,s);if(c){r++;var h=o.axes.indexOf(a)+r;o.appendAxisAt(c,h)}}},createLabelAxis:function(e,t,i){var r=e.options.labels;var n=r.position;var h=n!==T.END&&n!==T.START;var u=r.visible;if(h||u===false)return null;var a=this.groupAxes(this.panes);var f=i.options.vertical?a.x:a.y;var o=this.axisCrossingValues(i,f);var d=n===T.END;var s=i.range();var l=d?s.max:s.min;var p=X(o[t],s.min,s.max);if(p-l===0)return null;o.splice(t+1,0,l);i.options.axisCrossingValues=o;var c=e.clone();e.clear();c.options.name=undefined;c.options.line.visible=false;c.options.crosshair=undefined;c.options.notes=undefined;c.options.plotBands=undefined;return c}});function mr(t){return!t.pane.axes.some(function(e){return e.options.vertical===t.options.vertical&&e!==t&&e.options.visible!==false})}function _r(e){var t=e.length;var i;for(var r=0;r<t;r++){var n=e[r];var a=n.options.visible!==false;if(a||mr(n)){var o=a?n.contentBox():n.lineBox();if(!i)i=o.clone();else i.wrap(o)}}return i||new E}function yr(e,t){for(var i=0;i<e.length;i++){var r=e[i];if(r&&r.pane===t)return r}}function wr(e){return e===""||e===null||e==="none"||e==="transparent"||!M(e)}var br=function(e){return e.reduce(function(e,t){return e.concat(t.axes)},[])},xr=(e(gr,{series:[],plotArea:{margin:{}},background:"",border:{color:n,width:0},paneDefaults:{title:{}},legend:{inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}}}),{hover:function(e,t){this._dispatchEvent(e,t,Pt)},click:function(e,t){this._dispatchEvent(e,t,Et)}}),kr=t.extend({init:function(e,t,i){var r=t.canonicalFields(e);var n=t.valueFields(e);var a=t.sourceFields(e,r);var h=this._seriesFields=[];var u=i.query(e.type);var o=e.aggregate||u;this._series=e;this._binder=t;for(var s=0;s<r.length;s++){var l=r[s];var c=void 0;if(C(o))c=o[l];else if(s===0||k(l,n))c=o;else break;if(c)h.push({canonicalName:l,name:a[s],transform:O(c)?c:ge[c]})}},aggregatePoints:function(e,h){var u=this;var t=this;var f=t._series;var i=t._seriesFields;var r=this._bindPoints(e||[]);var n=r.dataItems[0];var a={};if(n&&!v(n)&&!p(n)){var o=function(){};o.prototype=n;a=new o}for(var s=0;s<i.length;s++){var l=i[s];var d=u._bindField(r.values,l.canonicalName);var c=l.transform(d,f,r.dataItems,h);if(c!==null&&C(c)&&!M(c.length)&&!(c instanceof Date)){a=c;break}else if(M(c))Cr(l.name,a,c)}return a},_bindPoints:function(e){var t=this;var i=t._binder;var r=t._series;var n=[];var a=[];for(var o=0;o<e.length;o++){var s=e[o];n.push(i.bindPoint(r,s));a.push(r.data[s])}return{values:n,dataItems:a}},_bindField:function(e,t){var i=[];var r=e.length;for(var n=0;n<r;n++){var a=e[n];var o=a.valueFields;var s=void 0;if(M(o[t]))s=o[t];else s=a.fields[t];i.push(s)}return i}});function Cr(e,t,i){var r=t;var n=e;if(e.indexOf(".")>-1){var a=e.split(".");while(a.length>1){n=a.shift();if(!M(r[n]))r[n]={};r=r[n]}n=a.shift()}r[n]=i}var Sr=t.extend({init:function(){this._defaults={}},register:function(e,t){var i=this;for(var r=0;r<e.length;r++)i._defaults[e[r]]=t},query:function(e){return this._defaults[e]}}),Tr=(Sr.current=new Sr,Di.extend({createLabel:function(){var e=this.options.labels;var t=x({},e,e.from);var i=x({},e,e.to);if(t.visible){this.labelFrom=this._createLabel(t);this.append(this.labelFrom)}if(i.visible){this.labelTo=this._createLabel(i);this.append(this.labelTo)}},_createLabel:function(e){var t=V(e);var i=this.pointData();var r;if(t)r=t(i);else r=this.formatValue(e.format);return new Ti(r,x({vertical:this.options.vertical},e),i)},reflow:function(e){this.render();var t=this;var i=t.labelFrom;var r=t.labelTo;var n=t.value;this.box=e;if(i){i.options.aboveAxis=n.from>n.to;i.reflow(e)}if(r){r.options.aboveAxis=n.to>n.from;r.reflow(e)}if(this.note)this.note.reflow(e)}})),Ar=(Tr.prototype.defaults=x({},Tr.prototype.defaults,{labels:{format:"{0} - {1}"},tooltip:{format:"{1}"}}),zi.extend({pointType:function(){return Tr},pointValue:function(e){return e.valueFields},formatPointValue:function(e,t){if(e.value.from===null&&e.value.to===null)return"";return this.chartService.format.auto(t,e.value.from,e.value.to)},plotRange:function(e){if(!e)return 0;return[e.value.from,e.value.to]},updateRange:function(e,t){var i=t.series.axis;var r=e.from;var n=e.to;var a=this.valueAxisRanges[i];if(e!==null&&v(r)&&v(n)){a=this.valueAxisRanges[i]=a||{min:f,max:u};a.min=Math.min(a.min,r);a.max=Math.max(a.max,r);a.min=Math.min(a.min,n);a.max=Math.max(a.max,n)}},aboveAxis:function(e){var t=e.value;return t.from<t.to}})),Mr=(Ar.prototype.plotLimits=si.prototype.plotLimits,hi.extend({aliasFor:function(){return this.parent}})),Dr="auto",Er="{0}",Pr="{1}",Ir=w.extend({init:function(e,t){w.fn.init.call(this);this.value=e;this.options=t;this.aboveAxis=L(this.options.aboveAxis,true);this.tooltipTracking=true;this.initLabelsFormat()},render:function(){if(this._rendered)return;this._rendered=true;var e=this.options;var t=e.markers;var i=e.labels;var r=this.value;var n=this.fromPoint=new Mr(r,x({},this.options,{labels:i.from,markers:t.from}));var a=this.toPoint=new Mr(r,x({},this.options,{labels:i.to,markers:t.to}));this.copyFields(n);this.copyFields(a);this.append(n);this.append(a)},reflow:function(e){this.render();var t=e.from;var i=e.to;this.positionLabels(t,i);this.fromPoint.reflow(t);this.toPoint.reflow(i);this.box=this.fromPoint.markerBox().clone().wrap(this.toPoint.markerBox())},createHighlight:function(){var e=new oe;e.append(this.fromPoint.createHighlight());e.append(this.toPoint.createHighlight());return e},highlightVisual:function(){return this.visual},highlightVisualArgs:function(){return{options:this.options,from:this.fromPoint.highlightVisualArgs(),to:this.toPoint.highlightVisualArgs()}},tooltipAnchor:function(){var e=this.owner.pane.clipBox();var t=!e||e.overlaps(this.box);if(t){var i=this.box;var r=i.center();var n=B;var a,o,s;if(this.options.vertical){a=r.x;o=i.y1-De;s=I}else{a=i.x2+De;o=r.y;s=A}return{point:new D(a,o),align:{horizontal:n,vertical:s}}}},formatValue:function(e){return this.owner.formatPointValue(this,e)},overlapsBox:function(e){return this.box.overlaps(e)},unclipElements:function(){this.fromPoint.unclipElements();this.toPoint.unclipElements()},initLabelsFormat:function(){var e=this.options.labels;if(!e.format){if(!e.from||!e.from.format)e.from=m.extend({},e.from,{format:Er});if(!e.to||!e.to.format)e.to=m.extend({},e.to,{format:Pr})}},positionLabels:function(e,t){var i=this.options;var r=i.labels;var n=i.vertical;if(r.position===Dr){var a,o;if(n)if(t.y1<=e.y1){o=He;a=Ue}else{o=Ue;a=He}else if(t.x1<=e.x1){o=B;a=z}else{o=z;a=B}if(!r.from||!r.from.position)this.fromPoint.options.labels.position=a;if(!r.to||!r.to.position)this.toPoint.options.labels.position=o}},copyFields:function(e){e.dataItem=this.dataItem;e.category=this.category;e.series=this.series;e.color=this.color;e.owner=this.owner}}),Br=(x(Ir.prototype,li),x(Ir.prototype,ci),Ir.prototype.defaults={markers:{visible:false,background:a,size:Re,type:d,border:{width:2},opacity:1},labels:{visible:false,margin:U(3),padding:U(4),animation:{type:Te,delay:Se},position:Dr},notes:{label:{}},highlight:{markers:{border:{color:a,width:2}},zIndex:T.HIGHLIGHT_ZINDEX},tooltip:{format:"{0} - {1}"}},bi.extend({createStrokeSegments:function(){return this.segmentsFromPoints(this.toGeometryPoints(this.toPoints()))},stackSegments:function(){var e=this.fromSegments;if(!this.fromSegments)e=this.fromSegments=this.segmentsFromPoints(this.toGeometryPoints(this.fromPoints().reverse()));return e},createStroke:function(e){var t=new re(e);var i=new re(e);t.segments.push.apply(t.segments,this.strokeSegments());i.segments.push.apply(i.segments,this.stackSegments());this.visual.append(t);this.visual.append(i)},hasStackSegment:function(){return true},fromPoints:function(){return this.linePoints.map(function(e){return e.fromPoint})},toPoints:function(){return this.linePoints.map(function(e){return e.toPoint})}})),zr=Br.extend({createStrokeSegments:function(){return this.createCurveSegments(this.toPoints())},stackSegments:function(){var e=this.fromSegments;if(!this.fromSegments)e=this.fromSegments=this.createCurveSegments(this.fromPoints().reverse());return e},createCurveSegments:function(e){var t=new s;return t.process(this.toGeometryPoints(e))}}),Or=Br.extend({createStrokeSegments:function(){return this.segmentsFromPoints(this.calculateStepPoints(this.toPoints()))},stackSegments:function(){var e=this.fromSegments;if(!this.fromSegments){e=this.fromSegments=this.segmentsFromPoints(this.calculateStepPoints(this.fromPoints()));e.reverse()}return e}}),Lr=(x(Or.prototype,fi),si.extend({render:function(){si.fn.render.call(this);this.renderSegments()},pointType:function(){return Ir},createPoint:function(e,t){var i=t.categoryIx;var r=t.category;var n=t.series;var a=t.seriesIx;var o=e.valueFields;if(!Ui(o.from)&&!Ui(o.to))if(this.seriesMissingValues(n)===Fe)o={from:0,to:0};else return null;var s=this.pointOptions(n,a);s=this.evalPointOptions(s,o,r,i,n,a);var l=e.fields.color||n.color;if(O(n.color))l=s.color;var c=new Ir(o,s);c.color=l;this.append(c);return c},createSegment:function(e,t,i){var r=(t.line||{}).style;var n;if(r==="smooth")n=zr;else if(r==="step")n=Or;else n=Br;return new n(e,t,i)},plotRange:function(e,t){if(!e)return[t,t];return[e.value.from,e.value.to]},valueSlot:function(e,t){var i=e.getSlot(t[0],t[0],!this.options.clip);var r=e.getSlot(t[1],t[1],!this.options.clip);if(i&&r)return{from:i,to:r}},pointSlot:function(e,t){var i=t.from;var r=t.to;var n,a;if(this.options.invertAxes){n=new E(i.x1,e.y1,i.x2,e.y2);a=new E(r.x1,e.y1,r.x2,e.y2)}else{n=new E(e.x1,i.y1,e.x2,i.y2);a=new E(e.x1,r.y1,e.x2,r.y2)}return{from:n,to:a}},addValue:function(e,t){var i=e.valueFields;if(!v(i.from))i.from=i.to;if(!v(i.to))i.to=i.from;si.fn.addValue.call(this,e,t)},updateRange:function(e,t){if(e!==null&&v(e.from)&&v(e.to)){var i=t.series.axis;var r=this.valueAxisRanges[i]=this.valueAxisRanges[i]||{min:f,max:u};var n=e.from;var a=e.to;r.min=Math.min(r.min,n,a);r.max=Math.max(r.max,n,a)}},formatPointValue:function(e,t){var i=e.value;return this.chartService.format.auto(t,i.from,i.to)},animationPoints:function(){var e=this.points;var t=[];for(var i=0;i<e.length;i++){var r=e[i];if(r){t.push((r.fromPoint||{}).marker);t.push((r.toPoint||{}).marker)}}return t.concat(this._segments)}})),Rr=(x(Lr.prototype,gi,yi),Oi.extend({reflow:function(h){var e=this;var u=e.options;var t=e.value;var f=e.owner;var i=f.seriesValueAxis(u);var r=[];var n=[];var a=[];var o=i.getSlot(t.low,t.high);var s=i.getSlot(t.open,t.open);var l=i.getSlot(t.close,t.close);s.x1=l.x1=o.x1=h.x1;s.x2=l.x2=o.x2=h.x2;var c=o.center().x;r.push([s.x1,s.y1]);r.push([c,s.y1]);n.push([c,l.y1]);n.push([l.x2,l.y1]);a.push([c,o.y1]);a.push([c,o.y2]);this.lines=[r,n,a];this.box=o.clone().wrap(s.clone().wrap(l));this.reflowNote()},createBody:function(){}})),Fr=Ri.extend({pointType:function(){return Rr}}),Vr=w.extend({init:function(e,t,i){w.fn.init.call(this);this.from=e;this.to=t;this.series=i},linePoints:function(){var e=this.from;var t=this;var i=t.from.box;var r=t.to.box;var n=[];if(e.isVertical){var a=e.aboveAxis?i.y1:i.y2;n.push([i.x1,a],[r.x2,a])}else{var o=e.aboveAxis?i.x2:i.x1;n.push([o,i.y1],[o,r.y2])}return n},createVisual:function(){w.fn.createVisual.call(this);var e=this.series.line||{};var t=re.fromPoints(this.linePoints(),{stroke:{color:e.color,width:e.width,opacity:e.opacity,dashType:e.dashType}});y(t);this.visual.append(t)}}),Nr=(e(Vr,{animation:{type:Te,delay:Se}}),zi.extend({render:function(){zi.fn.render.call(this);this.createSegments()},traverseDataPoints:function(h){var u=this;var e=this.options.series;var f=oi(e);var d=!this.options.invertAxes;for(var t=0;t<e.length;t++){var i=e[t];var r=0;var n=0;for(var a=0;a<f;a++){var o=_e.current.bindPoint(i,a);var s=o.valueFields.value;var p=o.fields.summary;var l=r;var c=void 0;if(p)if(p.toLowerCase()==="total"){o.valueFields.value=r;l=0;c=r}else{o.valueFields.value=n;c=l-n;n=0}else if(v(s)){n+=s;r+=s;c=r}h(o,{category:u.categoryAxis.categoryAt(a),categoryIx:a,series:i,seriesIx:t,total:r,runningTotal:n,from:l,to:c,isVertical:d})}}},updateRange:function(e,t){zi.fn.updateRange.call(this,{value:t.to},t)},aboveAxis:function(e){return e.value>=0},plotRange:function(e){return[e.from,e.to]},createSegments:function(){var e=this;var t=this.options.series;var i=this.seriesPoints;var r=this.segments=[];for(var n=0;n<t.length;n++){var h=t[n];var a=i[n];if(a){var o=void 0;for(var s=0;s<a.length;s++){var l=a[s];if(l&&o){var c=new Vr(o,l,h);r.push(c);e.append(c)}o=l}}}}})),Hr=[We,gt,ut,wt],Ur=[it,yt].concat(Hr),jr=gr.extend({initFields:function(e){var t=this;this.namedCategoryAxes={};this.namedValueAxes={};this.valueAxisRangeTracker=new Si;if(e.length>0){this.invertAxes=k(e[0].type,[qe,Xe,yt,gt,wt,ft,tt,mt]);for(var i=0;i<e.length;i++){var r=e[i].stack;if(r&&r.type==="100%"){t.stack100=true;break}}}},render:function(e){if(e===void 0)e=this.panes;this.createCategoryAxes(e);this.aggregateCategories(e);this.createCategoryAxesLabels(e);this.createCharts(e);this.createValueAxes(e)},removeAxis:function(e){var t=e.options.name;gr.fn.removeAxis.call(this,e);if(e instanceof q)delete this.namedCategoryAxes[t];else{this.valueAxisRangeTracker.reset(t);delete this.namedValueAxes[t]}if(e===this.categoryAxis)delete this.categoryAxis;if(e===this.valueAxis)delete this.valueAxis},createCharts:function(e){var t=this;var i=this.groupSeriesByPane();for(var r=0;r<e.length;r++){var n=e[r];var a=i[n.options.name||"default"]||[];t.addToLegend(a);var o=t.filterVisibleSeries(a);if(!o)continue;var s=t.groupSeriesByCategoryAxis(o);for(var l=0;l<s.length;l++)t.createChartGroup(s[l],n)}},createChartGroup:function(e,t){this.createAreaChart(sr(e,[We,gt]),t);this.createRangeAreaChart(sr(e,[ut,wt]),t);this.createBarChart(sr(e,[Qe,qe]),t);this.createRangeBarChart(sr(e,[dt,ft]),t);this.createBulletChart(sr(e,[Xe,_t]),t);this.createCandlestickChart(sr(e,Ke),t);this.createBoxPlotChart(sr(e,[Ye,mt]),t);this.createOHLCChart(sr(e,rt),t);this.createWaterfallChart(sr(e,[bt,tt]),t);this.createLineChart(sr(e,[it,yt]),t)},aggregateCategories:function(e){var t=this;var i=this.srcSeries||this.series;var r=[];this._currentPointsCache={};this._seriesPointsCache=this._seriesPointsCache||{};for(var n=0;n<i.length;n++){var a=i[n];var o=t.seriesCategoryAxis(a);var s=t.findPane(o.options.pane);var l=or(o.options.type,b);if((l||a.categoryField)&&k(s,e))a=t.aggregateSeries(a,o);else a=t.filterSeries(a,o);r.push(a)}this._seriesPointsCache=this._currentPointsCache;this._currentPointsCache=null;this.srcSeries=i;this.series=r},filterSeries:function(t,i){var e=(t.data||{}).length;i._seriesMax=Math.max(i._seriesMax||0,e);if(!(v(i.options.min)||v(i.options.max)))return t;var r=i.currentRangeIndices();var n=k(t.type,Ur);var a=x({},t);a.data=(a.data||[]).slice(r.min,r.max+1);if(n)vr(a,r,e,function(e){return{item:t.data[e],category:i.categoryAt(e,true),categoryIx:e-r.min}},function(e){return M(t.data[e])});return a},clearSeriesPointsCache:function(){this._seriesPointsCache={}},seriesSourcePoints:function(e,t){var h=this;var i=e.index+";"+t.categoriesHash();if(this._seriesPointsCache[i]){this._currentPointsCache[i]=this._seriesPointsCache[i];return this._seriesPointsCache[i]}var r=t.options;var u=r.srcCategories;var n=or(r.type,b);var a=e.data;var f=n?lr:me;var o=[];if(!n)t.mapCategories();for(var s=0;s<a.length;s++){var l=void 0;if(e.categoryField)l=f(e.categoryField,a[s],h.chartService.intl);else l=u[s];if(M(l)&&l!==null){var c=t.totalIndex(l);o[c]=o[c]||{items:[],category:l};o[c].items.push(s)}}this._currentPointsCache[i]=o;return o},aggregateSeries:function(e,n){var t=e.data;if(!t.length)return e;var a=this.seriesSourcePoints(e,n);var i=x({},e);var h=new kr(x({},e),_e.current,Sr.current);var u=i.data=[];var r=n.options.dataItems||[];var o=n.currentRangeIndices();var s=function(e){var t=e-o.min;var i=a[e];if(!i)i=a[e]={};i.categoryIx=t;if(!i.item){var r=n.categoryAt(e,true);i.category=r;i.item=h.aggregatePoints(i.items,r)}return i};for(var l=o.min;l<=o.max;l++){var c=s(l);u[c.categoryIx]=c.item;if(c.items&&c.items.length)r[c.categoryIx]=c.item}if(k(i.type,Ur))vr(i,o,n.totalCount(),s,function(e){return a[e]});n.options.dataItems=r;return i},appendChart:function(e,t){var i=e.options.series;var r=this.seriesCategoryAxis(i[0]);var n=r.options.categories;var a=Math.max(0,oi(i)-n.length);if(a>0){n=r.options.categories=r.options.categories.slice(0);while(a--)n.push("")}this.valueAxisRangeTracker.update(e.valueAxisRanges);gr.fn.appendChart.call(this,e,t)},seriesPaneName:function(e){var t=this.options;var i=e.axis;var r=[].concat(t.valueAxis);var n=K(r,function(e){return e.name===i})[0];var a=t.panes||[{}];var o=(a[0]||{}).name||"default";var s=(n||{}).pane||o;return s},seriesCategoryAxis:function(e){var t=e.categoryAxis;var i=t?this.namedCategoryAxes[t]:this.categoryAxis;if(!i)throw new Error("Unable to locate category axis with name "+t);return i},stackableChartOptions:function(e,t){var i=e.stack;var r=i&&i.type==="100%";var n=t.options.clip;return{isStacked:i,isStacked100:r,clip:n}},groupSeriesByCategoryAxis:function(e){var t=[];var i={};for(var r=0;r<e.length;r++){var n=e[r].categoryAxis||"$$default$$";if(!i.hasOwnProperty(n)){i[n]=true;t.push(n)}}var a=[];for(var o=0;o<t.length;o++){var s=t[o];var l=Wr(e,s,o);if(l.length===0)continue;a.push(l)}return a},createBarChart:function(e,t){if(e.length===0)return;var i=e[0];var r=new zi(this,m.extend({series:e,invertAxes:this.invertAxes,gap:i.gap,spacing:i.spacing},this.stackableChartOptions(i,t)));this.appendChart(r,t)},createRangeBarChart:function(e,t){if(e.length===0)return;var i=e[0];var r=new Ar(this,{series:e,invertAxes:this.invertAxes,gap:i.gap,spacing:i.spacing});this.appendChart(r,t)},createBulletChart:function(e,t){if(e.length===0)return;var i=e[0];var r=new $i(this,{series:e,invertAxes:this.invertAxes,gap:i.gap,spacing:i.spacing,clip:t.options.clip});this.appendChart(r,t)},createLineChart:function(e,t){if(e.length===0)return;var i=e[0];var r=new wi(this,m.extend({invertAxes:this.invertAxes,series:e},this.stackableChartOptions(i,t)));this.appendChart(r,t)},createAreaChart:function(e,t){if(e.length===0)return;var i=e[0];var r=new Ci(this,m.extend({invertAxes:this.invertAxes,series:e},this.stackableChartOptions(i,t)));this.appendChart(r,t)},createRangeAreaChart:function(e,t){if(e.length===0)return;var i=new Lr(this,{invertAxes:this.invertAxes,series:e,clip:t.options.clip});this.appendChart(i,t)},createOHLCChart:function(e,t){if(e.length===0)return;var i=e[0];var r=new Fr(this,{invertAxes:this.invertAxes,gap:i.gap,series:e,spacing:i.spacing,clip:t.options.clip});this.appendChart(r,t)},createCandlestickChart:function(e,t){if(e.length===0)return;var i=e[0];var r=new Ri(this,{invertAxes:this.invertAxes,gap:i.gap,series:e,spacing:i.spacing,clip:t.options.clip});this.appendChart(r,t)},createBoxPlotChart:function(e,t){if(e.length===0)return;var i=e[0];var r=new Ni(this,{invertAxes:this.invertAxes,gap:i.gap,series:e,spacing:i.spacing,clip:t.options.clip});this.appendChart(r,t)},createWaterfallChart:function(e,t){if(e.length===0)return;var i=e[0];var r=new Nr(this,{series:e,invertAxes:this.invertAxes,gap:i.gap,spacing:i.spacing});this.appendChart(r,t)},axisRequiresRounding:function(e,t){var i=this;var r=sr(this.series,xt);for(var n=0;n<this.series.length;n++){var a=i.series[n];if(k(a.type,Hr)){var o=a.line;if(o&&o.style===Ge)r.push(a)}}for(var s=0;s<r.length;s++){var l=r[s].categoryAxis||"";if(l===e||!l&&t===0)return true}},aggregatedAxis:function(e,t){var i=this.series;for(var r=0;r<i.length;r++){var n=i[r].categoryAxis||"";if((n===e||!n&&t===0)&&i[r].categoryField)return true}},createCategoryAxesLabels:function(){var e=this.axes;for(var t=0;t<e.length;t++)if(e[t]instanceof q)e[t].createLabels()},createCategoryAxes:function(h){var e=this;var t=this.invertAxes;var i=[].concat(this.options.categoryAxis);var r=[];for(var n=0;n<i.length;n++){var a=i[n];var u=e.findPane(a.pane);if(k(u,h)){var o=a.name;var s=a.categories;if(s===void 0)s=[];a=x({vertical:t,reverse:!t&&e.chartService.rtl,axisCrossingValue:t?f:0},a);if(!M(a.justified))a.justified=e.isJustified();if(e.axisRequiresRounding(o,n))a.justified=false;var l=void 0;if(cr(a,s[0]))l=new S.DateCategoryAxis(a,e.chartService);else l=new q(a,e.chartService);i[n].categories=l.options.srcCategories;if(o){if(e.namedCategoryAxes[o])throw new Error("Category axis with name "+o+" is already defined");e.namedCategoryAxes[o]=l}l.axisIndex=n;r.push(l);e.appendAxis(l)}}var c=this.categoryAxis||r[0];this.categoryAxis=c;if(t)this.axisY=c;else this.axisX=c},isJustified:function(){var e=this.series;for(var t=0;t<e.length;t++){var i=e[t];if(!k(i.type,Hr))return false}return true},createValueAxes:function(h){var e=this;var u=this.valueAxisRangeTracker;var t=u.query();var f=[].concat(this.options.valueAxis);var i=this.invertAxes;var r={vertical:!i,reverse:i&&this.chartService.rtl};var d=[];if(this.stack100){r.roundToMajorUnit=false;r.labels={format:"P0"}}for(var n=0;n<f.length;n++){var a=f[n];var p=e.findPane(a.pane);if(k(p,h)){var o=a.name;var v=or(a.type,qt)?{min:.1,max:1}:{min:0,max:1};var s=u.query(o)||t||v;if(n===0&&s&&t){s.min=Math.min(s.min,t.min);s.max=Math.max(s.max,t.max)}var l=void 0;if(or(a.type,qt))l=S.LogarithmicAxis;else l=S.NumericAxis;var c=new l(s.min,s.max,x({},r,a),e.chartService);if(o){if(e.namedValueAxes[o])throw new Error("Value axis with name "+o+" is already defined");e.namedValueAxes[o]=c}c.axisIndex=n;d.push(c);e.appendAxis(c)}}var g=this.valueAxis||d[0];this.valueAxis=g;if(i)this.axisX=g;else this.axisY=g},_dispatchEvent:function(e,t,h){var i=e._eventCoordinates(t);var r=new D(i.x,i.y);var n=this.pointPane(r);var a=[];var o=[];if(!n)return;var s=n.axes;for(var l=0;l<s.length;l++){var c=s[l];if(c.getValue)rr(o,c.getValue(r));else rr(a,c.getCategory(r))}if(a.length===0)rr(a,this.categoryAxis.getCategory(r));if(a.length>0&&o.length>0)e.trigger(h,{element:F(t),originalEvent:t,category:hr(a),value:hr(o)})},pointPane:function(e){var t=this.panes;for(var i=0;i<t.length;i++){var r=t[i];if(r.contentBox.containsPoint(e))return r}},updateAxisOptions:function(e,t){Gr(this.options,e,t);Gr(this.originalOptions,e,t)}});function Gr(e,t,i){var r=t instanceof q?[].concat(e.categoryAxis):[].concat(e.valueAxis);x(r[t.axisIndex],i)}function Wr(e,t,i){return K(e,function(e){return i===0&&!e.categoryAxis||e.categoryAxis===t})}e(jr,{categoryAxis:{},valueAxis:{}}),x(jr.prototype,xr);var qr=t.extend({init:function(){this._points=[]},destroy:function(){this._points=[]},show:function(e,t){var i=this;var r=[].concat(e);this.hide();for(var n=0;n<r.length;n++){var a=r[n];if(a&&a.toggleHighlight&&a.hasHighlight()){i.togglePointHighlight(a,true,t);i._points.push(a)}}},togglePointHighlight:function(e,t,i){var r=(e.options.highlight||{}).toggle;if(r){var n={category:e.category,series:e.series,dataItem:e.dataItem,value:e.value,stackValue:e.stackValue,preventDefault:Yr,visual:e.highlightVisual(),show:t};r(n);if(!n._defaultPrevented)e.toggleHighlight(t,i)}else e.toggleHighlight(t,i)},hide:function(){var e=this;var t=this._points;while(t.length)e.togglePointHighlight(t.pop(),false)},isHighlighted:function(e){var t=this._points;for(var i=0;i<t.length;i++){var r=t[i];if(e===r)return true}return false}});function Yr(){this._defaultPrevented=true}function $r(e,t){var i=(t||"").toLowerCase();var r=e.event;var n=i==="none"&&!(r.ctrlKey||r.shiftKey||r.altKey)||r[i+"Key"];return n}function Xr(e){var t={};for(var i=0;i<e.length;i++){var r=e[i];if(r.axis.options.name)t[r.axis.options.name]={min:r.range.min,max:r.range.max}}return t}var Kr=t.extend({init:function(e,t){this.plotArea=e;this.options=x({},this.options,t)},start:function(e){this._active=$r(e,this.options.key);return this._active},move:function(e){if(this._active){var t=this.axisRanges=this._panAxes(e,_).concat(this._panAxes(e,g));if(t.length){this.axisRanges=t;return Xr(t)}}},end:function(){var e=this._active;this._active=false;return e},pan:function(){var e=this;var t=e.plotArea;var i=e.axisRanges;if(i.length){for(var r=0;r<i.length;r++){var n=i[r];t.updateAxisOptions(n.axis,n.range)}t.redraw(t.panes)}},destroy:function(){delete this.plotArea},_panAxes:function(e,t){var i=this.plotArea;var r=-e[t].delta;var n=(this.options.lock||"").toLowerCase();var a=[];if(r!==0&&(n||"").toLowerCase()!==t){var o=i.axes;for(var s=0;s<o.length;s++){var l=o[s];if(t===_&&!l.options.vertical||t===g&&l.options.vertical){var c=l.pan(r);if(c){c.limitRange=true;a.push({axis:l,range:c})}}}}return a}}),Qr=(Kr.prototype.options={key:"none",lock:"none"},t.extend({init:function(e,t){this.chart=e;this.options=x({},this.options,t);this.createElement()},createElement:function(){var e=this._marquee=document.createElement("div");e.className="k-marquee";var t=document.createElement("div");t.className="k-marquee-color";e.appendChild(t)},removeElement:function(){if(this._marquee.parentNode)this._marquee.parentNode.removeChild(this._marquee)},setStyles:function(e){Q(this._marquee,e)},start:function(e){if($r(e,this.options.key)){var t=this.chart;var i=t._eventCoordinates(e);var r=this._zoomPane=t._plotArea.paneByPoint(i);var n=r?r.chartsBox().clone():null;if(r&&n){var a=this._elementOffset();n.translate(a.left,a.top);this._zoomPaneClipBox=n;document.body.appendChild(this._marquee);this.setStyles({left:e.pageX+1,top:e.pageY+1,width:0,height:0});return true}}return false},_elementOffset:function(){var e=this.chart.element;var t=Q(e,["paddingLeft","paddingTop"]);var i=t.paddingLeft;var r=t.paddingTop;var n=S.elementOffset(e);return{left:i+n.left,top:r+n.top}},move:function(e){var t=this._zoomPane;if(t)this.setStyles(this._selectionPosition(e))},end:function(e){var t=this._zoomPane;if(t){var i=this._elementOffset();var r=this._selectionPosition(e);r.left-=i.left;r.top-=i.top;var n={x:r.left,y:r.top};var a={x:r.left+r.width,y:r.top+r.height};this._updateAxisRanges(n,a);this.removeElement();delete this._zoomPane;return Xr(this.axisRanges)}},zoom:function(){var e=this.axisRanges;if(e&&e.length){var t=this.chart._plotArea;for(var i=0;i<e.length;i++){var r=e[i];t.updateAxisOptions(r.axis,r.range)}t.redraw(t.panes)}},destroy:function(){this.removeElement();delete this._marquee;delete this.chart},_updateAxisRanges:function(e,t){var i=(this.options.lock||"").toLowerCase();var r=[];var n=this._zoomPane.axes;for(var a=0;a<n.length;a++){var o=n[a];var s=o.options.vertical;if(!(i===_&&!s)&&!(i===g&&s)&&M(o.axisIndex)){var l=o.pointsRange(e,t);if(l)r.push({axis:o,range:l})}}this.axisRanges=r},_selectionPosition:function(e){var t=this._zoomPaneClipBox;var i={x:e.x.startLocation,y:e.y.startLocation};var r=e.x.location;var n=e.y.location;var a=(this.options.lock||"").toLowerCase();var o=Math.min(i.x,r);var s=Math.min(i.y,n);var l=Math.abs(i.x-r);var c=Math.abs(i.y-n);if(a===_){o=t.x1;l=t.width()}if(a===g){s=t.y1;c=t.height()}if(r>t.x2)l=t.x2-i.x;if(r<t.x1)l=i.x-t.x1;if(n>t.y2)c=t.y2-i.y;if(n<t.y1)c=i.y-t.y1;return{left:Math.max(o,t.x1),top:Math.max(s,t.y1),width:l,height:c}}}));Qr.prototype.options={key:"shift",lock:"none"};var Zr,Jr=ie.util.limitValue,en=.01,tn=.9,rn=.3,nn=t.extend({init:function(e,t){this.chart=e;this.options=x({rate:rn},this.options,t)},updateRanges:function(e,t){var i=this;var r=(this.options.lock||"").toLowerCase();var n=[];var a=this.chart._plotArea.axes;for(var o=0;o<a.length;o++){var s=a[o];var l=s.options.vertical;if(!(r===_&&!l)&&!(r===g&&l)&&s.zoomRange){var h=Jr(i.options.rate,en,tn);var c=s.zoomRange(-e*h,t);if(c)n.push({axis:s,range:c})}}this.axisRanges=n;return Xr(n)},zoom:function(){var e=this.axisRanges;var t=this.chart._plotArea;if(e&&e.length&&t.updateAxisOptions){for(var i=0;i<e.length;i++){var r=e[i];t.updateAxisOptions(r.axis,r.range)}t.redraw(t.panes)}},destroy:function(){delete this.chart}}),an=w.extend({init:function(e,t){w.fn.init.call(this,e);this.chartService=t},render:function(){var e=this;var t=e.children;var i=e.options;var r=i.vertical;this.visual=new ie.Layout(null,{spacing:r?0:i.spacing,lineSpacing:r?i.spacing:0,orientation:r?"vertical":"horizontal",reverse:i.rtl,alignItems:r?"start":"center"});for(var n=0;n<t.length;n++){var a=t[n];a.reflow(new E);a.renderVisual()}},reflow:function(e){this.visual.rect(e.toRect());this.visual.reflow();var t=this.visual.clippedBBox();if(t)this.box=S.rectToBox(t);else this.box=new E},renderVisual:function(){this.addVisual()},createVisual:function(){}}),on=Y.extend({init:function(e){Y.fn.init.call(this,e);this.createContainer();if(!e.rtl){this.createMarker();this.createLabel()}else{this.createLabel();this.createMarker()}},createContainer:function(){this.container=new S.FloatElement({vertical:false,wrap:false,align:A,spacing:this.options.spacing});this.append(this.container)},createMarker:function(){this.container.append(new H(this.markerOptions()))},markerOptions:function(){var e=this.options;var t=e.markerColor;return x({},e.markers,{background:t,border:{color:t}})},createLabel:function(){var e=this.options;var t=x({},e.labels);this.container.append(new N(e.text,t))},renderComplete:function(){Y.fn.renderComplete.call(this);var e=this.options.cursor||{};var t=this._itemOverlay=re.fromRect(this.container.box.toRect(),{fill:{color:a,opacity:0},stroke:null,cursor:e.style||e});this.appendVisual(t)},click:function(e,t){var i=this.eventArgs(t);if(!e.trigger(kt,i)&&t&&t.type==="contextmenu")t.preventDefault()},over:function(e,t){var i=this.eventArgs(t);if(!e.trigger(Ct,i))e._legendItemHover(i.seriesIndex,i.pointIndex);return true},out:function(e,t){e._unsetActivePoint();e.trigger(St,this.eventArgs(t))},eventArgs:function(e){var t=this.options;return{element:F(e),text:t.text,series:t.series,seriesIndex:t.series.index,pointIndex:t.pointIndex}},renderVisual:function(){var t=this;var e=this.options;var i=e.visual;if(i){this.visual=i({active:e.active,series:e.series,sender:this.getSender(),pointIndex:e.pointIndex,options:{markers:this.markerOptions(),labels:e.labels},createVisual:function(){t.createVisual();t.renderChildren();t.renderComplete();var e=t.visual;delete t.visual;return e}});this.addVisual()}else Y.fn.renderVisual.call(this)}}),sn="horizontal",ln="pointer",cn="custom",hn=w.extend({init:function(e,t){if(t===void 0)t={};w.fn.init.call(this,e);this.chartService=t;if(!k(this.options.position,[P,z,I,B,cn]))this.options.position=z;this.createContainers();this.createLegendTitle(e.title);this.createItems()},createContainers:function(){var e=this.options;var t=e.position;var i=e.align;var r=t;var n=A;if(t===cn)r=B;else if(k(t,[P,I])){if(i==="start")r=B;else if(i==="end")r=z;else r=A;n=t}else if(i)if(i==="start")n=P;else if(i==="end")n=I;this.container=new Y({margin:e.margin,padding:e.padding,background:e.background,border:e.border,vAlign:n,align:r,zIndex:e.zIndex,shrinkToFit:true});if(this.hasTitle())this.itemsContainer=new Y({vAlign:n,align:r,zIndex:e.zIndex,shrinkToFit:true});else this.itemsContainer=this.container;this.append(this.container)},createItems:function(){var e=this.getService();var t=this.options;var i=this.isVertical();var r=new an({vertical:i,spacing:t.spacing,rtl:e.rtl},e);var n=t.items;if(t.reverse)n=n.slice(0).reverse();var a=n.length;for(var o=0;o<a;o++){var s=n[o];r.append(new on(x({},{markers:t.markers,labels:t.labels,rtl:e.rtl},t.item,s)))}r.render();this.itemsContainer.append(r)},isVertical:function(){var e=this.options;var t=e.orientation;var i=e.position;var r=i===cn&&t!==sn||(M(t)?t!==sn:k(i,[B,z]));return r},hasItems:function(){return this.container.children[0].children.length>0},reflow:function(e){var t=this.options;var i=e.clone();if(!this.hasItems()){this.box=i;return}if(t.position===cn){this.containerCustomReflow(i);this.box=i}else this.containerReflow(i);if(this.hasTitle())this.title.reflow(new E(this.container.box.x1,this.title.box.y1,this.container.box.x2,this.title.box.y2))},containerReflow:function(e){var t=this;var i=t.options;var r=t.container;var n=i.position;var a=i.width;var h=i.height;var o=n===P||n===I?_:g;var u=this.isVertical();var s=e.clone();var l=e.clone();if(n===B||n===z)l.y1=s.y1=0;if(u&&h){l.y2=l.y1+h;l.align(s,g,r.options.vAlign)}else if(!u&&a){l.x2=l.x1+a;l.align(s,_,r.options.align)}r.reflow(l);l=r.box;var c=l.clone();if(i.offsetX||i.offsetY){l.translate(i.offsetX,i.offsetY);r.reflow(l)}c[o+1]=e[o+1];c[o+2]=e[o+2];this.box=c},containerCustomReflow:function(e){var t=this;var i=t.options;var r=t.container;var n=i.offsetX;var a=i.offsetY;var o=i.width;var s=i.height;var l=this.isVertical();var c=e.clone();if(l&&s)c.y2=c.y1+s;else if(!l&&o)c.x2=c.x1+o;r.reflow(c);c=r.box;r.reflow(new E(n,a,n+c.width(),a+c.height()))},renderVisual:function(){if(this.hasItems())w.fn.renderVisual.call(this)},createLegendTitle:function(e){var t=x({},{color:n,position:P,align:A},e);var i=t.text;if(!e||e.visible===false)return;if(M(t)&&t.visible){var r=V(t);if(r)i=r({text:i});else if(t.format)i=this.chartService.format.auto(t.format,i)}this.title=new N(i,t);this.createTitleLayout();this.appendTitleLayoutContent()},createTitleLayout:function(){this.layout=new S.FloatElement({vertical:true,wrap:false});this.container.append(this.layout)},hasTitle:function(){return Boolean(this.options.title&&this.options.title.visible!==false)},appendTitleLayoutContent:function(){var e=this.options;if(e.title.position===I){this.layout.append(this.itemsContainer);this.layout.append(this.title)}else{this.layout.append(this.title);this.layout.append(this.itemsContainer)}}}),un=(e(hn,{position:z,items:[],offsetX:0,offsetY:0,margin:U(5),padding:U(5),border:{color:n,width:0},item:{cursor:ln,spacing:6},spacing:6,background:"",zIndex:1,markers:{border:{width:0},width:15,height:3,type:"rect",align:B,vAlign:A}}),t.extend({init:function(){this._registry=[]},register:function(e,t){this._registry.push({type:e,seriesTypes:t})},create:function(e,t,i){var r=this._registry;var n=r[0];var a;for(var o=0;o<r.length;o++){var s=r[o];a=sr(e,s.seriesTypes);if(a.length>0){n=s;break}}return new n.type(a,t,i)}})),fn=(un.current=new un,3),dn=.1;function pn(e){var t=document.createElement("div");if(e)t.className=e;return t}function vn(e){var t=e;while(t&&!Z(t,"k-handle"))t=t.parentNode;return t}var gn=t.extend({init:function(e,t,i,r){var n=e.element;this.options=x({},this.options,i);this.chart=e;this.observer=r;this.chartElement=n;this.categoryAxis=t;this._dateAxis=this.categoryAxis instanceof S.DateCategoryAxis;this.initOptions();this.visible=this.options.visible&&n.offsetHeight;if(this.visible){this.createElements();this.set(this._index(this.options.from),this._index(this.options.to));this.bindEvents()}},onPane:function(e){return this.categoryAxis.pane===e},createElements:function(){var e=this.options;var t=this.wrapper=pn("k-selector");Q(t,{top:e.offset.top,left:e.offset.left,width:e.width,height:e.height,direction:"ltr"});var i=this.selection=pn("k-selection");this.leftMask=pn("k-mask");this.rightMask=pn("k-mask");t.appendChild(this.leftMask);t.appendChild(this.rightMask);t.appendChild(i);i.appendChild(pn("k-selection-bg"));var r=this.leftHandle=pn("k-handle k-left-handle");var n=this.rightHandle=pn("k-handle k-right-handle");r.appendChild(pn());n.appendChild(pn());i.appendChild(r);i.appendChild(n);this.chartElement.appendChild(t);var a=Q(i,["borderLeftWidth","borderRightWidth","height"]);var o=Q(r,"height").height;var s=Q(n,"height").height;e.selection={border:{left:a.borderLeftWidth,right:a.borderRightWidth}};Q(r,{top:(a.height-o)/2});Q(n,{top:(a.height-s)/2});t.style.cssText=t.style.cssText},bindEvents:function(){if(this.options.mousewheel!==false){this._mousewheelHandler=this._mousewheel.bind(this);var e;r(this.wrapper,(e={},e[Qt]=this._mousewheelHandler,e))}this._domEvents=J.DomEventsBuilder.create(this.wrapper,{stopPropagation:true,start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),press:this._press.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)})},initOptions:function(){var e=this;var t=e.options;var i=e.categoryAxis;var r=i.pane.chartsBox();var n=this.chart.chartService.intl;if(this._dateAxis)x(t,{min:W(n,t.min),max:W(n,t.max),from:W(n,t.from),to:W(n,t.to)});var a=Q(this.chartElement,["paddingLeft","paddingTop"]);var o=a.paddingLeft;var s=a.paddingTop;this.options=x({},{width:r.width(),height:r.height()+dn,padding:{left:o,top:s},offset:{left:r.x1+o,top:r.y1+s},from:t.min,to:t.max},t)},destroy:function(){if(this._domEvents){this._domEvents.destroy();delete this._domEvents}clearTimeout(this._mwTimeout);this._state=null;if(this.wrapper){if(this._mousewheelHandler){var e;ee(this.wrapper,(e={},e[Qt]=this._mousewheelHandler,e));this._mousewheelHandler=null}this.chartElement.removeChild(this.wrapper);this.wrapper=null}},_rangeEventArgs:function(e){return{axis:this.categoryAxis.options,from:this._value(e.from),to:this._value(e.to)}},_start:function(e){var t=this.options;var i=F(e);if(this._state||!i)return;this.chart._unsetActivePoint();this._state={moveTarget:vn(i)||i,startLocation:e.x?e.x.location:0,range:{from:this._index(t.from),to:this._index(t.to)}};var r=this._rangeEventArgs({from:this._index(t.from),to:this._index(t.to)});if(this.trigger(Vt,r))this._state=null},_press:function(e){var t;if(this._state)t=this._state.moveTarget;else t=vn(F(e));if(t)S.addClass(t,"k-handle-active")},_move:function(h){if(!this._state)return;var e=this;var t=e._state;var i=e.options;var r=e.categoryAxis;var n=t.range;var a=t.moveTarget;var o=r.options.reverse;var u=this._index(i.from);var f=this._index(i.to);var s=this._index(i.min);var l=this._index(i.max);var d=t.startLocation-h.x.location;var p={from:n.from,to:n.to};var v=n.to-n.from;var g=Q(this.wrapper,"width").width/(r.categoriesCount()-1);var c=Math.round(d/g)*(o?-1:1);if(!a)return;var m=Z(a,"k-left-handle");var _=Z(a,"k-right-handle");if(Z(a,"k-selection k-selection-bg")){n.from=Math.min(Math.max(s,u-c),l-v);n.to=Math.min(n.from+v,l)}else if(m&&!o||_&&o){n.from=Math.min(Math.max(s,u-c),l-1);n.to=Math.max(n.from+1,n.to)}else if(m&&o||_&&!o){n.to=Math.min(Math.max(s+1,f-c),l);n.from=Math.min(n.to-1,n.from)}if(n.from!==p.from||n.to!==p.to){this.move(n.from,n.to);this.trigger(Nt,this._rangeEventArgs(n))}},_end:function(){if(this._state){var e=this._state.moveTarget;if(e)S.removeClass(e,"k-handle-active");var t=this._state.range;this.set(t.from,t.to);this.trigger(Ht,this._rangeEventArgs(t));delete this._state}},_tap:function(e){var t=this;var i=t.options;var r=t.categoryAxis;var n=this.chart._eventCoordinates(e);var h=r.pointCategoryIndex(new D(n.x,r.box.y1));var a=this._index(i.from);var u=this._index(i.to);var f=this._index(i.min);var o=this._index(i.max);var s=u-a;var d=a+s/2;var l={};var p=e.event.which===3;var c=Math.round(d-h);if(this._state||p)return;this.chart._unsetActivePoint();if(!r.options.justified)c--;l.from=Math.min(Math.max(f,a-c),o-s);l.to=Math.min(l.from+s,o);this._start(e);if(this._state){this._state.range=l;this.trigger(Nt,this._rangeEventArgs(l));this._end()}},_mousewheel:function(e){var t=this;var i=S.mousewheelDelta(e);this._start({target:this.selection});if(this._state){var r=this._state.range;e.preventDefault();e.stopPropagation();if(Math.abs(i)>1)i*=fn;if(this.options.mousewheel.reverse)i*=-1;if(this.expand(i))this.trigger(Nt,{axis:this.categoryAxis.options,delta:i,originalEvent:e,from:this._value(r.from),to:this._value(r.to)});if(this._mwTimeout)clearTimeout(this._mwTimeout);this._mwTimeout=setTimeout(function(){t._end()},Zt)}},_gesturestart:function(e){var t=this.options;this._state={range:{from:this._index(t.from),to:this._index(t.to)}};var i=this._rangeEventArgs(this._state.range);if(this.trigger(Vt,i))this._state=null;else e.preventDefault()},_gestureend:function(){if(this._state){this.trigger(Ht,this._rangeEventArgs(this._state.range));delete this._state}},_gesturechange:function(e){var t=this;var i=t.chart;var r=t._state;var n=t.options;var a=t.categoryAxis;var o=r.range;var s=i._toModelCoordinates(e.touches[0].x.location).x;var l=i._toModelCoordinates(e.touches[1].x.location).x;var c=Math.min(s,l);var h=Math.max(s,l);e.preventDefault();o.from=a.pointCategoryIndex(new D(c))||n.min;o.to=a.pointCategoryIndex(new D(h))||n.max;this.move(o.from,o.to);this.trigger(Nt,this._rangeEventArgs(o))},_index:function(e){var t=e;if(e instanceof Date)t=this.categoryAxis.categoryIndex(e);return t},_value:function(e){var t=e;if(this._dateAxis){t=this.categoryAxis.categoryAt(e);if(t>this.options.max)t=this.options.max}return t},_slot:function(e){var t=this.categoryAxis;var i=this._index(e);return t.getSlot(i,i,true)},move:function(e,t){var i=this.options;var r=this.categoryAxis.options.reverse;var n=i.offset;var a=i.padding;var h=i.selection.border;var u=r?t:e;var f=r?e:t;var d="x"+(r?2:1);var o=this._slot(u);var s=$(o[d]-n.left+a.left);Q(this.leftMask,{width:s});Q(this.selection,{left:s});o=this._slot(f);var l=$(i.width-(o[d]-n.left+a.left));Q(this.rightMask,{width:l});var c=i.width-l;if(c!==i.width)c+=h.right;Q(this.rightMask,{left:c});Q(this.selection,{width:Math.max(i.width-(s+l)-h.right,0)})},set:function(e,t){var i=this.options;var r=this._index(i.min);var n=this._index(i.max);var a=X(this._index(e),r,n);var o=X(this._index(t),a+1,n);if(i.visible)this.move(a,o);i.from=this._value(a);i.to=this._value(o)},expand:function(e){var t=this.options;var i=this._index(t.min);var r=this._index(t.max);var n=t.mousewheel.zoom;var a=this._index(t.from);var o=this._index(t.to);var s={from:a,to:o};var l=x({},s);if(this._state)s=this._state.range;if(n!==z)s.from=X(X(a-e,0,o-1),i,r);if(n!==B)s.to=X(X(o+e,s.from+1,r),i,r);if(s.from!==l.from||s.to!==l.to){this.set(s.from,s.to);return true}},zoom:function(e,h){var t=this.options;var i=this._index(t.min);var r=this._index(t.max);var n=this._index(t.from);var a=this._index(t.to);var o={from:n,to:a};var s=x({},o);var u=this.categoryAxis.options;var f=u.reverse;var d=_+(f?"2":"1");var l=this.categoryAxis.lineBox();var p=Math.abs(l[d]-h[_]);var v=l.width();var c=$(p/v,2);var g=$(c*e);var m=$((1-c)*e);if(this._state)o=this._state.range;o.from=X(X(n-g,0,a-1),i,r);o.to=X(X(a+m,o.from+1,r),i,r);if(o.from!==s.from||o.to!==s.to){this.set(o.from,o.to);return true}},trigger:function(e,t){return(this.observer||this.chart).trigger(e,t)}}),mn=(e(gn,{visible:true,mousewheel:{zoom:"both"},min:u,max:f}),Ki.extend({show:function(e){if(!e||!e.tooltipAnchor||this._current&&this._current===e)return;var t=x({},this.options,e.options.tooltip);var i=e.tooltipAnchor();if(i){this._current=e;Ki.fn.show.call(this,{point:e,anchor:i},t,e)}else this.hide()},hide:function(){delete this._current;Ki.fn.hide.call(this)}})),_n=Ki.extend({init:function(e,t){Ki.fn.init.call(this,e.chartService,t);this.plotArea=e;this.formatService=e.chartService.format},showAt:function(e,t){var i=K(e,function(e){var t=e.series.tooltip;var i=t&&t.visible===false;return!i});if(i.length>0){var r=i[0];var n=this.plotArea.categoryAxis.getSlot(r.categoryIx);var a=t?this._slotAnchor(t,n):this._defaultAnchor(r,n);this.show({anchor:a,shared:true,points:e,category:r.category,categoryText:this.formatService.auto(this.options.categoryFormat,r.category),series:this.plotArea.series},this.options)}},_slotAnchor:function(e,t){var i=this.plotArea.categoryAxis;var r={horizontal:"left",vertical:"center"};if(!i.options.vertical)e.x=t.center().x;return{point:e,align:r}},_defaultAnchor:function(e,t){var i=e.owner.pane.chartsBox();var r=this.plotArea.categoryAxis.options.vertical;var n=i.center();var a=t.center();var o={horizontal:"center",vertical:"center"};var s;if(r)s=new D(n.x,a.y);else s=new D(a.x,n.y);return{point:s,align:o}}}),yn=(e(_n,{categoryFormat:"{0:d}"}),ne.extend({setup:function(){var e=this;var t=e.element;var i=e.options;var r=t.bbox();if(r){this.origin=i.origin;var n=i.vertical?g:_;var a=this.fromScale=new ce(1,1);a[n]=Ee;t.transform(he().scale(a.x,a.y))}else this.abort()},step:function(e){var t=S.interpolateValue(this.fromScale.x,1,e);var i=S.interpolateValue(this.fromScale.y,1,e);this.element.transform(he().scale(t,i,this.origin))},abort:function(){ne.fn.abort.call(this);this.element.transform(null)}})),wn=(e(yn,{duration:Se}),ae.current.register(qe,yn),ne.extend({setup:function(){var e=this.center=this.element.bbox().center();this.element.transform(he().scale(Ee,Ee,e))},step:function(e){this.element.transform(he().scale(e,e,this.center))}})),bn=(e(wn,{easing:"easeOutElastic"}),ae.current.register($e,wn),ne.extend({setup:function(){this.fadeTo=this.element.opacity();this.element.opacity(0)},step:function(e){this.element.opacity(e*this.fadeTo)}})),xn=(e(bn,{duration:200,easing:"linear"}),ae.current.register(Te,bn),ne.extend({setup:function(){this.element.transform(he().scale(Ee,Ee,this.options.center))},step:function(e){this.element.transform(he().scale(e,e,this.options.center))}})),kn=(e(xn,{easing:"easeOutElastic",duration:Se}),ae.current.register(nt,xn),ji.extend({render:function(){ji.fn.render.call(this);this.renderSegments()},createSegment:function(e,t,i){var r=t.style;var n;if(r===je)n=vi;else n=ui;return new n(e,t,i)},animationPoints:function(){var e=ji.fn.animationPoints.call(this);return e.concat(this._segments)},createMissingValue:function(e,t){if(t===Fe){var i={x:e.x,y:e.y};if(!Ui(i.x))i.x=0;if(!Ui(i.y))i.y=0;return i}}})),Cn=(x(kn.prototype,gi),gr.extend({initFields:function(){this.namedXAxes={};this.namedYAxes={};this.xAxisRangeTracker=new Si;this.yAxisRangeTracker=new Si},render:function(e){var t=this;if(e===void 0)e=this.panes;var i=this.groupSeriesByPane();for(var r=0;r<e.length;r++){var n=e[r];var a=i[n.options.name||"default"]||[];t.addToLegend(a);var o=t.filterVisibleSeries(a);if(!o)continue;t.createScatterChart(sr(o,pt),n);t.createScatterLineChart(sr(o,vt),n);t.createBubbleChart(sr(o,$e),n)}this.createAxes(e)},appendChart:function(e,t){this.xAxisRangeTracker.update(e.xAxisRanges);this.yAxisRangeTracker.update(e.yAxisRanges);gr.fn.appendChart.call(this,e,t)},removeAxis:function(e){var t=e.options.name;gr.fn.removeAxis.call(this,e);if(e.options.vertical){this.yAxisRangeTracker.reset(t);delete this.namedYAxes[t]}else{this.xAxisRangeTracker.reset(t);delete this.namedXAxes[t]}if(e===this.axisX)delete this.axisX;if(e===this.axisY)delete this.axisY},seriesPaneName:function(e){var t=this.options;var i=e.xAxis;var r=[].concat(t.xAxis);var n=K(r,function(e){return e.name===i})[0];var a=e.yAxis;var o=[].concat(t.yAxis);var s=K(o,function(e){return e.name===a})[0];var l=t.panes||[{}];var c=l[0].name||"default";var h=(n||{}).pane||(s||{}).pane||c;return h},createScatterChart:function(e,t){if(e.length>0)this.appendChart(new ji(this,{series:e,clip:t.options.clip}),t)},createScatterLineChart:function(e,t){if(e.length>0)this.appendChart(new kn(this,{series:e,clip:t.options.clip}),t)},createBubbleChart:function(e,t){if(e.length>0)this.appendChart(new Wi(this,{series:e,clip:t.options.clip}),t)},createXYAxis:function(h,e,t){var i=h.name;var u=e?this.namedYAxes:this.namedXAxes;var f=e?this.yAxisRangeTracker:this.xAxisRangeTracker;var r=x({reverse:!e&&this.chartService.rtl},h,{vertical:e});var d=or(r.type,qt);var n=f.query();var p=d?{min:.1,max:1}:{min:0,max:1};var a=f.query(i)||n||p;var o=[r.min,r.max];var v=this.series;for(var s=0;s<v.length;s++){var g=v[s];var m=g[e?"yAxis":"xAxis"];if(m===r.name||t===0&&!m){var _=_e.current.bindPoint(g,0).valueFields;o.push(_[e?"y":"x"]);break}}if(t===0&&n){a.min=Math.min(a.min,n.min);a.max=Math.max(a.max,n.max)}var y;for(var w=0;w<o.length;w++)if(o[w]instanceof Date){y=true;break}var l;if(or(r.type,b)||!r.type&&y)l=S.DateValueAxis;else if(d)l=S.LogarithmicAxis;else l=S.NumericAxis;var c=new l(a.min,a.max,r,this.chartService);c.axisIndex=t;if(i){if(u[i])throw new Error((e?"Y":"X")+" axis with name "+i+" is already defined");u[i]=c}this.appendAxis(c);return c},createAxes:function(e){var t=this;var i=this.options;var r=[].concat(i.xAxis);var n=[];var a=[].concat(i.yAxis);var o=[];for(var s=0;s<r.length;s++){var l=t.findPane(r[s].pane);if(k(l,e))n.push(t.createXYAxis(r[s],false,s))}for(var c=0;c<a.length;c++){var h=t.findPane(a[c].pane);if(k(h,e))o.push(t.createXYAxis(a[c],true,c))}this.axisX=this.axisX||n[0];this.axisY=this.axisY||o[0]},_dispatchEvent:function(e,t,i){var r=e._eventCoordinates(t);var h=new D(r.x,r.y);var n=this.axes;var u=n.length;var a=[];var o=[];for(var s=0;s<u;s++){var l=n[s];var f=l.options.vertical?o:a;var c=l.getValue(h);if(c!==null)f.push(c)}if(a.length>0&&o.length>0)e.trigger(i,{element:F(t),originalEvent:t,x:hr(a),y:hr(o)})},updateAxisOptions:function(e,t){var i=e.options.vertical;var r=this.groupAxes(this.panes);var n=(i?r.y:r.x).indexOf(e);Sn(this.options,n,i,t);Sn(this.originalOptions,n,i,t)}}));function Sn(e,t,i,r){var n=[].concat(i?e.yAxis:e.xAxis)[t];x(n,r)}e(Cn,{xAxis:{},yAxis:{}}),x(Cn.prototype,xr);var Tn=w.extend({init:function(e,t,i){w.fn.init.call(this,i);this.value=e;this.sector=t},render:function(){var e=this.options.labels;var t=this.owner.chartService;var i=this.value;if(this._rendered||this.visible===false)return;this._rendered=true;var r=V(e);var n=this.pointData();if(r)i=r(n);else if(e.format)i=t.format.auto(e.format,i);if(e.visible&&(i||i===0)){if(e.position===A||e.position===$t){if(!e.color)e.color=S.autoTextColor(this.options.color);if(!e.background)e.background=this.options.color}else{var a=t.theme.seriesDefaults.labels;e.color=e.color||a.color;e.background=e.background||a.background}this.label=new N(i,x({},e,{align:A,vAlign:"",animation:{type:Te,delay:this.animationDelay}}),n);this.append(this.label)}},reflow:function(e){this.render();this.box=e;this.reflowLabel()},reflowLabel:function(){var e=this;var t=e.options.labels;var i=e.label;var r=this.sector.clone();var n=t.distance;var a=r.middle();if(i){var o=i.box.height();var s=i.box.width();var l;if(t.position===A){r.radius=Math.abs((r.radius-o)/2)+o;l=r.point(a);i.reflow(new E(l.x,l.y-o/2,l.x,l.y))}else if(t.position===$t){r.radius=r.radius-o/2;l=r.point(a);i.reflow(new E(l.x,l.y-o/2,l.x,l.y))}else{var c;l=r.clone().expand(n).point(a);if(l.x>=r.center.x){c=l.x+s;i.orientation=z}else{c=l.x-s;i.orientation=B}i.reflow(new E(c,l.y-o,l.x,l.y))}}},createVisual:function(){var t=this;var e=this;var i=e.sector;var r=e.options;w.fn.createVisual.call(this);if(this.value)if(r.visual){var n=(i.startAngle+180)%360;var a=r.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,center:new ce(i.center.x,i.center.y),radius:i.radius,innerRadius:i.innerRadius,startAngle:n,endAngle:n+i.angle,options:r,sender:this.getSender(),createVisual:function(){var e=new oe;t.createSegmentVisual(e);return e}});if(a)this.visual.append(a)}else this.createSegmentVisual(this.visual)},createSegmentVisual:function(e){var t=this;var i=t.sector;var r=t.options;var n=r.border||{};var a=n.width>0?{stroke:{color:n.color,width:n.width,opacity:n.opacity,dashType:n.dashType}}:{};var o=r.color;var s={color:o,opacity:r.opacity};var l=this.createSegment(i,x({fill:s,stroke:{opacity:r.opacity},zIndex:r.zIndex},a));e.append(l);if(Ai(r))e.append(this.createGradientOverlay(l,{baseColor:o,fallbackFill:s},x({center:[i.center.x,i.center.y],innerRadius:i.innerRadius,radius:i.radius,userSpace:true},r.overlay)))},createSegment:function(e,t){if(t.singleSegment)return new ie.Circle(new le.Circle(new ce(e.center.x,e.center.y),e.radius),t);return S.ShapeBuilder.current.createRing(e,t)},createAnimation:function(){var e=this;var t=e.options;var i=e.sector.center;x(t,{animation:{center:[i.x,i.y],delay:this.animationDelay}});w.fn.createAnimation.call(this)},createHighlight:function(e){var t=this.options.highlight||{};var i=t.border||{};return this.createSegment(this.sector,x({},e,{fill:{color:t.color,opacity:t.opacity},stroke:{opacity:i.opacity,width:i.width,color:i.color}}))},highlightVisual:function(){return this.visual.children[0]},highlightVisualArgs:function(){var e=this.sector;return{options:this.options,radius:e.radius,innerRadius:e.innerRadius,center:new ce(e.center.x,e.center.y),startAngle:e.startAngle,endAngle:e.angle+e.startAngle,visual:this.visual}},tooltipAnchor:function(){var e=this.sector.clone().expand(De);var t=e.middle();var i=e.point(t);return{point:i,align:Dn(t+180)}},formatValue:function(e){return this.owner.formatPointValue(this,e)},pointData:function(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series,percentage:this.percentage}}}),An=$(S.rad(30),o),Mn=$(S.rad(60),o);function Dn(e){var t=S.rad(e);var i=$(Math.sin(t),o);var r=$(Math.cos(t),o);var n;if(Math.abs(i)>Mn)n=A;else if(r<0)n=z;else n=B;var a;if(Math.abs(i)<An)a=A;else if(i<0)a=I;else a=P;return{horizontal:n,vertical:a}}e(Tn,{color:a,overlay:{gradient:"roundedBevel"},border:{width:.5},labels:{visible:false,distance:35,font:T.DEFAULT_FONT,margin:U(.5),align:d,zIndex:1,position:Kt},animation:{type:nt},highlight:{visible:true,border:{width:1}},visible:true}),x(Tn.prototype,li);var En={createLegendItem:function(h,u,e){var t=this.options.legend||{};var i=t.labels||{};var r=t.inactiveItems||{};var n=r.labels||{};if(e&&e.visibleInLegend!==false){var a=e.visible!==false;var o=a?V(i):V(n)||V(i);var s=e.category;if(o)s=o({text:s,series:e.series,dataItem:e.dataItem,percentage:e.percentage,value:h});var l,c;if(a){l={};c=u.color}else{l={color:n.color,font:n.font};c=(r.markers||{}).color}if(Ui(s)&&s!=="")this.legendItems.push({active:a,pointIndex:e.index,text:s,series:e.series,markerColor:c,labels:l})}}},Pn=70,In=w.extend({init:function(e,t){w.fn.init.call(this,t);this.plotArea=e;this.chartService=e.chartService;this.points=[];this.legendItems=[];this.render()},render:function(){this.traverseDataPoints(this.addValue.bind(this))},traverseDataPoints:function(h){var u=this;var f=this;var d=f.options;var e=f.plotArea.options.seriesColors;if(e===void 0)e=[];var p=e.length;var v=d.series;var t=v.length;for(var i=0;i<t;i++){var r=v[i];var g=r.data;var n=ar(r);var a=n.total;var m=n.points;var _=n.count;var y=360/a;var w=void 0;if(!isFinite(y))w=360/_;var o=void 0;if(M(r.startAngle))o=r.startAngle;else o=d.startAngle;if(i!==t-1)if(r.labels.position===Kt)r.labels.position=A;for(var s=0;s<m.length;s++){var l=m[s];if(!l)continue;var c=l.fields;var b=l.value;var x=l.visible;var k=b!==0?w||b*y:0;var C=g.length!==1&&Boolean(c.explode);if(!O(r.color))r.color=c.color||e[s%p];h(l.valueFields.value,new S.Ring(null,0,0,o,k),{owner:u,category:M(c.category)?c.category:"",index:s,series:r,seriesIx:i,dataItem:g[s],percentage:a!==0?b/a:0,explode:C,visibleInLegend:c.visibleInLegend,visible:x,zIndex:t-i,animationDelay:u.animationDelay(s,i,t)});if(x!==false)o+=k}}},evalSegmentOptions:function(e,t,i){var r=i.series;ai(e,{value:t,series:r,dataItem:i.dataItem,category:i.category,percentage:i.percentage},{defaults:r._defaults,excluded:["data","content","template","visual","toggle"]})},addValue:function(e,t,i){var r=x({},i.series,{index:i.index});this.evalSegmentOptions(r,e,i);this.createLegendItem(e,r,i);if(i.visible===false)return;var n=new Tn(e,t,r);m.extend(n,i);this.append(n);this.points.push(n)},reflow:function(h){var u=this;var f=u.options;var d=u.points;var e=u.seriesConfigs;if(e===void 0)e=[];var p=d.length;var t=h.clone();var v=5;var i=Math.min(t.width(),t.height());var g=i/2;var m=i-i*.85;var r=new E(t.x1,t.y1,t.x1+i,t.y1+i);var _=r.center();var y=t.center();var w=f.series.length;var n=[];var a=[];var o=L(f.padding,m);this.targetBox=h;o=o>g-v?g-v:o;r.translate(y.x-_.x,y.y-_.y);var b=g-o;var x=new D(b+r.x1+o,b+r.y1+o);for(var k=0;k<p;k++){var s=d[k];var l=s.sector;var C=s.seriesIx;l.radius=b;l.center=x;if(e.length){var S=e[C];l.innerRadius=S.innerRadius;l.radius=S.radius}if(C===w-1&&s.explode)l.center=l.clone().setRadius(l.radius*.15).point(l.middle());s.reflow(r);var c=s.label;if(c)if(c.options.position===Kt)if(C===w-1)if(c.orientation===z)a.push(c);else n.push(c)}if(n.length>0){n.sort(this.labelComparator(true));this.leftLabelsReflow(n)}if(a.length>0){a.sort(this.labelComparator(false));this.rightLabelsReflow(a)}this.box=r},leftLabelsReflow:function(e){var t=this.distanceBetweenLabels(e);this.distributeLabels(t,e)},rightLabelsReflow:function(e){var t=this.distanceBetweenLabels(e);this.distributeLabels(t,e)},distanceBetweenLabels:function(e){var t=R(this.points);var i=t.sector;var r=e.length-1;var n=i.radius+t.options.labels.distance;var a=[];var o=e[0].box;var s=$(o.y1-(i.center.y-n-o.height()-o.height()/2));a.push(s);for(var l=0;l<r;l++){var c=e[l+1].box;o=e[l].box;s=$(c.y1-o.y2);a.push(s)}s=$(i.center.y+n-e[r].box.y2-e[r].box.height()/2);a.push(s);return a},distributeLabels:function(e,t){var i=this;var r=e.length;var n,a,o;for(var s=0;s<r;s++){o=-e[s];n=a=s;while(o>0&&(n>=0||a<r)){o=i._takeDistance(e,s,--n,o);o=i._takeDistance(e,s,++a,o)}}this.reflowLabels(e,t)},_takeDistance:function(e,t,i,r){var n=r;if(e[i]>0){var a=Math.min(e[i],n);n-=a;e[i]-=a;e[t]+=a}return n},reflowLabels:function(e,t){var h=this;var u=R(this.points);var i=u.sector;var r=u.options.labels;var f=t.length;var n=r.distance;var a=i.center.y-(i.radius+n)-t[0].box.height();var o;e[0]+=2;for(var s=0;s<f;s++){var l=t[s];var c=l.box;a+=e[s];o=h.hAlignLabel(c.x2,i.clone().expand(n),a,a+c.height(),l.orientation===z);if(l.orientation===z){if(r.align!==d)o=i.radius+i.center.x+n;l.reflow(new E(o+c.width(),a,o,a))}else{if(r.align!==d)o=i.center.x-i.radius-n;l.reflow(new E(o-c.width(),a,o,a))}a+=c.height()}},createVisual:function(){var h=this;var u=this;var f=u.options.connectors;var d=u.points;var p=d.length;var e=4;w.fn.createVisual.call(this);this._connectorLines=[];for(var v=0;v<p;v++){var t=d[v];var i=t.sector;var g=t.label;var m=i.middle();var _=(t.options.connectors||{}).color||f.color;if(g){var r=new re({stroke:{color:_,width:f.width},animation:{type:Te,delay:t.animationDelay}});if(g.options.position===Kt){var n=g.box;var y=i.center;var a=i.point(m);var o=new D(n.x1,n.center().y);var s=void 0,l=void 0,c=void 0;a=i.clone().expand(f.padding).point(m);r.moveTo(a.x,a.y);if(g.orientation===z){l=new D(n.x1-f.padding,n.center().y);c=Bn(y,a,o,l);o=new D(l.x-e,l.y);c=c||o;c.x=Math.min(c.x,o.x);if(h.pointInCircle(c,i.center,i.radius+e)||c.x<i.center.x){s=i.center.x+i.radius+e;if(t.options.labels.align!==Qe)if(s<o.x)r.lineTo(s,a.y);else r.lineTo(a.x+e*2,a.y);else r.lineTo(s,a.y);r.lineTo(o.x,l.y)}else{c.y=l.y;r.lineTo(c.x,c.y)}}else{l=new D(n.x2+f.padding,n.center().y);c=Bn(y,a,o,l);o=new D(l.x+e,l.y);c=c||o;c.x=Math.max(c.x,o.x);if(h.pointInCircle(c,i.center,i.radius+e)||c.x>i.center.x){s=i.center.x-i.radius-e;if(t.options.labels.align!==Qe)if(s>o.x)r.lineTo(s,a.y);else r.lineTo(a.x-e*2,a.y);else r.lineTo(s,a.y);r.lineTo(o.x,l.y)}else{c.y=l.y;r.lineTo(c.x,c.y)}}r.lineTo(l.x,l.y);h._connectorLines.push(r);h.visual.append(r)}}}},renderVisual:function(){w.fn.renderVisual.call(this);if(S.find(this.options.series,function(e){return e.autoFit})){var e=this.targetBox;var t=this.box.center();var i=this.visual.bbox();if(!i)return;var r=i.bottomRight();var n=Math.min((t.y-e.y1)/(t.y-i.origin.y),(e.y2-t.y)/(r.y-t.y),(t.x-e.x1)/(t.x-i.origin.x),(e.x2-t.x)/(r.x-t.x));if(n<1)this.visual.transform(he().scale(n,n,[t.x,t.y]))}},labelComparator:function(e){var n=e?-1:1;return function(e,t){var i=(e.parent.sector.middle()+270)%360;var r=(t.parent.sector.middle()+270)%360;return(i-r)*n}},hAlignLabel:function(e,t,i,r,n){var a=t.radius;var o=t.center;var s=o.x;var l=o.y;var c=Math.min(Math.abs(l-i),Math.abs(l-r));if(c>a)return e;return s+Math.sqrt(a*a-c*c)*(n?1:-1)},pointInCircle:function(e,t,i){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<Math.pow(i,2)},formatPointValue:function(e,t){return this.chartService.format.auto(t,e.value)},animationDelay:function(e){return e*Pn},stackRoot:function(){return this}});function Bn(e,t,i,r){var n=(r.x-i.x)*(e.y-i.y)-(r.y-i.y)*(e.x-i.x);var a=(r.y-i.y)*(t.x-e.x)-(r.x-i.x)*(t.y-e.y);var o;if(a!==0){var s=n/a;o=new D(e.x+s*(t.x-e.x),e.y+s*(t.y-e.y))}return o}e(In,{startAngle:90,connectors:{width:2,color:"#939393",padding:8},inactiveItems:{markers:{},labels:{}}}),x(In.prototype,En),In.prototype.isStackRoot=true;var zn=gr.extend({render:function(){this.createPieChart(this.series)},createPieChart:function(e){var t=e[0];var i=new In(this,{series:e,padding:t.padding,startAngle:t.startAngle,connectors:t.connectors,legend:this.options.legend});this.appendChart(i)},appendChart:function(e,t){gr.fn.appendChart.call(this,e,t);j(this.options.legend.items,e.legendItems)}}),On=Tn.extend({reflowLabel:function(){var e=this;var t=e.options.labels;var i=e.label;var r=this.sector.clone();var n=r.middle();if(i){var a=i.box.height();if(t.position===A){r.radius-=(r.radius-r.innerRadius)/2;var o=r.point(n);i.reflow(new E(o.x,o.y-a/2,o.x,o.y))}else Tn.fn.reflowLabel.call(this)}},createSegment:function(e,t){return S.ShapeBuilder.current.createRing(e,t)}}),Ln=(e(On,{overlay:{gradient:"roundedGlass"},labels:{position:A},animation:{type:nt}}),x(On.prototype,li),50),Rn=In.extend({addValue:function(e,t,i){var r=x({},i.series,{index:i.index});this.evalSegmentOptions(r,e,i);this.createLegendItem(e,r,i);if(!e||i.visible===false)return;var n=new On(e,t,r);m.extend(n,i);this.append(n);this.points.push(n)},reflow:function(h){var u=this;var f=this.options;var d=h.clone();var p=5;var e=Math.min(d.width(),d.height());var t=e/2;var v=e-e*.85;var i=f.series;var r=i.length;var n=L(f.padding,v);n=n>t-p?t-p:n;var a=t-n;var g=0;var o;for(var s=0;s<r;s++){var l=i[s];if(s===0)if(M(l.holeSize)){o=l.holeSize;a-=l.holeSize}if(M(l.size))a-=l.size;else g++;if(M(l.margin)&&s!==r-1)a-=l.margin}if(!M(o)){var m=(t-n)/(r+.75);o=m*.75;a-=o}var c=o;var _=0;var y,w;this.seriesConfigs=[];for(var b=0;b<r;b++){var x=i[b];y=L(x.size,a/g);c+=_;w=c+y;u.seriesConfigs.push({innerRadius:c,radius:w});_=x.margin||0;c=w}In.fn.reflow.call(this,h)},animationDelay:function(e,t,i){return e*Ln+Se*(t+1)/(i+1)}}),Fn=(e(Rn,{startAngle:90,connectors:{width:2,color:"#939393",padding:8}}),zn.extend({render:function(){this.createDonutChart(this.series)},createDonutChart:function(e){var t=e[0];var i=new Rn(this,{series:e,padding:t.padding,connectors:t.connectors,legend:this.options.legend});this.appendChart(i)}})),Vn=.15,Nn=gr.extend({initFields:function(){this.valueAxisRangeTracker=new Si},render:function(){this.addToLegend(this.series);this.createPolarAxis();this.createCharts();this.createValueAxis()},alignAxes:function(){var e=this.valueAxis;var t=e.range();var i=e.options.reverse?t.max:t.min;var r=e.getSlot(i);var n=this.polarAxis.getSlot(0).center;var a=e.box.translate(n.x-r.x1,n.y-r.y1);e.reflow(a)},createValueAxis:function(){var e=this.valueAxisRangeTracker;var t=e.query();var i=this.valueAxisOptions({roundToMajorUnit:false,zIndex:-1});var r,n;if(i.type===qt){r=S.RadarLogarithmicAxis;n={min:.1,max:1}}else{r=S.RadarNumericAxis;n={min:0,max:1}}var a=e.query(name)||t||n;if(a&&t){a.min=Math.min(a.min,t.min);a.max=Math.max(a.max,t.max)}var o=new r(a.min,a.max,i,this.chartService);this.valueAxis=o;this.appendAxis(o)},reflowAxes:function(){var e=this;var t=e.options.plotArea;var i=e.valueAxis;var r=e.polarAxis;var n=e.box;var a=Math.min(n.width(),n.height())*Vn;var o=U(t.padding||{},a);var s=n.clone().unpad(o);var l=s.clone();l.y2=l.y1+Math.min(l.width(),l.height());l.align(s,g,A);var c=l.clone().shrink(0,l.height()/2);r.reflow(l);i.reflow(c);var h=i.lineBox().height()-i.box.height();i.reflow(i.box.unpad({top:h}));this.axisBox=l;this.alignAxes(l)},backgroundBox:function(){return this.box},detachLabels:function(){}}),Hn=ji.extend({pointSlot:function(e,t){var i=e.center.y-t.y1;var r=D.onCircle(e.center,e.startAngle,i);return new E(r.x,r.y,r.x,r.y)}}),Un=(e(Hn,{clip:false}),kn.extend({})),jn=(Un.prototype.pointSlot=Hn.prototype.pointSlot,e(Un,{clip:false}),ki.extend({fillToAxes:function(e){var t=this._polarAxisCenter();e.lineTo(t.x,t.y)},_polarAxisCenter:function(){var e=this.parent.plotArea.polarAxis;var t=e.box.center();return t},strokeSegments:function(){var e=this._strokeSegments;if(!e){var t=this._polarAxisCenter();var i=new s(false);var r=this.points();r.push(t);e=this._strokeSegments=i.process(r);e.pop()}return e}})),Gn=bi.extend({fillToAxes:function(e){var t=this.parent.plotArea.polarAxis;var i=t.box.center();var r=new le.Segment([i.x,i.y]);e.segments.unshift(r);e.segments.push(r)}}),Wn=Un.extend({createSegment:function(e,t,i){var r=(t.line||{}).style;var n;if(r===je)n=new jn(e,t,i);else n=new Gn(e,t,i);return n},createMissingValue:function(e,t){var i;if(Ui(e.x)&&t!==Ve){i={x:e.x,y:e.y};if(t===Fe)i.y=0}return i},seriesMissingValues:function(e){return e.missingValues||Fe},_hasMissingValuesGap:function(){var e=this;var t=this.options.series;for(var i=0;i<t.length;i++)if(e.seriesMissingValues(t[i])===Ne)return true},sortPoints:function(e){var t=this;e.sort(qn);if(this._hasMissingValuesGap())for(var i=0;i<e.length;i++){var r=e[i];if(r){var n=r.value;if(!Ui(n.y)&&t.seriesMissingValues(r.series)===Ne)delete e[i]}}return e}});function qn(e,t){return e.value.x-t.value.x}var Yn=Nn.extend({createPolarAxis:function(){var e=new S.PolarAxis(this.options.xAxis,this.chartService);this.polarAxis=e;this.axisX=e;this.appendAxis(e)},valueAxisOptions:function(e){return x(e,{majorGridLines:{type:i},minorGridLines:{type:i}},this.options.yAxis)},createValueAxis:function(){Nn.fn.createValueAxis.call(this);this.axisY=this.valueAxis},appendChart:function(e,t){this.valueAxisRangeTracker.update(e.yAxisRanges);gr.prototype.appendChart.call(this,e,t)},createCharts:function(){var e=this.filterVisibleSeries(this.series);var t=this.panes[0];this.createLineChart(sr(e,[ot]),t);this.createScatterChart(sr(e,[st]),t);this.createAreaChart(sr(e,[at]),t)},createLineChart:function(e,t){if(e.length===0)return;var i=new Un(this,{series:e});this.appendChart(i,t)},createScatterChart:function(e,t){if(e.length===0)return;var i=new Hn(this,{series:e});this.appendChart(i,t)},createAreaChart:function(e,t){if(e.length===0)return;var i=new Wn(this,{series:e});this.appendChart(i,t)},_dispatchEvent:function(e,t,i){var r=e._eventCoordinates(t);var n=new D(r.x,r.y);var a=this.axisX.getValue(n);var o=this.axisY.getValue(n);if(a!==null&&o!==null)e.trigger(i,{element:F(t),x:a,y:o})},createCrosshairs:function(){}});function $n(e){var t=[];for(var i=0;i<e.length;i++){var r=e[i];t[r.seriesIx]=t[r.seriesIx]||[];t[r.seriesIx].push(r)}return t}e(Yn,{xAxis:{},yAxis:{}}),x(Yn.prototype,xr);var Xn=wi.extend({pointSlot:function(e,t){var i=e.center.y-t.y1;var r=D.onCircle(e.center,e.middle(),i);return new E(r.x,r.y,r.x,r.y)},renderSegments:function(){wi.fn.renderSegments.call(this);if(this._segments&&this._segments.length>1){var e=$n(this._segments);for(var t=0;t<e.length;t++){var i=e[t];if(i&&i.length>1){var r=i[0].linePoints[0];var n=R(i);var a=R(n.linePoints);var o=r.categoryIx===0;var s=a.categoryIx===a.categoriesCount-1;if(o&&s)R(i).linePoints.push(r)}}}},createSegment:function(e,t,i){var r=t.style;var n;if(r===je)n=vi;else n=ui;var a=new n(e,t,i);var o=this.seriesMissingValues(t);if(e.length===t.data.length||o===Ve)a.options.closed=true;return a}}),Kn=(e(Xn,{clip:false,limitPoints:false}),ki.extend({fillToAxes:function(){}})),Qn=bi.extend({fillToAxes:function(){}}),Zn=Xn.extend({createSegment:function(e,t,i,r){var n=this.options.isStacked;var a=(t.line||{}).style;var o;var s;var l;if(n&&i>0&&r){s=r.linePoints.slice(0);o=r}if(a===je){l=new Kn(e,t,i,o,s);l.options.closed=true}else{e.push(e[0]);l=new Qn(e,t,i,o,s)}return l},seriesMissingValues:function(e){return e.missingValues||Fe}}),Jn=On.extend({init:function(e,t){On.fn.init.call(this,e,null,t)}}),ea=(e(Jn,{overlay:{gradient:"none"},labels:{distance:10}}),w.extend({init:function(e){w.fn.init.call(this,e);this.forEach=e.rtl?Pi:Ei},reflow:function(i){var e=this;var t=e.options;var r=e.children;var n=t.gap;var a=t.spacing;var o=r.length;var s=o+n+a*(o-1);var l=i.angle/s;var c=i.startAngle+l*(n/2);this.forEach(r,function(e){var t=i.clone();t.startAngle=c;t.angle=l;if(e.sector)t.radius=e.sector.radius;e.reflow(t);e.sector=t;c+=l+l*a})}})),ta=(e(ea,{gap:1,spacing:0}),w.extend({reflow:function(e){var t=this;var i=t.options.reverse;var r=t.children;var n=r.length;var a=i?n-1:0;var o=i?-1:1;this.box=new E;for(var s=a;s>=0&&s<n;s+=o){var l=r[s].sector;l.startAngle=e.startAngle;l.angle=e.angle}}})),ia=zi.extend({pointType:function(){return Jn},clusterType:function(){return ea},stackType:function(){return ta},categorySlot:function(e,t){return e.getSlot(t)},pointSlot:function(e,t){var i=e.clone();var r=e.center.y;i.radius=r-t.y1;i.innerRadius=r-t.y2;return i},reflowPoint:function(e,t){e.sector=t;e.reflow()},createAnimation:function(){this.options.animation.center=this.box.toRect().center();zi.fn.createAnimation.call(this)}}),ra=(ia.prototype.reflow=si.prototype.reflow,e(ia,{clip:false,limitPoints:false,animation:{type:"pie"}}),Nn.extend({createPolarAxis:function(){var e=new S.RadarCategoryAxis(this.options.categoryAxis,this.chartService);this.polarAxis=e;this.categoryAxis=e;this.appendAxis(e);this.aggregateCategories();this.createCategoryAxesLabels()},valueAxisOptions:function(e){if(this._hasBarCharts)x(e,{majorGridLines:{type:i},minorGridLines:{type:i}});if(this._isStacked100)x(e,{roundToMajorUnit:false,labels:{format:"P0"}});return x(e,this.options.valueAxis)},aggregateCategories:function(){jr.prototype.aggregateCategories.call(this,this.panes)},createCategoryAxesLabels:function(){jr.prototype.createCategoryAxesLabels.call(this,this.panes)},filterSeries:function(e){return e},createCharts:function(){var e=this.filterVisibleSeries(this.series);var t=this.panes[0];this.createAreaChart(sr(e,[lt]),t);this.createLineChart(sr(e,[ht]),t);this.createBarChart(sr(e,[ct]),t)},chartOptions:function(e){var t={series:e};var i=e[0];if(i){var r=this.filterVisibleSeries(e);var n=i.stack;t.isStacked=n&&r.length>1;t.isStacked100=n&&n.type==="100%"&&r.length>1;if(t.isStacked100)this._isStacked100=true}return t},createAreaChart:function(e,t){if(e.length===0)return;var i=new Zn(this,this.chartOptions(e));this.appendChart(i,t)},createLineChart:function(e,t){if(e.length===0)return;var i=new Xn(this,this.chartOptions(e));this.appendChart(i,t)},createBarChart:function(e,t){if(e.length===0)return;var i=e[0];var r=this.chartOptions(e);r.gap=i.gap;r.spacing=i.spacing;var n=new ia(this,r);this.appendChart(n,t);this._hasBarCharts=true},seriesCategoryAxis:function(){return this.categoryAxis},_dispatchEvent:function(e,t,i){var r=e._eventCoordinates(t);var n=new D(r.x,r.y);var a=this.categoryAxis.getCategory(n);var o=this.valueAxis.getValue(n);if(a!==null&&o!==null)e.trigger(i,{element:F(t),category:a,value:o})},createCrosshairs:function(){}})),na=(x(ra.prototype,xr,{appendChart:jr.prototype.appendChart,aggregateSeries:jr.prototype.aggregateSeries,seriesSourcePoints:jr.prototype.seriesSourcePoints}),e(ra,{categoryAxis:{categories:[]},valueAxis:{}}),w.extend({init:function(e,t,i){w.fn.init.call(this,t);this.value=e;this.options.index=i.index},reflow:function(e){var t=this.points;var i=this.children[0];this.box=new E(t[0].x,t[0].y,t[1].x,t[2].y);if(i)i.reflow(new E(e.x1,t[0].y,e.x2,t[2].y))},createVisual:function(){var e=this;var t=this.options;var i;w.fn.createVisual.call(this);if(t.visual)i=t.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,points:this.points,options:t,sender:this.getSender(),createVisual:function(){return e.createPath()}});else i=this.createPath();if(i)this.visual.append(i)},createPath:function(){var e=this.options;var t=e.border;var i=re.fromPoints(this.points,{fill:{color:e.color,opacity:e.opacity},stroke:{color:t.color,opacity:t.opacity,width:t.width}}).close();return i},createHighlight:function(e){return re.fromPoints(this.points,e)},highlightVisual:function(){return this.visual.children[0]},highlightVisualArgs:function(){var e=re.fromPoints(this.points).close();return{options:this.options,path:e}},tooltipAnchor:function(){var e=this.box;return{point:new D(e.center().x,e.y1),align:{horizontal:"center",vertical:"top"}}},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}})),aa=(e(na,{color:a,border:{width:1}}),x(na.prototype,li),w.extend({init:function(e,t){w.fn.init.call(this,t);this.plotArea=e;this.points=[];this.labels=[];this.legendItems=[];this.render()},formatPointValue:function(e,t){return this.chartService.format.auto(t,e.value)},render:function(){var e=this;var t=this;var h=t.options;var i=t.plotArea.options.seriesColors;if(i===void 0)i=[];var r=h.series[0];var n=r.data;if(!n)return;var a=ar(r);var u=a.total;var o=a.points;for(var s=0;s<o.length;s++){var l=o[s];if(!l)continue;var c=l.fields;if(!O(r.color))r.color=c.color||i[s%i.length];c=x({index:s,owner:e,series:r,dataItem:n[s],percentage:l.value/u},c,{visible:l.visible});var f=l.valueFields.value;var d=e.createSegment(f,c);var p=e.createLabel(f,c);if(d&&p)d.append(p)}},evalSegmentOptions:function(e,t,i){var r=i.series;ai(e,{value:t,series:r,dataItem:i.dataItem,index:i.index},{defaults:r._defaults,excluded:["data","content","template","toggle","visual"]})},createSegment:function(e,t){var i=x({},t.series);this.evalSegmentOptions(i,e,t);this.createLegendItem(e,i,t);if(t.visible!==false){var r=new na(e,i,t);m.extend(r,t);this.append(r);this.points.push(r);return r}},createLabel:function(e,t){var i=t.series;var r=t.dataItem;var n=x({},this.options.labels,i.labels);var a=e;if(n.visible){var o=V(n);var s={dataItem:r,value:e,percentage:t.percentage,category:t.category,series:i};if(o)a=o(s);else if(n.format)a=this.plotArea.chartService.format.auto(n.format,a);if(!n.color){n.color=S.autoTextColor(i.color);if(!n.background)n.background=i.color}this.evalSegmentOptions(n,e,t);var l=new N(a,x({vAlign:n.position},n),s);this.labels.push(l);return l}},labelPadding:function(){var e=this.labels;var t={left:0,right:0};for(var i=0;i<e.length;i++){var r=e[i];var n=r.options.align;if(n!==A){var a=e[i].box.width();if(n===B)t.left=Math.max(t.left,a);else t.right=Math.max(t.right,a)}}return t},dynamicSlopeReflow:function(e,t,h){var u=this;var f=u.options;var i=u.points;var d=i.length;var p=i[0];var r=p;for(var n=0;n<i.length;n++)if(i[n].percentage>r.percentage)r=i[n];var v=p.percentage/r.percentage*t;var g=(t-v)/2;var a=0;for(var o=0;o<d;o++){var s=i[o].percentage;var m=i[o+1];var _=m?m.percentage:s;var l=i[o].points=[];var y=f.dynamicHeight?h*s:h/d;var c=void 0;if(!s)c=_?0:t/2;else c=(t-v*(_/s))/2;c=X(c,0,t);l.push(new ce(e.x1+g,e.y1+a));l.push(new ce(e.x1+t-g,e.y1+a));l.push(new ce(e.x1+t-c,e.y1+y+a));l.push(new ce(e.x1+c,e.y1+y+a));g=c;a+=y+f.segmentSpacing;v=X(t-2*c,0,t)}},constantSlopeReflow:function(e,t,h){var u=this;var i=u.options;var r=u.points;var n=r.length;var a=i.neckRatio<=1;var f=a?i.neckRatio*t:t;var o=a?0:(t-t/i.neckRatio)/2;var d=a?t:t-o*2;var p=(d-f)/2;var s=0;for(var l=0;l<n;l++){var c=r[l].points=[];var v=r[l].percentage;var g=i.dynamicHeight?p*v:p/n;var m=i.dynamicHeight?h*v:h/n;c.push(new ce(e.x1+o,e.y1+s));c.push(new ce(e.x1+t-o,e.y1+s));c.push(new ce(e.x1+t-o-g,e.y1+m+s));c.push(new ce(e.x1+o+g,e.y1+m+s));o+=g;s+=m+i.segmentSpacing}},reflow:function(e){var t=this.points;var i=t.length;if(!i)return;var r=this.options;var n=e.clone().unpad(this.labelPadding());var a=n.height()-r.segmentSpacing*(i-1);var o=n.width();if(r.dynamicSlope)this.dynamicSlopeReflow(n,o,a);else this.constantSlopeReflow(n,o,a);for(var s=0;s<i;s++)t[s].reflow(e)}})),oa=(e(aa,{neckRatio:.3,width:300,dynamicSlope:false,dynamicHeight:true,segmentSpacing:0,labels:{visible:false,align:A,position:A,zIndex:1}}),x(aa.prototype,En),gr.extend({render:function(){this.createFunnelChart(this.series)},createFunnelChart:function(e){var t=e[0];var i=new aa(this,{series:e,legend:this.options.legend,neckRatio:t.neckRatio,dynamicHeight:t.dynamicHeight,dynamicSlope:t.dynamicSlope,segmentSpacing:t.segmentSpacing,highlight:t.highlight});this.appendChart(i)},appendChart:function(e,t){gr.fn.appendChart.call(this,e,t);j(this.options.legend.items,e.legendItems)}})),sa=function(e,t){if(t===void 0)t=.05;var n=kendo.parseColor(e);var a=1-t;return function(e){var t=n.toHSL();var i=100-t.l;var r=a-e;t.l+=Math.min(r*i,i);return t.toCss()}},la=w.extend({init:function(e,t){w.fn.init.call(this);this.options=t;this.color=t.color||a;this.value=e},render:function(){if(this._rendered)return;this._rendered=true;this.createMarker();this.createLabel();this.createNote()},createLabel:function(){var e=this.options;var t=e.labels;if(t.visible){var i=this.pointData();var r=V(t);var n;var a=t.color;if(r)n=r(i);else n=this.formatValue(t.format);if(!a)a=S.autoTextColor(this.color);this.label=new N(n,x({align:A,vAlign:A,margin:{left:5,right:5},zIndex:L(t.zIndex,this.series.zIndex)},t,{color:a}),i);this.append(this.label)}},formatValue:function(e){return this.owner.formatPointValue(this,e)},reflow:function(e){this.render();var t=this.label;this.box=e;if(t)t.reflow(this.markerBox());if(this.note)this.note.reflow(e);this.marker.reflow(this.markerBox())},markerBox:function(){var e=this.options;var t=e.markers;var i=t.border;var r=this.box.toRect();var n=L(t.type,"rect");var a=n===T.ROUNDED_RECT;var o=L(i.width,a?1:0);var s=Math.round(o/2);if(t.size){var l=r.center();r.size.width=r.size.height=t.size;r.origin.x=Math.round(l.x-r.size.width/2);r.origin.y=Math.round(l.y-r.size.height/2)}r.size.width-=o;r.size.height-=o;r.origin.y+=s+.5;r.origin.x+=s+.5;return S.rectToBox(r)},markerBorder:function(){var e=this.options;var t=e.markers;var i=t.border;var r=L(i.opacity,e.opacity);return{color:i.color||this.color,width:i.width,opacity:r,dashType:i.dashType}},createMarker:function(){var e=this.options;var t=e.markers;var i=new H({type:L(t.type,"rect"),width:t.size,height:t.size,rotation:t.rotation,background:this.color,border:this.markerBorder(),borderRadius:t.borderRadius,opacity:this.series.opacity||e.opacity,zIndex:L(e.zIndex,this.series.zIndex),animation:e.animation,visual:e.visual},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category});this.marker=i;this.append(i)},createHighlight:function(e){var t=this.options;var i=this.options.highlight.markers||this.options.markers;var r=new H({type:L(i.type,"rect"),width:i.size,height:i.size,rotation:i.rotation,background:i.color||this.color,border:this.markerBorder(),borderRadius:i.borderRadius,opacity:this.series.opacity||t.opacity,zIndex:L(t.zIndex,this.series.zIndex)});r.reflow(this.markerBox());var n=r.getElement();n.options.fill=e.fill;n.options.stroke=e.stroke;return n},highlightVisual:function(){return this.rectVisual},highlightVisualArgs:function(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}},tooltipAnchor:function(){var e=this.box.center().x;var t=this.box.y1-De;return{point:new D(e,t),align:{horizontal:A,vertical:I}}},overlapsBox:function(e){return this.box.overlaps(e)},unclipElements:function(){},pointData:function(){return{x:this.value.x,y:this.value.y,value:this.value.value,dataItem:this.dataItem,series:this.series}}}),ca=(x(la.prototype,li),x(la.prototype,ci),la.prototype.defaults={markers:{type:"rect",borderRadius:4,border:{color:"transparent"}},padding:{top:1},labels:{visible:false,padding:3},opacity:1,notes:{label:{}}},w.extend({init:function(e,t){w.fn.init.call(this,t);this.plotArea=e;this.chartService=e.chartService;this._initFields();this.render()},_initFields:function(){this.points=[];this.seriesOptions=[];this.valueRange={min:f,max:u};this._evalSeries=[]},render:function(){this.setRange();this.traverseDataPoints(this.addValue.bind(this))},setRange:function(){var e=this;var t=this;var i=t.options.series;for(var r=0;r<i.length;r++){var n=i[r];for(var a=0;a<n.data.length;a++){var o=e._bindPoint(n,r,a);var s=o.valueFields;e.valueRange.min=Math.min(e.valueRange.min,s.value);e.valueRange.max=Math.max(e.valueRange.max,s.value)}}},addValue:function(e,t){var i;if(e){i=this.createPoint(e,t);if(i)m.extend(i,t)}this.points.push(i)},evalPointOptions:function(e,t,i){var r=i.series;var n=i.seriesIx;var a={defaults:r._defaults,excluded:["data","tooltip","content","template","visual","toggle"]};var o=this._evalSeries[n];if(!M(o))this._evalSeries[n]=o=ai(e,{},a,true);var s=e;if(o){s=x({},e);ai(s,{value:t,series:r,dataItem:i.dataItem,min:this.valueRange.min,max:this.valueRange.max},a)}return s},pointType:function(){return la},pointOptions:function(e,t){var i=this.seriesOptions[t];if(!i){var r=this.pointType().prototype.defaults;this.seriesOptions[t]=i=x({},r,{markers:{opacity:e.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},e)}return i},createPoint:function(e,t){var i=t.series;var r=this.pointOptions(i,t.seriesIx);var n=t.color||i.color;r=this.evalPointOptions(r,e,t);if(O(i.color))n=r.color;else{var a=sa(n);n=a(e.value/this.valueRange.max)}var o=new la(e,r);o.color=n;this.append(o);return o},seriesAxes:function(e){var t=e.xAxis;var i=e.yAxis;var r=this.plotArea;var n=t?r.namedXAxes[t]:r.axisX;var a=i?r.namedYAxes[i]:r.axisY;if(!n)throw new Error("Unable to locate X axis with name "+t);if(!a)throw new Error("Unable to locate Y axis with name "+i);return{xAxis:n,yAxis:a}},reflow:function(e){var u=this;var f=this.points;var d=!this.options.clip;var p=0;this.traverseDataPoints(function(e,t){var i=f[p++];var r=u.seriesAxes(t.series);var n=r.xAxis;var a=r.yAxis;var o=n.categoryIndex(e.x);var s=a.categoryIndex(e.y);var l=n.getSlot(o,o,d);var c=a.getSlot(s,s,d);if(i)if(l&&c){var h=u.pointSlot(l,c);i.reflow(h)}else i.visible=false});this.box=e},pointSlot:function(e,t){return new E(e.x1,t.y1,e.x2,t.y2)},traverseDataPoints:function(h){var e=this;var u=this;var t=u.options.series;for(var i=0;i<t.length;i++){var r=t[i];var n=e.seriesAxes(r);var a=n.xAxis;var o=n.yAxis;var s=a.currentRangeIndices();var f=o.currentRangeIndices();for(var l=0;l<r.data.length;l++){var d=e._bindPoint(r,i,l);var c=d.valueFields;var p=d.fields;var v=a.totalIndex(c.x);var g=o.totalIndex(c.y);var m=s.min<=v&&v<=s.max;var _=f.min<=g&&g<=f.max;if(m&&_)h(c,x({pointIx:l,series:r,seriesIx:i,dataItem:r.data[l],owner:e},p))}}},formatPointValue:function(e,t){var i=e.value;return this.chartService.format.auto(t,i.x,i.y,i.value)},animationPoints:function(){var e=this.points;var t=[];for(var i=0;i<e.length;i++)t.push((e[i]||{}).marker);return t}})),ha=(e(ca,{series:[],tooltip:{format:"{0}, {1}: {2}"},labels:{format:"{2}"},clip:true}),x(ca.prototype,{_bindPoint:si.prototype._bindPoint}),gr.extend({initFields:function(){this.namedXAxes={};this.namedYAxes={}},render:function(e){if(e===void 0)e=this.panes;this.bindCategories();this.createAxes(e);this.createCharts(e);this.createAxisLabels()},bindCategories:function(){var h=this;var e=this.srcSeries||this.series;for(var t=0;t<e.length;t++){var i=e[t];var u=i.data||[];var r=h.seriesAxes(i);var n=r.xAxis;var a=r.yAxis;var o=S.createHashSet(n.categories||[]);var s=S.createHashSet(a.categories||[]);for(var l=0;l<u.length;l++){var c=_e.current.bindPoint(i,l).valueFields;var f=c.x;var d=c.y;if(!o.has(f))o.add(f);if(!s.has(d))s.add(d)}n.categories=o.values();a.categories=s.values()}},createCharts:function(e){var t=this;var i=this.groupSeriesByPane();for(var r=0;r<e.length;r++){var n=e[r];var a=i[n.options.name||"default"]||[];t.addToLegend(a);var o=t.filterVisibleSeries(a);if(!o)continue;t.createHeatmapChart(sr(o,[et]),n)}},createHeatmapChart:function(e,t){var i=new ca(this,{series:e});this.appendChart(i,t)},seriesPaneName:function(e){var t=this.options;var i=e.xAxis;var r=[].concat(t.xAxis);var n=K(r,function(e){return e.name===i})[0];var a=e.yAxis;var o=[].concat(t.yAxis);var s=K(o,function(e){return e.name===a})[0];var l=t.panes||[{}];var c=l[0].name||"default";var h=(n||{}).pane||(s||{}).pane||c;return h},seriesAxes:function(e){var t;var i;var r=this.options;var n=[].concat(r.xAxis);var a=e.xAxis;if(a)t=n.find(function(e){return e.name===a});else t=n[0];var o=[].concat(r.yAxis);var s=e.yAxis;if(s)i=o.find(function(e){return e.name===s});else i=o[0];if(!t)throw new Error("Unable to locate X axis with name "+a);if(!i)throw new Error("Unable to locate Y axis with name "+s);return{xAxis:t,yAxis:i}},createAxisLabels:function(){var e=this.axes;for(var t=0;t<e.length;t++)e[t].createLabels()},createXYAxis:function(e,t,i){var r=e.name;var h=t?this.namedYAxes:this.namedXAxes;var n=m.extend({axisCrossingValue:0},e,{vertical:t,reverse:t||this.chartService.rtl?!e.reverse:e.reverse,justified:false});var u=n.categories?n.categories[0]:null;var a=[n.min,n.max,u];var f=this.series;for(var o=0;o<f.length;o++){var d=f[o];var p=d[t?"yAxis":"xAxis"];if(p===n.name||i===0&&!p){var v=_e.current.bindPoint(d,0).valueFields;a.push(v[t?"y":"x"]);break}}var g;for(var s=0;s<a.length;s++)if(a[s]instanceof Date){g=true;break}var l;if(or(n.type,b)||!n.type&&g)l=S.DateCategoryAxis;else l=q;var c=new l(n,this.chartService);c.axisIndex=i;if(r){if(h[r])throw new Error((t?"Y":"X")+" axis with name "+r+" is already defined");h[r]=c}this.appendAxis(c);c.mapCategories();return c},createAxes:function(e){var t=this;var i=this.options;var r=[].concat(i.xAxis);var n=[];var a=[].concat(i.yAxis);var o=[];for(var s=0;s<r.length;s++){var l=t.findPane(r[s].pane);if(k(l,e))n.push(t.createXYAxis(r[s],false,s))}for(var c=0;c<a.length;c++){var h=t.findPane(a[c].pane);if(k(h,e))o.push(t.createXYAxis(a[c],true,c))}this.axisX=this.axisX||n[0];this.axisY=this.axisY||o[0]},removeAxis:function(e){var t=e.options.name;gr.fn.removeAxis.call(this,e);if(e.options.vertical)delete this.namedYAxes[t];else delete this.namedXAxes[t];if(e===this.axisX)delete this.axisX;if(e===this.axisY)delete this.axisY},_dispatchEvent:function(e,t,i){var r=e._eventCoordinates(t);var n=new D(r.x,r.y);var a=this.axes;var h=a.length;var o=[];var s=[];for(var l=0;l<h;l++){var c=a[l];var u=c.options.vertical?s:o;rr(u,c.getCategory(n))}if(o.length>0&&s.length>0)e.trigger(i,{element:F(t),originalEvent:t,x:hr(o),y:hr(s)})},updateAxisOptions:function(e,t){var i=e.options.vertical;var r=this.groupAxes(this.panes);var n=(i?r.y:r.x).indexOf(e);ua(this.options,n,i,t);ua(this.originalOptions,n,i,t)},crosshairOptions:function(e){return m.extend({},e.options.crosshair,{zIndex:0})}}));function ua(e,t,i,r){var n=[].concat(i?e.yAxis:e.xAxis)[t];x(n,r)}e(ha,{xAxis:{},yAxis:{}}),x(ha.prototype,xr);var fa="color",da="first",pa="from",va="max",ga="min",ma="noteText",_a="summary",ya="to",wa=(un.current.register(jr,[qe,Qe,it,yt,We,gt,Ke,rt,Xe,_t,Ye,mt,dt,ft,bt,tt,ut,wt]),un.current.register(Cn,[pt,vt,$e]),un.current.register(zn,[nt]),un.current.register(Fn,[Ze]),un.current.register(oa,[Je]),un.current.register(Yn,[at,ot,st]),un.current.register(ra,[lt,ct,ht]),un.current.register(ha,[et]),_e.current.register([qe,Qe,it,yt,We,gt],[h],[Yt,fa,ma,Pe,Ie]),_e.current.register([dt,ft,ut,wt],[pa,ya],[Yt,fa,ma]),_e.current.register([bt,tt],[h],[Yt,fa,ma,_a]),_e.current.register([at,ot,st],[_,g],[fa]),_e.current.register([lt,ct,ht],[h],[fa]),_e.current.register([Je],[h],[Yt,fa,"visibleInLegend","visible"]),Sr.current.register([qe,Qe,it,yt,We,gt,bt,tt],{value:va,color:da,noteText:da,errorLow:ga,errorHigh:va}),Sr.current.register([dt,ft,ut,wt],{from:ga,to:va,color:da,noteText:da}),Sr.current.register([lt,ct,ht],{value:va,color:da}),_e.current.register([pt,vt,$e],[_,g],[fa,ma,Be,ze,Oe,Le]),_e.current.register([$e],[_,g,"size"],[fa,Yt,ma]),_e.current.register([et],[_,g,h],[fa,ma]),_e.current.register([Ke,rt],["open","high","low","close"],[Yt,fa,"downColor",ma]),Sr.current.register([Ke,rt],{open:va,high:va,low:ga,close:va,color:da,downColor:da,noteText:da}),_e.current.register([Ye,mt],["lower","q1","median","q3","upper","mean","outliers"],[Yt,fa,ma]),Sr.current.register([Ye,mt],{lower:va,q1:va,median:va,q3:va,upper:va,mean:va,outliers:da,color:da,noteText:da}),_e.current.register([Xe,_t],["current","target"],[Yt,fa,"visibleInLegend",ma]),Sr.current.register([Xe,_t],{current:va,target:va,color:da,noteText:da}),_e.current.register([nt,Ze],[h],[Yt,fa,"explode","visibleInLegend","visible"]),[Yt,h,_,g]),ba="mousemove",xa="contextmenu",ka="mouseleave",Ca=20,Sa=t.extend({init:function(e,t,i,r){var n=this;if(r===void 0)r={};this.observers=[];this.addObserver(r.observer);this.chartService=new J.ChartService(this,r);this.chartService.theme=i;this._initElement(e);var a=x({},this.options,t);this._originalOptions=x({},a);this._theme=i;this._initTheme(a,i);this._initHandlers();this._initSurface();this.bindCategories();S.FontLoader.preloadFonts(t,function(){n.fontLoaded=true;if(!n._destroyed){n.trigger("init");n._redraw();n._attachEvents()}})},_initElement:function(e){this._setElementClass(e);e.style.position="relative";while(e.firstChild)e.removeChild(e.firstChild);this.element=e},_setElementClass:function(e){S.addClass(e,"k-chart")},_initTheme:function(e,t){var i=[];var r=e.series||[];for(var n=0;n<r.length;n++)i.push(m.extend({},r[n]));e.series=i;Ta(e);this.applyDefaults(e,t);if(e.seriesColors===null)delete e.seriesColors;this.options=x({},t,e);this.applySeriesColors()},getSize:function(){var e=this.options.chartArea||{};var t=e.width?parseInt(e.width,10):Math.floor(this.element.offsetWidth);var i=e.height?parseInt(e.height,10):Math.floor(this.element.offsetHeight);return{width:t,height:i}},resize:function(e){var t=this.getSize();var i=this._size;var r=t.width>0||t.height>0;if(e||r&&(!i||t.width!==i.width||t.height!==i.height)){this._size=t;this._resize(t,e);this.trigger("resize",t)}else if(r&&this._selections&&S.find(this._selections,function(e){return!e.visible})){this._destroySelections();this._setupSelection()}},_resize:function(){this._noTransitionsRedraw()},redraw:function(e){this.applyDefaults(this.options);this.applySeriesColors();if(e){var t=this._model._plotArea;var i=t.findPane(e);t.redraw(i)}else this._redraw()},getAxis:function(e){return fe(e,this._plotArea.axes)},findAxisByName:function(e){return this.getAxis(e)},findPaneByName:function(e){var t=this._plotArea.panes;for(var i=0;i<t.length;i++)if(t[i].options.name===e)return new de(t[i])},findPaneByIndex:function(e){var t=this._plotArea.panes;if(t[e])return new de(t[e])},plotArea:function(){return new pe(this._plotArea)},toggleHighlight:function(e,t){var i=this._plotArea;var r=(i.srcSeries||i.series||[])[0];var n;if(O(t))n=i.filterPoints(t);else{var a,o;if(C(t)){a=t.series;o=t.category}else a=o=t;if(r.type===Ze)n=Aa(i.pointsBySeriesName(a),o);else if(r.type===nt||r.type===Je)n=Aa((i.charts[0]||{}).points,o);else n=i.pointsBySeriesName(a)}if(n)this.togglePointsHighlight(e,n)},togglePointsHighlight:function(e,t){var i=this._highlight;for(var r=0;r<t.length;r++)i.togglePointHighlight(t[r],e)},showTooltip:function(e){var t=this._sharedTooltip();var i=this;var r=i._tooltip;var n=i._plotArea;var a,o;if(O(e)){a=n.findPoint(e);if(a&&t)o=a.categoryIx}else if(t&&M(e))o=n.categoryAxis.categoryIndex(e);if(t){if(o>=0){var s=this._plotArea.pointsByCategoryIndex(o);r.showAt(s)}}else if(a)r.show(a)},hideTooltip:function(){this._tooltip.hide()},_initSurface:function(){var e=this.surface;var t=this._surfaceWrap();var i=this.options.chartArea||{};if(i.width)S.elementSize(t,{width:i.width});if(i.height)S.elementSize(t,{height:i.height});if(!e||e.options.type!==this.options.renderAs){this._destroySurface();this.surface=ie.Surface.create(t,{type:this.options.renderAs});this.surface.bind("mouseenter",this._surfaceMouseenterHandler);this.surface.bind("mouseleave",this._surfaceMouseleaveHandler)}else{this.surface.clear();this.surface.resize()}},_surfaceWrap:function(){return this.element},_redraw:function(){var e=this._getModel();this._size={width:e.options.width,height:e.options.height};this._destroyView();this._model=e;this._plotArea=e._plotArea;e.renderVisual();if(this.options.transitions!==false)e.traverse(function(e){if(e.animation)e.animation.setup()});this._initSurface();this.surface.draw(e.visual);if(this.options.transitions!==false)e.traverse(function(e){if(e.animation)e.animation.play()});this._tooltip=this._createTooltip();this._highlight=new qr;this._setupSelection();this._createPannable();this._createZoomSelection();this._createMousewheelZoom();this.trigger(Ut);Ra(this._plotArea.panes);if(!this._navState)this._cancelDomEvents()},exportVisual:function(e){var t;if(e&&(e.width||e.height||e.options)){var i=this.options;var r=x({},e.options,{chartArea:{width:e.width,height:e.height}});La(this._originalOptions,r);this.options=x({},this._originalOptions,r);this._initTheme(this.options,this._theme);this.bindCategories();var n=this._getModel();n.renderVisual();Ra(n._plotArea.panes);t=n.visual;this.options=i}else t=this.surface.exportVisual();return t},_sharedTooltip:function(){return this._plotArea instanceof jr&&this.options.tooltip&&this.options.tooltip.shared},_createPannable:function(){var e=this.options;if(e.pannable!==false)this._pannable=new Kr(this._plotArea,e.pannable)},_createZoomSelection:function(){var e=this.options.zoomable;var t=(e||{}).selection;if(e!==false&&t!==false)this._zoomSelection=new Qr(this,t)},_createMousewheelZoom:function(){var e=this.options.zoomable;var t=(e||{}).mousewheel;if(e!==false&&t!==false)this._mousewheelZoom=new nn(this,t)},_toggleDragZoomEvents:function(){var e=this.options.pannable;var t=this.options.zoomable;var i=(t||{}).selection;var r=(t||{}).mousewheel;var n=!e&&(t===false||i===false)&&!this.requiresHandlers([Ot,Bt,zt]);var a=(t===false||r===false)&&!this.requiresHandlers([Lt,Rt,Ft]);var o=this.element;if(this._dragZoomEnabled&&n&&a){o.style.touchAction=this._touchAction||"";this._dragZoomEnabled=false}else if(!this._dragZoomEnabled&&!(n&&a)){o.style.touchAction="none";this._dragZoomEnabled=true}this._toggleDomEvents(!n,!a)},_toggleDomEvents:function(e,t){var i=this.domEvents;if(!i)return;if(i.toggleDrag)i.toggleDrag(e);if(i.toggleZoom)i.toggleZoom(t)},_createTooltip:function(){var e=this;var t=e.options.tooltip;var i;if(this._sharedTooltip())i=this._createSharedTooltip(t);else i=new mn(this.chartService,t);return i},_createSharedTooltip:function(e){return new _n(this._plotArea,e)},applyDefaults:function(e,t){Ma(e,t);Da(e,t)},applySeriesColors:function(){var e=this.options;var t=e.series;var i=e.seriesColors||[];for(var r=0;r<t.length;r++){var n=t[r];var a=i[r%i.length];var o=n._defaults;n.color=n.color||a;if(o)o.color=o.color||a}},_getModel:function(){var e=this.options;var t=this._createPlotArea();var i=new S.RootElement(this._modelOptions());i.chart=this;i._plotArea=t;S.Title.buildTitle(e.title,i);if(e.legend&&e.legend.visible)i.append(new hn(t.options.legend,this.chartService));i.append(t);i.reflow();return i},_modelOptions:function(){var e=this.options;var t=this.getSize();return x({transitions:e.transitions,width:t.width||T.DEFAULT_WIDTH,height:t.height||T.DEFAULT_HEIGHT},e.chartArea)},_createPlotArea:function(e){var t=this.options;var i=un.current.create(e?[]:t.series,t,this.chartService);return i},_setupSelection:function(){var e=this;var t=this;var i=t._plotArea.axes;var r=this._selections=[];for(var n=0;n<i.length;n++){var a=i[n];var o=a.options;if(a instanceof q&&o.select&&!o.vertical){var s=a.range();var l=new gn(e,a,x({min:s.min,max:s.max},o.select));r.push(l)}}},_selectStart:function(e){return this.trigger(Vt,e)},_select:function(e){return this.trigger(Nt,e)},_selectEnd:function(e){return this.trigger(Ht,e)},_initHandlers:function(){this._clickHandler=this._click.bind(this);this._mousewheelHandler=this._mousewheel.bind(this);this._mouseleaveHandler=this._mouseleave.bind(this);this._surfaceMouseenterHandler=this._mouseover.bind(this);this._surfaceMouseleaveHandler=this._mouseout.bind(this);this._mousemove=kendo.throttle(this._mousemove.bind(this),Ca)},addObserver:function(e){if(e)this.observers.push(e)},removeObserver:function(e){var t=this.observers.indexOf(e);if(t>=0)this.observers.splice(t,1)},requiresHandlers:function(e){var t=this.observers;for(var i=0;i<t.length;i++)if(t[i].requiresHandlers(e))return true},trigger:function(e,t){if(t===void 0)t={};if(e===jt)t.anchor.point=this._toDocumentCoordinates(t.anchor.point);t.sender=this;var i=this.observers;var r=false;for(var n=0;n<i.length;n++)if(i[n].trigger(e,t))r=true;return r},_attachEvents:function(){var e=this.element;this._touchAction=e.style.touchAction;var t;r(e,(t={},t[xa]=this._clickHandler,t[Qt]=this._mousewheelHandler,t[ka]=this._mouseleaveHandler,t));if(this._shouldAttachMouseMove()){var i;r(e,(i={},i[ba]=this._mousemove,i))}this.domEvents=J.DomEventsBuilder.create(this.element,{start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)});this._toggleDragZoomEvents()},_mouseleave:function(e){if(this._hoveredPoint){this._hoveredPoint.out(this,e);this._hoveredPoint=null}if(this._plotArea.hovered){this.trigger(It);this._plotArea.hovered=false}},_cancelDomEvents:function(){if(this.domEvents&&this.domEvents.cancel)this.domEvents.cancel()},_gesturestart:function(e){if(this._mousewheelZoom&&!this._stopChartHandlers(e)){this._gestureDistance=e.distance;this._unsetActivePoint();this.surface.suspendTracking()}},_gestureend:function(e){if(this._zooming&&!this._stopChartHandlers(e)){if(this.surface)this.surface.resumeTracking();this._zooming=false;this.trigger(Ft,{})}},_gesturechange:function(e){var t=this._mousewheelZoom;if(t&&!this._stopChartHandlers(e)){e.preventDefault();var i=this._gestureDistance;var r=-e.distance/i+1;if(Math.abs(r)>=.1){r=Math.round(r*10);this._gestureDistance=e.distance;var n={delta:r,axisRanges:Pa(this._plotArea.axes),originalEvent:e};if(this._zooming||!this.trigger(Lt,n)){var a=this._eventCoordinates(e);if(!this._zooming)this._zooming=true;var o=n.axisRanges=t.updateRanges(r,a);if(o&&!this.trigger(Rt,n))t.zoom()}}}},_mouseout:function(e){if(e.element){var t=this._drawingChartElement(e.element,e);if(t&&t.leave)t.leave(this,e.originalEvent)}},_start:function(e){var t=this._eventCoordinates(e);if(this._stopChartHandlers(e)||!this._plotArea.backgroundContainsPoint(t))return;if(this.requiresHandlers([Ot,Bt,zt]))this._startNavigation(e,t,Ot);if(this._pannable&&this._pannable.start(e)){this.surface.suspendTracking();this._unsetActivePoint();this._suppressHover=true;this.chartService.panning=true}if(this._zoomSelection)if(this._zoomSelection.start(e))this.trigger(Lt,{axisRanges:Pa(this._plotArea.axes),originalEvent:e})},_move:function(e){var t=this;var i=t._navState;var r=t._pannable;if(this._stopChartHandlers(e))return;if(r){var n=r.move(e);if(n&&!this.trigger(Bt,{axisRanges:n,originalEvent:e}))r.pan()}else if(i){var a={};var o=i.axes;for(var s=0;s<o.length;s++){var l=o[s];var h=l.options.name;if(h){var c=l.options.vertical?e.y:e.x;var u=c.startLocation-c.location;if(u!==0)a[l.options.name]=l.translateRange(u)}}i.axisRanges=a;this.trigger(Bt,{axisRanges:a,originalEvent:e})}if(this._zoomSelection)this._zoomSelection.move(e)},_end:function(e){if(this._stopChartHandlers(e))return;var t=this._pannable;if(t&&t.end(e)){this.surface.resumeTracking();this.trigger(zt,{axisRanges:Pa(this._plotArea.axes),originalEvent:e});this._suppressHover=false;this.chartService.panning=false}else this._endNavigation(e,zt);if(this._zoomSelection){var i=this._zoomSelection.end(e);if(i&&!this.trigger(Rt,{axisRanges:i,originalEvent:e})){this._zoomSelection.zoom();this.trigger(Ft,{axisRanges:i,originalEvent:e})}}},_stopChartHandlers:function(e){var t=this._selections||[];if(!t.length)return false;var i=this._eventCoordinates(e);var r=this._plotArea.paneByPoint(i);if(r)for(var n=0;n<t.length;n++)if(t[n].onPane(r))return true},_mousewheelZoomRate:function(){var e=this.options.zoomable;var t=(e||{}).mousewheel||{};return L(t.rate,Jt)},_mousewheel:function(e){var t=this;var i=S.mousewheelDelta(e);var r=this._mousewheelZoom;var n=this._eventCoordinates(e);if(this._stopChartHandlers(e)||!this._plotArea.backgroundContainsPoint(n))return;if(r){var a={delta:i,axisRanges:Pa(this._plotArea.axes),originalEvent:e};if(this._zooming||!this.trigger(Lt,a)){e.preventDefault();if(!this._zooming){this._unsetActivePoint();this.surface.suspendTracking();this._zooming=true}if(this._mwTimeout)clearTimeout(this._mwTimeout);a.axisRanges=r.updateRanges(i,n);if(a.axisRanges&&!this.trigger(Rt,a))r.zoom();this._mwTimeout=setTimeout(function(){t.trigger(Ft,a);t._zooming=false;if(t.surface)t.surface.resumeTracking()},Zt)}}else{var o=this._navState;if(!o){var h=this._startNavigation(e,n,Lt);if(!h)o=this._navState}if(o){var s=o.totalDelta||i;o.totalDelta=s+i;var l=this._navState.axes;var u={};for(var c=0;c<l.length;c++){var f=l[c];var d=f.options.name;if(d)u[d]=f.scaleRange(-s*t._mousewheelZoomRate(),n)}this.trigger(Rt,{delta:i,axisRanges:u,originalEvent:e});if(this._mwTimeout)clearTimeout(this._mwTimeout);this._mwTimeout=setTimeout(function(){t._endNavigation(e,Ft)},Zt)}}},_startNavigation:function(e,t,i){var r=this._model._plotArea;var n=r.findPointPane(t);var a=r.axes.slice(0);if(!n)return;var o=Pa(a);var s=this.trigger(i,{axisRanges:o,originalEvent:e});if(s)this._cancelDomEvents();else{this._suppressHover=true;this._unsetActivePoint();this._navState={axisRanges:o,pane:n,axes:a}}},_endNavigation:function(e,t){if(this._navState){this.trigger(t,{axisRanges:this._navState.axisRanges,originalEvent:e});this._suppressHover=false;this._navState=null}},_getChartElement:function(e,t){var i=this.surface.eventTarget(e);if(i)return this._drawingChartElement(i,e,t)},_drawingChartElement:function(e,t,i){var r=e;var n;while(r&&!n){n=r.chartElement;r=r.parent}if(n){if(n.aliasFor)n=n.aliasFor(t,this._eventCoordinates(t));if(i){n=n.closest(i);if(n&&n.aliasFor)n=n.aliasFor()}return n}},_eventCoordinates:function(e){var t=S.eventCoordinates(e);return this._toModelCoordinates(t.x,t.y)},_elementPadding:function(){if(!this._padding){var e=Q(this.element,["paddingLeft","paddingTop"]);var t=e.paddingLeft;var i=e.paddingTop;this._padding={top:i,left:t}}return this._padding},_toDocumentCoordinates:function(e){var t=this._elementPadding();var i=S.elementOffset(this.element);return{left:$(e.x+t.left+i.left),top:$(e.y+t.top+i.top)}},_toModelCoordinates:function(e,t){var i=this.element;var r=S.elementOffset(i);var n=this._elementPadding();var a=S.elementScale(i).invert();var o=new ce(e-r.left-n.left,t-r.top-n.top).transform(a);return new D(o.x,o.y)},_tap:function(e){var t=this;var i=this.surface.eventTarget(e);var r=this._drawingChartElement(i,e);var n=this._sharedTooltip();if(!this._startHover(i,e)&&!n)this._unsetActivePoint();if(n)this._trackSharedTooltip(this._eventCoordinates(e),e,true);this._propagateClick(r,e);this.handlingTap=true;setTimeout(function(){t.handlingTap=false},0)},_click:function(e){var t=this._getChartElement(e);this._propagateClick(t,e)},_propagateClick:function(e,t){var i=this;var r=e;while(r){if(r.click)r.click(i,t);r=r.parent}},_startHover:function(e,t){if(this._suppressHover)return false;var i=this._drawingChartElement(e,t,function(e){return(e.hover||e.over)&&!(e instanceof gr)});var r=this._activePoint;var n=this._plotArea.series.length>1;var a=this._hasInactiveOpacity();this._updateHoveredPoint(i,t);if(i&&r!==i&&i.hover){this._activePoint=i;if(!this._sharedTooltip()&&!i.hover(this,t)){this._displayTooltip(i);if(a)this._displayInactiveOpacity(i,n);else this._highlight.show(i)}}else if(!i&&a){if(n&&this._activeChartInstance){this._updateSeriesOpacity(i,true);this._applySeriesOpacity(this._activeChartInstance.children,null,true);this._activeChartInstance=null}this._highlight&&this._highlight.hide();this._activePoint=null}return i},_displayTooltip:function(e){var t=x({},this.options.tooltip,e.options.tooltip);if(t.visible)this._tooltip.show(e)},_displayInactiveOpacity:function(e,t,i){var r=this._activeChartInstance=this._chartInstanceFromPoint(e);if(!r)return;if(t){this._updateSeriesOpacity(e);this._applySeriesOpacity(r.children,null,true);this._applySeriesOpacity(r.children,e.series);this._highlight.show(i||e)}else{var n;if(!r.supportsPointInactiveOpacity()){this._highlight.show(e);return}n=this._getInactivePoints(e,r);if(n&&n.length)this._highlight.show(n,1-this._getInactiveOpacityForSeries(e.series))}},_getInactivePoints:function(t,e){var i=this._getAllPointsOfType(e,t.constructor);return i.filter(function(e){return e!==t})},_getAllPointsOfType:function(e,t){var i=this;var r=[];for(var n=0;n<e.children.length;n++){var a=e.children[n];if(a.constructor===t)r.push(a);else if(a.children&&a.children.length)r=r.concat(i._getAllPointsOfType(a,t))}return r},_updateHoveredPoint:function(e,t){var i=this._hoveredPoint;if(i&&i!==e){i.out(this,t);this._hoveredPoint=null}if(e&&i!==e&&e.over){this._hoveredPoint=e;e.over(this,t)}},_updateSeriesOpacity:function(e,t){var i=this;var r=this._plotArea;var n=r.series.length;for(var a=0;a<n;a++){var o=r.series[a];var s=i._getDefaultOpacityForSeries(o);var l=i._getInactiveOpacityForSeries(o);if(!t&&o!==e.series){o.defaultOpacity=s;o.opacity=l;if(o.line)o.line.opacity=l}else{o.opacity=s;if(o.line)o.line.opacity=s}}},_applySeriesOpacity:function(e,t,i,r){var n=this;for(var a=0;a<e.length;a++){var o=e[a];var s=o.series||r;var l=s&&(s.highlight||{}).visible;if(l&&o.visual){var c=r?r.opacity:o.series.opacity;if(s!==t||i)o.visual.opacity(i?1:c)}if(o.children&&o.children.length)n._applySeriesOpacity(o.children,t,i,o.series)}},_chartInstanceFromPoint:function(e){var t=e.parent;while(t&&!t.plotArea)t=t.parent;return t},_hasInactiveOpacity:function(){var e=this.options.seriesDefaults.highlight.inactiveOpacity!==undefined;var t=this.options.series.filter(function(e){return e.highlight.inactiveOpacity!==undefined}).length>0;return e||t},_getInactiveOpacityForSeries:function(e){var t=this.options.seriesDefaults.highlight.inactiveOpacity;var i=e.highlight.inactiveOpacity;return i||t||e.opacity||T.DEFAULT_SERIES_OPACITY},_getDefaultOpacityForSeries:function(e){return e.defaultOpacity||e.opacity||T.DEFAULT_SERIES_OPACITY},_mouseover:function(e){var t=this._startHover(e.element,e.originalEvent);if(t&&t.tooltipTracking&&!this._mouseMoveTrackHandler&&!this._sharedTooltip()){this._mouseMoveTrackHandler=this._mouseMoveTracking.bind(this);var i;r(document,(i={},i[ba]=this._mouseMoveTrackHandler,i))}},_mouseMoveTracking:function(e){var t=this;var i=t.options;var r=t._tooltip;var n=t._highlight;var a=t._activePoint;var o=this._eventCoordinates(e);if(this._plotArea.box.containsPoint(o)){if(a&&a.tooltipTracking&&a.series&&a.parent.getNearestPoint){var s=a.parent.getNearestPoint(o.x,o.y,a.seriesIx);if(s&&s!==a){this._activePoint=s;if(!s.hover(this,e)){var l=x({},i.tooltip,s.options.tooltip);if(l.visible)r.show(s);n.show(s)}}}}else{var c;ee(document,(c={},c[ba]=this._mouseMoveTrackHandler,c));this._unsetActivePoint();this._mouseMoveTrackHandler=null}},_mousemove:function(e){var t=this._eventCoordinates(e);var i=this._plotArea;this._trackCrosshairs(t);if(i.hover){var r=i.backgroundContainsPoint(t);if(r){i.hovered=true;this._plotArea.hover(this,e)}else if(i.hovered&&!r){this.trigger(It);i.hovered=false}}if(this._sharedTooltip())this._trackSharedTooltip(t,e)},_trackCrosshairs:function(e){var t=this._plotArea.crosshairs;for(var i=0;i<t.length;i++){var r=t[i];if(r.box.containsPoint(e))r.showAt(e);else r.hide()}},_trackSharedTooltip:function(e,h,t){if(this._suppressHover)return;var i=this;var u=i.options.tooltip;var r=i._plotArea;var f=i._plotArea.categoryAxis;var n=i._tooltip;var a=i._highlight;if(r.backgroundContainsPoint(e)){var o=f.pointCategoryIndex(e);if(o!==this._tooltipCategoryIx||!this._sharedHighlight&&t){var s=r.pointsByCategoryIndex(o);var l=s.map(function(e){return e.eventArgs(h)});var c=l[0]||{};c.categoryPoints=l;if(s.length>0&&!this.trigger(At,c)){if(u.visible)n.showAt(s,e);a.show(s);this._sharedHighlight=true}else n.hide();this._tooltipCategoryIx=o}else if(t&&this._sharedHighlight){a.hide();n.hide();this._sharedHighlight=false}}else if(this._sharedHighlight){a.hide();n.hide();this._tooltipCategoryIx=null;this._sharedHighlight=false}},hideElements:function(e){var t=this._plotArea;this._mousemove.cancel();t.hideCrosshairs();this._unsetActivePoint(e)},_unsetActivePoint:function(e){var t=this;var i=t._tooltip;var r=t._highlight;this._activePoint=null;this._hoveredPoint=null;if(i&&!(e&&e.keepTooltipOpen))i.hide();this._tooltipCategoryIx=null;this._sharedHighlight=false;if(r)r.hide()},_deferRedraw:function(){this._redraw()},_clearRedrawTimeout:function(){if(this._redrawTimeout){clearInterval(this._redrawTimeout);this._redrawTimeout=null}},bindCategories:function(){var e=this;var t=this.options;var i=[].concat(t.categoryAxis);for(var r=0;r<i.length;r++){var n=i[r];if(n.autoBind!==false)e.bindCategoryAxisFromSeries(n,r)}},bindCategoryAxisFromSeries:function(e,h){var u=this;var t=this.options.series;var f=t.length;var d=new S.HashMap;var i=[];var r=false;var n;for(var a=0;a<f;a++){var o=t[a];var p=o.categoryAxis===e.name||!o.categoryAxis&&h===0;var s=o.data;var v=s.length;var g=o.categoryField&&p;r=g||r;if(g&&v>0){n=cr(e,me(o.categoryField,s[0]));var m=n?lr:me;for(var l=0;l<v;l++){var _=s[l];var c=m(o.categoryField,_,u.chartService.intl);if(n||!d.get(c)){i.push([c,_]);if(!n)d.set(c,true)}}}}if(i.length>0){if(n)i=Ba(i,function(e,t){return S.dateComparer(e[0],t[0])});var y=za(i);e.categories=y[0]}else if(r)e.categories=[]},_isBindable:function(e){var t=_e.current.valueFields(e);var i=true;for(var r=0;r<t.length;r++){var n=t[r];if(n===h)n="field";else n=n+"Field";if(!M(e[n])){i=false;break}}return i},_noTransitionsRedraw:function(){var e=this.options;var t;if(e.transitions!==false){e.transitions=false;t=true}this._redraw();if(t)e.transitions=true},_legendItemHover:function(t,i){var e=this;var r=e._plotArea;var n=e._highlight;var a=(r.srcSeries||r.series)[t];var o;if(k(a.type,[nt,Ze,Je]))o=r.findPoint(function(e){return e.series.index===t&&e.index===i});else o=r.pointsBySeriesIndex(t);if(this._hasInactiveOpacity()&&a.visible&&o){var s=r.series.length>1;var l=o.length?o[0]:o;this._displayInactiveOpacity(l,s,o)}else n.show(o)},_shouldAttachMouseMove:function(){return this._plotArea.crosshairs.length||this._tooltip&&this._sharedTooltip()||this.requiresHandlers([Pt,It])},updateMouseMoveHandler:function(){var e;ee(this.element,(e={},e[ba]=this._mousemove,e));if(this._shouldAttachMouseMove()){var t;r(this.element,(t={},t[ba]=this._mousemove,t))}},applyOptions:function(e,t){La(this._originalOptions,e);this._originalOptions=x(this._originalOptions,e);this.options=x({},this._originalOptions);if(t){this._theme=t;this.chartService.theme=t}this._initTheme(this.options,this._theme);this._toggleDragZoomEvents()},setOptions:function(e,t){this.applyOptions(e,t);this.bindCategories();this.redraw();this.updateMouseMoveHandler()},setDirection:function(e){this.chartService.rtl=Boolean(e);if(this.surface&&this.surface.type==="svg")this._destroySurface()},setIntlService:function(e){this.chartService.intl=e},noTransitionsRedraw:function(){this._noTransitionsRedraw()},destroy:function(){this._destroyed=true;var e;ee(this.element,(e={},e[xa]=this._clickHandler,e[Qt]=this._mousewheelHandler,e[ba]=this._mousemove,e[ka]=this._mouseleaveHandler,e));if(this.domEvents){this.domEvents.destroy();delete this.domEvents}if(this._mouseMoveTrackHandler){var t;ee(document,(t={},t[ba]=this._mouseMoveTrackHandler,t))}this._destroyView();this._destroySurface();this._clearRedrawTimeout()},_destroySurface:function(){var e=this.surface;if(e){e.unbind("mouseenter",this._surfaceMouseenterHandler);e.unbind("mouseleave",this._surfaceMouseleaveHandler);e.destroy();this.surface=null}},_destroySelections:function(){var e=this._selections;if(e)while(e.length>0)e.shift().destroy()},_destroyView:function(){var e=this._model;if(e){e.destroy();this._model=null}this._unsetActivePoint();this._destroySelections();if(this._tooltip)this._tooltip.destroy();if(this._highlight)this._highlight.destroy();if(this._zoomSelection){this._zoomSelection.destroy();delete this._zoomSelection}if(this._pannable){this._pannable.destroy();delete this._pannable}if(this._mousewheelZoom){this._mousewheelZoom.destroy();delete this._mousewheelZoom}}});function Ta(e){var t=wa;for(var i=0;i<t.length;i++){var r=t[i]+"Axes";if(e[r]){e[t[i]+"Axis"]=e[r];delete e[r]}}}function Aa(e,t){if(e)for(var i=0;i<e.length;i++)if(e[i].category===t)return[e[i]]}function Ma(e,t){var r=(t||{}).axisDefaults||{};var n,a,i;function o(e){var t=(e||{}).color||a.color;var i=x({},r,r[n],a,a[n],{line:{color:t},labels:{color:t},title:{color:t}},e);delete i[n];return i}for(var s=0;s<wa.length;s++){n=wa[s]+"Axis";a=e.axisDefaults||{};i=[].concat(e[n]);i=i.map(o);e[n]=i.length>1?i:i[0]}}function Da(e,t){var i=e.series;var r=i.length;var h=e.seriesDefaults;var n=x({},e.seriesDefaults);var a=t?x({},t.seriesDefaults):{};var o=x({},a);Ea(n);Ea(o);for(var s=0;s<r;s++){var l=i[s].type||e.seriesDefaults.type;var c=x({data:[]},o,a[l],{tooltip:e.tooltip},n,h[l]);i[s]._defaults=c;i[s]=x({},c,i[s]);i[s].data=i[s].data||[]}}function Ea(e){delete e.bar;delete e.column;delete e.rangeColumn;delete e.line;delete e.verticalLine;delete e.pie;delete e.donut;delete e.area;delete e.verticalArea;delete e.scatter;delete e.scatterLine;delete e.bubble;delete e.candlestick;delete e.ohlc;delete e.boxPlot;delete e.bullet;delete e.verticalBullet;delete e.polarArea;delete e.polarLine;delete e.radarArea;delete e.radarLine;delete e.waterfall}function Pa(e){var t={};for(var i=0;i<e.length;i++){var r=e[i];var n=r.options.name;if(n)t[n]=r.range()}return t}function Ia(e,t){if(t===void 0)t=S.dateComparer;for(var i=1,r=e.length;i<r;i++)if(t(e[i],e[i-1])<0){e.sort(t);break}return e}function Ba(e,t){if(t===void 0)t=S.dateComparer;var i=Ia(e,t);var r=i.length;var n=r>0?[i[0]]:[];for(var a=1;a<r;a++)if(t(i[a],R(n))!==0)n.push(i[a]);return n}function za(e){var t=e.length;var i=[];for(var r=0;r<t;r++){var n=e[r];var a=n.length;for(var o=0;o<a;o++){i[o]=i[o]||[];i[o].push(n[o])}}return i}var Oa=["data","categories"];function La(e,t){for(var i in t)if(!k(i,Oa)&&t.hasOwnProperty(i)){var r=t[i];var n=e[i];if(M(n)){var a=r===null;if(a||!M(r)){delete e[i];if(a)delete t[i]}else if(n&&C(r))if(C(n))La(n,r)}}}function Ra(e){for(var t=0;t<e.length;t++)e[t].notifyRender()}e(Sa,{renderAs:"",chartArea:{},legend:{visible:true,labels:{}},categoryAxis:{},seriesDefaults:{type:Qe,data:[],highlight:{visible:true},labels:{},negativeValues:{visible:false}},series:[],seriesColors:null,tooltip:{visible:false},transitions:true,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{},panes:[{}],pannable:false,zoomable:false}),kendo.deepExtend(kendo.dataviz,{constants:ei,Aggregates:ge,AreaChart:Ci,AreaSegment:bi,AxisGroupRangeTracker:Si,Bar:Di,BarChart:zi,BarLabel:Ti,BoxPlotChart:Ni,BoxPlot:Fi,BubbleChart:Wi,Bullet:Yi,BulletChart:$i,CandlestickChart:Ri,Candlestick:Oi,CategoricalChart:si,CategoricalErrorBar:ri,CategoricalPlotArea:jr,Chart:Sa,ChartContainer:Ji,ClipAnimation:mi,ClusterLayout:Ii,Crosshair:Zi,CrosshairTooltip:Qi,DefaultAggregates:Sr,DonutChart:Rn,DonutPlotArea:Fn,DonutSegment:On,ErrorBarBase:ii,ErrorRangeCalculator:ke,Highlight:qr,SharedTooltip:_n,Legend:hn,LegendItem:on,LegendLayout:an,LineChart:wi,LinePoint:hi,LineSegment:ui,Pane:er,PieAnimation:xn,PieChart:In,PieChartMixin:En,PiePlotArea:zn,PieSegment:Tn,PlotAreaBase:gr,PlotAreaEventsMixin:xr,PlotAreaFactory:un,PointEventsMixin:li,RangeBar:Tr,RangeBarChart:Ar,RangeAreaPoint:Ir,RangeAreaChart:Lr,ScatterChart:ji,ScatterErrorBar:Hi,ScatterLineChart:kn,Selection:gn,SeriesAggregator:kr,SeriesBinder:_e,SplineSegment:vi,SplineAreaSegment:ki,StackWrap:Bi,Tooltip:mn,OHLCChart:Fr,OHLCPoint:Rr,WaterfallChart:Nr,WaterfallSegment:Vr,XYPlotArea:Cn,MousewheelZoom:nn,ZoomSelection:Qr,Pannable:Kr,ChartAxis:ue,ChartPane:de,ChartPlotArea:pe,findAxisByName:fe,anyHasZIndex:_i,appendIfNotNull:rr,areNumbers:Li,bindSegments:ar,categoriesCount:oi,countNumbers:ve,equalsIgnoreCase:or,evalOptions:ai,filterSeriesByType:sr,getDateField:lr,getField:me,hasGradientOverlay:Ai,hasValue:Ui,isDateAxis:cr,segmentVisible:nr,singleItemOrArray:hr,createOutOfRangePoints:vr})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("dataviz/chart/chart.min",["./kendo-chart.min","../../kendo.data.min","../../kendo.dataviz.core.min","../../kendo.dataviz.themes.min","../../kendo.drawing.min","../../kendo.userevents.min"],function(){var f=window.kendo.jQuery,u=void 0,r=".kendoChart",d=window.kendo,t=d.Class,p=d._outerWidth,v=d._outerHeight,s=d.dataviz,e=s.constants,i=s.Chart,o=s.SeriesBinder,g=d.ui.Widget,m=d.data.DataSource,l=d.deepExtend,c=s.defined,_=s.getField,y=s.InstanceObserver,w=s.inArray,b=s.services,n=f.proxy,x=Array.isArray,k=f.extend,h=d.template,C="mouseleave"+r,S=e.AXIS_LABEL_CLICK,T=e.LEGEND_ITEM_CLICK,A=e.LEGEND_ITEM_HOVER,M=e.LEGEND_ITEM_LEAVE,D=e.SERIES_CLICK,E=e.SERIES_HOVER,P=e.SERIES_OVER,I=e.SERIES_LEAVE,B=e.PANE_RENDER,z=e.PLOT_AREA_CLICK,O=e.PLOT_AREA_HOVER,L=e.PLOT_AREA_LEAVE,R=e.DRAG,F=e.DRAG_END,V=e.DRAG_START,N=e.ZOOM_START,H=e.ZOOM,U=e.ZOOM_END,j=e.SELECT_START,G=e.SELECT,W=e.SELECT_END,q=e.RENDER,Y=e.NOTE_CLICK,$=e.NOTE_HOVER,X=e.NOTE_LEAVE,K=f(document.documentElement),Q="change",Z="dataBound",J="leave",ee="down",te=e.VALUE,ie=e.PIE,re=e.DONUT,ne=e.FUNNEL,ae=d.Observable,oe=150,se=100,le="k-chart-tooltip-inverse",ce="k-chart-shared-tooltip",he="rtl",ue=(b.DomEventsBuilder.register({create:function(e,t){return new d.UserEvents(e,l({global:true,multiTouch:true,fastTap:true},t))}}),y.extend({handlerMap:{showTooltip:"_showTooltip",hideTooltip:"_hideTooltip",legendItemClick:"_onLegendItemClick",render:"_onRender",init:"_onInit"}})),fe=g.extend({init:function(e,t){var i;d.destroy(e);g.fn.init.call(this,e);if(t){i=t.dataSource;delete t.dataSource}this.options=l({},this.options,t);this.wrapper=this.element;this._attachEvents();if(t)t.dataSource=i;this._seriesVisibility=new me;this.bind(this.events,this.options);this._initDataSource(t);d.notify(this,s.ui)},events:[Z,D,E,P,I,S,T,A,M,B,z,O,L,V,R,F,N,H,U,j,G,W,Y,$,X,q],options:{name:"Chart",renderAs:"",theme:"default",axisDefaults:{},chartArea:{},legend:{},categoryAxis:{},autoBind:true,seriesDefaults:{},series:[],seriesColors:null,tooltip:{},transitions:true,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{},panes:[{}],pannable:false,zoomable:false},items:function(){return f()},refresh:function(){var e=this;var t=e._instance;t.applyDefaults(e.options);t.applySeriesColors();e._bindSeries();e._bindCategories();e.trigger(Z);e._redraw()},getSize:function(){return d.dimensions(this.element)},redraw:function(e){this._size=null;this._instance.redraw(e)},setOptions:function(e){var t=this,i=e.dataSource;delete e.dataSource;g.fn._setEvents.call(t,e);this._instance.applyOptions(e,this._getThemeOptions(e));this.options=this._instance.options;this._tooltip.setOptions(this.options.tooltip);this._seriesVisibility.setOptions(this.options);this._sourceSeries=null;if(i)t.setDataSource(i);if(t._hasDataSource)t._onDataChanged();else{t._bindCategories();t.redraw()}t._instance.updateMouseMoveHandler()},setDataSource:function(e){var t=this;t.dataSource.unbind(Q,t._dataChangeHandler);t.dataSource=e=m.create(e);t._hasDataSource=true;t._hasData=false;e.bind(Q,t._dataChangeHandler);if(t.options.autoBind)e.fetch()},destroy:function(){var e=this,t=e.dataSource;e.element.off(r);if(t)t.unbind(Q,e._dataChangeHandler);if(e._instance){e._instance.destroy();delete this._instance}if(this._tooltip){this._tooltip.destroy();delete this._tooltip}this._destroyCrosshairTooltips();g.fn.destroy.call(e)},findPaneByName:function(e){var t=this._plotArea.panes;for(var i=0;i<t.length;i++)if(t[i].options.name===e)return new be(this,t[i])},findPaneByIndex:function(e){var t=this._plotArea.panes;if(t[e])return new be(this,t[e])},findSeries:function(e){var t=this._plotArea;var i=t.srcSeries||t.series;for(var r=0;r<i.length;r++)if(e(i[r]))return new xe(this,i[r])},findSeriesByName:function(e){return this._createSeries({name:e})},findSeriesByIndex:function(e){return this._createSeries({index:e})},exportVisual:function(e){var t=this._instance;if(!t)return;var i;if(e&&(e.width||e.height)){var r=t.options.chartArea;var n=t._originalOptions.chartArea;l(r,e);var a=t._getModel();r.width=n.width;r.height=n.height;a.renderVisual();ke(a._plotArea.panes);i=a.visual}else i=t.exportVisual();return i},_createSeries:function(e){var t=this._seriesOptions(e);if(t)return new xe(this,t)},_seriesOptions:function(e){var t=this._plotArea;var i=t.srcSeries||t.series;var r;if(c(e.index))r=i[e.index];else if(c(e.name))for(var n=0;n<i.length;n++)if(i[n].name===e.name){r=i[n];break}return r},_attachEvents:function(){this.element.on(C,n(this._mouseleave,this))},_mouseleave:function(e){var t=this._instance;var i=this._tooltip;var r=e.relatedTarget;if(!(r&&f(r).closest(i.element).length)&&t&&!t.handlingTap)t.hideElements({keepTooltipOpen:!i.options.autoHide})},_getThemeOptions:function(e){var t=(e||{}).theme;if(t&&s.SASS_THEMES.indexOf(t.toLowerCase())!==-1)return s.autoTheme().chart;if(c(t)){var i=s.ui.themes||{};var r=i[t]||i[t.toLowerCase()]||{};return r.chart||{}}},_initChart:function(){this._createChart(this.options,this._getThemeOptions(this.options));this.options=this._instance.options;this._seriesVisibility.setOptions(this.options)},_createChart:function(e,t){this._instance=new i(this.element[0],e,t,{observer:new ue(this),sender:this,rtl:this._isRtl()})},_onInit:function(e){this._instance=e.sender},_initDataSource:function(e){var t=this,i=(e||{}).dataSource;t._dataChangeHandler=n(t._onDataChanged,t);t.dataSource=m.create(i).bind("change",t._dataChangeHandler);t._bindCategories();if(i)t._hasDataSource=true;this._initChart();this._initTooltip();if(i)if(t.options.autoBind)t.dataSource.fetch()},_destroyCrosshairTooltips:function(){var e=this._crosshairTooltips;if(e)for(var t in e)e[t].destroy();this._crosshairTooltips={}},_getCrosshairTooltip:function(e,t){var i=this._crosshairTooltips=this._crosshairTooltips||{};var r=e+t;var n=i[r];if(!n)n=i[r]=new we(this.element);return n},_showTooltip:function(e){if(e.crosshair){var t=this._getCrosshairTooltip(e.axisName,e.axisIndex);t.show(e)}else if(this._tooltip)this._tooltip.show(e)},_hideTooltip:function(e){if(e.crosshair){var t=this._getCrosshairTooltip(e.axisName,e.axisIndex);t.hide()}else if(this._tooltip)this._tooltip.hide()},_onRender:function(e){this._destroyCrosshairTooltips();this._copyMembers(e.sender);if(!this._hasDataSource||this._hasData||!this.options.autoBind)this.trigger(q)},_copyMembers:function(e){this.options=e.options;this._originalOptions=e._originalOptions;this.surface=e.surface;this._plotArea=e._plotArea;this._model=e._model;this._highlight=e._highlight;this._selections=e._selections;this._pannable=e._pannable;this._zoomSelection=e._zoomSelection;this._mousewheelZoom=e._mousewheelZoom},requiresHandlers:function(e){var t=this._events;for(var i=0;i<e.length;i++)if(c(t[e[i]]))return true},_initTooltip:function(){this._tooltip=this._createTooltip();this._tooltip.bind(J,n(this._tooltipleave,this))},_onLegendItemClick:function(e){if(!this.trigger(T,e))this._legendItemClick(e.seriesIndex,e.pointIndex)},_legendItemClick:function(e,t){var i=this._instance,r=i._plotArea,n=(r.srcSeries||r.series)[e];if(i._hasInactiveOpacity()&&i._activeChartInstance){i._updateSeriesOpacity(null,true);i._applySeriesOpacity(i._activeChartInstance.children,null,true);i._activeChartInstance=null}if(f.inArray(n.type,[ie,re,ne])>=0){var a=n.data[t];if(a&&c(a.visible))a.visible=!a.visible;else{var o=n.pointVisibility=n.pointVisibility||{};var s=o[t];o[t]=c(s)?!s:false}}else{n.visible=!n.visible;this._seriesVisibility.save(n)}i._noTransitionsRedraw()},_createTooltip:function(){return new a(this.element,k({},this.options.tooltip,{rtl:this._isRtl()}))},_tooltipleave:function(){if(this._instance)this._instance.hideElements()},_bindData:function(e){var t=this,i=t.options,r=t._sourceSeries||i.series,n,a=r.length,h=t.dataSource.view(),u=(t.dataSource.group()||[]).length>0,o=[],s=this._seriesVisibility,l,c;s.read();for(n=0;n<a;n++){l=r[n];if(t._isBindable(l)&&u){c=ge(l,h);o=o.concat(c);s.applyByGroup(c,e)}else{l=k({},l);o.push(l);s.applyByIndex(l,e)}}t._sourceSeries=r;i.series=o;this._instance.applySeriesColors();t._bindSeries();t._bindCategories();this._hasData=true},_onDataChanged:function(e){this._bindData(e);this.trigger(Z);if(this._instance&&this._instance.fontLoaded)this._redraw()},_bindSeries:function(){var e=this,t=e.dataSource.view(),i=e.options.series,r,n=i.length,a,o,s;for(r=0;r<n;r++){a=i[r];if(e._isBindable(a)){o=a._groupIx;s=c(o)?(t[o]||{}).items:t;if(a.autoBind!==false)a.data=s}}},_bindCategories:function(){var e=this,t=e.dataSource.view()||[],i=(e.dataSource.group()||[]).length>0,r=t,n=e.options,a=[].concat(n.categoryAxis),o,s;if(i)if(t.length)r=t[0].items;for(o=0;o<a.length;o++){s=a[o];if(s.autoBind!==false)e._bindCategoryAxis(s,r,o)}},_bindCategoryAxis:function(e,t,i){var r=(t||[]).length,n,a,o;if(e.field){e.categories=[];for(n=0;n<r;n++){o=t[n];a=_(e.field,o);if(n===0){e.categories=[a];e.dataItems=[o]}else{e.categories.push(a);e.dataItems.push(o)}}}else if(this._instance)this._instance.bindCategoryAxisFromSeries(e,i)},_isBindable:function(e){var t=o.current.valueFields(e),i=true,r,n;for(n=0;n<t.length;n++){r=t[n];if(r===te)r="field";else r=r+"Field";if(!c(e[r])){i=false;break}}return i},_isRtl:function(){return d.support.isRtl(this.element)&&this.element.css("direction")===he}}),de=["getAxis","findAxisByName","plotArea","toggleHighlight","showTooltip","hideTooltip","_resize","_redraw","_noTransitionsRedraw","_legendItemHover","_eventCoordinates"];function pe(t){fe.fn[t]=function(){var e=this._instance;if(e)return e[t].apply(e,arguments)}}for(var ve=0;ve<de.length;ve++)pe(de[ve]);function ge(e,t){var i=[],r,n=e.groupNameTemplate,a,o=t.length,s;if(o===0){s=l({},e);s.visibleInLegend=false;return[s]}if(c(n)){d.logToConsole("'groupNameTemplate' is obsolete and will be removed in future versions. "+"Specify the group name template as 'series.name'");if(n)r=h(n)}else{r=h(e.name||"");if(r._slotCount===0)r=h(c(e.name)?"#= group.value #: #= series.name #":"#= group.value #")}for(a=0;a<o;a++){s=l({},e);if(!d.isFunction(s.color))s.color=u;s._groupIx=a;s._groupValue=t[a].value;i.push(s);if(r)s.name=r({series:s,group:t[a]})}return i}if(s.ExportMixin.extend(fe.fn),d.PDFMixin)d.PDFMixin.extend(fe.fn);s.ui.plugin(fe);var me=t.extend({init:function(){this.groups={};this.index={};this.options={}},applyByGroup:function(e,t){if(t&&t.action||this.options.persistSeriesVisibility){for(var i=0;i<e.length;i++)if(this.groups[e[i]._groupValue]===false)e[i].visible=false}else this.groups={}},applyByIndex:function(e,t){if(t&&t.action||this.options.persistSeriesVisibility){if(this.index[e.index]===false)e.visible=false}else this.index={}},save:function(e){if(!e)return;if(this.options.persistSeriesVisibility)this.options.series[e.index].visible=e.visible;else this.saveState(e)},setOptions:function(e){this.options=e;this.groups={};this.index={}},read:function(){var e=this.options;if(e.persistSeriesVisibility){var t=e.series;for(var i=0;i<t.length;i++)this.saveState(t[i])}},saveState:function(e){if(c(e._groupValue))this.groups[e._groupValue]=e.visible;else this.index[e.index]=e.visible}}),_e=d.geometry;function ye(e){for(var t in e)if(e[t]===u)e[t]="";return e}var a=ae.extend({init:function(e,t){var i=this;ae.fn.init.call(i);this.setOptions(t);i.chartElement=e;i.template=a.template;if(!i.template)i.template=a.template=d.template('<div class=\'k-tooltip #if (!d.autoHide) {# k-tooltip-closable#}# k-chart-tooltip#= d.rtl ? " k-rtl" : ""#\' '+"style='display:none; position: absolute; font: #= d.font #;"+"#if (d.border) {# border: #= d.border.width #px solid; #}#"+"opacity: #= d.opacity #;'>"+'<div class="k-tooltip-content"></div>'+'#if (!d.autoHide) {# <div class="k-tooltip-button"><a href="\\#" class="k-icon k-i-close" title="Close"></a></div> #}#'+"</div>",{useWithBlock:false,paramName:"d"});i.element=f(i.template(i.options));i.move=n(i.move,i);i._mouseleave=n(i._mouseleave,i);var r=d.format("[{0}='content'],[{0}='scroller']",d.attr("role"));i._mobileScroller=e.closest(r).data("kendoMobileScroller");i.downEvent=d.applyEventMap(ee,d.guid());i._closeTooltipHandler=n(i._closeTooltip,i)},destroy:function(){var e=this;this._clearShowTimeout();K.off(e.downEvent,e._closeTooltipHandler);if(this.element){this.element.off(C).remove();this.element=null}},setOptions:function(e){this.options=l({},this.options,e)},options:{opacity:1,animation:{duration:oe},sharedTemplate:"<table>"+"<th colspan='#= colspan #'>#= categoryText #</th>"+"# for(var i = 0; i < points.length; i++) { #"+"# var point = points[i]; #"+"<tr>"+"# if(colorMarker) { # "+"<td><span class='k-chart-shared-tooltip-marker' style='background-color:#:point.series.color#'></span></td>"+"# } #"+"# if(nameColumn) { # "+"<td> #if (point.series.name) {# #: point.series.name #: #} else {# &nbsp; #}#</td>"+"# } #"+"<td>#= content(point) #</td>"+"</tr>"+"# } #"+"</table>",categoryFormat:"{0:d}",autoHide:true},move:function(){var e=this,t=e.options,i=e.element,r;if(!e.anchor||!e.element)return;r=e._offset();if(!e.visible)i.css({top:r.top,left:r.left});e.visible=true;e._ensureElement(document.body);i.stop(true,true).show().animate({left:r.left,top:r.top},t.animation.duration)},_clearShowTimeout:function(){if(this.showTimeout){clearTimeout(this.showTimeout);this.showTimeout=null}},getAnchor:function(e){var t=this.anchor;var i=t.point;var r=t.align;var n=i.left;var a=i.top;if(r.horizontal==="center")n-=e.width/2;else if(r.horizontal==="right")n-=e.width;if(r.vertical==="center")a-=e.height/2;else if(r.vertical==="bottom")a-=e.height;return{x:n,y:a}},_offset:function(){var e=this,t=e._measure(),i=e.getAnchor(t),r=i.y,n=i.x,a=d.support.zoomLevel(),o=f(window),s=window.pageYOffset||document.documentElement.scrollTop||0,h=window.pageXOffset||document.documentElement.scrollLeft||0,l=(this._mobileScroller||{}).movable;if(!l||l.scale===1){r+=e._fit(r-s,t.height,v(o)/a);n+=e._fit(n-h,t.width,p(o)/a)}else{var u=_e.transform().scale(l.scale,l.scale,[l.x,l.y]);var c=new _e.Point(n,r).transform(u);n=c.x;r=c.y}return{top:r,left:n}},show:function(e){var t=this;this.anchor=e.anchor;this.element.css(ye(e.style));this.element.toggleClass(le,!!e.className);this.element.toggleClass(ce,!!e.shared);var i=e.shared?this._sharedContent(e):this._pointContent(e.point);this.element.find(".k-tooltip-content").html(i);if(!t.options.autoHide){t.element.off("click"+r).on("click"+r,".k-tooltip-button",t._closeTooltipHandler);K.off(t.downEvent,t._closeTooltipHandler).on(t.downEvent,t._closeTooltipHandler)}this._clearShowTimeout();this.showTimeout=setTimeout(this.move,se)},hide:function(e){var t=this;if(!t.options.autoHide&&!e)return;clearTimeout(t.showTimeout);t._hideElement();if(t.visible){t.point=null;t.visible=false;t.index=null;K.off(t.downEvent,t._closeTooltipHandler)}},_closeTooltip:function(e){var t=f(e.target);if(!t.is(".k-chart-tooltip, .k-tooltip-content")){e.preventDefault();this.chartElement.data("kendoChart")._instance.hideElements();this.hide(true)}},_sharedContent:function(e){var t=e.points;var i=s.grep(t,function(e){return c(e.series.name)}).length;var r=e.series.length>1;var n=1;if(i)n++;if(r)n++;var a=d.template(this.options.sharedTemplate);var o=a({points:t,category:e.category,categoryText:e.categoryText,content:this._pointContent,colorMarker:r,nameColumn:i,colspan:n});return o},_measure:function(){this._ensureElement();var e={width:p(this.element),height:v(this.element)};return e},_ensureElement:function(){if(this.element)this.element.appendTo(document.body).on(C,this._mouseleave)},_mouseleave:function(e){var t=e.relatedTarget;var i=this.chartElement[0];if(t&&t!==i&&!f.contains(i,t))this.trigger(J)},_hideElement:function(){var e=this;var t=this.element;if(t)t.fadeOut({always:function(){if(!e.visible)t.off(C).remove()}})},_pointContent:function(e){var t=this,i=l({},t.options,e.options.tooltip),r,n;if(c(e.value))r=e.value.toString();if(i.template){n=h(i.template);r=n({value:e.value,category:e.category,series:e.series,dataItem:e.dataItem,percentage:e.percentage,runningTotal:e.runningTotal,total:e.total,low:e.low,high:e.high,xLow:e.xLow,xHigh:e.xHigh,yLow:e.yLow,yHigh:e.yHigh})}else if(i.format)r=e.formatValue(i.format);return r},_fit:function(e,t,i){var r=0;if(e+t>i)r=i-(e+t);if(e<0)r=-e;return r}}),we=a.extend({init:function(e,t){a.fn.init.call(this,e,t);this.element.addClass("k-chart-crosshair-tooltip")},show:function(e){var t=this.element;if(t){this.anchor=e.anchor;this.element.css(e.style);this.element.html(this.content(e));this.move()}},move:function(){var e=this,t=e.element,i=e._offset();e._ensureElement();t.css({top:i.top,left:i.left}).show()},content:function(e){var t=e.value,i=e.crosshair.options.tooltip;if(i.template)t=h(i.template)({value:t});return t},hide:function(){this.element.hide()}}),be=t.extend({init:function(e,t){this._chart=e;this._pane=t;this.visual=t.visual;this.chartsVisual=t.chartContainer.visual;this.name=t.options.name},series:function(){var e=this._chart;var t=e._plotArea.groupSeriesByPane();var i=t[this.name||"default"];var r=[];if(i)for(var n=0;n<i.length;n++)r.push(new xe(e,i[n]));return r}}),xe=t.extend({init:function(e,t){this._chart=e;this._options=t},points:function(e){var t=this._points;if(!t){var i=this._seriesOptions();var r=this._chart._plotArea;this._points=t=r.pointsBySeriesIndex(i.index)}if(d.isFunction(e))t=this._filterPoints(t,e);return t},data:function(e){var t=this._seriesOptions();if(e){var i=this._chart;var r=i._plotArea;t.data=e;if(t.categoryField){var n=r.seriesCategoryAxis(t);var a=[].concat(i.options.categoryAxis);i._instance.bindCategoryAxisFromSeries(a[n.axisIndex],n.axisIndex)}i._noTransitionsRedraw();this._clearFields()}return t.data},findPoint:function(e){var t=this.points();for(var i=0;i<t.length;i++)if(e(t[i]))return t[i]},toggleHighlight:function(e,t){if(!t)t=this.points();else if(d.isFunction(t))t=this.points(t);else t=x(t)?t:[t];this._chart._instance.togglePointsHighlight(e,t)},toggleVisibility:function(t,i){var e=this._chart;var r=this._seriesOptions();var n=d.isFunction(i);if(!n){r.visible=t;e._seriesVisibility.save(r)}else if(w(r.type,[ie,re,ne])){var a=this._filterData(i);for(var o=0;o<a.length;o++)a[o].visible=t}else r.visible=function(e){return i(e.dataItem)?t:true};e._noTransitionsRedraw();this._clearFields()},_filterData:function(e){var t=this._seriesOptions().data;var i=t.length;var r=[];for(var n=0;n<i;n++)if(e(t[n]))r.push(t[n]);return r},_filterPoints:function(e,t){var i=[];var r=e.length;for(var n=0;n<r;n++)if(t(e[n]))i.push(e[n]);return i},_seriesOptions:function(){var e=this._series;if(!e)e=this._series=this._chart._seriesOptions(this._options);return e},_clearFields:function(){delete this._points;delete this._series}});function ke(e){for(var t=0;t<e.length;t++)e[t].notifyRender()}return s.Tooltip=a,s.CrosshairTooltip=we,s.ChartInstanceObserver=ue,s.ChartPane=be,s.ChartSeries=xe,window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.dataviz.chart.min",["./dataviz/chart/kendo-chart.min","./dataviz/chart/chart.min"],function(){var e={id:"dataviz.chart",name:"Chart",category:"dataviz",description:"The Chart widget uses modern browser technologies to render high-quality data visualizations in the browser.",depends:["data","userevents","drawing","dataviz.core","dataviz.themes"],features:[{id:"dataviz.chart-pdf-export",name:"PDF export",description:"Export Chart as PDF",depends:["pdf"]}]};return window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("dataviz/gauge/kendo-gauges.min",["../../kendo.core.min","../../kendo.color.min","../../kendo.drawing.min","../../kendo.dataviz.core.min"],function(){var r=window.kendo.jQuery,d=(window.kendo.dataviz=window.kendo.dataviz||{},kendo.dataviz),B=d.getSpacing,D=d.defined,_=d.constants,t=_.BLACK,v=_.COORD_PRECISION,n=d.services,s=d.deepExtend,l=d.isArray,e=d.setDefaultOptions,a=d.NumericAxis,o=d.limitValue,E=d.Box,c=d.interpolateValue,p=d.round,i=kendo.drawing,h=i.Group,u=i.Path,f=i.Animation,g=i.AnimationFactory,m=kendo.geometry,P=m.Rect,I=m.Point,z=m.transform,y=150,w=250,b="arrow",x="arrowPointer",k="barPointer",C=200,S=.5,T=200,O=Math.PI/180,L="inside",A="linear",M="outside",R="radialPointer",F="radialRangePointer";function V(e,t){var i=e.getOrigin();var r=e.getSize();var n=B(t);e.setOrigin([i.x-n.left,i.y-n.top]);e.setSize([r.width+(n.left+n.right),r.height+(n.top+n.bottom)]);return e}var N=h,H=u,U=i.Text;function j(e,t){var i=e.box;var r=e.children[0].box;var n=t.border||{};var a=t.background||"";var o=H.fromRect(new P([i.x1,i.y1],[i.width(),i.height()]),{stroke:{}});var s=new U(e.text,new I(r.x1,r.y1),{font:t.font,fill:{color:t.color}});var l=V(s.bbox().clone(),t.padding);var h=H.fromRect(l,{stroke:{color:n.width?n.color:"",width:n.width,opacity:n.opacity,dashType:n.dashType,lineJoin:"round",lineCap:"round"},fill:{color:a}});var c=new N;c.append(o);c.append(h);c.append(s);return c}function G(e,t,i){var r=D(e.from)?e.from:_.MIN_VALUE;var n=D(e.to)?e.to:_.MAX_VALUE;e.from=Math.max(Math.min(n,r),t);e.to=Math.min(Math.max(n,r),i);return e}function W(e,t){var i=B(t);i.left=-i.left;i.top=-i.top;i.right=-i.right;i.bottom=-i.bottom;return V(e,i)}var q=5,Y=u,$=i.Surface,X=d.Class.extend({init:function(e,t,i,r){if(r===void 0)r={};this.element=e;this.theme=i;this.contextService=new n.ChartService(this,r);this._originalOptions=s({},this.options,t);this.options=s({},this._originalOptions);this._initTheme(i);this.redraw()},destroy:function(){if(this.surface){this.surface.destroy();this.surface=null}delete this.element;delete this.surfaceElement},value:function(e){var t=this.pointers[0];if(arguments.length===0)return t.value();t.value(e);this._setValueOptions(e)},_draw:function(){var e=this.surface;e.clear();e.draw(this._visuals)},exportVisual:function(){return this._visuals},allValues:function(e){var t=this.pointers;var i=[];if(arguments.length===0){for(var r=0;r<t.length;r++)i.push(t[r].value());return i}if(l(e))for(var n=0;n<e.length;n++)if(d.isNumber(e[n]))t[n].value(e[n]);this._setValueOptions(e)},_setValueOptions:function(e){var t=[].concat(this.options.pointer);var i=[].concat(e);for(var r=0;r<i.length;r++)t[r].value=i[r]},resize:function(){this.noTransitionsRedraw()},noTransitionsRedraw:function(){var e=this.options.transitions;this._toggleTransitions(false);this.redraw();this._toggleTransitions(e)},redraw:function(){var e=this._surfaceSize();var t=new P([0,0],[e.width,e.height]);this._initSurface();this.gaugeArea=this._createGaugeArea();this._createModel();var i=W(t.bbox(),this._gaugeAreaMargin);this.reflow(i)},setOptions:function(e,t){this._originalOptions=s(this._originalOptions,e);this.options=s({},this._originalOptions);this._initTheme(t);this.redraw()},setDirection:function(e){this.contextService.rtl=Boolean(e);if(this.surface&&this.surface.type==="svg"){this.surface.destroy();this.surface=null}},setIntlService:function(e){this.contextService.intl=e},_initTheme:function(e){var t=e||this.theme||{};this.theme=t;this.options=s({},t,this.options);var i=this.options;var r=i.pointer;if(l(r)){var n=[];for(var a=0;a<r.length;a++)n.push(s({},t.pointer,r[a]));i.pointer=n}},_createGaugeArea:function(){var e=this.options.gaugeArea;var t=this.surface.size();var i=e.border||{};var r=new P([0,0],[t.width,t.height]);this._gaugeAreaMargin=e.margin||q;if(i.width>0)r=W(r,i.width);var n=Y.fromRect(r,{stroke:{color:i.width?i.color:"",width:i.width,dashType:i.dashType,lineJoin:"round",lineCap:"round"},fill:{color:e.background}});return n},_initSurface:function(){var e=this;var t=e.options;var i=e.surface;var r=this._surfaceElement();var n=this._surfaceSize();d.elementSize(r,n);if(!i||i.options.type!==t.renderAs){if(i)i.destroy();this.surface=$.create(r,{type:t.renderAs})}else{this.surface.clear();this.surface.resize()}},_surfaceSize:function(){var e=this.options;var t=this._getSize();if(e.gaugeArea)s(t,e.gaugeArea);return t},_surfaceElement:function(){if(!this.surfaceElement){this.surfaceElement=document.createElement("div");this.element.appendChild(this.surfaceElement)}return this.surfaceElement},getSize:function(){return this._getSize()},_getSize:function(){var e=this.element;var t=this._defaultSize();var i=e.offsetWidth;var r=e.offsetHeight;if(!i)i=t.width;if(!r)r=t.height;return{width:i,height:r}},_defaultSize:function(){return{width:T,height:C}},_toggleTransitions:function(e){var t=this;this.options.transitions=e;for(var i=0;i<this.pointers.length;i++)t.pointers[i].options.animation.transitions=e}}),K=(e(X,{plotArea:{},theme:"default",renderAs:"",pointer:{},scale:{},gaugeArea:{}}),u),Q=h,Z=I;function J(e,t){var i=e.position;var r=e.tickX;var n=e.tickY;var a,o;if(e.vertical){a=new Z(r,i);o=new Z(r+t.size,i)}else{a=new Z(i,n);o=new Z(i,n+t.size)}var s=new K({stroke:{color:t.color,width:t.width}}).moveTo(a).lineTo(o);return s}function ee(e,t,i,r){var n=t.length;if(r.visible){var a=i.mirror;var o=i.lineBox;for(var s=r.skip;s<n;s+=r.step){if(s%r.skipUnit===0)continue;i.tickX=a?o.x2:o.x2-r.size;i.tickY=a?o.y1-r.size:o.y1;i.position=t[s];e.append(J(i,r))}}}var te=a.extend({init:function(e,t){var i=e||{};if(!D(i.reverse)&&i.vertical===false&&(t||{}).rtl)i=r.extend({},i,{reverse:true});a.fn.init.call(this,0,1,i,t);this.options.minorUnit=this.options.minorUnit||this.options.majorUnit/10},initUserOptions:function(e){var t=s({},this.options,e);t=s({},t,{labels:{mirror:t.mirror}});t.majorUnit=t.majorUnit||d.autoMajorUnit(t.min,t.max);return t},initFields:function(){},render:function(){var e=this.elements=new Q;var t=this.renderLabels();var i=this.renderLine();var r=this.renderTicks();var n=this.renderRanges();e.append(i,t,r,n);return e},renderRanges:function(){var e=this;var t=this.options;var h=t.min;var u=t.max;var i=t.vertical;var r=t.labels.mirror;var n=t.ranges||[];var a=new Q;var f=n.length;var d=t.rangeSize||t.minorTicks.size/2;for(var o=0;o<f;o++){var s=G(n[o],h,u);var p=e.getSlot(s.from,s.to);var l=i?e.lineBox():p;var c=i?p:e.lineBox();if(i)l.x1-=d*(r?-1:1);else c.y2+=d*(r?-1:1);a.append(K.fromRect(new P([l.x1,c.y1],[l.x2-l.x1,c.y2-c.y1]),{fill:{color:s.color,opacity:s.opacity},stroke:{}}))}return a},renderLabels:function(){var e=this;var t=e.labels;var i=e.options;var r=new Q;for(var n=0;n<t.length;n++)r.append(j(t[n],i.labels));return r},renderLine:function(){var e=this.options.line;var t=this.lineBox();var i=new Q;if(e.width>0&&e.visible){var r=new K({stroke:{color:e.color,dashType:e.dashType,width:e.width}});r.moveTo(t.x1,t.y1).lineTo(t.x2,t.y2);i.append(r)}return i},renderTicks:function(){var e=new Q;var t=this.options;var i=t.majorTicks.visible?t.majorUnit:0;var r={vertical:t.vertical,mirror:t.labels.mirror,lineBox:this.lineBox()};ee(e,this.getMajorTickPositions(),r,t.majorTicks);ee(e,this.getMinorTickPositions(),r,s({},{skipUnit:i/t.minorUnit},t.minorTicks));return e}}),ie=(e(te,{min:0,max:50,majorTicks:{size:15,align:L,color:t,width:S,visible:true},minorTicks:{size:10,align:L,color:t,width:S,visible:true},line:{width:S},labels:{position:L,padding:2},mirror:false,_alignLines:false}),d.Class.extend({init:function(e,t){var i=e.options;var r=i.min;var n=i.max;var a=this.options=s({},this.options,t);a.fill=a.color;this.scale=e;if(D(a.value))a.value=o(a.value,r,n);else a.value=r},value:function(e){var t=this.options;var i=t.value;if(arguments.length===0)return i;var r=this.scale.options;var n=r.min;var a=r.max;t._oldValue=D(t._oldValue)?t.value:n;t.value=o(e,n,a);if(this.elements)this.repaint()}})),re=(e(ie,{color:t}),ie.extend({init:function(e,t){ie.fn.init.call(this,e,t);this.options=s({track:{visible:D(t.track)}},this.options)},reflow:function(){var e=this;var t=e.options;var h=e.scale;var u=h.options;var i=u.mirror;var f=u.vertical;var r=h.lineBox();var n=t.track.size||t.size;var a=t.size/2;var d=B(t.margin);var o=f?d[i?"left":"right"]:d[i?"bottom":"top"];var s,l,c;o=i?-o:o;if(f){c=new E(r.x1+o,r.y1,r.x1+o,r.y2);if(i)c.x1-=n;else c.x2+=n;if(t.shape!==k){l=new E(r.x2+o,r.y1-a,r.x2+o,r.y2+a);s=l}}else{c=new E(r.x1,r.y1-o,r.x2,r.y1-o);if(i)c.y2+=n;else c.y1-=n;if(t.shape!==k){l=new E(r.x1-a,r.y1-o,r.x2+a,r.y1-o);s=l}}this.trackBox=c;this.pointerRangeBox=l;this.box=s||c.clone().pad(t.border.width)},getElementOptions:function(){var e=this.options;return{fill:{color:e.color,opacity:e.opacity},stroke:D(e.border)?{color:e.border.width?e.border.color||e.color:"",width:e.border.width,dashType:e.border.dashType,opacity:e.opacity}:null}},_margin:function(){var e=this;var t=e.scale;var i=e.options;var r=t.options;var n=r.mirror;var a=r.vertical;var o=B(i.margin);var s=a?o[n?"left":"right"]:o[n?"bottom":"top"];return s}})),ne=(e(re,{shape:k,track:{border:{width:1}},color:t,border:{width:1},opacity:1,margin:B(3),animation:{type:k},visible:true}),f.extend({setup:function(){var e=this.options;var t=e.margin;var i=e.from;var r=e.to;var n=e.vertical;var a=n?"x1":"y1";if(e.mirror===n){i[a]-=t;r[a]-=t}else{i[a]+=t;r[a]+=t}var o=this.fromScale=new I(i.x1,i.y1);var s=this.toScale=new I(r.x1,r.y1);if(e.duration!==0)e.duration=Math.max(o.distanceTo(s)/e.duration*1e3,1)},step:function(e){var t=c(this.fromScale.x,this.toScale.x,e);var i=c(this.fromScale.y,this.toScale.y,e);this.element.transform(z().translate(t,i))}})),ae=(e(ne,{easing:A,duration:w}),g.current.register(x,ne),I),oe=u,se=re.extend({init:function(e,t){re.fn.init.call(this,e,t);if(!D(this.options.size))this.options.size=this.scale.options.majorTicks.size*.6},pointerShape:function(){var e=this;var t=e.scale;var i=e.options.size;var r=i/2;var n=t.options.mirror?-1:1;var a;if(t.options.vertical)a=[new ae(0,0-r),new ae(0-n*i,0),new ae(0,0+r)];else a=[new ae(0-r,0),new ae(0,0+n*i),new ae(0+r,0)];return a},repaint:function(){var e=this;var t=e.scale;var i=e.options;var r=new ne(this.elements,s(i.animation,{vertical:t.options.vertical,mirror:t.options.mirror,margin:this._margin(i.margin),from:t.getSlot(i._oldValue),to:t.getSlot(i.value)}));if(i.animation.transitions===false)r.options.duration=0;r.setup();r.play()},render:function(){var e=this;var t=e.scale;var i=e.options;var r=this.getElementOptions();var n=this.pointerShape(i.value);i.animation.type=x;var a=new oe({stroke:r.stroke,fill:r.fill}).moveTo(n[0]).lineTo(n[1]).lineTo(n[2]).close();var o=t.getSlot(i.value);a.transform(z().translate(o.x1,o.y1));this.elements=a;return a}}),le=f.extend({setup:function(){var e=this.options;var t=this.axis=e.vertical?_.Y:_.X;var i=this.to=e.newPoints[0][t];var r=this.from=e.oldPoints[0][t];if(e.duration!==0)e.duration=Math.max(Math.abs(i-r)/e.speed*1e3,1);this._set(r)},step:function(e){var t=c(this.from,this.to,e);this._set(t)},_set:function(e){var t="set"+this.axis.toUpperCase();var i=this.options.newPoints;i[0][t](e);i[1][t](e)}}),ce=(e(le,{easing:A,speed:w}),g.current.register(k,le),h),he=u,ue=re.extend({init:function(e,t){re.fn.init.call(this,e,t);if(!D(this.options.size))this.options.size=this.scale.options.majorTicks.size*.3},pointerShape:function(h){var u=this;var e=u.scale;var f=u.options;var d=e.options;var p=d.mirror;var t=d.vertical;var v=p===t?-1:1;var i=f.size*v;var g=e.getSlot(e.options.min);var m=e.getSlot(h);var r=t?_.Y:_.X;var n=t?_.X:_.Y;var a=this._margin()*v;var o=new I;o[r]=g[r+"1"];o[n]=g[n+"1"];var s=new I;s[r]=m[r+"1"];s[n]=m[n+"1"];if(t){o.translate(a,0);s.translate(a,0)}else{o.translate(0,a);s.translate(0,a)}var l=s.clone();var c=o.clone();if(t){l.translate(i,0);c.translate(i,0)}else{l.translate(0,i);c.translate(0,i)}return[o,s,l,c]},repaint:function(){var e=this;var t=e.scale;var i=e.options;var r=this.pointerShape(i.value);var n=this.pointerPath;var a=this.pointerShape(i._oldValue);n.moveTo(r[0]).lineTo(r[1]).lineTo(r[2]).lineTo(r[3]).close();var o=new le(n,s(i.animation,{reverse:t.options.reverse,vertical:t.options.vertical,oldPoints:[a[1],a[2]],newPoints:[r[1],r[2]]}));if(i.animation.transitions===false)o.options.duration=0;o.setup();o.play()},render:function(){var e=new ce;var t=this.getElementOptions();if(this.options.track.visible)e.append(this.renderTrack());var i=this.pointerPath=new he({stroke:t.stroke,fill:t.fill});e.append(i);this.elements=e;return e},renderTrack:function(){var e=this.options.track;var t=e.border||{};var i=this.trackBox.clone().pad(t.width||0);return new he.fromRect(i.toRect(),{fill:{color:e.color,opacity:e.opacity},stroke:{color:t.width?t.color||e.color:"",width:t.width,dashType:t.dashType}})}}),fe=60,de=60,pe=h,ve=X.extend({reflow:function(e){var t=this.pointers;var i=e.origin.x;var r=e.origin.y;var n=new E(i,r,i+e.width(),r+e.height());this.scale.reflow(n);this._shrinkScaleWidth(n);for(var a=0;a<t.length;a++)t[a].reflow();this.bbox=this._getBox(n);this._alignElements();this._shrinkElements();this._buildVisual();this._draw()},_buildVisual:function(){var e=new pe;var t=this.scale.render();var i=this.pointers;e.append(this.gaugeArea);e.append(t);for(var r=0;r<i.length;r++){var n=i[r];e.append(n.render());n.value(n.options.value)}this._visuals=e},_createModel:function(){var e=this;var t=this.options;var i=this.scale=new te(t.scale,this.contextService);this.pointers=[];var r=t.pointer;r=l(r)?r:[r];for(var n=0;n<r.length;n++){var a=s({},r[n],{animation:{transitions:t.transitions}});var o=a.shape===b?se:ue;e.pointers.push(new o(i,a))}},_defaultSize:function(){var e=this.options.scale.vertical;return{width:e?fe:T,height:e?C:de}},_getBox:function(e){var t=this;var i=t.scale;var r=t.pointers;var n=e.center();var a=r[0].box.clone().wrap(i.box);for(var o=0;o<r.length;o++)a.wrap(r[o].box.clone());var s;if(i.options.vertical){s=a.width()/2;a=new E(n.x-s,e.y1,n.x+s,e.y2)}else{s=a.height()/2;a=new E(e.x1,n.y-s,e.x2,n.y+s)}return a},_alignElements:function(){var e=this;var t=this;var i=t.scale;var r=t.pointers;var n=i.box;var a=r[0].box.clone().wrap(i.box);var o=this.bbox;for(var s=0;s<r.length;s++)a.wrap(r[s].box.clone());var l;if(i.options.vertical){l=o.center().x-a.center().x;i.reflow(new E(n.x1+l,o.y1,n.x2+l,o.y2))}else{l=o.center().y-a.center().y;i.reflow(new E(n.x1,n.y1+l,n.x2,n.y2+l))}for(var c=0;c<r.length;c++)r[c].reflow(e.bbox)},_shrinkScaleWidth:function(e){var t=this;var i=t.scale;if(!i.options.vertical){var r=i.contentBox().width()-e.width();if(r>0){i.box.shrink(r,0);i.box.alignTo(e,"center");i.reflow(i.box)}}},_shrinkElements:function(){var e=this;var t=this;var i=t.scale;var r=t.pointers;var n=i.box.clone();var a=i.options.vertical?"y":"x";var o=r[0].box;for(var s=0;s<r.length;s++)o.wrap(r[s].box.clone());n[a+1]+=Math.max(n[a+1]-o[a+1],0);n[a+2]-=Math.max(o[a+2]-n[a+2],0);i.reflow(n);for(var l=0;l<r.length;l++)r[l].reflow(e.bbox)}}),ge=(e(ve,{transitions:true,gaugeArea:{background:""},scale:{vertical:true}}),180),me=i.Arc,_e=u,ye=h;function we(e,t,c,i){var r=new ye;var n=e.center;var a=e.getRadiusX();if(i.visible)for(var o=0;o<t.length;o++){var s=e.pointAt(t[o]);var l=new I(n.x+a-i.size,n.y).rotate(t[o],n);r.append(new _e({stroke:{color:i.color,width:i.width}}).moveTo(s).lineTo(l))}return r}function be(e,t,i,r){return{from:e,to:t,color:i,opacity:r}}var xe=a.extend({init:function(e,t){a.fn.init.call(this,0,1,e,t)},initUserOptions:function(e){var t=s({},this.options,e);t.majorUnit=t.majorUnit||d.autoMajorUnit(t.min,t.max);t.minorUnit=t.minorUnit||t.majorUnit/10;return t},initFields:function(){},render:function(e,t){var i=this.renderArc(e,t);this.bbox=i.bbox();this.labelElements=this.renderLabels();this.ticks=this.renderTicks();this.ranges=this.renderRanges()},reflow:function(e){var t=e.center();var i=Math.min(e.height(),e.width())/2;if(D(this.bbox)){this.bbox=this.arc.bbox();this.radius(this.arc.getRadiusX());this.repositionRanges();this.renderLabels()}else return this.render(t,i)},slotAngle:function(e){var t=this.options;var i=t.min;var r=t.max;var n=t.reverse;var a=t.startAngle;var o=t.endAngle;var s=o-a;var l;if(n)l=o-(e-i)/(r-i)*s;else l=(e-i)/(r-i)*s+a;return l+ge},hasRanges:function(){var e=this.options.ranges;return e&&e.length},ticksSize:function(){var e=this.options;var t=e.majorTicks;var i=e.minorTicks;var r=0;if(t.visible)r=t.size;if(i.visible)r=Math.max(i.size,r);return r},labelsCount:function(){var e=a.fn.labelsCount.call(this);var t=this.options;var i=t.endAngle-t.startAngle;if(i>=360&&t.max%t.majorUnit===0)e-=1;return e},renderLabels:function(){var e=this;var t=this.options;var i=this.arc.clone();var r=i.getRadiusX();var h=this.tickAngles(i,t.majorUnit);var u=t.rangeSize=t.rangeSize||r*.1;var f=new ye;var n=r*.05;if(D(t.rangeDistance))n=t.rangeDistance;else t.rangeDistance=n;var d=t.labels;var a=d.position===L;var p=D(this.labelElements);if(a){r-=this.ticksSize();if(this.hasRanges()&&!p)r-=u+n;i.setRadiusX(r).setRadiusY(r)}var v=this.labels;var g=v.length;var o=B(d.padding);var m=(o.left+o.right)/2;var _=(o.top+o.bottom)/2;for(var s=0;s<g;s++){var l=v[s];var y=l.box.width()/2;var w=l.box.height()/2;var b=h[s];var x=(b-ge)*O;var k=i.pointAt(b);var C=k.x+Math.cos(x)*(y+m)*(a?1:-1);var S=k.y+Math.sin(x)*(w+_)*(a?1:-1);l.reflow(new E(C-y,S-w,C+y,S+w));var T=new I(l.box.x1,l.box.y1);var c=void 0;if(!p){c=j(l,t.labels);f.append(c)}else{c=e.labelElements.children[s];var A=c.bbox().origin;var M=c.transform()||z();M.translate(T.x-A.x,T.y-A.y);c.transform(M)}e.bbox=P.union(e.bbox,c.bbox())}return f},repositionRanges:function(){var e=this.ranges.children;if(e.length>0){var t=this.options;var i=t.rangeDistance;var r=t.rangeSize;var n=this.getRangeRadius();if(this.options.labels.position===L)n+=r+i;var a=n+r/2;for(var o=0;o<e.length;o++)e[o]._geometry.setRadiusX(a).setRadiusY(a);this.bbox=P.union(this.bbox,this.ranges.bbox())}},renderRanges:function(){var e=this;var t=this.rangeSegments();var i=t.length;var r=new ye;if(i){var n=this.options;var h=n.rangeSize;var a=n.reverse;var u=n.rangeDistance;var f=this.getRangeRadius();this.radius(this.radius()-h-u);for(var o=0;o<i;o++){var s=t[o];var l=e.slotAngle(s[a?"to":"from"]);var c=e.slotAngle(s[!a?"to":"from"]);if(c-l!==0)r.append(e.createRange(l,c,f,s))}}return r},createRange:function(e,t,i,r){var n=this.options.rangeSize;var a=new m.Arc(this.arc.center,{radiusX:i+n/2,radiusY:i+n/2,startAngle:e,endAngle:t});return new me(a,{stroke:{width:n,color:r.color,opacity:r.opacity,lineCap:r.lineCap}})},rangeSegments:function(){var e=this.options;var t=e.ranges||[];var i=t.length;var r=[];if(i){var n=e.min;var a=e.max;var h=e.rangePlaceholderColor;r.push(be(n,a,h));for(var o=0;o<i;o++){var s=G(t[o],n,a);var u=r.length;for(var l=0;l<u;l++){var c=r[l];if(c.from<=s.from&&s.from<=c.to){r.push(be(s.from,s.to,s.color,s.opacity));if(c.from<=s.to&&s.to<=c.to)r.push(be(s.to,c.to,h,s.opacity));c.to=s.from;break}}}}return r},getRangeRadius:function(){var e=this;var t=e.arc;var i=e.options;var r=i.rangeSize;var n=i.rangeDistance;var a=i.majorTicks.size;var o;if(i.labels.position===M)o=t.getRadiusX()-a-n-r;else o=t.getRadiusX()-r;return o},renderArc:function(e,t){var i=this.options;var r=this.arc=new m.Arc(e,{radiusX:t,radiusY:t,startAngle:i.startAngle+ge,endAngle:i.endAngle+ge});return r},renderTicks:function(){var e=this;var t=e.arc;var i=e.options;var r=t.clone();this.majorTickAngles=this.tickAngles(t,i.majorUnit);this.majorTicks=we(r,this.majorTickAngles,i.majorUnit,i.majorTicks);var n=new ye;n.append(this.majorTicks);var a=i.majorTicks.size;var o=i.minorTicks.size;this._tickDifference=a-o;if(i.labels.position===M){var s=r.getRadiusX();r.setRadiusX(s-a+o).setRadiusY(s-a+o)}this.minorTickAngles=this.normalizeTickAngles(this.tickAngles(t,i.minorUnit));this.minorTicks=we(r,this.minorTickAngles,i.minorUnit,i.minorTicks);n.append(this.minorTicks);return n},normalizeTickAngles:function(e){var t=this.options;var i=t.majorUnit/t.minorUnit;for(var r=e.length-1;r>=0;r--)if(r%i===0)e.splice(r,1);return e},tickAngles:function(e,t){var i=this.options;var r=i.reverse;var h=i.max-i.min;var n=e.endAngle-e.startAngle;var a=h/t;var o=e.startAngle;var s=n/a;if(r){o+=n;s=-s}if(n>=360&&i.max%t===0)a-=1;var l=[];for(var c=0;c<a;c++){l.push(p(o,v));o+=s}if(p(o)<=e.endAngle)l.push(o);return l},radius:function(e){if(e){this.arc.setRadiusX(e).setRadiusY(e);this.repositionTicks(this.majorTicks.children,this.majorTickAngles);this.repositionTicks(this.minorTicks.children,this.minorTickAngles,true)}else return this.arc.getRadiusX()},repositionTicks:function(e,t,i){var r=i?this._tickDifference||0:0;var n=this.arc;var a=n.getRadiusX();if(i&&this.options.labels.position===M&&r!==0){n=this.arc.clone();n.setRadiusX(a-r).setRadiusY(a-r)}for(var o=0;o<e.length;o++){var s=n.pointAt(t[o]);var l=e[o].segments;var c=s.x-l[0].anchor().x;var h=s.y-l[0].anchor().y;e[o].transform((new z).translate(c,h))}}}),ke=(e(xe,{min:0,max:100,majorTicks:{size:15,align:L,color:t,width:S,visible:true},minorTicks:{size:10,align:L,color:t,width:S,visible:true},startAngle:-30,endAngle:210,labels:{position:L,padding:2}}),f.extend({init:function(e,t){f.fn.init.call(this,e,t);var i=this.options;i.duration=Math.max(Math.abs(i.newAngle-i.oldAngle)/i.duration*1e3,1)},step:function(e){var t=this.options;var i=c(t.oldAngle,t.newAngle,e);this.element.transform(z().rotate(i,t.center))}})),Ce=(e(ke,{easing:A,duration:y}),g.current.register(R,ke),.05),Se=i.Circle,Te=h,Ae=u,Me=ie.extend({setAngle:function(e){this.elements.transform(z().rotate(e,this.center))},repaint:function(){var e=this;var t=e.scale;var i=e.options;var r=t.slotAngle(i._oldValue);var n=t.slotAngle(i.value);if(i.animation.transitions===false)this.setAngle(n);else new ke(this.elements,s(i.animation,{oldAngle:r,newAngle:n})).play()},render:function(){var e=this;var t=e.scale;var i=e.options;var r=new Te;if(i.animation!==false)s(i.animation,{startAngle:0,center:t.arc.center,reverse:t.options.reverse});r.append(this._renderNeedle(),this._renderCap());this.elements=r;this.setAngle(O);return r},reflow:function(e){var t=this.center=e.center;var i=o(this.options.length||1,.1,1.5);var r=this.radius=e.getRadiusX()*i;var n=this.capSize=Math.round(r*this.options.cap.size);this.bbox=P.fromPoints(new I(t.x-n,t.y-n),new I(t.x+n,t.y+n))},_renderNeedle:function(){var e=this.scale.options.minorTicks.size;var t=this.center;var i=this.options.color;var r=new Ae({fill:{color:i},stroke:{color:i,width:S}});r.moveTo(t.x+this.radius-e,t.y).lineTo(t.x,t.y-this.capSize/2).lineTo(t.x,t.y+this.capSize/2).close();return r},_renderCap:function(){var e=this.options;var t=e.cap.color||e.color;var i=new m.Circle(this.center,this.capSize);var r=new Se(i,{fill:{color:t},stroke:{color:t}});return r}}),De=(e(Me,{cap:{size:Ce},arrow:{width:16,height:14},animation:{type:R,duration:y}}),h),Ee=X.extend({reflow:function(e){var t=this;var i=this.pointers;this.scale.reflow(e);this._initialPlotArea=this.scale.bbox;for(var r=0;r<i.length;r++){i[r].reflow(t.scale.arc);t._initialPlotArea=P.union(t._initialPlotArea,i[r].bbox)}this.fitScale(e);this.alignScale(e);this._buildVisual(this.gaugeArea,i,this.scale);this._draw()},_buildVisual:function(e,t,i){var r=this._visuals=new De;r.append(e);r.append(i.ticks);r.append(i.ranges);this._buildPointers(t);r.append(i.labelElements)},_buildPointers:function(e){var t=this;for(var i=0;i<e.length;i++){var r=e[i];r.render();t._visuals.append(r.elements);r.value(r.options.value)}},fitScale:function(e){var t=this;var i=this.scale.arc;var h=this._initialPlotArea;var u=Math.abs(this.getDiff(h,e));var r=p(u,v);var n=p(-u,v);var a,o,s,l,f;var c=0;var d=0;while(d++<100){c=f===s?c+1:0;if(c>5)break;if(r!==l){a=t.getPlotBox(r,e,i);if(0<=a&&a<=2)break}if(n!==l){s=t.getPlotBox(n,e,i);if(0<=s&&s<=2)break}if(a>0&&s>0)l=r*2;else if(a<0&&s<0)l=n*2;else l=p((r+n)/2||1,v);o=t.getPlotBox(l,e,i);if(0<=o&&o<=2)break;f=s;if(o>0){n=l;s=o}else{r=l;a=o}}},getPlotBox:function(e,t,i){var r=this;var n=this.scale;var a=this.pointers;var o=i.getRadiusX();var s=i.clone();s.setRadiusX(o+e).setRadiusY(o+e);n.arc=s;n.reflow(t);this.plotBbox=n.bbox;for(var l=0;l<a.length;l++){a[l].reflow(s);r.plotBbox=P.union(r.plotBbox,a[l].bbox)}return this.getDiff(this.plotBbox,t)},getDiff:function(e,t){return Math.min(t.width()-e.width(),t.height()-e.height())},alignScale:function(e){var t=this;var i=this.plotBbox.center();var r=e.center();var n=i.x-r.x;var a=i.y-r.y;var o=this;var s=o.scale;var l=o.pointers;s.arc.center.x-=n;s.arc.center.y-=a;s.reflow(e);for(var c=0;c<l.length;c++){l[c].reflow(s.arc);t.plotBbox=P.union(s.bbox,l[c].bbox)}},_createModel:function(){var e=this;var t=this.options;var i=t.pointer;var r=this.scale=new xe(t.scale,this.contextService);this.pointers=[];var n=l(i)?i:[i];for(var a=0;a<n.length;a++){var o=new Me(r,s({},n[a],{animation:{transitions:t.transitions}}));e.pointers.push(o)}}}),Pe=(e(Ee,{transitions:true,gaugeArea:{background:""}}),xe.extend({rangeSegments:function(){var e=this.options;var t=e.min;var i=e.max;var r=e.rangePlaceholderColor;var n=e.rangeLineCap;return[{from:t,to:i,color:r,lineCap:n}]},hasRanges:function(){return true},placeholderRangeAngle:function(e){var t=this.ranges.children[0].geometry();if(this.options.reverse)t.setEndAngle(e);else t.setStartAngle(e)},addRange:function(e,t,i){var r=this.options.reverse;var n=this.slotAngle(r?t:e);var a=this.slotAngle(r?e:t);var o=this.createRange(n,a,this.getRangeRadius(),i);this.ranges.append(o);return o}})),Ie=(e(Pe,{min:0,max:100,majorTicks:{visible:false},minorTicks:{visible:false},labels:{visible:false},startAngle:0,endAngle:180,rangeLineCap:"round"}),800),Be=f.extend({init:function(e,t){f.fn.init.call(this,e,t);var i=this.options;var r=Math.abs(i.newAngle-i.oldAngle)/i.duration*1e3;i.duration=o(r,y,Ie);var n=e.elements.options.get("stroke.color");var a=e.currentColor();if(n!==a){this.startColor=new kendo.Color(n);this.color=new kendo.Color(a)}},step:function(e){var t=this;var i=t.options;var r=t.startColor;var n=t.color;var a=c(i.oldAngle,i.newAngle,e);this.element.angle(a);if(n){var o=p(c(r.r,n.r,e));var s=p(c(r.g,n.g,e));var l=p(c(r.b,n.b,e));this.element.stroke(new kendo.Color(o,s,l).toHex())}}}),ze=(e(Be,{easing:A,duration:y}),g.current.register(F,Be),ie.extend({repaint:function(){var e=this;var t=e.scale;var i=e.options;var r=t.slotAngle(i._oldValue);var n=t.slotAngle(i.value);if(this.animation)this.animation.abort();if(i.animation.transitions===false){this.angle(n);this.stroke(this.currentColor())}else{this.animation=new Be(this,s(i.animation,{oldAngle:r,newAngle:n}));this.animation.play()}},angle:function(e){var t=this.elements.geometry();if(this.scale.options.reverse)t.setStartAngle(e);else t.setEndAngle(e);this.scale.placeholderRangeAngle(e)},stroke:function(e){this.elements.stroke(e)},render:function(){if(this.elements)return;var e=this;var t=e.scale;var i=e.options;if(i.animation!==false)s(i.animation,{startAngle:0,center:t.arc.center,reverse:t.options.reverse});this.elements=t.addRange(t.options.min,this.options.value,{color:this.currentColor(),opacity:i.opacity,lineCap:t.options.rangeLineCap})},currentColor:function(){var e=this.scale.options;var t=e.min;var h=e.max;var i=this.options;var r=i.colors;var u=i.color;var n=i.value;var a=d.isNumber(n)?n:t;if(r)for(var o=0;o<r.length;o++){var s=r[o];var f=s.color;var l=s.from;if(l===void 0)l=t;var c=s.to;if(c===void 0)c=h;if(l<=a&&a<=c)return f}return u},reflow:function(){this.render();this.bbox=this.elements.bbox()}})),Oe=(e(ze,{animation:{type:F,duration:y}}),Ee.extend({_initTheme:function(e){Ee.fn._initTheme.call(this,e);this.options.color=this.options.color||(this.theme.pointer||{}).color},_createModel:function(){var e=this.options;var t=this.scale=new Pe(e.scale,this.contextService);var i=new ze(t,s({},{colors:e.colors,color:e.color,value:e.value,opacity:e.opacity,animation:{transitions:e.transitions}}));this.pointers=[i]},_buildPointers:function(e){for(var t=0;t<e.length;t++){var i=e[t];i.render();i.value(i.options.value)}},_setValueOptions:function(e){this.options.value=e},currentColor:function(){var e=this.pointers[0];if(e)return e.currentColor()},centerLabelPosition:function(e,t){var i=this.getSize();var r=this.scale.arc.center;var n=r.x-e/2;var a=r.y-t/2;if(e<i.width){var o=n+e;n=Math.max(n,0);if(o>i.width)n-=o-i.width}if(t<i.height){var s=this.scale.bbox;var l=s.bottomRight().y;var c=a+t;a=Math.max(a,s.origin.y);if(c>l)a-=c-l}return{left:n,top:a}}})),Le=90,Re=Oe.extend({_createModel:function(){var e=this.options.scale;if(typeof e.startAngle!=="number")e.startAngle=Le;e.endAngle=e.startAngle+360;Oe.fn._createModel.call(this)}});kendo.deepExtend(kendo.dataviz,{Gauge:X,LinearGauge:ve,LinearPointer:re,ArrowLinearPointer:se,BarLinearPointer:ue,LinearScale:te,RadialGauge:Ee,RadialPointer:Me,RadialScale:xe,ArcGauge:Oe,RangePointer:ze,ArcScale:Pe,CircularGauge:Re})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("dataviz/gauge/main.min",["./kendo-gauges.min"],function(){var i=window.kendo.jQuery,n=window.kendo,r=n.ui.Widget,a=n.dataviz,h=a.LinearGauge,u=a.RadialGauge,f=a.ArcGauge,d=a.CircularGauge,o=n.drawing;function t(e){var t=a.ui.themes||{};var i=e.theme||"";var r=i.toLowerCase();if(a.SASS_THEMES.indexOf(r)!=-1)return a.autoTheme().gauge;return(t[i]||t[r]||{}).gauge}var s=r.extend({init:function(e,t){n.destroy(e);i(e).empty();r.fn.init.call(this,e);this.options=n.deepExtend(this.options,t);this.wrapper=this.element;this._createInstance();this.element.addClass("k-gauge");n.notify(this,a.ui)},options:{theme:"default",renderAs:"",pointer:{},scale:{},gaugeArea:{background:""},transitions:true},setOptions:function(e){this._instance.setOptions(e,t(e));this._copyFields()},redraw:function(){this._instance.redraw();this._copyFields()},destroy:function(){r.fn.destroy.call(this);this._instance.destroy()},_createInstance:function(){var e=this._gaugeType();this._instance=new e(this.element[0],this.options,t(this.options));this._copyFields()},_copyFields:function(){this._originalOptions=this._instance._originalOptions;this.options=this._instance.options;this.surface=this._instance.surface;this.bbox=this._instance.bbox;this.gaugeArea=this._instance.gaugeArea;this.pointers=this._instance.pointers;this.scale=this._instance.scale},_resize:function(){this._instance.resize()}}),e=["getSize","value","allValues","exportVisual"];function p(e){s.fn[e]=function(){return this._instance[e].apply(this._instance,arguments)}}for(var l=0;l<e.length;l++)p(e[l]);a.ExportMixin.extend(s.fn);var v=s.extend({options:{name:"RadialGauge"},_gaugeType:function(){return u}}),g=s.extend({options:{name:"LinearGauge",scale:{vertical:true}},_gaugeType:function(){return h}}),c=s.extend({init:function(e,t){s.fn.init.call(this,e,t);this.element.css("position","relative");this.element.addClass("k-arcgauge");this._centerTemplate()},options:{name:"ArcGauge"},setOptions:function(e){s.fn.setOptions.call(this,e);this._centerTemplate()},redraw:function(){s.fn.redraw.call(this);this._centerTemplate()},value:function(e){var t=this._instance;if(arguments.length===0)return t.value();t.value(e);this._centerTemplate()},destroy:function(){s.fn.destroy.call(this);delete this._centerElement},exportVisual:function(){if(this._centerElement)return false;return s.fn.exportVisual.call(this)},_resize:function(){this._instance.resize();this._centerTemplate()},_centerTemplate:function(){if(this.options.centerTemplate){var e=n.template(this.options.centerTemplate);var t=this._instance;var i=this._getCenterElement();i.html(e({color:t.currentColor(),value:t.value()}));var r=t.centerLabelPosition(i.width(),i.height());i.css(r)}else if(this._centerElement){this._centerElement.remove();this._centerElement=null}},_getCenterElement:function(){var e=this._centerElement;if(!e){e=this._centerElement=i("<div></div>").addClass("k-arcgauge-label");this.element.append(e)}return e},_gaugeType:function(){return f}}),m=c.extend({options:{name:"CircularGauge"},_gaugeType:function(){return d}});function _(r){c.fn[r]=function(t){var e=this;var i=o[r];if(!e._centerElement)return i(e.exportVisual(),t);return o.drawDOM(e.element).then(function(e){return i(e,t)})}}var y=["exportSVG","exportImage","exportPDF"];for(l=0;l<y.length;l++)_(y[l]);return a.ui.plugin(g),a.ui.plugin(v),a.ui.plugin(c),a.ui.plugin(m),n.deepExtend(a,{Gauge:s,LinearGauge:g,RadialGauge:v,ArcGauge:c,CircularGauge:m}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.dataviz.gauge.min",["./dataviz/gauge/main.min","./kendo.dataviz.themes.min"],function(){var e={id:"dataviz.gauge",name:"Gauge",category:"dataviz",description:"Linear, Radial and Arc gauges.",depends:["dataviz.core","dataviz.themes"]};return window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.dataviz.barcode.min",["./kendo.dataviz.core.min","./kendo.drawing.min"],function(){var o={id:"dataviz.barcode",name:"Barcode",category:"dataviz",description:"Barcode widget",depends:["dataviz.core"]},r=window.kendo.jQuery,l=void 0,t=window.kendo,c=t.ui.Widget,h=r.extend,f=t.deepExtend,s=r.inArray,d=r.isPlainObject,p=t.drawing,u=t.geometry,g,m=t.drawing.util.defined,v=t.dataviz,_=v.Box2D,y=v.TextBox,w=300,b=100,x=10,k=/^\d+$/,C=/^[a-z0-9]+$/i,S="Character '{0}' is not valid for symbology {1}";function T(e,t,i){return e.substring(t,t+i)}var i=t.Class.extend({init:function(e){this.setOptions(e)},setOptions:function(e){var t=this;t.options=h({},t.options,e);t.quietZoneLength=t.options.addQuietZone?2*t.options.quietZoneLength:0},encode:function(e,t,i){var r=this;if(m(e))e+="";r.initValue(e,t,i);if(r.options.addQuietZone)r.addQuietZone();r.addData();if(r.options.addQuietZone)r.addQuietZone();return{baseUnit:r.baseUnit,pattern:r.pattern}},options:{quietZoneLength:x,addQuietZone:true,addCheckSum:true},initValue:function(){},addQuietZone:function(){this.pattern.push(this.options.quietZoneLength||x)},addData:function(){},invalidCharacterError:function(e){throw new Error(t.format(S,e,this.name))}}),n={},A=i.extend({minBaseUnitLength:.7,addData:function(){var e=this,t=e.value;e.addStart();for(var i=0;i<t.length;i++)e.addCharacter(t.charAt(i));if(e.options.addCheckSum)e.pushCheckSum();e.addStop();e.prepareValues()},addCharacter:function(e){var t=this,i=t.characterMap[e];if(!i)t.invalidCharacterError(e);t.addBase(i)},addBase:function(){}}),M={addCharacter:function(e){var t=this;if(t.characterMap[e])t.addBase(t.characterMap[e]);else if(e.charCodeAt(0)>127)t.invalidCharacterError(e);else t.addExtended(e.charCodeAt(0))},addExtended:function(e){var t=this,i;for(var r=0;r<t.extendedMappings.length;r++)if(i=t.extendedMappings[r].call(t,e)){for(var n=0;n<i.length;n++)t.addBase(i[n]);t.dataLength+=i.length-1;return}},extendedMappings:[function(e){if(97<=e&&e<=122){var t=this;return[t.characterMap[t.shiftCharacters[0]],t.characterMap[String.fromCharCode(e-32)]]}},function(e){if(33<=e&&e<=58){var t=this;return[t.characterMap[t.shiftCharacters[1]],t.characterMap[String.fromCharCode(e+32)]]}},function(e){if(1<=e&&e<=26){var t=this;return[t.characterMap[t.shiftCharacters[2]],t.characterMap[String.fromCharCode(e+64)]]}},function(e){var t=this,i,r;if(!t.specialAsciiCodes[e]){r=Math.floor(e/32)*6+(e-27)%32+64;i=[t.characterMap[t.shiftCharacters[3]],t.characterMap[String.fromCharCode(r)]]}else{i=[];for(var n=0;n<t.specialAsciiCodes[e].length;n++){i.push(t.characterMap[t.shiftCharacters[3]]);i.push(t.characterMap[t.specialAsciiCodes[e][n]])}}return i}],specialAsciiCodes:{0:["U"],64:["V"],96:["W"],127:["T","X","Y","Z"]},shiftValuesAsciiCodes:{39:36,40:47,41:43,42:37},characterMap:{"+":false,"/":false,$:false,"%":false},shiftCharacters:["SHIFT0","SHIFT1","SHIFT2","SHIFT3"]},D=(n.code39=A.extend({name:"Code 39",checkSumMod:43,minRatio:2.5,maxRatio:3,gapWidth:1,splitCharacter:"|",initValue:function(e,t,i){var r=this;r.width=t;r.height=i;r.value=e;r.dataLength=e.length;r.pattern=[];r.patternString=""},prepareValues:function(){var e=this,t,i=e.minBaseUnitLength,r=e.maxRatio,n=e.minRatio,a=Math.max(.15*e.width,24);if(e.height<a)throw new Error("Insufficient Height. The minimum height for value: "+e.value+" is: "+a);while((t=e.getBaseUnit(r))<i&&r>n)r=parseFloat((r-.1).toFixed(1));if(t<i){var o=Math.ceil(e.getBaseWidth(n)*i);throw new Error("Insufficient width. The minimum width for value: "+e.value+" is: "+o)}e.ratio=r;e.baseUnit=t;e.patternString=e.patternString.substring(0,e.patternString.length-1);e.pattern=e.pattern.concat(e.patternString.replace(/ratio/g,r).split(e.splitCharacter))},getBaseUnit:function(e){return this.width/this.getBaseWidth(e)},getBaseWidth:function(e){var t=this,i=3*(e+2);return t.quietZoneLength+i*(t.dataLength+2)+t.gapWidth*(t.dataLength+1)},addStart:function(){var e=this;e.addPattern(e.characterMap.START.pattern);e.addCharacterGap()},addBase:function(e){this.addPattern(e.pattern);this.addCharacterGap()},addStop:function(){this.addPattern(this.characterMap.START.pattern)},addPattern:function(e){for(var t=0;t<e.length;t++)this.patternString+=this.patternMappings[e.charAt(t)]},addCharacterGap:function(){var e=this;e.patternString+=e.gapWidth+e.splitCharacter},patternMappings:{b:"1|",w:"1|",B:"ratio|",W:"ratio|"},characterMap:{0:{pattern:"bwbWBwBwb",value:0},1:{pattern:"BwbWbwbwB",value:1},2:{pattern:"bwBWbwbwB",value:2},3:{pattern:"BwBWbwbwb",value:3},4:{pattern:"bwbWBwbwB",value:4},5:{pattern:"BwbWBwbwb",value:5},6:{pattern:"bwBWBwbwb",value:6},7:{pattern:"bwbWbwBwB",value:7},8:{pattern:"BwbWbwBwb",value:8},9:{pattern:"bwBWbwBwb",value:9},A:{pattern:"BwbwbWbwB",value:10},B:{pattern:"bwBwbWbwB",value:11},C:{pattern:"BwBwbWbwb",value:12},D:{pattern:"bwbwBWbwB",value:13},E:{pattern:"BwbwBWbwb",value:14},F:{pattern:"bwBwBWbwb",value:15},G:{pattern:"bwbwbWBwB",value:16},H:{pattern:"BwbwbWBwb",value:17},I:{pattern:"bwBwbWBwb",value:18},J:{pattern:"bwbwBWBwb",value:19},K:{pattern:"BwbwbwbWB",value:20},L:{pattern:"bwBwbwbWB",value:21},M:{pattern:"BwBwbwbWb",value:22},N:{pattern:"bwbwBwbWB",value:23},O:{pattern:"BwbwBwbWb",value:24},P:{pattern:"bwBwBwbWb",value:25},Q:{pattern:"bwbwbwBWB",value:26},R:{pattern:"BwbwbwBWb",value:27},S:{pattern:"bwBwbwBWb",value:28},T:{pattern:"bwbwBwBWb",value:29},U:{pattern:"BWbwbwbwB",value:30},V:{pattern:"bWBwbwbwB",value:31},W:{pattern:"BWBwbwbwb",value:32},X:{pattern:"bWbwBwbwB",value:33},Y:{pattern:"BWbwBwbwb",value:34},Z:{pattern:"bWBwBwbwb",value:35},"-":{pattern:"bWbwbwBwB",value:36},".":{pattern:"BWbwbwBwb",value:37}," ":{pattern:"bWBwbwBwb",value:38},$:{pattern:"bWbWbWbwb",value:39},"/":{pattern:"bWbWbwbWb",value:40},"+":{pattern:"bWbwbWbWb",value:41},"%":{pattern:"bwbWbWbWb",value:42},START:{pattern:"bWbwBwBwb"}},options:{addCheckSum:false}}),n.code39extended=n.code39.extend(f({},M,{name:"Code 39 extended",characterMap:{SHIFT0:{pattern:"bWbwbWbWb",value:41},SHIFT1:{pattern:"bWbWbwbWb",value:40},SHIFT2:{pattern:"bWbWbWbwb",value:39},SHIFT3:{pattern:"bwbWbWbWb",value:42}}})),n.code93=A.extend({name:"Code 93",cCheckSumTotal:20,kCheckSumTotal:15,checkSumMod:47,initValue:function(e,t,i){var r=this;r.value=e;r.width=t;r.height=i;r.pattern=[];r.values=[];r.dataLength=e.length},prepareValues:function(){var e=this,t=Math.max(.15*e.width,24);if(e.height<t)throw new Error("Insufficient Height");e.setBaseUnit();if(e.baseUnit<e.minBaseUnitLength)throw new Error("Insufficient Width")},setBaseUnit:function(){var e=this,t=2;e.baseUnit=e.width/(9*(e.dataLength+2+t)+e.quietZoneLength+1)},addStart:function(){var e=this.characterMap.START.pattern;this.addPattern(e)},addStop:function(){var e=this;e.addStart();e.pattern.push(e.characterMap.TERMINATION_BAR)},addBase:function(e){this.addPattern(e.pattern);this.values.push(e.value)},pushCheckSum:function(){var e=this,t=e._getCheckValues(),i;e.checksum=t.join("");for(var r=0;r<t.length;r++){i=e.characterMap[e._findCharacterByValue(t[r])];e.addPattern(i.pattern)}},_getCheckValues:function(){var e=this,t=e.values,i=t.length,r=0,n,a,o;for(o=i-1;o>=0;o--)r+=e.weightedValue(t[o],i-o,e.cCheckSumTotal);n=r%e.checkSumMod;r=e.weightedValue(n,1,e.kCheckSumTotal);for(o=i-1;o>=0;o--)r+=e.weightedValue(t[o],i-o+1,e.kCheckSumTotal);a=r%e.checkSumMod;return[n,a]},_findCharacterByValue:function(e){for(var t in this.characterMap)if(this.characterMap[t].value===e)return t},weightedValue:function(e,t,i){return(t%i||i)*e},addPattern:function(e){var t;for(var i=0;i<e.length;i++){t=parseInt(e.charAt(i),10);this.pattern.push(t)}},characterMap:{0:{pattern:"131112",value:0},1:{pattern:"111213",value:1},2:{pattern:"111312",value:2},3:{pattern:"111411",value:3},4:{pattern:"121113",value:4},5:{pattern:"121212",value:5},6:{pattern:"121311",value:6},7:{pattern:"111114",value:7},8:{pattern:"131211",value:8},9:{pattern:"141111",value:9},A:{pattern:"211113",value:10},B:{pattern:"211212",value:11},C:{pattern:"211311",value:12},D:{pattern:"221112",value:13},E:{pattern:"221211",value:14},F:{pattern:"231111",value:15},G:{pattern:"112113",value:16},H:{pattern:"112212",value:17},I:{pattern:"112311",value:18},J:{pattern:"122112",value:19},K:{pattern:"132111",value:20},L:{pattern:"111123",value:21},M:{pattern:"111222",value:22},N:{pattern:"111321",value:23},O:{pattern:"121122",value:24},P:{pattern:"131121",value:25},Q:{pattern:"212112",value:26},R:{pattern:"212211",value:27},S:{pattern:"211122",value:28},T:{pattern:"211221",value:29},U:{pattern:"221121",value:30},V:{pattern:"222111",value:31},W:{pattern:"112122",value:32},X:{pattern:"112221",value:33},Y:{pattern:"122121",value:34},Z:{pattern:"123111",value:35},"-":{pattern:"121131",value:36},".":{pattern:"311112",value:37}," ":{pattern:"311211",value:38},$:{pattern:"321111",value:39},"/":{pattern:"112131",value:40},"+":{pattern:"113121",value:41},"%":{pattern:"211131",value:42},SHIFT0:{pattern:"122211",value:46},SHIFT1:{pattern:"311121",value:45},SHIFT2:{pattern:"121221",value:43},SHIFT3:{pattern:"312111",value:44},START:{pattern:"111141"},TERMINATION_BAR:"1"}}),n.code93extended=n.code93.extend(f({},M,{name:"Code 93 extended",pushCheckSum:function(){var e=this,t=e._getCheckValues(),i;e.checksum=t.join("");for(var r=0;r<t.length;r++){i=t[r];if(e.shiftValuesAsciiCodes[i])e.addExtended(e.shiftValuesAsciiCodes[i]);else e.addPattern(e.characterMap[e._findCharacterByValue(i)].pattern)}}})),t.Class.extend({init:function(e){this.encoding=e},addStart:function(){},is:function(){},move:function(){},pushState:function(){}})),E=D.extend({FNC4:"FNC4",init:function(e,t){var i=this;i.encoding=e;i.states=t;i._initMoves(t)},addStart:function(){this.encoding.addPattern(this.START)},is:function(e,t){var i=e.charCodeAt(t);return this.isCode(i)},move:function(e){var t=this,i=0;while(!t._moves[i].call(t,e)&&i<t._moves.length)i++},pushState:function(e){var t=this,i=t.states,r=e.value,n=r.length,a;if(s("C",i)>=0){var o=r.substr(e.index).match(/\d{4,}/g);if(o)n=r.indexOf(o[0],e.index)}while((a=e.value.charCodeAt(e.index))>=0&&t.isCode(a)&&e.index<n){t.encoding.addPattern(t.getValue(a));e.index++}},_initMoves:function(e){var t=this;t._moves=[];if(s(t.FNC4,e)>=0)t._moves.push(t._moveFNC);if(s(t.shiftKey,e)>=0)t._moves.push(t._shiftState);t._moves.push(t._moveState)},_moveFNC:function(e){if(e.fnc){e.fnc=false;return e.previousState==this.key}},_shiftState:function(e){var t=this;if(e.previousState==t.shiftKey&&(e.index+1>=e.value.length||t.encoding[t.shiftKey].is(e.value,e.index+1))){t.encoding.addPattern(t.SHIFT);e.shifted=true;return true}},_moveState:function(){this.encoding.addPattern(this.MOVE);return true},SHIFT:98}),a={},e=(a.A=E.extend({key:"A",shiftKey:"B",isCode:function(e){return 0<=e&&e<96},getValue:function(e){if(e<32)return e+64;return e-32},MOVE:101,START:103}),a.B=E.extend({key:"B",shiftKey:"A",isCode:function(e){return 32<=e&&e<128},getValue:function(e){return e-32},MOVE:100,START:104}),a.C=D.extend({key:"C",addStart:function(){this.encoding.addPattern(this.START)},is:function(e,t){var i=T(e,t,4);return(t+4<=e.length||e.length==2)&&k.test(i)},move:function(){this.encoding.addPattern(this.MOVE)},pushState:function(e){var t;while((t=T(e.value,e.index,2))&&k.test(t)&&t.length==2){this.encoding.addPattern(parseInt(t,10));e.index+=2}},getValue:function(e){return e},MOVE:99,START:105}),a.FNC4=D.extend({key:"FNC4",dependentStates:["A","B"],init:function(e,t){this.encoding=e;this._initSubStates(t)},addStart:function(e){var t=e.value.charCodeAt(0)-128,i=this._getSubState(t);this.encoding[i].addStart()},is:function(e,t){var i=e.charCodeAt(t);return this.isCode(i)},isCode:function(e){return 128<=e&&e<256},pushState:function(e){var t=this,i=t._initSubState(e),r=t.encoding,n=i.value.length;e.index+=n;if(n<3){var a;for(;i.index<n;i.index++){a=i.value.charCodeAt(i.index);i.state=t._getSubState(a);if(i.previousState!=i.state){i.previousState=i.state;r[i.state].move(i)}r.addPattern(r[i.state].MOVE);r.addPattern(r[i.state].getValue(a))}}else{if(i.state!=i.previousState)r[i.state].move(i);t._pushStart(i);r.pushData(i,t.subStates);if(e.index<e.value.length)t._pushStart(i)}e.fnc=true;e.state=i.state},_pushStart:function(e){var t=this;t.encoding.addPattern(t.encoding[e.state].MOVE);t.encoding.addPattern(t.encoding[e.state].MOVE)},_initSubState:function(e){var t=this,i={value:t._getAll(e.value,e.index),index:0};i.state=t._getSubState(i.value.charCodeAt(0));i.previousState=e.previousState==t.key?i.state:e.previousState;return i},_initSubStates:function(e){var t=this;t.subStates=[];for(var i=0;i<e.length;i++)if(s(e[i],t.dependentStates)>=0)t.subStates.push(e[i])},_getSubState:function(e){var t=this;for(var i=0;i<t.subStates.length;i++)if(t.encoding[t.subStates[i]].isCode(e))return t.subStates[i]},_getAll:function(e,t){var i,r="";while((i=e.charCodeAt(t++))&&this.isCode(i))r+=String.fromCharCode(i-128);return r}}),a.FNC1=D.extend({key:"FNC1",startState:"C",dependentStates:["C","B"],startAI:"(",endAI:")",init:function(e,t){this.encoding=e;this.states=t},addStart:function(){this.encoding[this.startState].addStart()},is:function(){return s(this.key,this.states)>=0},pushState:function(e){var t=this,i=t.encoding,r=e.value.replace(/\s/g,""),n=new RegExp("["+t.startAI+t.endAI+"]","g"),a=e.index,o={state:t.startState},s,l,c;i.addPattern(t.START);while(true){o.index=0;c=r.charAt(a)===t.startAI?2:0;s=c>0?t.getBySeparator(r,a):t.getByLength(r,a);if(s.ai.length)l=a+c+s.id.length+s.ai.length;else{l=r.indexOf(t.startAI,a+1);if(l<0){if(a+s.ai.max+s.id.length+c<r.length)throw new Error("Separators are required after variable length identifiers");l=r.length}}o.value=r.substring(a,l).replace(n,"");t.validate(s,o.value);i.pushData(o,t.dependentStates);if(l>=r.length)break;a=l;if(o.state!=t.startState){i[t.startState].move(o);o.state=t.startState}if(!s.ai.length)i.addPattern(t.START)}e.index=e.value.length},validate:function(e,t){var i=t.substr(e.id.length),r=e.ai;if(!r.type&&!k.test(i))throw new Error("Application identifier "+e.id+" is numeric only but contains non numeric character(s).");if(r.type=="alphanumeric"&&!C.test(i))throw new Error("Application identifier "+e.id+" is alphanumeric only but contains non alphanumeric character(s).");if(r.length&&r.length!==i.length)throw new Error("Application identifier "+e.id+" must be "+r.length+" characters long.");if(r.min&&r.min>i.length)throw new Error("Application identifier "+e.id+" must be at least "+r.min+" characters long.");if(r.max&&r.max<i.length)throw new Error("Application identifier "+e.id+" must be at most "+r.max+" characters long.")},getByLength:function(e,t){var i=this,r,n;for(var a=2;a<=4;a++){r=T(e,t,a);n=i.getAI(r)||i.getAI(r.substring(0,r.length-1));if(n)return{id:r,ai:n}}i.unsupportedAIError(r)},unsupportedAIError:function(e){throw new Error(t.format("'{0}' is not a supported Application Identifier"),e)},getBySeparator:function(e,t){var i=this,r=e.indexOf(i.startAI,t),n=e.indexOf(i.endAI,r),a=e.substring(r+1,n),o=i.getAI(a)||i.getAI(a.substr(a.length-1));if(!o)i.unsupportedAIError(a);return{ai:o,id:a}},getAI:function(e){var t=this.applicationIdentifiers,i=t.multiKey;if(t[e])return t[e];for(var r=0;r<i.length;r++)if(i[r].ids&&s(e,i[r].ids)>=0)return i[r].type;else if(i[r].ranges){var n=i[r].ranges;for(var a=0;a<n.length;a++)if(n[a][0]<=e&&e<=n[a][1])return i[r].type}},applicationIdentifiers:{22:{max:29,type:"alphanumeric"},402:{length:17},7004:{max:4,type:"alphanumeric"},242:{max:6,type:"alphanumeric"},8020:{max:25,type:"alphanumeric"},703:{min:3,max:30,type:"alphanumeric"},8008:{min:8,max:12,type:"alphanumeric"},253:{min:13,max:17,type:"alphanumeric"},8003:{min:14,max:30,type:"alphanumeric"},multiKey:[{ids:["15","17","8005","8100"],ranges:[[11,13],[310,316],[320,336],[340,369]],type:{length:6}},{ids:["240","241","250","251","400","401","403","7002","8004","8007","8110"],ranges:[[90-99]],type:{max:30,type:"alphanumeric"}},{ids:["7001"],ranges:[[410,414]],type:{length:13}},{ids:["10","21","254","420","8002"],type:{max:20,type:"alphanumeric"}},{ids:["00","8006","8017","8018"],type:{length:18}},{ids:["01","02","8001"],type:{length:14}},{ids:["422"],ranges:[[424,426]],type:{length:3}},{ids:["20","8102"],type:{length:2}},{ids:["30","37"],type:{max:8,type:"alphanumeric"}},{ids:["390","392"],type:{max:15,type:"alphanumeric"}},{ids:["421","423"],type:{min:3,max:15,type:"alphanumeric"}},{ids:["391","393"],type:{min:3,max:18,type:"alphanumeric"}},{ids:["7003","8101"],type:{length:10}}]},START:102}),i.extend({init:function(e){i.fn.init.call(this,e);this._initStates()},_initStates:function(){var e=this;for(var t=0;t<e.states.length;t++)e[e.states[t]]=new a[e.states[t]](e,e.states)},initValue:function(e,t,i){var r=this;r.pattern=[];r.value=e;r.width=t;r.height=i;r.checkSum=0;r.totalUnits=0;r.index=0;r.position=1},addData:function(){var e=this,t={value:e.value,index:0,state:""};if(e.value.length===0)return;t.state=t.previousState=e.getNextState(t,e.states);e.addStart(t);e.pushData(t,e.states);e.addCheckSum();e.addStop();e.setBaseUnit()},pushData:function(e,t){var i=this;while(true){i[e.state].pushState(e);if(e.index>=e.value.length)break;if(!e.shifted){e.previousState=e.state;e.state=i.getNextState(e,t);i[e.state].move(e)}else{var r=e.state;e.state=e.previousState;e.previousState=r;e.shifted=false}}},addStart:function(e){this[e.state].addStart(e);this.position=1},addCheckSum:function(){var e=this;e.checksum=e.checkSum%103;e.addPattern(e.checksum)},addStop:function(){this.addPattern(this.STOP)},setBaseUnit:function(){var e=this;e.baseUnit=e.width/(e.totalUnits+e.quietZoneLength)},addPattern:function(e){var t=this,i=t.characterMap[e].toString(),r;for(var n=0;n<i.length;n++){r=parseInt(i.charAt(n),10);t.pattern.push(r);t.totalUnits+=r}t.checkSum+=e*t.position++},getNextState:function(e,t){for(var i=0;i<t.length;i++)if(this[t[i]].is(e.value,e.index))return t[i];this.invalidCharacterError(e.value.charAt(e.index))},characterMap:[212222,222122,222221,121223,121322,131222,122213,122312,132212,221213,221312,231212,112232,122132,122231,113222,123122,123221,223211,221132,221231,213212,223112,312131,311222,321122,321221,312212,322112,322211,212123,212321,232121,111323,131123,131321,112313,132113,132311,211313,231113,231311,112133,112331,132131,113123,113321,133121,313121,211331,231131,213113,213311,213131,311123,311321,331121,312113,312311,332111,314111,221411,431111,111224,111422,121124,121421,141122,141221,112214,112412,122114,122411,142112,142211,241211,221114,413111,241112,134111,111242,121142,121241,114212,124112,124211,411212,421112,421211,212141,214121,412121,111143,111341,131141,114113,114311,411113,411311,113141,114131,311141,411131,211412,211214,211232,2331112],STOP:106})),P=(n.code128a=e.extend({name:"Code 128 A",states:["A"]}),n.code128b=e.extend({name:"Code 128 B",states:["B"]}),n.code128c=e.extend({name:"Code 128 C",states:["C"]}),n.code128=e.extend({name:"Code 128",states:["C","B","A","FNC4"]}),n["gs1-128"]=e.extend({name:"Code GS1-128",states:["FNC1","C","B"]}),i.extend({initValue:function(e,t){var i=this;i.pattern=[];i.value=e;i.checkSumLength=0;i.width=t},setBaseUnit:function(){var e=this,t=7;e.baseUnit=e.width/(12*(e.value.length+e.checkSumLength)+e.quietZoneLength+t)},addData:function(){var e=this,t=e.value;e.addPattern(e.START);for(var i=0;i<t.length;i++)e.addCharacter(t.charAt(i));if(e.options.addCheckSum)e.addCheckSum();e.addPattern(e.STOP);e.setBaseUnit()},addCharacter:function(e){var t=this,i=t.characterMap[e];if(!i)t.invalidCharacterError(e);t.addPattern(i)},addPattern:function(e){for(var t=0;t<e.length;t++)this.pattern.push(parseInt(e.charAt(t),10))},addCheckSum:function(){var e=this,t=e.checkSums[e.checkSumType],i;i=t.call(e.checkSums,e.value);e.checksum=i.join("");for(var r=0;r<i.length;r++){e.checkSumLength++;e.addPattern(e.characterMap[i[r]])}},checkSums:{Modulo10:function(e){var t=[0,""],i=e.length%2,r,n,a;for(r=0;r<e.length;r++)t[(r+i)%2]+=parseInt(e.charAt(r),10);a=t[0];n=(t[1]*2).toString();for(r=0;r<n.length;r++)a+=parseInt(n.charAt(r),10);return[(10-a%10)%10]},Modulo11:function(e){var t=0,i=11,r=e.length,n,a;for(var o=0;o<r;o++){n=((r-o)%6||6)+1;t+=n*e.charAt(o)}a=(i-t%i)%i;if(a!=10)return[a];return[1,0]},Modulo11Modulo10:function(e){var t=this.Modulo11(e),i;i=e+t[0];return t.concat(this.Modulo10(i))},Modulo10Modulo10:function(e){var t=this.Modulo10(e),i;i=e+t[0];return t.concat(this.Modulo10(i))}},characterMap:["12121212","12121221","12122112","12122121","12211212","12211221","12212112","12212121","21121212","21121221"],START:"21",STOP:"121",checkSumType:""})),I=(n.msimod10=P.extend({name:"MSI Modulo10",checkSumType:"Modulo10"}),n.msimod11=P.extend({name:"MSI Modulo11",checkSumType:"Modulo11"}),n.msimod1110=P.extend({name:"MSI Modulo11 Modulo10",checkSumType:"Modulo11Modulo10"}),n.msimod1010=P.extend({name:"MSI Modulo10 Modulo10",checkSumType:"Modulo10Modulo10"}),n.code11=i.extend({name:"Code 11",cCheckSumTotal:10,kCheckSumTotal:9,kCheckSumMinLength:10,checkSumMod:11,DASH_VALUE:10,DASH:"-",START:"112211",STOP:"11221",initValue:function(e,t){var i=this;i.pattern=[];i.value=e;i.width=t;i.totalUnits=0},addData:function(){var e=this;var t=e.value;e.addPattern(e.START);for(var i=0;i<t.length;i++)e.addCharacter(t.charAt(i));if(e.options.addCheckSum)e.addCheckSum();e.addPattern(e.STOP);e.setBaseUnit()},setBaseUnit:function(){var e=this;e.baseUnit=e.width/(e.totalUnits+e.quietZoneLength)},addCheckSum:function(){var e=this,t=e.value,i=t.length,r;r=e.getWeightedSum(t,i,e.cCheckSumTotal)%e.checkSumMod;e.checksum=r+"";e.addPattern(e.characterMap[r]);i++;if(i>=e.kCheckSumMinLength){var n=(r+e.getWeightedSum(t,i,e.kCheckSumTotal))%e.checkSumMod;e.checksum+=n;e.addPattern(e.characterMap[n])}},getWeightedSum:function(e,t,i){var r=0;for(var n=0;n<e.length;n++)r+=this.weightedValue(this.getValue(e.charAt(n)),t,n,i);return r},weightedValue:function(e,t,i,r){var n=(t-i)%r||r;return n*e},getValue:function(e){var t=this;if(!isNaN(e))return parseInt(e,10);else if(e!==t.DASH)t.invalidCharacterError(e);return t.DASH_VALUE},addCharacter:function(e){var t=this,i=t.getValue(e),r=t.characterMap[i];t.addPattern(r)},addPattern:function(e){var t;for(var i=0;i<e.length;i++){t=parseInt(e.charAt(i),10);this.pattern.push(t);this.totalUnits+=t}},characterMap:["111121","211121","121121","221111","112121","212111","122111","111221","211211","211111","112111"],options:{addCheckSum:true}}),n.postnet=i.extend({name:"Postnet",START:"2",VALID_CODE_LENGTHS:[5,9,11],DIGIT_SEPARATOR:"-",initValue:function(e,t,i){var r=this;r.height=i;r.width=t;r.baseHeight=i/2;r.value=e.replace(new RegExp(r.DIGIT_SEPARATOR,"g"),"");r.pattern=[];r.validate(r.value);r.checkSum=0;r.setBaseUnit()},addData:function(){var e=this,t=e.value;e.addPattern(e.START);for(var i=0;i<t.length;i++)e.addCharacter(t.charAt(i));if(e.options.addCheckSum)e.addCheckSum();e.addPattern(e.START);e.pattern.pop()},addCharacter:function(e){var t=this,i=t.characterMap[e];t.checkSum+=parseInt(e,10);t.addPattern(i)},addCheckSum:function(){var e=this;e.checksum=(10-e.checkSum%10)%10;e.addCharacter(e.checksum)},setBaseUnit:function(){var e=this,t=3;e.baseUnit=e.width/((e.value.length+1)*10+t+e.quietZoneLength)},validate:function(e){var t=this;if(!k.test(e))t.invalidCharacterError(e.match(/[^0-9]/)[0]);if(s(e.length,t.VALID_CODE_LENGTHS)<0)throw new Error("Invalid value length. Valid lengths for the Postnet symbology are "+t.VALID_CODE_LENGTHS.join(","))},addPattern:function(e){var t=this,i;for(var r=0;r<e.length;r++){i=t.height-t.baseHeight*e.charAt(r);t.pattern.push({width:1,y1:i,y2:t.height});t.pattern.push(1)}},characterMap:["22111","11122","11212","11221","12112","12121","12211","21112","21121","21211"]}),n.ean13=i.extend({initValue:function(e,t,i){e+="";if(e.length!=12||/\D/.test(e))throw new Error('The value of the "EAN13" encoding should be 12 symbols');var r=this;r.pattern=[];r.options.height=i;r.baseUnit=t/(95+r.quietZoneLength);r.value=e;r.checksum=r.calculateChecksum();r.leftKey=e[0];r.leftPart=e.substr(1,6);r.rightPart=e.substr(7)+r.checksum},addData:function(){var e=this;e.addPieces(e.characterMap.start);e.addSide(e.leftPart,e.leftKey);e.addPieces(e.characterMap.middle);e.addSide(e.rightPart);e.addPieces(e.characterMap.start)},addSide:function(e,t){var i=this;for(var r=0;r<e.length;r++)if(t&&parseInt(i.keyTable[t].charAt(r),10))i.addPieces(Array.prototype.slice.call(i.characterMap.digits[e.charAt(r)]).reverse(),true);else i.addPieces(i.characterMap.digits[e.charAt(r)],true)},addPieces:function(e,t){var i=this;for(var r=0;r<e.length;r++)if(t)i.pattern.push({y1:0,y2:i.options.height*.95,width:e[r]});else i.pattern.push(e[r])},calculateChecksum:function(){var e=0,t=0,i=this.value.split("").reverse().join("");for(var r=0;r<i.length;r++)if(r%2)t+=parseInt(i.charAt(r),10);else e+=parseInt(i.charAt(r),10);var n=(10-(3*e+t)%10)%10;return n},keyTable:["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"],characterMap:{digits:[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2]],start:[1,1,1],middle:[1,1,1,1,1]}}),n.ean8=n.ean13.extend({initValue:function(e,t,i){var r=this;if(e.length!=7||/\D/.test(e))throw new Error("Invalid value provided");r.value=e;r.options.height=i;r.checksum=r.calculateChecksum(r.value);r.leftPart=r.value.substr(0,4);r.rightPart=r.value.substr(4)+r.checksum;r.pattern=[];r.baseUnit=t/(67+r.quietZoneLength)}}),c.extend({init:function(e,t){var i=this;c.fn.init.call(i,e,t);i.element=r(e);i.wrapper=i.element;i.element.addClass("k-barcode").css("display","block");i.surfaceWrap=r("<div />").css("position","relative").appendTo(this.element);i.surface=p.Surface.create(i.surfaceWrap,{type:i.options.renderAs});i._setOptions(t);if(t&&m(t.value))i.redraw()},setOptions:function(e){this._setOptions(e);this.redraw()},redraw:function(){var e=this._getSize();this.surface.clear();this.surface.setSize({width:e.width,height:e.height});this.createVisual();this.surface.draw(this.visual)},getSize:function(){return t.dimensions(this.element)},_resize:function(){this.redraw()},createVisual:function(){this.visual=this._render()},_render:function(){var e=this,t=e.options,i=t.value,r=t.text,h=v.getSpacing(r.margin),n=e._getSize(),u=t.border||{},a=e.encoding,o=new _(0,0,n.width,n.height).unpad(u.width).unpad(t.padding),s=o.height(),l,f,d;var c=new p.Group;e.contentBox=o;c.append(e._getBackground(n));if(r.visible){d=p.util.measureText(i,{font:r.font}).height;s-=d+h.top+h.bottom}l=a.encode(i,o.width(),s);if(r.visible){f=i;if(t.checksum&&m(a.checksum))f+=" "+a.checksum;c.append(e._getText(f))}e.barHeight=s;this._bandsGroup=this._getBands(l.pattern,l.baseUnit);c.append(this._bandsGroup);return c},exportVisual:function(){return this._render()},_getSize:function(){var e=this,t=e.element,i=new u.Size(w,b);if(t.width()>0)i.width=t.width();if(t.height()>0)i.height=t.height();if(e.options.width)i.width=e.options.width;if(e.options.height)i.height=e.options.height;return i},value:function(e){var t=this;if(!m(e))return t.options.value;t.options.value=e+"";t.redraw()},_getBands:function(e,t){var i=this,r=i.contentBox,n=r.x1,a,o;var s=new p.Group;for(var l=0;l<e.length;l++){o=d(e[l])?e[l]:{width:e[l],y1:0,y2:i.barHeight};a=o.width*t;if(l%2){var c=u.Rect.fromPoints(new u.Point(n,o.y1+r.y1),new u.Point(n+a,o.y2+r.y1));var h=p.Path.fromRect(c,{fill:{color:i.options.color},stroke:null});s.append(h)}n+=a}return s},_getBackground:function(e){var t=this,i=t.options,r=i.border||{};var n=new _(0,0,e.width,e.height).unpad(r.width/2);var a=p.Path.fromRect(n.toRect(),{fill:{color:i.background},stroke:{color:r.width?r.color:"",width:r.width,dashType:r.dashType}});return a},_getText:function(e){var t=this,i=t.options.text,r=t._textbox=new y(e,{font:i.font,color:i.color,align:"center",vAlign:"bottom",margin:i.margin});r.reflow(t.contentBox);r.renderVisual();return r.visual},_setOptions:function(e){var t=this;t.type=(e.type||t.options.type).toLowerCase();if(t.type=="upca"){t.type="ean13";e.value="0"+e.value}if(t.type=="upce"){t.type="ean8";e.value="0"+e.value}if(!n[t.type])throw new Error("Encoding "+t.type+"is not supported.");t.encoding=new n[t.type];t.options=h(true,t.options,e)},options:{name:"Barcode",renderAs:"svg",value:"",type:"code39",checksum:false,width:0,height:0,color:"black",background:"white",text:{visible:true,font:"16px Consolas, Monaco, Sans Mono, monospace, sans-serif",color:"black",margin:{top:0,bottom:0,left:0,right:0}},border:{width:0,dashType:"solid",color:"black"},padding:{top:0,bottom:0,left:0,right:0}}}));return v.ExportMixin.extend(I.fn),v.ui.plugin(I),t.deepExtend(v,{encodings:n,Encoding:i}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.dataviz.qrcode.min",["./kendo.dataviz.core.min","./kendo.drawing.min"],function(){var t={id:"dataviz.qrcode",name:"QRCode",category:"dataviz",description:"QRCode widget.",depends:["dataviz.core","drawing"]},r=window.kendo.jQuery,u=void 0,c=window.kendo,i=r.extend,f=c.drawing,o=c.dataviz,s=c.ui.Widget,l=o.Box2D,h="0000",m="numeric",_="alphanumeric",y="byte",w={1:0},a={0:1},b=[[1,0],[1,25,0]],x={15:20,16:20,18:24,19:24,22:20,24:22,26:24,28:20,30:20,31:24,32:28,33:24,36:18,37:22,39:20,40:24},d=[{L:{groups:[[1,19]],totalDataCodewords:19,errorCodewordsPerBlock:7},M:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:10},Q:{groups:[[1,13]],totalDataCodewords:13,errorCodewordsPerBlock:13},H:{groups:[[1,9]],totalDataCodewords:9,errorCodewordsPerBlock:17}},{L:{groups:[[1,34]],totalDataCodewords:34,errorCodewordsPerBlock:10},M:{groups:[[1,28]],totalDataCodewords:28,errorCodewordsPerBlock:16},Q:{groups:[[1,22]],totalDataCodewords:22,errorCodewordsPerBlock:22},H:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:28}},{L:{groups:[[1,55]],totalDataCodewords:55,errorCodewordsPerBlock:15},M:{groups:[[1,44]],totalDataCodewords:44,errorCodewordsPerBlock:26},Q:{groups:[[2,17]],totalDataCodewords:34,errorCodewordsPerBlock:18},H:{groups:[[2,13]],totalDataCodewords:26,errorCodewordsPerBlock:22}},{L:{groups:[[1,80]],totalDataCodewords:80,errorCodewordsPerBlock:20},M:{groups:[[2,32]],totalDataCodewords:64,errorCodewordsPerBlock:18},Q:{groups:[[2,24]],totalDataCodewords:48,errorCodewordsPerBlock:26},H:{groups:[[4,9]],totalDataCodewords:36,errorCodewordsPerBlock:16}},{L:{groups:[[1,108]],totalDataCodewords:108,errorCodewordsPerBlock:26},M:{groups:[[2,43]],totalDataCodewords:86,errorCodewordsPerBlock:24},Q:{groups:[[2,15],[2,16]],totalDataCodewords:62,errorCodewordsPerBlock:18},H:{groups:[[2,11],[2,12]],totalDataCodewords:46,errorCodewordsPerBlock:22}},{L:{groups:[[2,68]],totalDataCodewords:136,errorCodewordsPerBlock:18},M:{groups:[[4,27]],totalDataCodewords:108,errorCodewordsPerBlock:16},Q:{groups:[[4,19]],totalDataCodewords:76,errorCodewordsPerBlock:24},H:{groups:[[4,15]],totalDataCodewords:60,errorCodewordsPerBlock:28}},{L:{groups:[[2,78]],totalDataCodewords:156,errorCodewordsPerBlock:20},M:{groups:[[4,31]],totalDataCodewords:124,errorCodewordsPerBlock:18},Q:{groups:[[2,14],[4,15]],totalDataCodewords:88,errorCodewordsPerBlock:18},H:{groups:[[4,13],[1,14]],totalDataCodewords:66,errorCodewordsPerBlock:26}},{L:{groups:[[2,97]],totalDataCodewords:194,errorCodewordsPerBlock:24},M:{groups:[[2,38],[2,39]],totalDataCodewords:154,errorCodewordsPerBlock:22},Q:{groups:[[4,18],[2,19]],totalDataCodewords:110,errorCodewordsPerBlock:22},H:{groups:[[4,14],[2,15]],totalDataCodewords:86,errorCodewordsPerBlock:26}},{L:{groups:[[2,116]],totalDataCodewords:232,errorCodewordsPerBlock:30},M:{groups:[[3,36],[2,37]],totalDataCodewords:182,errorCodewordsPerBlock:22},Q:{groups:[[4,16],[4,17]],totalDataCodewords:132,errorCodewordsPerBlock:20},H:{groups:[[4,12],[4,13]],totalDataCodewords:100,errorCodewordsPerBlock:24}},{L:{groups:[[2,68],[2,69]],totalDataCodewords:274,errorCodewordsPerBlock:18},M:{groups:[[4,43],[1,44]],totalDataCodewords:216,errorCodewordsPerBlock:26},Q:{groups:[[6,19],[2,20]],totalDataCodewords:154,errorCodewordsPerBlock:24},H:{groups:[[6,15],[2,16]],totalDataCodewords:122,errorCodewordsPerBlock:28}},{L:{groups:[[4,81]],totalDataCodewords:324,errorCodewordsPerBlock:20},M:{groups:[[1,50],[4,51]],totalDataCodewords:254,errorCodewordsPerBlock:30},Q:{groups:[[4,22],[4,23]],totalDataCodewords:180,errorCodewordsPerBlock:28},H:{groups:[[3,12],[8,13]],totalDataCodewords:140,errorCodewordsPerBlock:24}},{L:{groups:[[2,92],[2,93]],totalDataCodewords:370,errorCodewordsPerBlock:24},M:{groups:[[6,36],[2,37]],totalDataCodewords:290,errorCodewordsPerBlock:22},Q:{groups:[[4,20],[6,21]],totalDataCodewords:206,errorCodewordsPerBlock:26},H:{groups:[[7,14],[4,15]],totalDataCodewords:158,errorCodewordsPerBlock:28}},{L:{groups:[[4,107]],totalDataCodewords:428,errorCodewordsPerBlock:26},M:{groups:[[8,37],[1,38]],totalDataCodewords:334,errorCodewordsPerBlock:22},Q:{groups:[[8,20],[4,21]],totalDataCodewords:244,errorCodewordsPerBlock:24},H:{groups:[[12,11],[4,12]],totalDataCodewords:180,errorCodewordsPerBlock:22}},{L:{groups:[[3,115],[1,116]],totalDataCodewords:461,errorCodewordsPerBlock:30},M:{groups:[[4,40],[5,41]],totalDataCodewords:365,errorCodewordsPerBlock:24},Q:{groups:[[11,16],[5,17]],totalDataCodewords:261,errorCodewordsPerBlock:20},H:{groups:[[11,12],[5,13]],totalDataCodewords:197,errorCodewordsPerBlock:24}},{L:{groups:[[5,87],[1,88]],totalDataCodewords:523,errorCodewordsPerBlock:22},M:{groups:[[5,41],[5,42]],totalDataCodewords:415,errorCodewordsPerBlock:24},Q:{groups:[[5,24],[7,25]],totalDataCodewords:295,errorCodewordsPerBlock:30},H:{groups:[[11,12],[7,13]],totalDataCodewords:223,errorCodewordsPerBlock:24}},{L:{groups:[[5,98],[1,99]],totalDataCodewords:589,errorCodewordsPerBlock:24},M:{groups:[[7,45],[3,46]],totalDataCodewords:453,errorCodewordsPerBlock:28},Q:{groups:[[15,19],[2,20]],totalDataCodewords:325,errorCodewordsPerBlock:24},H:{groups:[[3,15],[13,16]],totalDataCodewords:253,errorCodewordsPerBlock:30}},{L:{groups:[[1,107],[5,108]],totalDataCodewords:647,errorCodewordsPerBlock:28},M:{groups:[[10,46],[1,47]],totalDataCodewords:507,errorCodewordsPerBlock:28},Q:{groups:[[1,22],[15,23]],totalDataCodewords:367,errorCodewordsPerBlock:28},H:{groups:[[2,14],[17,15]],totalDataCodewords:283,errorCodewordsPerBlock:28}},{L:{groups:[[5,120],[1,121]],totalDataCodewords:721,errorCodewordsPerBlock:30},M:{groups:[[9,43],[4,44]],totalDataCodewords:563,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[1,23]],totalDataCodewords:397,errorCodewordsPerBlock:28},H:{groups:[[2,14],[19,15]],totalDataCodewords:313,errorCodewordsPerBlock:28}},{L:{groups:[[3,113],[4,114]],totalDataCodewords:795,errorCodewordsPerBlock:28},M:{groups:[[3,44],[11,45]],totalDataCodewords:627,errorCodewordsPerBlock:26},Q:{groups:[[17,21],[4,22]],totalDataCodewords:445,errorCodewordsPerBlock:26},H:{groups:[[9,13],[16,14]],totalDataCodewords:341,errorCodewordsPerBlock:26}},{L:{groups:[[3,107],[5,108]],totalDataCodewords:861,errorCodewordsPerBlock:28},M:{groups:[[3,41],[13,42]],totalDataCodewords:669,errorCodewordsPerBlock:26},Q:{groups:[[15,24],[5,25]],totalDataCodewords:485,errorCodewordsPerBlock:30},H:{groups:[[15,15],[10,16]],totalDataCodewords:385,errorCodewordsPerBlock:28}},{L:{groups:[[4,116],[4,117]],totalDataCodewords:932,errorCodewordsPerBlock:28},M:{groups:[[17,42]],totalDataCodewords:714,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[6,23]],totalDataCodewords:512,errorCodewordsPerBlock:28},H:{groups:[[19,16],[6,17]],totalDataCodewords:406,errorCodewordsPerBlock:30}},{L:{groups:[[2,111],[7,112]],totalDataCodewords:1006,errorCodewordsPerBlock:28},M:{groups:[[17,46]],totalDataCodewords:782,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[16,25]],totalDataCodewords:568,errorCodewordsPerBlock:30},H:{groups:[[34,13]],totalDataCodewords:442,errorCodewordsPerBlock:24}},{L:{groups:[[4,121],[5,122]],totalDataCodewords:1094,errorCodewordsPerBlock:30},M:{groups:[[4,47],[14,48]],totalDataCodewords:860,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[14,25]],totalDataCodewords:614,errorCodewordsPerBlock:30},H:{groups:[[16,15],[14,16]],totalDataCodewords:464,errorCodewordsPerBlock:30}},{L:{groups:[[6,117],[4,118]],totalDataCodewords:1174,errorCodewordsPerBlock:30},M:{groups:[[6,45],[14,46]],totalDataCodewords:914,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[16,25]],totalDataCodewords:664,errorCodewordsPerBlock:30},H:{groups:[[30,16],[2,17]],totalDataCodewords:514,errorCodewordsPerBlock:30}},{L:{groups:[[8,106],[4,107]],totalDataCodewords:1276,errorCodewordsPerBlock:26},M:{groups:[[8,47],[13,48]],totalDataCodewords:1e3,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[22,25]],totalDataCodewords:718,errorCodewordsPerBlock:30},H:{groups:[[22,15],[13,16]],totalDataCodewords:538,errorCodewordsPerBlock:30}},{L:{groups:[[10,114],[2,115]],totalDataCodewords:1370,errorCodewordsPerBlock:28},M:{groups:[[19,46],[4,47]],totalDataCodewords:1062,errorCodewordsPerBlock:28},Q:{groups:[[28,22],[6,23]],totalDataCodewords:754,errorCodewordsPerBlock:28},H:{groups:[[33,16],[4,17]],totalDataCodewords:596,errorCodewordsPerBlock:30}},{L:{groups:[[8,122],[4,123]],totalDataCodewords:1468,errorCodewordsPerBlock:30},M:{groups:[[22,45],[3,46]],totalDataCodewords:1128,errorCodewordsPerBlock:28},Q:{groups:[[8,23],[26,24]],totalDataCodewords:808,errorCodewordsPerBlock:30},H:{groups:[[12,15],[28,16]],totalDataCodewords:628,errorCodewordsPerBlock:30}},{L:{groups:[[3,117],[10,118]],totalDataCodewords:1531,errorCodewordsPerBlock:30},M:{groups:[[3,45],[23,46]],totalDataCodewords:1193,errorCodewordsPerBlock:28},Q:{groups:[[4,24],[31,25]],totalDataCodewords:871,errorCodewordsPerBlock:30},H:{groups:[[11,15],[31,16]],totalDataCodewords:661,errorCodewordsPerBlock:30}},{L:{groups:[[7,116],[7,117]],totalDataCodewords:1631,errorCodewordsPerBlock:30},M:{groups:[[21,45],[7,46]],totalDataCodewords:1267,errorCodewordsPerBlock:28},Q:{groups:[[1,23],[37,24]],totalDataCodewords:911,errorCodewordsPerBlock:30},H:{groups:[[19,15],[26,16]],totalDataCodewords:701,errorCodewordsPerBlock:30}},{L:{groups:[[5,115],[10,116]],totalDataCodewords:1735,errorCodewordsPerBlock:30},M:{groups:[[19,47],[10,48]],totalDataCodewords:1373,errorCodewordsPerBlock:28},Q:{groups:[[15,24],[25,25]],totalDataCodewords:985,errorCodewordsPerBlock:30},H:{groups:[[23,15],[25,16]],totalDataCodewords:745,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[3,116]],totalDataCodewords:1843,errorCodewordsPerBlock:30},M:{groups:[[2,46],[29,47]],totalDataCodewords:1455,errorCodewordsPerBlock:28},Q:{groups:[[42,24],[1,25]],totalDataCodewords:1033,errorCodewordsPerBlock:30},H:{groups:[[23,15],[28,16]],totalDataCodewords:793,errorCodewordsPerBlock:30}},{L:{groups:[[17,115]],totalDataCodewords:1955,errorCodewordsPerBlock:30},M:{groups:[[10,46],[23,47]],totalDataCodewords:1541,errorCodewordsPerBlock:28},Q:{groups:[[10,24],[35,25]],totalDataCodewords:1115,errorCodewordsPerBlock:30},H:{groups:[[19,15],[35,16]],totalDataCodewords:845,errorCodewordsPerBlock:30}},{L:{groups:[[17,115],[1,116]],totalDataCodewords:2071,errorCodewordsPerBlock:30},M:{groups:[[14,46],[21,47]],totalDataCodewords:1631,errorCodewordsPerBlock:28},Q:{groups:[[29,24],[19,25]],totalDataCodewords:1171,errorCodewordsPerBlock:30},H:{groups:[[11,15],[46,16]],totalDataCodewords:901,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[6,116]],totalDataCodewords:2191,errorCodewordsPerBlock:30},M:{groups:[[14,46],[23,47]],totalDataCodewords:1725,errorCodewordsPerBlock:28},Q:{groups:[[44,24],[7,25]],totalDataCodewords:1231,errorCodewordsPerBlock:30},H:{groups:[[59,16],[1,17]],totalDataCodewords:961,errorCodewordsPerBlock:30}},{L:{groups:[[12,121],[7,122]],totalDataCodewords:2306,errorCodewordsPerBlock:30},M:{groups:[[12,47],[26,48]],totalDataCodewords:1812,errorCodewordsPerBlock:28},Q:{groups:[[39,24],[14,25]],totalDataCodewords:1286,errorCodewordsPerBlock:30},H:{groups:[[22,15],[41,16]],totalDataCodewords:986,errorCodewordsPerBlock:30}},{L:{groups:[[6,121],[14,122]],totalDataCodewords:2434,errorCodewordsPerBlock:30},M:{groups:[[6,47],[34,48]],totalDataCodewords:1914,errorCodewordsPerBlock:28},Q:{groups:[[46,24],[10,25]],totalDataCodewords:1354,errorCodewordsPerBlock:30},H:{groups:[[2,15],[64,16]],totalDataCodewords:1054,errorCodewordsPerBlock:30}},{L:{groups:[[17,122],[4,123]],totalDataCodewords:2566,errorCodewordsPerBlock:30},M:{groups:[[29,46],[14,47]],totalDataCodewords:1992,errorCodewordsPerBlock:28},Q:{groups:[[49,24],[10,25]],totalDataCodewords:1426,errorCodewordsPerBlock:30},H:{groups:[[24,15],[46,16]],totalDataCodewords:1096,errorCodewordsPerBlock:30}},{L:{groups:[[4,122],[18,123]],totalDataCodewords:2702,errorCodewordsPerBlock:30},M:{groups:[[13,46],[32,47]],totalDataCodewords:2102,errorCodewordsPerBlock:28},Q:{groups:[[48,24],[14,25]],totalDataCodewords:1502,errorCodewordsPerBlock:30},H:{groups:[[42,15],[32,16]],totalDataCodewords:1142,errorCodewordsPerBlock:30}},{L:{groups:[[20,117],[4,118]],totalDataCodewords:2812,errorCodewordsPerBlock:30},M:{groups:[[40,47],[7,48]],totalDataCodewords:2216,errorCodewordsPerBlock:28},Q:{groups:[[43,24],[22,25]],totalDataCodewords:1582,errorCodewordsPerBlock:30},H:{groups:[[10,15],[67,16]],totalDataCodewords:1222,errorCodewordsPerBlock:30}},{L:{groups:[[19,118],[6,119]],totalDataCodewords:2956,errorCodewordsPerBlock:30},M:{groups:[[18,47],[31,48]],totalDataCodewords:2334,errorCodewordsPerBlock:28},Q:{groups:[[34,24],[34,25]],totalDataCodewords:1666,errorCodewordsPerBlock:30},H:{groups:[[20,15],[61,16]],totalDataCodewords:1276,errorCodewordsPerBlock:30}}],k=[1,0,1,1,1],C=[1,0,1],S={L:"01",M:"00",Q:"11",H:"10"},T="101010000010010",A="10100110111",M="1111100100101",D=["11101100","00010001"],E=93,P=[function(e,t){return(e+t)%2===0},function(e){return e%2===0},function(e,t){return t%3===0},function(e,t){return(e+t)%3===0},function(e,t){return(Math.floor(e/2)+Math.floor(t/3))%2===0},function(e,t){return e*t%2+e*t%3===0},function(e,t){return(e*t%2+e*t%3)%2===0},function(e,t){return((e+t)%2+e*t%3)%2===0}],I=/^\d+/,B="A-Z0-9 $%*+./:-",z,O=new RegExp("^["+"A-Z $%*+./:-"+"]+"),L=new RegExp("^["+B+"]+"),R=new RegExp("^[^"+B+"]+"),F=8,V=5,N=8,H=17,U=9,j=16,p=Math.round,G="image",W="swiss",q=[[0,1],[1,1],[1,2],[2,2],[2,1],[3,1],[3,0],[2,0],[2,-1],[1,-1],[1,0]],Y=[[0,1],[1,1],[1,0]],$=7;function X(e){return parseInt(e,2)}function v(e,t){var i=Number(e).toString(2);if(i.length<t)i=new Array(t-i.length+1).join(0)+i;return i}function K(e,t){var i=[],r=0;while(r<e.length){i.push(e.substring(r,r+t));r+=t}return i}var Q=c.Class.extend({getVersionIndex:function(e){if(e<10)return 0;else if(e>26)return 2;return 1},getBitsCharacterCount:function(e){var t=this;return t.bitsInCharacterCount[t.getVersionIndex(e||40)]},getModeCountString:function(e,t){var i=this;return i.modeIndicator+v(e,i.getBitsCharacterCount(t))},encode:function(){},getStringBitsLength:function(){},getValue:function(){},modeIndicator:"",bitsInCharacterCount:[]}),e={},Z=(e[m]=Q.extend({bitsInCharacterCount:[10,12,14],modeIndicator:"0001",getValue:function(e){return parseInt(e,10)},encode:function(e,t){var i=this,r=K(e,3),n=i.getModeCountString(e.length,t);for(var a=0;a<r.length-1;a++)n+=v(r[a],10);return n+v(r[a],1+3*r[a].length)},getStringBitsLength:function(e,t){var i=e%3;return 4+this.getBitsCharacterCount(t)+10*Math.floor(e/3)+3*i+(i===0?0:1)}}),e[_]=Q.extend({characters:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:18,J:19,K:20,L:21,M:22,N:23,O:24,P:25,Q:26,R:27,S:28,T:29,U:30,V:31,W:32,X:33,Y:34,Z:35," ":36,$:37,"%":38,"*":39,"+":40,"-":41,".":42,"/":43,":":44},bitsInCharacterCount:[9,11,13],modeIndicator:"0010",getValue:function(e){return this.characters[e]},encode:function(e,t){var i=this,r=K(e,2),n=i.getModeCountString(e.length,t),a;for(var o=0;o<r.length-1;o++){a=45*i.getValue(r[o].charAt(0))+i.getValue(r[o].charAt(1));n+=v(a,11)}a=r[o].length==2?45*i.getValue(r[o].charAt(0))+i.getValue(r[o].charAt(1)):i.getValue(r[o].charAt(0));return n+v(a,1+5*r[o].length)},getStringBitsLength:function(e,t){return 4+this.getBitsCharacterCount(t)+11*Math.floor(e/2)+6*(e%2)}}),e[y]=Q.extend({bitsInCharacterCount:[8,16,16],modeIndicator:"0100",getValue:function(e){var t=e.charCodeAt(0);if(t<=127||160<=t&&t<=255)return t;else throw new Error("Unsupported character: "+e)},encode:function(e,t){var i=this,r=i.getModeCountString(e.length,t);for(var n=0;n<e.length;n++)r+=v(i.getValue(e.charAt(n)),8);return r},getStringBitsLength:function(e,t){return 4+this.getBitsCharacterCount(t)+8*e}}),{}),J;for(J in e)Z[J]=new e[J];var ee=function(e){var t=this,i=e.length-1,r=e.length-1,n=r,a=-1,o=0;t.move=function(){i+=a*o;o^=1;r=n-o};t.getNextCell=function(){while(e[i][r]!==u){t.move();if(i<0||i>=e.length){a=-a;n-=n!=8?2:3;r=n;i=a<0?e.length-1:0}}return{row:i,column:r}};t.getNextRemainderCell=function(){t.move();if(e[i][r]===u)return{row:i,column:r}}};function g(e,t,i,r){for(var n=0;n<e.length;n++)e[n][i][r]=t}function te(e,t,i,r){for(var n=0;n<P.length;n++)e[n][i][r]=P[n](i,r)?t^1:parseInt(t,10)}var ie=function(e,t){var i=new ee(e[0]),r,n,a;for(var o=0;o<t.length;o++){r=t[o];n=0;while(r.length>0){for(var s=0;s<r.length;s++)for(var l=0;l<8;l++){a=i.getNextCell();te(e,r[s][n].charAt(l),a.row,a.column)}n++;while(r[0]&&n==r[0].length)r.splice(0,1)}}while(a=i.getNextRemainderCell())te(e,0,a.row,a.column)},re=function(e,t){var i=t*8,r=0,n=0;while(e.length<i&&r<h.length)e+=h.charAt(r++);if(e.length%8!==0)e+=new Array(9-e.length%8).join("0");while(e.length<i){e+=D[n];n^=1}return e};function ne(){var e;for(var t=1;t<255;t++){e=a[t-1]*2;if(e>255)e=e^285;a[t]=e;w[e]=t}e=a[t-1]*2^285;a[t]=e;a[-1]=0}var ae=function(e,t){var i=[],r=e.length-2;for(var n=r;n>=0;n--)i[n]=e[n]^t[n];return i},oe=function(e,t){var i=[];for(var r=0;r<e.length;r++)for(var n=0;n<t.length;n++)if(i[r+n]===u)i[r+n]=(e[r]+(t[n]>=0?t[n]:0))%255;else i[r+n]=w[a[i[r+n]]^a[(e[r]+t[n])%255]];return i};function se(){var e=68;for(var t=2;t<=e;t++){var i=b[t-1],r=[t,0];b[t]=oe(i,r)}}function le(e,t){var i=[],r=e.length-1;do{i[r]=a[(e[r]+t)%255];r--}while(e[r]!==u);return i}ne(),se();var ce=function(e,t){var i=b[t-1],r=new Array(t).concat(e),n=new Array(r.length-i.length).concat(i),a=e.length,o=[],s,l;for(l=0;l<a;l++){s=le(n,w[r[r.length-1]]);n.splice(0,1);r=ae(s,r)}for(l=r.length-1;l>=0;l--)o[t-1-l]=v(r[l],8);return o},he=function(h,e){var t=0,i=[],u=[],r,n=e.groups,a,f,o,s;for(var l=0;l<n.length;l++){f=n[l][0];for(var d=0;d<f;d++){a=n[l][1];r=[];o=[];for(var c=1;c<=a;c++){s=h.substring(t,t+8);r.push(s);o[a-c]=X(s);t+=8}i.push(r);u.push(ce(o,e.errorCodewordsPerBlock))}}return[i,u]},ue=function(e,t,i,h,u){var r=I.exec(e),n=r?r[0]:"",a=O.exec(e),f=a?a[0]:"",o=L.exec(e),s=o?o[0]:"",l,c;if(n&&(n.length>=t||e.length==n.length||n.length>=i&&!L.test(e.charAt(n.length)))){l=m;c=n}else if(s&&(e.length==s.length||s.length>=h||u==_)){l=_;c=n||f}else{l=y;if(s)c=s+R.exec(e.substring(s.length))[0];else c=R.exec(e)[0]}return{mode:l,modeString:c}},fe=function(e){var t=[],i,r=0;t.push(ue(e,F,V,N,i));i=t[0].mode;e=e.substr(t[0].modeString.length);while(e.length>0){var n=ue(e,H,U,j,i);if(n.mode!=i){i=n.mode;t.push(n);r++}else t[r].modeString+=n.modeString;e=e.substr(n.modeString.length)}return t},de=function(e){var t=0,i;for(var r=0;r<e.length;r++){i=Z[e[r].mode];t+=i.getStringBitsLength(e[r].modeString.length)}return Math.ceil(t/8)},pe=function(e,t){var i=0,r=d.length-1,n=Math.floor(d.length/2);do{if(e<d[n][t].totalDataCodewords)r=n;else i=n;n=i+Math.floor((r-i)/2)}while(r-i>1);if(e<=d[i][t].totalDataCodewords)return n+1;return r+1},ve=function(e,t){var i="",r;for(var n=0;n<e.length;n++){r=Z[e[n].mode];i+=r.encode(e[n].modeString,t)}return i},ge=function(e){var t=X(e),i,r="";if(t===0)return"101010000010010";else i=me(X(e),A,15);for(var n=0;n<i.length;n++)r+=i.charAt(n)^T.charAt(n);return r},me=function(e,t,i){var r=X(t),n=t.length-1,a=e<<n,o=i-n,s=v(e,o),l=_e(a,r);l=s+v(l,n);return l},_e=function(e,t){var i=t.toString(2).length,r=e.toString(2).length;do{e^=t<<r-i;r=e.toString(2).length}while(r>=i);return e};function ye(e,t){return parseInt(e.charAt(t),10)}var we=function(e){var t=[],i=17+4*e;for(var r=0;r<P.length;r++){t[r]=new Array(i);for(var n=0;n<i;n++)t[r][n]=new Array(i)}return t},be=function(e,t){var i=e[0],r,n,a=0,o=t.length;for(r=0,n=8;r<=8;r++)if(r!==6)g(e,ye(t,o-1-a++),r,n);for(r=8,n=7;n>=0;n--)if(n!==6)g(e,ye(t,o-1-a++),r,n);a=0;for(n=i.length-1,r=8;n>=i.length-8;n--)g(e,ye(t,o-1-a++),r,n);g(e,1,i.length-8,8);for(r=i.length-7,n=8;r<i.length;r++)g(e,ye(t,o-1-a++),r,n)},xe=function(e){return me(e,M,18)},ke=function(e,t){var i=e[0],r=i.length,n=0,a=r-11,h=r-11,u=0,o,s,l;for(var c=0;c<t.length;c++){o=Math.floor(c/3);s=c%3;l=ye(t,t.length-c-1);g(e,l,n+o,a+s);g(e,l,h+s,u+o)}},Ce=function(e,t,i,r){var n=t.length+2,a=t.length+1,o;for(var s=0;s<t.length;s++)for(var l=s;l<n-s;l++){o=t[s];g(e,o,i+l,r+s);g(e,o,i+s,r+l);g(e,o,i+a-l,r+a-s);g(e,o,i+a-s,r+a-l)}},Se=function(e,t,i,r){var n=i,a=r,o=e[0];do{g(e,0,n,r);g(e,0,i,a);n+=t[0];a+=t[1]}while(n>=0&&n<o.length)},Te=function(e){var t=e[0].length;Ce(e,k,0,0);Se(e,[-1,-1],7,7);Ce(e,k,t-7,0);Se(e,[1,-1],t-8,7);Ce(e,k,0,t-7);Se(e,[-1,1],7,t-8)},Ae=function(e,t){if(t<2)return;var i=e[0],r=i.length,h=Math.floor(t/7),n=[6],a,o,s=0;if(a=x[t])o=(r-13-a)/h;else a=o=(r-13)/(h+1);n.push(n[s++]+a);while(n[s]+o<r)n.push(n[s++]+o);for(var l=0;l<n.length;l++)for(var c=0;c<n.length;c++)if(i[n[l]][n[c]]===u)Ce(e,C,n[l]-2,n[c]-2)},Me=function(e){var t=6,i=6,r=1,n=e[0].length;for(var a=8;a<n-8;a++){g(e,r,t,a);g(e,r,a,i);r^=1}},De=function(e){var t=[],i=[],r=[],h=[],u=[],n,a,o=0,f=1,s=e[0].length;for(a=0;a<e.length;a++){t[a]=0;r[a]=0;u[a]=[0,0];h[a]=[0,0];i[a]=[]}for(a=0;a<s;a++)for(var l=0;l<s;l++)for(var c=0;c<e.length;c++){n=e[c];r[c]+=parseInt(n[a][l],10);if(i[c][o]===n[a][l]&&a+1<s&&l-1>=0&&n[a+1][l]==i[c][o]&&n[a+1][l-1]==i[c][o])t[c]+=3;Ee(c,h,t,o,n[a][l]);Ee(c,h,t,f,n[l][a]);Pe(c,t,i,n[a][l],u,o);Pe(c,t,i,n[l][a],u,f)}var d=s*s,p,v=Number.MAX_VALUE;for(a=0;a<t.length;a++){t[a]+=Ie(r[a],d);if(t[a]<v){v=t[a];p=a}}return p};function Ee(e,t,i,r,n){t[e][r]=(t[e][r]<<1^n)%128;if(t[e][r]==E)i[e]+=40}function Pe(e,t,i,r,n,a){if(i[e][a]==r)n[e][a]++;else{i[e][a]=r;if(n[e][a]>=5)t[e]+=3+n[e][a]-5;n[e][a]=1}}function Ie(e,t){var i=Math.floor(e/t*100),r=i%5,n=Math.abs(i-r-50),a=Math.abs(i+5-r-50),o=10*Math.min(n/5,a/5);return o}var Be=function(e,t){this.dataString=e;this.version=t},ze=function(){this.getEncodingResult=function(e,t){var i=fe(e),r=de(i),n=pe(r,t),a=ve(i,n);return new Be(a,n)}},Oe=function(){this.mode=Z[this.encodingMode]},Le=(Oe.fn=Oe.prototype={encodingMode:y,utfBOM:"111011111011101110111111",initialModeCountStringLength:20,getEncodingResult:function(e,t){var i=this,r=i.encode(e),n=i.getDataCodewordsCount(r),a=pe(n,t),o=i.mode.getModeCountString(r.length/8,a)+r;return new Be(o,a)},getDataCodewordsCount:function(e){var t=this,i=e.length,r=Math.ceil((t.initialModeCountStringLength+i)/8);return r},encode:function(e){var t=this,i=t.utfBOM;for(var r=0;r<e.length;r++)i+=t.encodeCharacter(e.charCodeAt(r));return i},encodeCharacter:function(e){var t=this.getBytesCount(e),i=t-1,r="";if(t==1)r=v(e,8);else{var n=8-t;for(var a=0;a<i;a++)r=v(e>>a*6&63|128,8)+r;r=(e>>i*6|255>>n<<n).toString(2)+r}return r},getBytesCount:function(e){var t=this.ranges;for(var i=0;i<t.length;i++)if(e<t[i])return i+1},ranges:[128,2048,65536,2097152,67108864]},function(e){if(e&&e.toLowerCase().indexOf("utf_8")>=0)return new Oe;else return new ze}),Re=function(e,t,i){var r=new Le(i),n=r.getEncodingResult(e,t),a=n.version,o=d[a-1][t],h=re(n.dataString,o.totalDataCodewords),u=he(h,o),s=we(a);Te(s);Ae(s,a);Me(s);if(a>=7)ke(s,v(0,18));be(s,v(0,15));ie(s,u);var l=De(s),c=s[l];if(a>=7)ke([c],xe(a));var f=S[t]+v(l,3);be([c],ge(f));return c},n={DEFAULT_SIZE:200,QUIET_ZONE_LENGTH:4,DEFAULT_ERROR_CORRECTION_LEVEL:"L",DEFAULT_BACKGROUND:"#fff",DEFAULT_DARK_MODULE_COLOR:"#000",MIN_BASE_UNIT_SIZE:1},Fe=s.extend({init:function(e,t){var i=this;s.fn.init.call(i,e,t);i.element=r(e);i.wrapper=i.element;i.element.addClass("k-qrcode");i.surfaceWrap=r("<div />").css("position","relative").appendTo(this.element);i.surface=f.Surface.create(i.surfaceWrap,{type:i.options.renderAs});i.setOptions(t)},redraw:function(){var e=this._getSize();this.surfaceWrap.css({width:e,height:e});this.surface.clear();this.surface.resize();this.createVisual();this.surface.draw(this.visual)},getSize:function(){return c.dimensions(this.element)},_resize:function(){this.redraw()},createVisual:function(){this.visual=this._render()},exportVisual:function(){return this._render()},_render:function(){var e=this,t=e._value,i,r=e.options.border||{},n=e.options.padding||0,a=r.width||0,h,o,s,u,l;r.width=a;var c=new f.Group;if(t){o=Re(t,e.options.errorCorrection,e.options.encoding);s=e._getSize();l=s-2*(a+n);i=e._calculateBaseUnit(l,o.length);u=o.length*i;h=a+n+(l-u)/2;c.append(e._renderBackground(s,r));c.append(e._renderMatrix(o,i,h));if(e._hasCustomLogo())c.append(e._renderLogo(s,i));else if(e._isSwiss())c.append(e._renderSwissCode(s,i))}return c},_renderLogo:function e(t,i){var r;var n;var a=p(t/2);var o=this._getLogoSize(i*$);var s=this.options.overlay.imageUrl;var l={x:a-o.width/2,y:a-o.height/2};n=new c.geometry.Rect(new c.geometry.Point(l.x,l.y),new c.geometry.Size(o.width,o.height));r=new f.Image(s,n);return r},_renderSwissCode:function(e,t){var i=this._getLogoSize(t*$);i=Math.max(i.width,i.height);var r=i/4;var n=r/2;var a=e/2;var o={};var s=new f.Group;o.x=o.y=Math.ceil(a-t-i/2);s.append(this._renderShape(o,Math.ceil(i+t*2),Y,"#fff"));o.x=o.y=a-i/2;s.append(this._renderShape(o,i,Y,this.options.color));o.x=a+n-i/2;o.y=a+n+r-i/2;s.append(this._renderShape(o,r,q,"#fff"));return s},_renderShape:function(e,t,i,r){var n=new f.MultiPath({fill:{color:r},stroke:null});n.moveTo(e.x,e.y);for(var a=0;a<i.length;a++)n.lineTo(e.x+t*i[a][0],e.y+t*i[a][1]);n.close();return n},_getSize:function(){var e=this,t;if(e.options.size)t=parseInt(e.options.size,10);else{var i=e.element,r=Math.min(i.width(),i.height());if(r>0)t=r;else t=n.DEFAULT_SIZE}return t},_calculateBaseUnit:function(e,t){var i=Math.floor(e/t);if(i<n.MIN_BASE_UNIT_SIZE)throw new Error("Insufficient size.");if(i*t>=e&&i-1>=n.MIN_BASE_UNIT_SIZE)i--;return i},_renderMatrix:function(e,t,i){var r=new f.MultiPath({fill:{color:this.options.color},stroke:null});for(var n=0;n<e.length;n++){var a=i+n*t;var o=0;while(o<e.length){while(e[n][o]===0&&o<e.length)o++;if(o<e.length){var h=o;while(e[n][o]==1)o++;var s=p(i+h*t);var l=p(a);var c=p(i+o*t);var u=p(a+t);r.moveTo(s,l).lineTo(s,u).lineTo(c,u).lineTo(c,l).close()}}}return r},_renderBackground:function(e,t){var i=new l(0,0,e,e).unpad(t.width/2);return f.Path.fromRect(i.toRect(),{fill:{color:this.options.background},stroke:{color:t.color,width:t.width}})},setOptions:function(e){var t=this;e=e||{};t.options=i(t.options,e);if(e.value!==u)t._value=t.options.value+"";t.redraw()},value:function(e){var t=this;if(e===u)return t._value;t._value=e+"";t.redraw()},options:{name:"QRCode",renderAs:"svg",encoding:"ISO_8859_1",value:"",errorCorrection:n.DEFAULT_ERROR_CORRECTION_LEVEL,background:n.DEFAULT_BACKGROUND,color:n.DEFAULT_DARK_MODULE_COLOR,size:"",padding:0,border:{color:"",width:0},overlay:{type:G,imageUrl:"",width:0,height:0}},_hasCustomLogo:function(){return!!this.options.overlay.imageUrl},_isSwiss:function(){return this.options.overlay.type===W},_getLogoSize:function(e){var t=this.options.overlay.width;var i=this.options.overlay.height;if(!t&&!i)t=i=e;else if(t&&!i)i=t;else if(!t&&i)t=i;return{width:t,height:i}}});return o.ExportMixin.extend(Fe.fn),o.ui.plugin(Fe),c.deepExtend(o,{QRCode:Fe,QRCodeDefaults:n,QRCodeFunctions:{FreeCellVisitor:ee,fillData:ie,padDataString:re,generateErrorCodewords:ce,xorPolynomials:ae,getBlocks:he,multiplyPolynomials:oe,chooseMode:ue,getModes:fe,getDataCodewordsCount:de,getVersion:pe,getDataString:ve,encodeFormatInformation:ge,encodeBCH:me,dividePolynomials:_e,initMatrices:we,addFormatInformation:be,encodeVersionInformation:xe,addVersionInformation:ke,addCentricPattern:Ce,addFinderSeparator:Se,addFinderPatterns:Te,addAlignmentPatterns:Ae,addTimingFunctions:Me,scoreMaskMatrixes:De,encodeData:Re,UTF8Encoder:Oe},QRCodeFields:{modes:Z,powersOfTwo:w,powersOfTwoResult:a,generatorPolynomials:b}}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("dataviz/stock/kendo-stock-chart.min",["../../kendo.dataviz.chart.min"],function(){window.kendo.dataviz=window.kendo.dataviz||{};var y=kendo.dataviz,w=y.elementStyles,c=y.deepExtend,b=y.toTime,h=y.constants,a=y.Chart,e=kendo.drawing,t=e.Animation.extend({setup:function(){this._initialOpacity=parseFloat(w(this.element,"opacity").opacity)},step:function(e){w(this.element,{opacity:String(y.interpolateValue(this._initialOpacity,0,e))})},abort:function(){e.Animation.fn.abort.call(this);w(this.element,{display:"none",opacity:String(this._initialOpacity)})},cancel:function(){e.Animation.fn.abort.call(this);w(this.element,{opacity:String(this._initialOpacity)})}});function r(e,t){var i=document.createElement("div");i.className=e;if(t)i.style.cssText=t;return i}var d=y.Class.extend({init:function(e,t,i){this.options=c({},this.options,i);this.container=e;this.chartService=t;var r=w(e,["paddingLeft","paddingTop"]);this.chartPadding={top:r.paddingTop,left:r.paddingLeft};this.createElements();e.appendChild(this.element)},createElements:function(){var e=this.element=r("k-navigator-hint","display: none; position: absolute; top: 1px; left: 1px;");var t=this.tooltip=r("k-tooltip k-chart-tooltip");var i=this.scroll=r("k-scroll");t.innerHTML="&nbsp;";e.appendChild(t);e.appendChild(i)},show:function(e,t,i){var r=this;var n=r.element;var a=r.options;var h=r.scroll;var o=r.tooltip;var u=y.toDate(b(e)+b(t-e)/2);var s=i.width()*.4;var l=i.center().x-s;var f=i.center().x;var d=f-l;var p=a.max-a.min;var v=d/p;var g=u-a.min;var m=this.chartService.intl.format(a.format,e,t);var _=y.getTemplate(a);this.clearHideTimeout();if(!this._visible){w(n,{visibility:"hidden",display:"block"});this._visible=true}if(_)m=_({from:e,to:t});o.innerHTML=m;w(o,{left:i.center().x-o.offsetWidth/2,top:i.y1});var c=w(o,["marginTop","borderTopWidth","height"]);w(h,{width:s,left:l+g*v,top:i.y1+c.marginTop+c.borderTopWidth+c.height/2});w(n,{visibility:"visible"})},clearHideTimeout:function(){if(this._hideTimeout)clearTimeout(this._hideTimeout);if(this._hideAnimation)this._hideAnimation.cancel()},hide:function(){var e=this;this.clearHideTimeout();this._hideTimeout=setTimeout(function(){e._visible=false;e._hideAnimation=new t(e.element);e._hideAnimation.setup();e._hideAnimation.play()},this.options.hideDelay)},destroy:function(){this.clearHideTimeout();if(this.container)this.container.removeChild(this.element);delete this.container;delete this.chartService;delete this.element;delete this.tooltip;delete this.scroll}}),u=(y.setDefaultOptions(d,{format:"{0:d} - {1:d}",hideDelay:500}),"_navigator"),f=u,i={NAVIGATOR_AXIS:f,NAVIGATOR_PANE:u},p=3,o=y.Class.extend({init:function(e){this.chart=e;var t=this.options=c({},this.options,e.options.navigator);var i=t.select;if(i){i.from=this.parseDate(i.from);i.to=this.parseDate(i.to)}if(!y.defined(t.hint.visible))t.hint.visible=t.visible;var r;this.chartObserver=new y.InstanceObserver(this,(r={},r[h.DRAG]="_drag",r[h.DRAG_END]="_dragEnd",r[h.ZOOM]="_zoom",r[h.ZOOM_END]="_zoomEnd",r));e.addObserver(this.chartObserver)},parseDate:function(e){return y.parseDate(this.chart.chartService.intl,e)},clean:function(){if(this.selection){this.selection.destroy();this.selection=null}if(this.hint){this.hint.destroy();this.hint=null}},destroy:function(){if(this.chart){this.chart.removeObserver(this.chartObserver);delete this.chart}this.clean()},redraw:function(){this._redrawSelf();this.initSelection()},initSelection:function(){var e=this;var t=e.chart;var i=e.options;var r=this.mainAxis();var n=r.roundedRange();var a=n.min;var o=n.max;var s=i.select;var l=s.from;var h=s.to;var u=s.mousewheel;var c=v(r);if(r.categoriesCount()===0)return;this.clean();c.box=r.box;this.selection=new y.Selection(t,c,{min:a,max:o,from:l||a,to:h||o,mousewheel:y.valueOrDefault(u,{zoom:"left"}),visible:i.visible},new y.InstanceObserver(this,{selectStart:"_selectStart",select:"_select",selectEnd:"_selectEnd"}));if(i.hint.visible)this.hint=new d(t.element,t.chartService,{min:a,max:o,template:y.getTemplate(i.hint),format:i.hint.format})},setRange:function(){var e=this.chart._createPlotArea(true);var t=e.namedCategoryAxes[f];var i=t.roundedRange();var r=i.min;var n=i.max;var a=this.options.select||{};var o=a.from||r;if(o<r)o=r;var s=a.to||n;if(s>n)s=n;this.options.select=c({},a,{from:o,to:s});this.filterAxes()},_redrawSelf:function(e){var t=this.chart._plotArea;if(t)t.redraw(y.last(t.panes),e)},redrawSlaves:function(){var e=this.chart;var t=e._plotArea;var i=t.panes.slice(0,-1);t.srcSeries=e.options.series;t.options.categoryAxis=e.options.categoryAxis;t.clearSeriesPointsCache();t.redraw(i)},_drag:function(e){var t=this;var i=t.chart;var r=t.selection;var h=i._eventCoordinates(e.originalEvent);var n=this.mainAxis();var a=n.roundedRange();var u=n.pane.box.containsPoint(h);var f=i._plotArea.categoryAxis;var d=e.axisRanges[f.options.name];var o=this.options.select;var s;if(!d||u||!r)return;if(o.from&&o.to)s=b(o.to)-b(o.from);else s=b(r.options.to)-b(r.options.from);var l=y.toDate(y.limitValue(b(d.min),a.min,b(a.max)-s));var c=y.toDate(y.limitValue(b(l)+s,b(a.min)+s,a.max));this.options.select={from:l,to:c};if(this.options.liveDrag){this.filterAxes();this.redrawSlaves()}r.set(l,c);this.showHint(l,c)},_dragEnd:function(){this.filterAxes();this.filter();this.redrawSlaves();if(this.hint)this.hint.hide()},readSelection:function(){var e=this;var t=e.selection.options;var i=t.from;var r=t.to;var n=e.options.select;n.from=i;n.to=r},filterAxes:function(){var e=this;var t=e.options.select;if(t===void 0)t={};var i=e.chart;var r=i.options.categoryAxis;var n=t.from;var a=t.to;for(var o=0;o<r.length;o++){var s=r[o];if(s.pane!==u){s.min=n;s.max=a}}},filter:function(){var e=this;var t=e.chart;var i=e.options.select;if(!t.requiresHandlers(["navigatorFilter"]))return;var r=this.mainAxis();var n={from:i.from,to:i.to};if(r.options.type!=="category"){var a=new y.DateCategoryAxis(c({baseUnit:"fit"},t.options.categoryAxis[0],{categories:[i.from,i.to]}),t.chartService).options;n.from=y.addDuration(a.min,-a.baseUnitStep,a.baseUnit);n.to=y.addDuration(a.max,a.baseUnitStep,a.baseUnit)}this.chart.trigger("navigatorFilter",n)},_zoom:function(e){var t=this;var i=t.chart._plotArea.categoryAxis;var r=t.selection;var n=t.options;var a=n.select;var o=n.liveDrag;var s=this.mainAxis();var l=e.delta;if(!r)return;var h=s.categoryIndex(r.options.from);var u=s.categoryIndex(r.options.to);var c=this.chart._eventCoordinates(e.originalEvent);e.originalEvent.preventDefault();if(Math.abs(l)>1)l*=p;if(u-h>1){r.zoom(l,c);this.readSelection()}else{i.options.min=a.from;a.from=i.scaleRange(-e.delta*this.chart._mousewheelZoomRate(),c).min}if(o){this.filterAxes();this.redrawSlaves()}r.set(a.from,a.to);this.showHint(this.options.select.from,this.options.select.to)},_zoomEnd:function(e){this._dragEnd(e)},showHint:function(e,t){var i=this.chart._plotArea;if(this.hint)this.hint.show(e,t,i.backgroundBox())},_selectStart:function(e){return this.chart._selectStart(e)},_select:function(e){this.showHint(e.from,e.to);return this.chart._select(e)},_selectEnd:function(e){if(this.hint)this.hint.hide();this.readSelection();this.filterAxes();this.filter();this.redrawSlaves();return this.chart._selectEnd(e)},mainAxis:function(){var e=this.chart._plotArea;if(e)return e.namedCategoryAxes[f]},select:function(e,t){var i=this.options.select;if(e&&t){i.from=this.parseDate(e);i.to=this.parseDate(t);this.filterAxes();this.filter();this.redrawSlaves();this.selection.set(e,t)}return{from:i.from,to:i.to}}});function n(){}function v(e){n.prototype=e;return new n}o.setup=function(e,t){if(e===void 0)e={};if(t===void 0)t={};if(e.__navi)return;e.__navi=true;var i=c({},t.navigator,e.navigator);var r=e.panes=[].concat(e.panes);var n=c({},i.pane,{name:u});if(!i.visible){n.visible=false;n.height=.1}r.push(n);o.attachAxes(e,i);o.attachSeries(e,i,t)},o.attachAxes=function(e,t){var i=t.series||[];var r=e.categoryAxis=[].concat(e.categoryAxis);var n=e.valueAxis=[].concat(e.valueAxis);var a=y.filterSeriesByType(i,h.EQUALLY_SPACED_SERIES);var o=a.length===0;var s=c({type:"date",pane:u,roundToBaseUnit:!o,justified:o,_collapse:false,majorTicks:{visible:true},tooltip:{visible:false},labels:{step:1},autoBind:t.autoBindElements,autoBaseUnitSteps:{minutes:[1],hours:[1,2],days:[1,2],weeks:[],months:[1],years:[1]}});var l=t.categoryAxis;r.push(c({},s,{maxDateGroups:200},l,{name:f,title:null,baseUnit:"fit",baseUnitStep:"auto",labels:{visible:false},majorTicks:{visible:false}}),c({},s,l,{name:f+"_labels",maxDateGroups:20,baseUnitStep:"auto",labels:{position:""},plotBands:[],autoBaseUnitSteps:{minutes:[]},_overlap:true}),c({},s,l,{name:f+"_ticks",maxDateGroups:200,majorTicks:{width:.5},plotBands:[],title:null,labels:{visible:false,mirror:true},_overlap:true}));n.push(c({name:f,pane:u,majorGridLines:{visible:false},visible:false},t.valueAxis))},o.attachSeries=function(e,t,i){var r=e.series=e.series||[];var n=[].concat(t.series||[]);var a=i.seriesColors;var o=t.seriesDefaults;for(var s=0;s<n.length;s++)r.push(c({color:a[s%a.length],categoryField:t.dateField,visibleInLegend:false,tooltip:{visible:false}},o,n[s],{axis:f,categoryAxis:f,autoBind:t.autoBindElements}))};var s=28,l=a.extend({applyDefaults:function(e,t){var i=y.elementSize(this.element).width||h.DEFAULT_WIDTH;var r=t;var n={seriesDefaults:{categoryField:e.dateField},axisDefaults:{categoryAxis:{name:"default",majorGridLines:{visible:false},labels:{step:2},majorTicks:{visible:false},maxDateGroups:Math.floor(i/s)}}};if(r)r=c({},r,n);o.setup(e,r);a.fn.applyDefaults.call(this,e,r)},_setElementClass:function(e){y.addClass(e,"k-chart k-stockchart")},setOptions:function(e){this.destroyNavigator();a.fn.setOptions.call(this,e)},noTransitionsRedraw:function(){var e=this.options.transitions;this.options.transitions=false;this._fullRedraw();this.options.transitions=e},_resize:function(){this.noTransitionsRedraw()},_redraw:function(){var e=this.navigator;if(!this._dirty()&&e&&e.options.partialRedraw)e.redrawSlaves();else this._fullRedraw()},_dirty:function(){var e=this.options;var t=[].concat(e.series,e.navigator.series);var i=y.grep(t,function(e){return e&&e.visible}).length;var r=this._seriesCount!==i;this._seriesCount=i;return r},_fullRedraw:function(){var e=this.navigator;if(!e){e=this.navigator=new o(this);this.trigger("navigatorCreated",{navigator:e})}e.clean();e.setRange();a.fn._redraw.call(this);e.initSelection()},_trackSharedTooltip:function(e){var t=this._plotArea;var i=t.paneByPoint(e);if(i&&i.options.name===u)this._unsetActivePoint();else a.fn._trackSharedTooltip.call(this,e)},bindCategories:function(){a.fn.bindCategories.call(this);this.copyNavigatorCategories()},copyNavigatorCategories:function(){var e=[].concat(this.options.categoryAxis);var t;for(var i=0;i<e.length;i++){var r=e[i];if(r.name===f)t=r.categories;else if(t&&r.pane===u)r.categories=t}},destroyNavigator:function(){if(this.navigator){this.navigator.destroy();this.navigator=null}},destroy:function(){this.destroyNavigator();a.fn.destroy.call(this)},_stopChartHandlers:function(e){var t=this._eventCoordinates(e);var i=this._plotArea.paneByPoint(t);return a.fn._stopChartHandlers.call(this,e)||i&&i.options.name===u},_toggleDragZoomEvents:function(){if(!this._dragZoomEnabled){this.element.style.touchAction="none";this._dragZoomEnabled=true}}});y.setDefaultOptions(l,{dateField:"date",axisDefaults:{categoryAxis:{type:"date",baseUnit:"fit",justified:true},valueAxis:{narrowRange:true,labels:{format:"C"}}},navigator:{select:{},seriesDefaults:{markers:{visible:false},tooltip:{visible:true},line:{width:2}},hint:{},visible:true},tooltip:{visible:true},legend:{visible:false}}),kendo.deepExtend(kendo.dataviz,{constants:i,Navigator:o,NavigatorHint:d,StockChart:l})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("dataviz/stock/stock-chart.min",["./kendo-stock-chart.min"],function(){var e=window.kendo.jQuery,f=window.kendo,d=f.dataviz,t=d.ChartInstanceObserver,p=d.ui.Chart,n=d.StockChart,i=d.constants,c=i.NAVIGATOR_AXIS,h=i.NAVIGATOR_PANE,v=f.deepExtend,a=d.defined,o=e.proxy,r="change",s=t.extend({handlerMap:{navigatorFilter:"_onNavigatorFilter",navigatorCreated:"_onNavigatorCreated"}}),l=p.extend({options:{name:"StockChart",dateField:"date",axisDefaults:{categoryAxis:{type:"date",baseUnit:"fit",justified:true},valueAxis:{narrowRange:true,labels:{format:"C"}}},navigator:{select:{},seriesDefaults:{markers:{visible:false},tooltip:{visible:true,template:"#= kendo.toString(category, 'd') #"},line:{width:2}},hint:{},visible:true},tooltip:{visible:true},legend:{visible:false},persistSeriesVisibility:true},_createChart:function(e,t){this._initNavigatorOptions(e);this._instance=new n(this.element[0],e,t,{observer:new s(this),sender:this,rtl:this._isRtl()})},_initNavigatorOptions:function(e){var t=e.navigator||{};var i=f.support;var r=i.touch;var n=i.browser.mozilla;v(t,{autoBindElements:!t.dataSource,partialRedraw:t.dataSource,liveDrag:!r&&!n})},_initDataSource:function(e){var t=e||{},i=t.dataSource,r=i&&i.serverFiltering,n=[].concat(t.categoryAxis)[0],a=t.navigator||{},o=a.select,s=o&&o.from&&o.to;if(r&&s){var l=[].concat(i.filter||[]);var h=f.parseDate(o.from);var c=f.parseDate(o.to);var u=new d.DateCategoryAxis(v({baseUnit:"fit"},n,{categories:[h,c]}),f);i.filter=g(u.range().min,c).concat(l)}p.fn._initDataSource.call(this,e)},_onNavigatorCreated:function(e){this._instance=e.sender;this.options=e.sender.options;this._navigator=this.navigator=e.navigator;this._initNavigatorDataSource()},_initNavigatorDataSource:function(){var e=this.options.navigator;var t=e.autoBind;var i=e.dataSource;if(i){this._navigatorDataChangedHandler=this._navigatorDataChangedHandler||o(this._onNavigatorDataChanged,this);this._navigatorDataSource=f.data.DataSource.create(i).bind(r,this._navigatorDataChangedHandler);if(!a(t))t=this.options.autoBind;if(t)this._navigatorDataSource.fetch()}},_bindNavigatorSeries:function(e,t){var i,r,n=e.length;for(i=0;i<n;i++){r=e[i];if(r.axis==c&&this._isBindable(r))r.data=t}},_onNavigatorDataChanged:function(){var e=this,t=e._instance,i=e.options.categoryAxis,r,n=i.length,a=e._navigatorDataSource.view(),o,s;this._bindNavigatorSeries(e.options.series,a);if(e._sourceSeries)this._bindNavigatorSeries(e._sourceSeries,a);for(r=0;r<n;r++){o=i[r];if(o.pane==h)if(o.name==c){e._bindCategoryAxis(o,a,r);s=o.categories}else o.categories=s}if(t._model){var l=this.navigator;l.redraw();l.setRange();if(!e.options.dataSource||e.options.dataSource&&e._dataBound)l.redrawSlaves()}},_bindCategories:function(){p.fn._bindCategories.call(this);if(this._instance)this._instance.copyNavigatorCategories()},_onDataChanged:function(){p.fn._onDataChanged.call(this);this._dataBound=true},setOptions:function(e){this._removeNavigatorDataSource();this._initNavigatorOptions(e);this._instance.destroyNavigator();p.fn.setOptions.call(this,e)},_onNavigatorFilter:function(e){this.dataSource.filter(g(e.from,e.to))},requiresHandlers:function(e){if(d.inArray("navigatorFilter",e)){var t=this.dataSource;var i=t&&t.options.serverFiltering;return i&&this.options.navigator.dataSource}return p.fn.requiresHandlers.call(this,e)},_removeNavigatorDataSource:function(){var e=this._navigatorDataSource;if(e){e.unbind(r,this._navigatorDataChangedHandler);delete this._navigatorDataSource}},destroy:function(){p.fn.destroy.call(this);this._removeNavigatorDataSource()}});function g(e,t){return[{field:"Date",operator:"gte",value:e},{field:"Date",operator:"lt",value:t}]}d.ui.plugin(l)})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.dataviz.stock.min",["./dataviz/stock/kendo-stock-chart.min","./dataviz/stock/stock-chart.min"],function(){var e={id:"dataviz.stockchart",name:"StockChart",category:"dataviz",description:"StockChart widget and associated financial series.",depends:["dataviz.chart"]}})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("dataviz/sparkline/kendo-sparkline.min",["../../kendo.dataviz.chart.min"],function(){window.kendo.dataviz=window.kendo.dataviz||{};var f=kendo.dataviz,d=f.constants,i=f.Chart,p=f.elementSize,a=f.deepExtend,l=-2,t=f.SharedTooltip.extend({_slotAnchor:function(e,t){var i=this.plotArea.categoryAxis;var r=i.options.vertical;var n=r?{horizontal:"left",vertical:"center"}:{horizontal:"center",vertical:"bottom"};var a;if(r)a=new f.Point(this.plotArea.box.x2,t.center().y);else a=new f.Point(t.center().x,l);return{point:a,align:n}},_defaultAnchor:function(e,t){return this._slotAnchor({},t)}}),v=150,g=150,r=[d.BAR,d.BULLET];function o(e){var t=[];for(var i=0;i<e.length;i++){var r=e[i];t[i]=r.style.display;r.style.display="none"}return t}function s(e,t){for(var i=0;i<e.length;i++)e[i].style.display=t[i]}function n(e){return f.isNumber(e)?[e]:e}var e=i.extend({_setElementClass:function(e){f.addClass(e,"k-sparkline")},_initElement:function(e){i.fn._initElement.call(this,e);this._initialWidth=Math.floor(p(e).width)},_resize:function(){var e=this.element;var t=o(e.childNodes);this._initialWidth=Math.floor(p(e).width);s(e.childNodes,t);i.fn._resize.call(this)},_modelOptions:function(){var e=this.options;var t=this._surfaceWrap();var i=o(t.childNodes);var r=document.createElement("span");r.innerHTML="&nbsp;";t.appendChild(r);var n=a({width:this._autoWidth,height:p(t).height,transitions:e.transitions},e.chartArea,{inline:true,align:false});p(t,{width:n.width,height:n.height});t.removeChild(r);s(t.childNodes,i);if(this.surface)this.surface.resize();return n},_surfaceWrap:function(){if(!this.stage){var e=this.stage=document.createElement("span");this.element.appendChild(e)}return this.stage},_createPlotArea:function(e){var t=i.fn._createPlotArea.call(this,e);this._autoWidth=this._initialWidth||this._calculateWidth(t);return t},_calculateWidth:function(e){var t=this.options;var i=f.getSpacing(t.chartArea.margin);var r=e.charts;var h=this._surfaceWrap();var n=0;for(var a=0;a<r.length;a++){var o=r[a];var s=(o.options.series||[])[0];if(!s)continue;if(s.type===d.BAR)return v;if(s.type===d.BULLET)return g;if(s.type===d.PIE)return p(h).height;var l=o.categoryAxis;if(l){var u=l.categoriesCount()*(!o.options.isStacked&&f.inArray(s.type,[d.COLUMN,d.VERTICAL_BULLET])?o.seriesOptions.length:1);n=Math.max(n,u)}}var c=n*t.pointWidth;if(c>0)c+=i.left+i.right;return c},_createSharedTooltip:function(e){return new t(this._plotArea,e)}});e.normalizeOptions=function(e){var t=n(e);if(f.isArray(t))t={seriesDefaults:{data:t}};else t=a({},t);if(!t.series)t.series=[{data:n(t.data)}];a(t,{seriesDefaults:{type:t.type}});if(f.inArray(t.series[0].type,r)||f.inArray(t.seriesDefaults.type,r))t=a({},{categoryAxis:{crosshair:{visible:false}}},t);return t},f.setDefaultOptions(e,{chartArea:{margin:2},axisDefaults:{visible:false,majorGridLines:{visible:false},valueAxis:{narrowRange:true}},seriesDefaults:{type:"line",area:{line:{width:.5}},bar:{stack:true},padding:2,width:.5,overlay:{gradient:null},highlight:{visible:false},border:{width:0},markers:{size:2,visible:false}},tooltip:{visible:true,shared:true},categoryAxis:{crosshair:{visible:true,tooltip:{visible:false}}},legend:{visible:false},transitions:false,pointWidth:5,panes:[{clip:false}]}),kendo.deepExtend(kendo.dataviz,{Sparkline:e})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("dataviz/sparkline/sparkline.min",["./kendo-sparkline.min"],function(){var e=window.kendo.jQuery,t=kendo.dataviz,r=t.ui.Chart,n=t.Sparkline,i=t.ChartInstanceObserver,a=e.extend,o=r.extend({init:function(e,t){var i=t;if(i instanceof kendo.data.ObservableArray)i={seriesDefaults:{data:i}};r.fn.init.call(this,e,n.normalizeOptions(i))},_createChart:function(e,t){this._instance=new n(this.element[0],e,t,{observer:new i(this),sender:this,rtl:this._isRtl()})},_createTooltip:function(){return new s(this.element,a({},this.options.tooltip,{rtl:this._isRtl()}))},options:{name:"Sparkline",chartArea:{margin:2},axisDefaults:{visible:false,majorGridLines:{visible:false},valueAxis:{narrowRange:true}},seriesDefaults:{type:"line",area:{line:{width:.5}},bar:{stack:true},padding:2,width:.5,overlay:{gradient:null},highlight:{visible:false},border:{width:0},markers:{size:2,visible:false}},tooltip:{visible:true,shared:true},categoryAxis:{crosshair:{visible:true,tooltip:{visible:false}}},legend:{visible:false},transitions:false,pointWidth:5,panes:[{clip:false}]}}),s=(t.ui.plugin(o),t.Tooltip.extend({options:{animation:{duration:0}},_hideElement:function(){if(this.element)this.element.hide().remove()}}));t.SparklineTooltip=s})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.dataviz.sparkline.min",["./dataviz/sparkline/kendo-sparkline.min","./dataviz/sparkline/sparkline.min"],function(){var e={id:"dataviz.sparkline",name:"Sparkline",category:"dataviz",description:"Sparkline widgets.",depends:["dataviz.chart"]}})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("util/main.min",["../kendo.core.min"],function(){var n=window.kendo,h;function e(e){return e*e}var t=Date.now;if(!t)t=function(){return(new Date).getTime()};function i(e){if(typeof e!=="string")e+="px";return e}function r(e){var t=[];if(e){var i=n.toHyphens(e).split("-");for(var r=0;r<i.length;r++)t.push("k-pos-"+i[r])}return t.join(" ")}function a(e){var t={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1e3:"m"};var i=[1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1];var r="";while(e>0)if(e<i[0])i.shift();else{r+=t[i[0]];e-=i[0]}return r}function o(e){e=e.toLowerCase();var t={i:1,v:5,x:10,l:50,c:100,d:500,m:1e3};var i=0,r=0;for(var n=0;n<e.length;++n){var a=t[e.charAt(n)];if(!a)return null;i+=a;if(a>r)i-=2*r;r=a}return i}function s(i){var r=Object.create(null);return function(){var e="";for(var t=arguments.length;--t>=0;)e+=":"+arguments[t];return e in r?r[e]:r[e]=i.apply(this,arguments)}}function l(e){return u.test(e)}function c(e,t){try{return e.call(t,function(e){throw new i(e)})}catch(e){if(e instanceof i)return e.value;throw e}function i(e){this.value=e}}(0,n.deepExtend)(n,{util:{now:t,renderPos:r,renderSize:i,sqr:e,romanToArabic:o,arabicToRoman:a,memoize:s,isUnicodeLetter:l,withExit:c}});var u=new RegExp("[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");return window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("dataviz/map/location.min",["../../kendo.drawing.min","../../util/main.min"],function(){var t=window.kendo.jQuery,r=void 0,P=Math,F=P.abs,V=P.atan,I=P.atan2,B=P.cos,a=P.max,o=P.min,z=P.sin,N=P.tan,l=window.kendo,n=l.Class,H=l.dataviz,s=l.deepExtend,e=l.drawing.util,c=e.defined,U=e.deg,O=e.rad,j=e.round,h=e.valueOrDefault,L=l.util.sqr,R=n.extend({init:function(e,t){if(arguments.length===1){this.lat=e[0];this.lng=e[1]}else{this.lat=e;this.lng=t}},DISTANCE_ITERATIONS:100,DISTANCE_CONVERGENCE:1e-12,DISTANCE_PRECISION:2,FORMAT:"{0:N6},{1:N6}",toArray:function(){return[this.lat,this.lng]},equals:function(e){return e&&e.lat===this.lat&&e.lng===this.lng},clone:function(){return new R(this.lat,this.lng)},round:function(e){this.lng=j(this.lng,e);this.lat=j(this.lat,e);return this},wrap:function(){this.lng=this.lng%180;this.lat=this.lat%90;return this},distanceTo:function(e,t){return this.greatCircleTo(e,t).distance},destination:function(e,t,i){t=O(t);i=i||H.map.datums.WGS84;var r=O(this.lat);var n=O(this.lng);var a=e/l.dataviz.map.datums.WGS84.a;var o=P.asin(z(r)*B(a)+B(r)*z(a)*B(t));var s=n+I(z(t)*z(a)*B(r),B(a)-z(r)*z(o));return new R(U(o),U(s))},greatCircleTo:function(e,t){e=R.create(e);t=t||H.map.datums.WGS84;if(!e||this.clone().round(8).equals(e.clone().round(8)))return{distance:0,azimuthFrom:0,azimuthTo:0};var h=t.a;var u=t.b;var i=t.f;var f=O(e.lng-this.lng);var d=V((1-i)*N(O(this.lat)));var r=z(d);var n=B(d);var p=V((1-i)*N(O(e.lat)));var v=z(p);var a=B(p);var g=f;var m;var _=this.DISTANCE_ITERATIONS;var y=false;var w;var b;var o;var s;var x;var l;var k;while(!y&&_-- >0){w=z(g);b=B(g);o=P.sqrt(L(a*w)+L(n*v-r*a*b));x=r*v+n*a*b;k=I(o,x);var C=n*a*w/o;s=1-L(C);l=0;if(s!==0)l=x-2*r*v/s;m=g;var S=i/16*s*(4+i*(4-3*s));g=f+(1-S)*i*C*(k+S*o*(l+S*x*(-1+2*L(l))));y=F(g-m)<=this.DISTANCE_CONVERGENCE}var c=s*(L(h)-L(u))/L(u);var T=1+c/16384*(4096+c*(-768+c*(320-175*c)));var A=c/1024*(256+c*(-128+c*(74-47*c)));var M=A*o*(l+A/4*(x*(-1+2*L(l))-A/6*l*(-3+4*L(o))*(-3+4*L(l))));var D=I(a*w,n*v-r*a*b);var E=I(n*w,-r*a+n*v*b);return{distance:j(u*T*(k-M),this.DISTANCE_PRECISION),azimuthFrom:U(D),azimuthTo:U(E)}}}),i=(R.fn.toString=function(){return l.format(this.FORMAT,this.lat,this.lng)},R.fromLngLat=function(e){return new R(e[1],e[0])},R.fromLatLng=function(e){return new R(e[0],e[1])},R.create=function(e,t){if(c(e))if(e instanceof R)return e.clone();else if(arguments.length===1&&e.length===2)return R.fromLatLng(e);else return new R(e,t)},n.extend({init:function(e,t){e=R.create(e);t=R.create(t);if(e.lng+180>t.lng+180&&e.lat+90<t.lat+90){this.se=e;this.nw=t}else{this.se=t;this.nw=e}},contains:function(e){var t=this.nw,i=this.se,r=h(e.lng,e[1]),n=h(e.lat,e[0]);return e&&r+180>=t.lng+180&&r+180<=i.lng+180&&n+90>=i.lat+90&&n+90<=t.lat+90},center:function(){var e=this.nw;var t=this.se;var i=e.lng+(t.lng-e.lng)/2;var r=e.lat+(t.lat-e.lat)/2;return new R(r,i)},containsAny:function(e){var t=false;for(var i=0;i<e.length;i++)t=t||this.contains(e[i]);return t},include:function(e){var t=this.nw,i=this.se,r=h(e.lng,e[1]),n=h(e.lat,e[0]);t.lng=o(t.lng,r);t.lat=a(t.lat,n);i.lng=a(i.lng,r);i.lat=o(i.lat,n)},includeAll:function(e){for(var t=0;t<e.length;t++)this.include(e[t])},edges:function(){var e=this.nw,t=this.se;return{nw:this.nw,ne:new R(e.lat,t.lng),se:this.se,sw:new R(t.lat,e.lng)}},toArray:function(){var e=this.nw,t=this.se;return[e,new R(e.lat,t.lng),t,new R(t.lat,e.lng)]},overlaps:function(e){return this.containsAny(e.toArray())||e.containsAny(this.toArray())}}));i.World=new i([90,-180],[-90,180]),i.create=function(e,t){if(e instanceof i)return e;else if(e&&t)return new i(e,t);else if(e&&e.length===4&&!t)return new i([e[0],e[1]],[e[2],e[3]])},s(H,{map:{Extent:i,Location:R}})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("dataviz/map/attribution.min",["../../kendo.drawing.min"],function(){window.kendo.jQuery;var e=window.kendo,i=e.ui.Widget,a=e.template,t=e.drawing.util,r=t.valueOrDefault,n=t.defined,o=i.extend({init:function(e,t){i.fn.init.call(this,e,t);this._initOptions(t);this.items=[];this.element.addClass("k-widget k-attribution")},options:{name:"Attribution",separator:"&nbsp;|&nbsp;",itemTemplate:"#= text #"},filter:function(e,t){this._extent=e;this._zoom=t;this._render()},add:function(e){if(n(e)){if(typeof e==="string")e={text:e};this.items.push(e);this._render()}},remove:function(e){var t=[];for(var i=0;i<this.items.length;i++){var r=this.items[i];if(r.text!==e)t.push(r)}this.items=t;this._render()},clear:function(){this.items=[];this.element.empty()},_render:function(){var e=[];var t=a(this.options.itemTemplate);for(var i=0;i<this.items.length;i++){var r=this.items[i];var n=this._itemText(r);if(n!=="")e.push(t({text:n}))}if(e.length>0)this.element.empty().append(e.join(this.options.separator)).show();else this.element.hide()},_itemText:function(e){var t="";var i=this._inZoomLevel(e.minZoom,e.maxZoom);var r=this._inArea(e.extent);if(i&&r)t+=e.text;return t},_inZoomLevel:function(e,t){var i=true;e=r(e,-Number.MAX_VALUE);t=r(t,Number.MAX_VALUE);i=this._zoom>e&&this._zoom<t;return i},_inArea:function(e){var t=true;if(e)t=e.contains(this._extent);return t}});e.dataviz.ui.plugin(o)})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("dataviz/map/navigator.min",["../../kendo.core.min"],function(){var n=window.kendo.jQuery,r=window.kendo,a=r.ui.Widget,t=r.keys,o=n.proxy,s=".kendoNavigator";function e(e){return r.format('<button class="k-button k-button-square k-rounded-full k-button-flat k-button-flat-base k-icon-button k-navigator-{0}" aria-label="move {0}">'+'<span class="k-button-icon k-icon k-i-arrow-60-{0}"></span>'+"</button>",e)}var l=e("up")+e("right")+e("down")+e("left"),i=a.extend({init:function(e,t){a.fn.init.call(this,e,t);this._initOptions(t);this.element.addClass("k-widget k-navigator").append(l).on("click"+s,".k-button",o(this,"_click"));var i=this.element.parent().closest("["+r.attr("role")+"]");this._keyroot=i.length>0?i:this.element;this._tabindex(this._keyroot);this._keydown=o(this._keydown,this);this._keyroot.on("keydown",this._keydown)},options:{name:"Navigator",panStep:1},events:["pan"],dispose:function(){this._keyroot.off("keydown",this._keydown)},_pan:function(e,t){var i=this.options.panStep;this.trigger("pan",{x:e*i,y:t*i})},_click:function(e){var t=0;var i=0;var r=n(e.currentTarget);if(r.is(".k-navigator-up"))i=1;else if(r.is(".k-navigator-down"))i=-1;else if(r.is(".k-navigator-right"))t=1;else if(r.is(".k-navigator-left"))t=-1;this._pan(t,i);e.preventDefault()},_keydown:function(e){switch(e.which){case t.UP:this._pan(0,1);e.preventDefault();break;case t.DOWN:this._pan(0,-1);e.preventDefault();break;case t.RIGHT:this._pan(1,0);e.preventDefault();break;case t.LEFT:this._pan(-1,0);e.preventDefault();break}}});r.dataviz.ui.plugin(i)})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("dataviz/map/zoom.min",["../../kendo.core.min"],function(){var r=window.kendo.jQuery,n=window.kendo,a=n.ui.Widget,t=n.keys,o=r.proxy;function e(e,t){return n.format('<button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-zoom-{0}" title="zoom-{0}" aria-label="zoom-{0}"><span class="k-button-icon k-icon {1}"></span></button>',e,t)}var s=".kendoZoomControl",l=e("in","k-i-plus")+e("out","k-i-minus"),i=187,c=189,h=61,u=173,f=a.extend({init:function(e,t){a.fn.init.call(this,e,t);this._initOptions(t);this.element.addClass("k-widget k-zoom-control k-button-group k-group-horizontal").append(l).on("click"+s,".k-button",o(this,"_click"));var i=this.element.parent().closest("["+n.attr("role")+"]");this._keyroot=i.length>0?i:this.element;this._tabindex(this._keyroot);this._keydown=o(this._keydown,this);this._keyroot.on("keydown",this._keydown)},options:{name:"ZoomControl",zoomStep:1},events:["change"],_change:function(e){var t=this.options.zoomStep;this.trigger("change",{delta:e*t})},_click:function(e){var t=r(e.currentTarget);var i=1;if(t.is(".k-zoom-out"))i=-1;this._change(i);e.preventDefault()},_keydown:function(e){switch(e.which){case t.NUMPAD_PLUS:case i:case h:this._change(1);break;case t.NUMPAD_MINUS:case c:case u:this._change(-1);break}}});n.dataviz.ui.plugin(f)})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("dataviz/map/crs.min",["./location.min","../../kendo.drawing.min"],function(){var a=window.kendo.jQuery,o=void 0,f=Math,d=f.atan,g=f.exp,m=f.pow,_=f.sin,l=f.log,c=f.tan,e=window.kendo,t=e.Class,s=e.dataviz,h=e.deepExtend,r=e.geometry,y=r.Point,w,b=s.map.Location,i=e.drawing.util,u=i.rad,x=i.deg,p=i.limitValue,n=f.PI,v=n/2,k=n/4,C=n/180,S={a:6378137,b:6356752.314245179,f:.0033528106647474805,e:.08181919084262149},T=t.extend({init:function(e){this._initOptions(e)},MAX_LNG:180,MAX_LAT:85.0840590501,INVERSE_ITERATIONS:15,INVERSE_CONVERGENCE:1e-12,options:{centralMeridian:0,datum:S},forward:function(e,t){var i=this,r=i.options,n=r.datum,a=n.a,o=r.centralMeridian,s=p(e.lat,-i.MAX_LAT,i.MAX_LAT),l=t?p(e.lng,-i.MAX_LNG,i.MAX_LNG):e.lng,c=u(l-o)*a,h=i._projectLat(s);return new y(c,h)},_projectLat:function(e){var t=this.options.datum,i=t.e,r=t.a,n=u(e),a=c(k+n/2),o=i*_(n),s=m((1-o)/(1+o),i/2);return r*l(a*s)},inverse:function(e,t){var i=this,r=i.options,n=r.datum,a=n.a,o=r.centralMeridian,s=e.x/(C*a)+o,l=p(i._inverseY(e.y),-i.MAX_LAT,i.MAX_LAT);if(t)s=p(s,-i.MAX_LNG,i.MAX_LNG);return new b(l,s)},_inverseY:function(e){var t=this,i=t.options.datum,r=i.a,n=i.e,h=n/2,a=g(-e/r),o=v-2*d(a),s;for(s=0;s<=t.INVERSE_ITERATIONS;s++){var l=n*_(o),u=m((1-l)/(1+l),h),c=v-2*d(a*u)-o;o+=c;if(f.abs(c)<=t.INVERSE_CONVERGENCE)break}return x(o)}}),A=T.extend({MAX_LAT:85.0511287798,_projectLat:function(e){var t=this.options.datum.a,i=u(e),r=c(k+i/2);return t*l(r)},_inverseY:function(e){var t=this.options.datum.a,i=g(-e/t);return x(v-2*d(i))}}),M=t.extend({forward:function(e){return new y(e.lng,e.lat)},inverse:function(e){return new b(e.y,e.x)}}),D=t.extend({init:function(){var e=this,t=e._proj=new A;var i=this.c=2*n*t.options.datum.a;this._tm=r.transform().translate(.5,.5).scale(1/i,-1/i);this._itm=r.transform().scale(i,-i).translate(-.5,-.5)},toPoint:function(e,t,i){var r=this._proj.forward(e,i);return r.transform(this._tm).scale(t||1)},toLocation:function(e,t,i){e=e.clone().scale(1/(t||1)).transform(this._itm);return this._proj.inverse(e,i)}}),E=t.extend({init:function(){this._proj=new T},toPoint:function(e){return this._proj.forward(e)},toLocation:function(e){return this._proj.inverse(e)}}),P=t.extend({init:function(){this._proj=new M},toPoint:function(e){return this._proj.forward(e)},toLocation:function(e){return this._proj.inverse(e)}});h(s,{map:{crs:{EPSG3395:E,EPSG3857:D,EPSG4326:P},datums:{WGS84:S},projections:{Equirectangular:M,Mercator:T,SphericalMercator:A}}})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("dataviz/map/layers/base.min",["../../../kendo.core.min","../location.min"],function(){var i=window.kendo.jQuery,c=void 0,r=i.proxy,e=window.kendo,t=e.Class,n=e.dataviz,a=e.deepExtend,o=n.map.Extent,h,s=e.drawing.util.defined,l=t.extend({init:function(e,t){this._initOptions(t);this.map=e;this.element=i("<div class='k-layer'></div>").css({zIndex:this.options.zIndex,opacity:this.options.opacity}).appendTo(e.scrollElement);this._beforeReset=r(this._beforeReset,this);this._reset=r(this._reset,this);this._resize=r(this._resize,this);this._panEnd=r(this._panEnd,this);this._activate();this._updateAttribution()},destroy:function(){this._deactivate()},show:function(){this.reset();this._activate();this._applyExtent(true)},hide:function(){this._deactivate();this._setVisibility(false)},reset:function(){this._beforeReset();this._reset()},_reset:function(){this._applyExtent()},_beforeReset:i.noop,_resize:i.noop,_panEnd:function(){this._applyExtent()},_applyExtent:function(){var e=this.options;var t=this.map.zoom();var i=!s(e.minZoom)||t>=e.minZoom;var r=!s(e.maxZoom)||t<=e.maxZoom;var n=o.create(e.extent);var a=!n||n.overlaps(this.map.extent());this._setVisibility(i&&r&&a)},_setVisibility:function(e){this.element.css("display",e?"":"none")},_activate:function(){var e=this.map;this._deactivate();e.bind("beforeReset",this._beforeReset);e.bind("reset",this._reset);e.bind("resize",this._resize);e.bind("panEnd",this._panEnd)},_deactivate:function(){var e=this.map;e.unbind("beforeReset",this._beforeReset);e.unbind("reset",this._reset);e.unbind("resize",this._resize);e.unbind("panEnd",this._panEnd)},_updateAttribution:function(){var e=this.map.attribution;if(e)e.add(this.options.attribution)}});a(n,{map:{layers:{Layer:l}}})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("dataviz/map/layers/shape.min",["./base.min","../location.min"],function(){var h=window.kendo.jQuery,u=void 0,i=h.proxy,r=window.kendo,f=r.Class,d=r.data.DataSource,e=r.dataviz,t=r.deepExtend,p=r.geometry,s=r.drawing,n=s.Group,v=s.util.last,g=s.util.defined,a=e.map,l=a.Location,o=a.layers.Layer,c=o.extend({init:function(e,t){this._pan=i(this._pan,this);o.fn.init.call(this,e,t);this.surface=s.Surface.create(this.element,{width:e.scrollElement.width(),height:e.scrollElement.height()});this._initRoot();this.movable=new r.ui.Movable(this.surface.element);this._markers=[];this._click=this._handler("shapeClick");this.surface.bind("click",this._click);this._mouseenter=this._handler("shapeMouseEnter");this.surface.bind("mouseenter",this._mouseenter);this._mouseleave=this._handler("shapeMouseLeave");this.surface.bind("mouseleave",this._mouseleave);this._initDataSource()},options:{autoBind:true},destroy:function(){o.fn.destroy.call(this);this.surface.destroy();this.dataSource.unbind("change",this._dataChange)},setDataSource:function(e){if(this.dataSource)this.dataSource.unbind("change",this._dataChange);this.dataSource=r.data.DataSource.create(e);this.dataSource.bind("change",this._dataChange);if(this.options.autoBind)this.dataSource.fetch()},_reset:function(){o.fn._reset.call(this);this._translateSurface();if(this._data)this._load(this._data)},_initRoot:function(){this._root=new n;this.surface.draw(this._root)},_beforeReset:function(){this.surface.clear();this._initRoot()},_resize:function(){this.surface.size(this.map.size())},_initDataSource:function(){var e=this.options.dataSource;this._dataChange=i(this._dataChange,this);this.dataSource=d.create(e).bind("change",this._dataChange);if(e&&this.options.autoBind)this.dataSource.fetch()},_dataChange:function(e){this._data=e.sender.view();this._load(this._data)},_load:function(e){this._clearMarkers();if(!this._loader)this._loader=new m(this.map,this.options.style,this);var t=new n;for(var i=0;i<e.length;i++){var r=this._loader.parse(e[i]);if(r)t.append(r)}this._root.clear();this._root.append(t)},shapeCreated:function(e){var t=false;if(e instanceof s.Circle)t=g(this._createMarker(e));if(!t){var i={layer:this,shape:e};t=this.map.trigger("shapeCreated",i)}return t},featureCreated:function(e){e.layer=this;this.map.trigger("shapeFeatureCreated",e)},_createMarker:function(e){var t=this.map.markers.bind({location:e.location},e.dataItem);if(t)this._markers.push(t);return t},_clearMarkers:function(){for(var e=0;e<this._markers.length;e++)this.map.markers.remove(this._markers[e]);this._markers=[]},_pan:function(){if(!this._panning){this._panning=true;this.surface.suspendTracking()}},_panEnd:function(e){o.fn._panEnd.call(this,e);this._translateSurface();this.surface.resumeTracking();this._panning=false},_translateSurface:function(){var e=this.map;var t=e.locationToView(e.extent().nw);if(this.surface.translate){this.surface.translate(t);this.movable.moveTo({x:t.x,y:t.y})}},_handler:function(i){var r=this;return function(e){if(e.element){var t={layer:r,shape:e.element,originalEvent:e.originalEvent};r.map.trigger(i,t)}}},_activate:function(){o.fn._activate.call(this);this.map.bind("pan",this._pan)},_deactivate:function(){o.fn._deactivate.call(this);this.map.unbind("pan",this._pan)}}),m=f.extend({init:function(e,t,i){this.observer=i;this.locator=e;this.style=t},parse:function(e){var t=new n;var i=true;if(e.type==="Feature"){i=false;this._loadGeometryTo(t,e.geometry,e);this._featureCreated(t,e)}else this._loadGeometryTo(t,e,e);if(i&&t.children.length<2)t=t.children[0];return t},_shapeCreated:function(e){var t=false;if(this.observer&&this.observer.shapeCreated)t=this.observer.shapeCreated(e);return t},_featureCreated:function(e,t){if(this.observer&&this.observer.featureCreated)this.observer.featureCreated({group:e,dataItem:t,properties:t.properties})},_loadGeometryTo:function(e,t,i){var r=t.coordinates;var n;var a;switch(t.type){case"LineString":a=this._loadPolygon(e,[r],i);this._setLineFill(a);break;case"MultiLineString":for(n=0;n<r.length;n++){a=this._loadPolygon(e,[r[n]],i);this._setLineFill(a)}break;case"Polygon":this._loadPolygon(e,r,i);break;case"MultiPolygon":for(n=0;n<r.length;n++)this._loadPolygon(e,r[n],i);break;case"Point":this._loadPoint(e,r,i);break;case"MultiPoint":for(n=0;n<r.length;n++)this._loadPoint(e,r[n],i);break}},_setLineFill:function(e){var t=e.segments;if(t.length<4||!t[0].anchor().equals(v(t).anchor()))e.options.fill=null},_loadShape:function(e,t){if(!this._shapeCreated(t))e.append(t);return t},_loadPolygon:function(e,t,i){var r=this._buildPolygon(t);r.dataItem=i;return this._loadShape(e,r)},_buildPolygon:function(e){var t=e.length>1?s.MultiPath:s.Path;var i=new t(this.style);for(var r=0;r<e.length;r++)for(var n=0;n<e[r].length;n++){var a=this.locator.locationToView(l.fromLngLat(e[r][n]));if(n===0)i.moveTo(a.x,a.y);else i.lineTo(a.x,a.y)}return i},_loadPoint:function(e,t,i){var r=l.fromLngLat(t);var n=this.locator.locationToView(r);var a=new p.Circle(n,10);var o=new s.Circle(a,this.style);o.dataItem=i;o.location=r;return this._loadShape(e,o)}});t(r.data,{schemas:{geojson:{type:"json",data:function(e){if(e.type==="FeatureCollection")return e.features;if(e.type==="GeometryCollection")return e.geometries;return e}}},transports:{geojson:{read:{dataType:"json"}}}}),t(e,{map:{layers:{shape:c,ShapeLayer:c},GeoJSONLoader:m}})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("dataviz/map/layers/bubble.min",["./shape.min"],function(){var s=window.kendo.jQuery,l=void 0,i=window.kendo,f=i.getter,r=i.dataviz,e=i.deepExtend,n=i.geometry,a=i.drawing,c,d=a.util.defined,t=r.map,p=t.Location,h,o=t.layers.ShapeLayer.extend({options:{autoBind:true,locationField:"location",valueField:"value",minSize:0,maxSize:100,scale:"sqrt",symbol:"circle"},_load:function(e){this.surface.clear();if(e.length===0)return;var t=this.options;var i=f(t.valueField);e=e.slice(0);e.sort(function(e,t){return i(t)-i(e)});var r=this._scaleType();var n;for(var a=0;a<e.length;a++){var o=e[a];var s=f(t.locationField)(o);var l=f(t.valueField)(o);if(d(s)&&d(l)){if(!n)n=new r([0,l],[t.minSize,t.maxSize]);s=p.create(s);var h=this.map.locationToView(s);var u=n.map(l);var c=this._createSymbol({center:h,size:u,style:t.style,dataItem:o,location:s});c.dataItem=o;c.location=s;c.value=l;this._drawSymbol(c)}}},_scaleType:function(){var e=this.options.scale;if(i.isFunction(e))return e;return r.map.scales[e]},_createSymbol:function(e){var t=this.options.symbol;if(!i.isFunction(t))t=r.map.symbols[t];return t(e)},_drawSymbol:function(e){var t={layer:this,shape:e};var i=this.map.trigger("shapeCreated",t);if(!i)this.surface.draw(e)}}),u=i.Class.extend({init:function(e,t){this._domain=e;this._range=t;var i=Math.sqrt(e[1])-Math.sqrt(e[0]);var r=t[1]-t[0];this._ratio=r/i},map:function(e){var t=(Math.sqrt(e)-Math.sqrt(this._domain[0]))*this._ratio;return this._range[0]+t}}),v;e(r,{map:{layers:{bubble:o,BubbleLayer:o},scales:{sqrt:u},symbols:{circle:function(e){var t=new n.Circle(e.center,e.size/2);return new a.Circle(t,e.style)},square:function(e){var t=new a.Path(e.style);var i=e.size/2;var r=e.center;t.moveTo(r.x-i,r.y-i).lineTo(r.x+i,r.y-i).lineTo(r.x+i,r.y+i).lineTo(r.x-i,r.y+i).close();return t}}}})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("dataviz/map/layers/tile.min",["./base.min","../location.min"],function(){var e=window.kendo.jQuery,h=void 0,n=Math,t=e.proxy,i=window.kendo,r=i.Class,a=i.template,o=i.dataviz,u=i.deepExtend,f,s=i.geometry.Point,l=o.map.layers.Layer,c=i.util,d=c.renderSize,p=i.drawing.util,v=p.round,g=p.limitValue,m=l.extend({init:function(e,t){l.fn.init.call(this,e,t);if(typeof this.options.subdomains==="string")this.options.subdomains=this.options.subdomains.split("");var i=this._viewType();this._view=new i(this.element,this.options)},destroy:function(){l.fn.destroy.call(this);this._view.destroy();this._view=null},_beforeReset:function(){var e=this.map;var t=e.locationToLayer(e.extent().nw).round();this._view.viewOrigin(t)},_reset:function(e){var t;if(e)t=e.tileTitle;else t="";l.fn._reset.call(this);this._updateView();this._view.reset(t)},_viewType:function(){return _},_activate:function(){l.fn._activate.call(this);if(!i.support.mobileOS){if(!this._pan)this._pan=i.throttle(t(this._render,this),100);this.map.bind("pan",this._pan)}},_deactivate:function(){l.fn._deactivate.call(this);if(this._pan)this.map.unbind("pan",this._pan)},_updateView:function(){var e=this._view,t=this.map,i=t.extent(),r={nw:t.locationToLayer(i.nw).round(),se:t.locationToLayer(i.se).round()};e.center(t.locationToLayer(t.center()));e.extent(r);e.zoom(t.zoom())},_resize:function(){this._render()},_panEnd:function(e){l.fn._panEnd.call(this,e);this._render()},_render:function(){this._updateView();this._view.render()}}),_=r.extend({init:function(e,t){this.element=e;this._initOptions(t);this.pool=new w},options:{tileSize:256,subdomains:["a","b","c"],urlTemplate:""},center:function(e){this._center=e},extent:function(e){this._extent=e},viewOrigin:function(e){this._viewOrigin=e},zoom:function(e){this._zoom=e},pointToTileIndex:function(e){return new s(n.floor(e.x/this.options.tileSize),n.floor(e.y/this.options.tileSize))},tileCount:function(){var e=this.size(),t=this.pointToTileIndex(this._extent.nw),i=this._extent.nw,r=this.indexToPoint(t).translate(-i.x,-i.y);return{x:n.ceil((n.abs(r.x)+e.width)/this.options.tileSize),y:n.ceil((n.abs(r.y)+e.height)/this.options.tileSize)}},size:function(){var e=this._extent.nw,t=this._extent.se,i=t.clone().translate(-e.x,-e.y);return{width:i.x,height:i.y}},indexToPoint:function(e){var t=e.x,i=e.y;return new s(t*this.options.tileSize,i*this.options.tileSize)},subdomainText:function(){var e=this.options.subdomains;return e[this.subdomainIndex++%e.length]},destroy:function(){this.element.empty();this.pool.empty()},reset:function(e){this._tileTitle=e;this.pool.reset();this.subdomainIndex=0;this.render()},render:function(){var e=this.tileCount(),t=this.pointToTileIndex(this._extent.nw),i,r,n;for(r=0;r<e.x;r++)for(n=0;n<e.y;n++){i=this.createTile({x:t.x+r,y:t.y+n});if(!i.visible)i.show()}},createTile:function(e){var t=this.tileOptions(e);var i=this.pool.get(this._center,t);if(i.element.parent().length===0)this.element.append(i.element);return i},tileOptions:function(e){var t=this.wrapIndex(e),i=this.indexToPoint(e),r=this._viewOrigin,n=i.clone().translate(-r.x,-r.y);return{index:t,currentIndex:e,point:i,offset:b(n),zoom:this._zoom,size:this.options.tileSize,subdomain:this.subdomainText(),urlTemplate:this.options.urlTemplate,errorUrlTemplate:this.options.errorUrlTemplate,tileTitle:this._tileTitle}},wrapIndex:function(e){var t=n.pow(2,this._zoom);return{x:this.wrapValue(e.x,t),y:g(e.y,0,t-1)}},wrapValue:function(e,t){var i=n.abs(e)%t;if(e>=0)e=i;else e=t-(i===0?t:i);return e}}),y=r.extend({init:function(e,t){this.id=e;this.visible=true;this._initOptions(t);this.createElement();this.show()},options:{urlTemplate:"",errorUrlTemplate:""},createElement:function(){this.element=e("<img style='position: absolute; display: block;' alt='"+this.options.tileTitle+"' />").css({width:this.options.size,height:this.options.size}).on("error",t(function(e){if(this.errorUrl())e.target.setAttribute("src",this.errorUrl());else e.target.removeAttribute("src")},this))},show:function(){var e=this.element[0];e.style.top=d(this.options.offset.y);e.style.left=d(this.options.offset.x);var t=this.url();if(t)e.setAttribute("src",t);e.style.visibility="visible";this.visible=true},hide:function(){this.element[0].style.visibility="hidden";this.visible=false},url:function(){var e=a(this.options.urlTemplate);return e(this.urlOptions())},errorUrl:function(){var e=a(this.options.errorUrlTemplate);return e(this.urlOptions())},urlOptions:function(){var e=this.options;return{zoom:e.zoom,subdomain:e.subdomain,z:e.zoom,x:e.index.x,y:e.index.y,s:e.subdomain,quadkey:e.quadkey,q:e.quadkey,culture:e.culture,c:e.culture}},destroy:function(){if(this.element){this.element.remove();this.element=null}}}),w=r.extend({init:function(){this._items=[]},options:{maxSize:100},get:function(e,t){if(this._items.length>=this.options.maxSize)this._remove(e);return this._create(t)},empty:function(){var e=this._items;for(var t=0;t<e.length;t++)e[t].destroy();this._items=[]},reset:function(){var e=this._items;for(var t=0;t<e.length;t++)e[t].hide()},_create:function(e){var t=this._items;var i;var r=c.hashKey(e.point.toString()+e.offset.toString()+e.zoom+e.urlTemplate);for(var n=0;n<t.length;n++)if(t[n].id===r){i=t[n];break}if(i)i.show();else{i=new y(r,e);this._items.push(i)}return i},_remove:function(e){var t=this._items;var i=-1;var r=-1;for(var n=0;n<t.length;n++){var a=t[n].options.point.distanceTo(e);if(a>i&&!t[n].visible){r=n;i=a}}if(r!==-1){t[r].destroy();t.splice(r,1)}}});function b(e){return new s(v(e.x),v(e.y))}u(o,{map:{layers:{tile:m,TileLayer:m,ImageTile:y,TilePool:w,TileView:_}}})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("dataviz/map/layers/bing.min",["./tile.min"],function(){var i=window.kendo.jQuery,h=void 0,e=window.kendo,t=e.dataviz,r=e.deepExtend,n=e.drawing.util.defined,u=t.map.Extent,o=t.map.Location,a=t.map.layers.TileLayer,s=t.map.layers.TileView,l=a.extend({init:function(e,t){this.options.baseUrl=this._scheme()+"://dev.virtualearth.net/REST/v1/Imagery/Metadata/";a.fn.init.call(this,e,t);this._onMetadata=i.proxy(this._onMetadata,this);this._fetchMetadata()},options:{imagerySet:"road"},_fetchMetadata:function(){var e=this.options;if(!e.key)throw new Error("Bing tile layer: API key is required");i.ajax({url:e.baseUrl+e.imagerySet,data:{output:"json",include:"ImageryProviders",key:e.key,uriScheme:this._scheme()},type:"get",dataType:"jsonp",jsonp:"jsonp",success:this._onMetadata})},_scheme:function(e){e=e||window.location.protocol;return e.replace(":","")==="https"?"https":"http"},_onMetadata:function(e){if(e&&e.resourceSets.length){var t=this.resource=e.resourceSets[0].resources[0];r(this._view.options,{urlTemplate:t.imageUrl.replace("{subdomain}","#= subdomain #").replace("{quadkey}","#= quadkey #").replace("{culture}","#= culture #"),subdomains:t.imageUrlSubdomains});var i=this.options;if(!n(i.minZoom))i.minZoom=t.zoomMin;if(!n(i.maxZoom))i.maxZoom=t.zoomMax;this._addAttribution();if(this.element.css("display")!=="none")this._reset()}},_viewType:function(){return c},_addAttribution:function(){var e=this.map.attribution;if(e){var t=this.resource.imageryProviders;if(t)for(var i=0;i<t.length;i++){var r=t[i];for(var n=0;n<r.coverageAreas.length;n++){var a=r.coverageAreas[n];e.add({text:r.attribution,minZoom:a.zoomMin,maxZoom:a.zoomMax,extent:new u(new o(a.bbox[2],a.bbox[1]),new o(a.bbox[0],a.bbox[3]))})}}}},imagerySet:function(e){if(e){this.options.imagerySet=e;this.map.attribution.clear();this._fetchMetadata()}else return this.options.imagerySet}}),c=s.extend({options:{culture:"en-US"},tileOptions:function(e){var t=s.fn.tileOptions.call(this,e);t.culture=this.options.culture;t.quadkey=this.tileQuadKey(this.wrapIndex(e));return t},tileQuadKey:function(e){var t="",i,r,n;for(n=this._zoom;n>0;n--){i=0;r=1<<n-1;if((e.x&r)!==0)i++;if((e.y&r)!==0)i+=2;t+=i}return t}});r(t,{map:{layers:{bing:l,BingLayer:l,BingView:c}}})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("dataviz/map/layers/marker.min",["./base.min","../location.min","../../../kendo.data.min","../../../kendo.tooltip.min"],function(){var i=window.kendo.jQuery,h=void 0,u=document,t=Math,f=i.inArray,r=i.proxy,a=window.kendo,d=a.Class,p=a.data.DataSource,o=a.ui.Tooltip,e=a.dataviz,n=a.deepExtend,s=e.map,v=s.Location,l=s.layers.Layer,g=l.extend({init:function(e,t){l.fn.init.call(this,e,t);this._markerClick=r(this._markerClick,this);this.element.on("click",".k-marker",this._markerClick);this.items=[];this._initDataSource()},destroy:function(){l.fn.destroy.call(this);this.element.off("click",".k-marker",this._markerClick);this.dataSource.unbind("change",this._dataChange);this.clear()},options:{zIndex:1e3,autoBind:true,dataSource:{},locationField:"location",titleField:"title"},add:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this._addOne(e[t]);else return this._addOne(e)},remove:function(e){e.destroy();var t=f(e,this.items);if(t>-1)this.items.splice(t,1)},clear:function(){for(var e=0;e<this.items.length;e++)this.items[e].destroy();this.items=[]},update:function(e){var t=e.location();if(t){e.showAt(this.map.locationToView(t));var i={marker:e,layer:this};this.map.trigger("markerActivate",i)}},_reset:function(){l.fn._reset.call(this);var e=this.items;for(var t=0;t<e.length;t++)this.update(e[t])},bind:function(e,t){var i=s.Marker.create(e,this.options);i.dataItem=t;var r={marker:i,layer:this};var n=this.map.trigger("markerCreated",r);if(!n){this.add(i);return i}},setDataSource:function(e){if(this.dataSource)this.dataSource.unbind("change",this._dataChange);this.dataSource=a.data.DataSource.create(e);this.dataSource.bind("change",this._dataChange);if(this.options.autoBind)this.dataSource.fetch()},_addOne:function(e){var t=c.create(e,this.options);t.addTo(this);return t},_initDataSource:function(){var e=this.options.dataSource;this._dataChange=r(this._dataChange,this);this.dataSource=p.create(e).bind("change",this._dataChange);if(e&&this.options.autoBind)this.dataSource.fetch()},_dataChange:function(e){this._load(e.sender.view())},_load:function(e){this._data=e;this.clear();var t=a.getter(this.options.locationField);var i=a.getter(this.options.titleField);for(var r=0;r<e.length;r++){var n=e[r];this.bind({location:t(n),title:i(n)},n)}},_markerClick:function(e){var t={marker:i(e.target).data("kendoMarker"),layer:this};this.map.trigger("markerClick",t)}}),c=d.extend({init:function(e){this.options=e||{}},addTo:function(e){this.layer=e.markers||e;this.layer.items.push(this);this.layer.update(this)},location:function(e){if(e){this.options.location=v.create(e).toArray();if(this.layer)this.layer.update(this);return this}else return v.create(this.options.location)},showAt:function(e){this.render();this.element.css({left:t.round(e.x),top:t.round(e.y)});if(this.tooltip&&this.tooltip.popup)this.tooltip.popup._position()},hide:function(){if(this.element){this.element.remove();this.element=null}if(this.tooltip){this.tooltip.destroy();this.tooltip=null}},destroy:function(){this.layer=null;this.hide()},render:function(){if(!this.element){var e=this.options;var t=this.layer;this.element=i(u.createElement("span")).addClass("k-marker k-icon k-i-marker-"+a.toHyphens(e.shape||"pin")).attr("title",e.title).attr(e.attributes||{}).data("kendoMarker",this).css("zIndex",e.zIndex);if(t)t.element.append(this.element);this.renderTooltip()}},renderTooltip:function(){var t=this;var e=t.options.title;var i=t.options.tooltip||{};if(i&&o){var r=i.template;if(r){var n=a.template(r);i.content=function(e){e.location=t.location();e.marker=t;return n(e)}}if(e||i.content||i.contentUrl){this.tooltip=new o(this.element,i);this.tooltip.marker=this}}}});c.create=function(e,t){if(e instanceof c)return e;return new c(n({},t,e))},n(e,{map:{layers:{marker:g,MarkerLayer:g},Marker:c}})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("dataviz/map/main.min",["./crs.min","./location.min"],function(){var a=window.kendo.jQuery,t=void 0,u=document,h=Math,f=h.min,d=h.pow,r=a.proxy,n=window.kendo,i=n.ui.Widget,p=n.deepExtend,c=n.dataviz,o=c.ui,s=n.geometry,v=s.Point,e=c.map,g=e.Extent,l=e.Location,m=e.crs.EPSG3857,_,y=n.util.renderPos,w=n.drawing.util,b=w.defined,x=w.limitValue,k=w.valueOrDefault,C="k-",S=.9,T=.93,A="DOMMouseScroll mousewheel",M=5,D=1,E=i.extend({init:function(e,t){n.destroy(e);i.fn.init.call(this,e);this._initOptions(t);this.bind(this.events,t);this.crs=new m;this.element.addClass(C+this.options.name.toLowerCase()).css("position","relative").empty().append(u.createElement("div"));this._viewOrigin=this._getOrigin();this._initScroller();this._initMarkers();this._initControls();this._initLayers();this._reset();this._mousewheel=r(this._mousewheel,this);this.element.on(A,this._mousewheel)},options:{name:"Map",controls:{attribution:true,navigator:{panStep:100},zoom:true},layers:[],layerDefaults:{shape:{style:{fill:{color:"#fff"},stroke:{color:"#aaa",width:.5}}},bubble:{style:{fill:{color:"#fff",opacity:.5},stroke:{color:"#aaa",width:.5}}},marker:{shape:"pinTarget",tooltip:{position:"top"}}},center:[0,0],zoom:3,minSize:256,minZoom:1,maxZoom:19,markers:[],markerDefaults:{shape:"pinTarget",tooltip:{position:"top"}},wraparound:true,messages:{tileTitle:"Map tile"}},events:["beforeReset","click","markerActivate","markerClick","markerCreated","pan","panEnd","reset","shapeClick","shapeCreated","shapeFeatureCreated","shapeMouseEnter","shapeMouseLeave","zoomEnd","zoomStart"],destroy:function(){this.scroller.destroy();if(this.navigator)this.navigator.destroy();if(this.attribution)this.attribution.destroy();if(this.zoomControl)this.zoomControl.destroy();this.markers.destroy();for(var e=0;e<this.layers.length;e++)this.layers[e].destroy();i.fn.destroy.call(this)},zoom:function(e){var t=this.options;if(b(e)){e=h.round(x(e,t.minZoom,t.maxZoom));if(t.zoom!==e){t.zoom=e;this._reset()}return this}else return t.zoom},center:function(e){if(e){this.options.center=l.create(e).toArray();this._reset();return this}else return l.create(this.options.center)},extent:function(e){if(e){this._setExtent(e);return this}else return this._getExtent()},setOptions:function(e){i.fn.setOptions.call(this,e);this._reset()},locationToLayer:function(e,t){var i=!this.options.wraparound;e=l.create(e);return this.crs.toPoint(e,this._layerSize(t),i)},layerToLocation:function(e,t){var i=!this.options.wraparound;e=v.create(e);return this.crs.toLocation(e,this._layerSize(t),i)},locationToView:function(e){e=l.create(e);var t=this.locationToLayer(this._viewOrigin);var i=this.locationToLayer(e);return i.translateWith(t.scale(-1))},viewToLocation:function(e,t){var i=this.locationToLayer(this._getOrigin(),t);e=v.create(e);e=e.clone().translateWith(i);return this.layerToLocation(e,t)},eventOffset:function(e){var t;var i;var r;var n=this.element.offset();if(e.x||e.y){var a="location";i=e.x[a]-n.left;r=e.y[a]-n.top;t=new s.Point(i,r)}else{var o=e.originalEvent||e;i=k(o.pageX,o.clientX)-n.left;r=k(o.pageY,o.clientY)-n.top;t=new s.Point(i,r)}return t},eventToView:function(e){var t=this.eventOffset(e);return this.locationToView(this.viewToLocation(t))},eventToLayer:function(e){return this.locationToLayer(this.eventToLocation(e))},eventToLocation:function(e){var t=this.eventOffset(e);return this.viewToLocation(t)},viewSize:function(){var e=this.element;var t=this._layerSize();var i=e.width();if(!this.options.wraparound)i=f(t,i);return{width:i,height:f(t,e.height())}},exportVisual:function(){this._reset();return false},_setOrigin:function(e,t){var i=this.viewSize(),r;e=this._origin=l.create(e);r=this.locationToLayer(e,t);r.x+=i.width/2;r.y+=i.height/2;this.options.center=this.layerToLocation(r,t).toArray();return this},_getOrigin:function(e){var t=this.viewSize(),i;if(e||!this._origin){i=this.locationToLayer(this.center());i.x-=t.width/2;i.y-=t.height/2;this._origin=this.layerToLocation(i)}return this._origin},_setExtent:function(e){var t=g.create(e);var i=t.se.clone();if(this.options.wraparound&&i.lng<0&&e.nw.lng>0)i.lng=180+(180+i.lng);e=new g(t.nw,i);this.center(e.center());var r=this.element.width();var n=this.element.height();for(var a=this.options.maxZoom;a>=this.options.minZoom;a--){var o=this.locationToLayer(e.nw,a);var s=this.locationToLayer(e.se,a);var l=h.abs(s.x-o.x);var c=h.abs(s.y-o.y);if(l<=r&&c<=n)break}this.zoom(a)},_getExtent:function(){var e=this._getOrigin();var t=this.locationToLayer(e);var i=this.viewSize();t.x+=i.width;t.y+=i.height;var r=this.layerToLocation(t);return new g(e,r)},_zoomAround:function(e,t){this._setOrigin(this.layerToLocation(e,t),t);this.zoom(t)},_initControls:function(){var e=this.options.controls;if(o.Attribution&&e.attribution)this._createAttribution(e.attribution);if(!n.support.mobileOS){if(o.Navigator&&e.navigator)this._createNavigator(e.navigator);if(o.ZoomControl&&e.zoom)this._createZoomControl(e.zoom)}},_createControlElement:function(e,t){var i=e.position||t;var r="."+y(i).replace(" ",".");var n=a(".k-map-controls"+r,this.element);if(n.length===0)n=a("<div>").addClass("k-map-controls "+y(i)).appendTo(this.element);return a("<div>").appendTo(n)},_createAttribution:function(e){var t=this._createControlElement(e,"bottomRight");this.attribution=new o.Attribution(t,e)},_createNavigator:function(e){var t=this._createControlElement(e,"topLeft");var i=this.navigator=new o.Navigator(t,e);this._navigatorPan=r(this._navigatorPan,this);i.bind("pan",this._navigatorPan);this._navigatorCenter=r(this._navigatorCenter,this);i.bind("center",this._navigatorCenter)},_navigatorPan:function(e){var t=this;var i=t.scroller;var r=i.scrollLeft+e.x;var n=i.scrollTop-e.y;var a=this._virtualSize;var o=this.element.height();var s=this.element.width();r=x(r,a.x.min,a.x.max-s);n=x(n,a.y.min,a.y.max-o);t.scroller.one("scroll",function(e){t._scrollEnd(e)});t.scroller.scrollTo(-r,-n)},_navigatorCenter:function(){this.center(this.options.center)},_createZoomControl:function(e){var t=this._createControlElement(e,"topLeft");var i=this.zoomControl=new o.ZoomControl(t,e);this._zoomControlChange=r(this._zoomControlChange,this);i.bind("change",this._zoomControlChange)},_zoomControlChange:function(e){if(!this.trigger("zoomStart",{originalEvent:e})){this.zoom(this.zoom()+e.delta);this.trigger("zoomEnd",{originalEvent:e})}},_initScroller:function(){var e=n.support.mobileOS?T:S;var t=this.options.zoomable!==false;var i=this.scroller=new n.mobile.ui.Scroller(this.element.children(0),{friction:e,velocityMultiplier:M,zoom:t,mousewheelScrolling:false,supportDoubleTap:true});i.bind("scroll",r(this._scroll,this));i.bind("scrollEnd",r(this._scrollEnd,this));i.userEvents.bind("gesturestart",r(this._scaleStart,this));i.userEvents.bind("gestureend",r(this._scale,this));i.userEvents.bind("doubleTap",r(this._doubleTap,this));i.userEvents.bind("tap",r(this._tap,this));this.scrollElement=i.scrollElement},_initLayers:function(){var e=this.options.layers,t=this.layers=[];for(var i=0;i<e.length;i++){var r=e[i];var n=r.type||"shape";var a=this.options.layerDefaults[n];var o=c.map.layers[n];t.push(new o(this,p({},a,r)))}},_initMarkers:function(){this.markers=new e.layers.MarkerLayer(this,this.options.markerDefaults);this.markers.add(this.options.markers)},_scroll:function(e){var t=this.locationToLayer(this._viewOrigin).round();var i=e.sender.movable;var r=new s.Point(i.x,i.y).scale(-1).scale(1/i.scale);t.x+=r.x;t.y+=r.y;this._scrollOffset=r;this._setOrigin(this.layerToLocation(t));this.trigger("pan",{originalEvent:e,origin:this._getOrigin(),center:this.center()})},_scrollEnd:function(e){if(!this._scrollOffset||!this._panComplete())return;this._scrollOffset=null;this._panEndTS=new Date;this.trigger("panEnd",{originalEvent:e,origin:this._getOrigin(),center:this.center()})},_panComplete:function(){return new Date-(this._panEndTS||0)>50},_scaleStart:function(e){if(this.trigger("zoomStart",{originalEvent:e})){var t=e.touches[1];if(t)t.cancel()}},_scale:function(e){var t=this.scroller.movable.scale;var i=this._scaleToZoom(t);var r=new s.Point(e.center.x,e.center.y);var n=this.viewToLocation(r,i);var a=this.locationToLayer(n,i);var o=a.translate(-r.x,-r.y);this._zoomAround(o,i);this.trigger("zoomEnd",{originalEvent:e})},_scaleToZoom:function(e){var t=this._layerSize()*e;var i=t/this.options.minSize;var r=h.log(i)/h.log(2);return h.round(r)},_reset:function(){if(this.attribution)this.attribution.filter(this.center(),this.zoom());this._viewOrigin=this._getOrigin(true);this._resetScroller();this.trigger("beforeReset");this.trigger("reset",{tileTitle:this.options.messages.tileTitle})},_resetScroller:function(){var e=this.scroller;var t=e.dimensions.x;var i=e.dimensions.y;var r=this._layerSize();var n=this.extent().nw;var a=this.locationToLayer(n).round();e.movable.round=true;e.reset();e.userEvents.cancel();var o=this.zoom();e.dimensions.forcedMinScale=d(2,this.options.minZoom-o);e.dimensions.maxScale=d(2,this.options.maxZoom-o);var s={min:-a.x,max:r-a.x};var l={min:-a.y,max:r-a.y};if(this.options.wraparound){s.max=20*r;s.min=-s.max}if(this.options.pannable===false){var c=this.viewSize();s.min=l.min=0;s.max=c.width;l.max=c.height}t.makeVirtual();i.makeVirtual();t.virtualSize(s.min,s.max);i.virtualSize(l.min,l.max);this._virtualSize={x:s,y:l}},_renderLayers:function(){var e=this.options.layers,t=this.layers=[],i=this.scrollWrap;i.empty();for(var r=0;r<e.length;r++){var n=e[r];var a=n.type||"shape";var o=this.options.layerDefaults[a];var s=c.map.layers[a];t.push(new s(this,p({},o,n)))}},_layerSize:function(e){e=k(e,this.options.zoom);return this.options.minSize*d(2,e)},_tap:function(e){if(!this._panComplete())return;var t=this.eventOffset(e);this.trigger("click",{originalEvent:e,location:this.viewToLocation(t)})},_doubleTap:function(e){var t=this.options;if(t.zoomable!==false)if(!this.trigger("zoomStart",{originalEvent:e})){var i=this.zoom()+D;var r=this.eventOffset(e);var n=this.viewToLocation(r);var a=this.locationToLayer(n,i);var o=a.translate(-r.x,-r.y);this._zoomAround(o,i);this.trigger("zoomEnd",{originalEvent:e})}},_mousewheel:function(e){e.preventDefault();var t=c.mwDelta(e)>0?-1:1;var i=this.options;var r=this.zoom();var n=x(r+t,i.minZoom,i.maxZoom);if(i.zoomable!==false&&n!==r)if(!this.trigger("zoomStart",{originalEvent:e})){var a=this.eventOffset(e);var o=this.viewToLocation(a);var s=this.locationToLayer(o,n);var l=s.translate(-a.x,-a.y);this._zoomAround(l,n);this.trigger("zoomEnd",{originalEvent:e})}}});c.ui.plugin(E)})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.dataviz.map.min",["./kendo.data.min","./kendo.userevents.min","./kendo.tooltip.min","./kendo.mobile.scroller.min","./kendo.draganddrop.min","./kendo.dataviz.core.min","./dataviz/map/location.min","./dataviz/map/attribution.min","./dataviz/map/navigator.min","./dataviz/map/zoom.min","./dataviz/map/crs.min","./dataviz/map/layers/base.min","./dataviz/map/layers/shape.min","./dataviz/map/layers/bubble.min","./dataviz/map/layers/tile.min","./dataviz/map/layers/bing.min","./dataviz/map/layers/marker.min","./dataviz/map/main.min"],function(){var e={id:"dataviz.map",name:"Map",category:"dataviz",description:"The Kendo DataViz Map displays spatial data",depends:["data","userevents","tooltip","dataviz.core","drawing","mobile.scroller"]};return window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("dataviz/diagram/utils.min",["../../kendo.core.min"],function(){var i=window.kendo.jQuery,h=void 0,t=window.kendo,n=t.dataviz.diagram={},u,r=Array.isArray,a=1e-6,l={};function e(e,t,i){if(typeof e=="undefined"||typeof t=="undefined")return[];if(i&&l.sign(t-e)!=l.sign(i))throw"The sign of the increment should allow to reach the stop-value.";i=i||1;e=e||0;t=t||e;if((t-e)/i===Infinity)throw"Infinite range defined.";var r=[],n=-1,a;function o(e){var t=1;while(e*t%1)t*=10;return t}var s=o(Math.abs(i));e*=s;t*=s;i*=s;if(e>t&&i>0)i=-i;if(i<0)while((a=e+i*++n)>=t)r.push(a/s);else while((a=e+i*++n)<=t)r.push(a/s);return r}function o(e,t){if(e==t)return 0;var i=t.x-e.x,r=e.y-t.y,n=Math.atan(i/r);if(r>=0)return i<0?n+2*Math.PI:n;return n+Math.PI}(0,t.deepExtend)(l,{isNearZero:function(e){return Math.abs(e)<a},isDefined:function(e){return typeof e!=="undefined"},isUndefined:function(e){return typeof e==="undefined"||e===null},isObject:function(e){return e===Object(e)},has:function(e,t){return Object.hasOwnProperty.call(e,t)},isString:function(e){return Object.prototype.toString.call(e)=="[object String]"},isBoolean:function(e){return Object.prototype.toString.call(e)=="[object Boolean]"},isType:function(e,t){return Object.prototype.toString.call(e)=="[object "+t+"]"},isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},isEmpty:function(e){if(e===null)return true;if(r(e)||l.isString(e))return e.length===0;for(var t in e)if(l.has(e,t))return false;return true},simpleExtend:function(e,t){if(!l.isObject(t))return;for(var i in t)e[i]=t[i]},initArray:function e(t,i){var r=[];for(var n=0;n<t;++n)r[n]=i;return r},serializePoints:function(e){var t=[];for(var i=0;i<e.length;i++){var r=e[i];t.push(r.x+";"+r.y)}return t.join(";")},deserializePoints:function(e){var t=e.split(";"),i=[];if(t.length%2!==0)throw"Not an array of points.";for(var r=0;r<t.length;r+=2)i.push(new n.Point(parseInt(t[r],10),parseInt(t[r+1],10)));return i},randomInteger:function(e,t){return parseInt(Math.floor(Math.random()*t)+e,10)},DFT:function(e,t){t(e);if(e.childNodes)for(var i=0;i<e.childNodes.length;i++){var r=e.childNodes[i];this.DFT(r,t)}},getMatrixAngle:function(e){if(e===null||e.d===0)return 0;return Math.atan2(e.b,e.d)*180/Math.PI},getMatrixScaling:function(e){var t=Math.sqrt(e.a*e.a+e.c*e.c);var i=Math.sqrt(e.b*e.b+e.d*e.d);return[t,i]}}),l.sign=function(e){return e?e<0?-1:1:0},l.findAngle=function(e,t){return o(e,t)*180/Math.PI},l.forEach=function(e,t,i){for(var r=0;r<e.length;r++)t.call(i,e[r],r,e)},l.any=function(e,t){for(var i=0;i<e.length;++i)if(t(e[i]))return e[i];return null},l.remove=function(e,t){var i;while((i=l.indexOf(e,t))!==-1)e.splice(i,1);return e},l.contains=function(e,t){return l.indexOf(e,t)!==-1},l.indexOf=function(e,t){return i.inArray(t,e)},l.fold=function(e,t,i,r){var n=arguments.length>2;for(var a=0;a<e.length;a++){var o=e[a];if(!n){i=o;n=true}else i=t.call(r,i,o,a,e)}if(!n)throw"Reduce of empty array with no initial value";return i},l.find=function(e,r,n){var a;l.any(e,function(e,t,i){if(r.call(n,e,t,i)){a=e;return true}return false});return a},l.first=function(e,t,i){if(e.length===0)return null;if(l.isUndefined(t))return e[0];return l.find(e,t,i)},l.insert=function(e,t,i){e.splice(i,0,t);return e},l.all=function(e,t,i){var r=true;var n;for(var a=0;a<e.length;a++){n=e[a];r=r&&t.call(i,n,a,e);if(!r)break}return r},l.clear=function(e){e.splice(0,e.length)},l.bisort=function(e,t,i){if(l.isUndefined(e))throw"First array is not specified.";if(l.isUndefined(t))throw"Second array is not specified.";if(e.length!=t.length)throw"The two arrays should have equal length";var r=[],n;for(n=0;n<e.length;n++)r.push({x:e[n],y:t[n]});if(l.isUndefined(i))r.sort(function(e,t){return e.x-t.x});else r.sort(function(e,t){return i(e.x,t.x)});l.clear(e);l.clear(t);for(n=0;n<r.length;n++){e.push(r[n].x);t.push(r[n].y)}},l.addRange=function(e,t){e.push.apply(e,t)};var s={easeInOut:function(e){return-Math.cos(e*Math.PI)/2+.5}},c=t.Class.extend({init:function(){this.adapters=[];this.target=0;this.tick=0;this.interval=20;this.duration=800;this.lastTime=null;this.handlers=[];var e=this;this.transition=s.easeInOut;this.timerDelegate=function(){e.onTimerEvent()}},addAdapter:function(e){this.adapters.push(e)},onComplete:function(e){this.handlers.push(e)},removeHandler:function(t){this.handlers=i.grep(this.handlers,function(e){return e!==t})},trigger:function(){var t=this;if(this.handlers)l.forEach(this.handlers,function(e){return e.call(t.caller!==null?t.caller:t)})},onStep:function(){},seekTo:function(e){this.seekFromTo(this.tick,e)},seekFromTo:function(e,t){this.target=Math.max(0,Math.min(1,t));this.tick=Math.max(0,Math.min(1,e));this.lastTime=(new Date).getTime();if(!this.intervalId)this.intervalId=window.setInterval(this.timerDelegate,this.interval)},stop:function(){if(this.intervalId){window.clearInterval(this.intervalId);this.intervalId=null;this.trigger()}},play:function(e){if(this.adapters.length===0)return;if(e!==null)this.caller=e;this.initState();this.seekFromTo(0,1)},reverse:function(){this.seekFromTo(1,0)},initState:function(){if(this.adapters.length===0)return;for(var e=0;e<this.adapters.length;e++)this.adapters[e].initState()},propagate:function(){var e=this.transition(this.tick);for(var t=0;t<this.adapters.length;t++)this.adapters[t].update(e)},onTimerEvent:function(){var e=(new Date).getTime();var t=e-this.lastTime;this.lastTime=e;var i=t/this.duration*(this.tick<this.target?1:-1);if(Math.abs(i)>=Math.abs(this.tick-this.target))this.tick=this.target;else this.tick+=i;try{this.propagate()}finally{this.onStep.call(this);if(this.target==this.tick)this.stop()}}});t.deepExtend(n,{init:function(e){t.init(e,n.ui)},Utils:l,Range:e,Ticker:c})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("dataviz/diagram/math.min",["./utils.min","../../kendo.dataviz.core.min"],function(){var r=window.kendo.jQuery,i=void 0,w=window.kendo,p=w.dataviz.diagram,e=w.Class,t=w.deepExtend,a,I=p.Utils,b=w.dataviz.Point2D,o=w.isFunction,v=I.contains,s=r.map,l=3,c=1e-6,h=(t(b.fn,{plus:function(e){return new b(this.x+e.x,this.y+e.y)},minus:function(e){return new b(this.x-e.x,this.y-e.y)},offset:function(e){return new b(this.x-e,this.y-e)},times:function(e){return new b(this.x*e,this.y*e)},normalize:function(){if(this.length()===0)return new b;return this.times(1/this.length())},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},toString:function(){return"("+this.x+","+this.y+")"},lengthSquared:function(){return this.x*this.x+this.y*this.y},middleOf:function e(t,i){return new b(i.x-t.x,i.y-t.y).times(.5).plus(t)},toPolar:function(e){var t=1;if(e)t=180/Math.PI;var i=Math.atan2(Math.abs(this.y),Math.abs(this.x));var r=Math.PI/2;var n=this.length();if(this.x===0){if(this.y===0)return new k(0,0);if(this.y>0)return new k(n,t*r);if(this.y<0)return new k(n,t*3*r)}else if(this.x>0){if(this.y===0)return new k(n,0);if(this.y>0)return new k(n,t*i);if(this.y<0)return new k(n,t*(4*r-i))}else{if(this.y===0)return new k(n,2*r);if(this.y>0)return new k(n,t*(2*r-i));if(this.y<0)return new k(n,t*(2*r+i))}},isOnLine:function(e,t){if(e.x>t.x){var i=t;t=e;e=i}var r=new x(e.x,e.y).inflate(l,l),n=new x(t.x,t.y).inflate(l,l),a,o;if(r.union(n).contains(this)){if(e.x===t.x||e.y===t.y)return true;else if(e.y<t.y){a=r.x+(n.x-r.x)*(this.y-(r.y+r.height))/(n.y+n.height-(r.y+r.height));o=r.x+r.width+(n.x+n.width-(r.x+r.width))*(this.y-r.y)/(n.y-r.y)}else{a=r.x+(n.x-r.x)*(this.y-r.y)/(n.y-r.y);o=r.x+r.width+(n.x+n.width-(r.x+r.width))*(this.y-(r.y+r.height))/(n.y+n.height-(r.y+r.height))}return this.x>a&&this.x<o}return false}}),t(b,{parse:function(e){var t=e.slice(1,e.length-1),i=t.split(","),r=parseInt(i[0],10),n=parseInt(i[1],10);if(!isNaN(r)&&!isNaN(n))return new b(r,n)}}),e.extend({init:function(e,t,i){this.point=e;this.left=t;this.right=i}})),x=e.extend({init:function(e,t,i,r){this.x=e||0;this.y=t||0;this.width=i||0;this.height=r||0},contains:function(e){return e.x>=this.x&&e.x<=this.x+this.width&&e.y>=this.y&&e.y<=this.y+this.height},inflate:function(e,t){if(t===i)t=e;this.x-=e;this.y-=t;this.width+=2*e+1;this.height+=2*t+1;return this},offset:function(e,t){var i=e,r=t;if(e instanceof b){i=e.x;r=e.y}this.x+=i;this.y+=r;return this},union:function(e){var t=Math.min(this.x,e.x);var i=Math.min(this.y,e.y);var r=Math.max(this.x+this.width,e.x+e.width);var n=Math.max(this.y+this.height,e.y+e.height);return new x(t,i,r-t,n-i)},center:function(){return new b(this.x+this.width/2,this.y+this.height/2)},top:function(){return new b(this.x+this.width/2,this.y)},right:function(){return new b(this.x+this.width,this.y+this.height/2)},bottom:function(){return new b(this.x+this.width/2,this.y+this.height)},left:function(){return new b(this.x,this.y+this.height/2)},topLeft:function(){return new b(this.x,this.y)},topRight:function(){return new b(this.x+this.width,this.y)},bottomLeft:function(){return new b(this.x,this.y+this.height)},bottomRight:function(){return new b(this.x+this.width,this.y+this.height)},clone:function(){return new x(this.x,this.y,this.width,this.height)},isEmpty:function(){return!this.width&&!this.height},equals:function(e){return this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height},rotatedBounds:function(e){var t=this.clone(),i=this.rotatedPoints(e),r=i[0],n=i[1],a=i[2],o=i[3];t.x=Math.min(a.x,r.x,n.x,o.x);t.y=Math.min(a.y,r.y,n.y,o.y);t.width=Math.max(a.x,r.x,n.x,o.x)-t.x;t.height=Math.max(a.y,r.y,n.y,o.y)-t.y;return t},rotatedPoints:function(e){var t=this,i=t.center(),r=t.bottomRight().rotate(i,360-e),n=t.topLeft().rotate(i,360-e),a=t.topRight().rotate(i,360-e),o=t.bottomLeft().rotate(i,360-e);return[n,a,r,o]},toString:function(e){e=e||" ";return this.x+e+this.y+e+this.width+e+this.height},scale:function(e,t,i,r,n){var a=this.topLeft();var o=this.center();a.rotate(o,360-n).rotate(r,n);var s=i.minus(a);var l=new b(s.x*e,s.y*t);var c=s.minus(l);a=a.plus(c);a.rotate(r,360-n).rotate(o,n);this.x=a.x;this.y=a.y;this.width*=e;this.height*=t},zoom:function(e){this.x*=e;this.y*=e;this.width*=e;this.height*=e;return this},overlaps:function(e){var t=this.bottomRight();var i=e.bottomRight();var r=!(t.x<e.x||t.y<e.y||i.x<this.x||i.y<this.y);return r}}),u=e.extend({init:function(e,t){this.width=e;this.height=t}});function f(e){return Math.abs(e)<c}function d(e,t,i,r,n){var a=(t.x-e.x)*(r.y-i.y)-(t.y-e.y)*(r.x-i.x);if(f(a))return;var o=(e.y-i.y)*(r.x-i.x)-(e.x-i.x)*(r.y-i.y);var s=(e.y-i.y)*(t.x-e.x)-(e.x-i.x)*(t.y-e.y);var l=o/a;var c=s/a;if(n&&(l<0||l>1||c<0||c>1))return;return new b(e.x+l*(t.x-e.x),e.y+l*(t.y-e.y))}u.prototype.Empty=new u(0,0),x.toRect=function(e){if(!(e instanceof x))e=new x(e.x,e.y,e.width,e.height);return e},x.empty=function(){return new x(0,0,0,0)},x.fromPoints=function(e,t){if(isNaN(e.x)||isNaN(e.y)||isNaN(t.x)||isNaN(t.y))throw"Some values are NaN.";return new x(Math.min(e.x,t.x),Math.min(e.y,t.y),Math.abs(e.x-t.x),Math.abs(e.y-t.y))};var _={lines:function(e,t,i,r){return d(e,t,i,r)},segments:function(e,t,i,r){return d(e,t,i,r,true)},rectWithLine:function(e,t,i){return _.segments(t,i,e.topLeft(),e.topRight())||_.segments(t,i,e.topRight(),e.bottomRight())||_.segments(t,i,e.bottomLeft(),e.bottomRight())||_.segments(t,i,e.topLeft(),e.bottomLeft())},rects:function(e,t,i){var r=t.topLeft(),n=t.topRight(),a=t.bottomLeft(),o=t.bottomRight();var s=t.center();if(i){r=r.rotate(s,i);n=n.rotate(s,i);a=a.rotate(s,i);o=o.rotate(s,i)}var l=e.contains(r)||e.contains(n)||e.contains(a)||e.contains(o)||_.rectWithLine(e,r,n)||_.rectWithLine(e,r,a)||_.rectWithLine(e,n,o)||_.rectWithLine(e,a,o);if(!l){r=e.topLeft();n=e.topRight();a=e.bottomLeft();o=e.bottomRight();if(i){var c=360-i;r=r.rotate(s,c);n=n.rotate(s,c);a=a.rotate(s,c);o=o.rotate(s,c)}l=t.contains(r)||t.contains(n)||t.contains(a)||t.contains(o)}return l}},y=e.extend({init:function(e){this.container=x.toRect(e)},align:function(e,t){var i=t.toLowerCase().split(" ");for(var r=0;r<i.length;r++)e=this._singleAlign(e,i[r]);return e},_singleAlign:function(e,t){if(o(this[t]))return this[t](e);else return e},left:function(e){return this._align(e,this._left)},center:function(e){return this._align(e,this._center)},right:function(e){return this._align(e,this._right)},stretch:function(e){return this._align(e,this._stretch)},top:function(e){return this._align(e,this._top)},middle:function(e){return this._align(e,this._middle)},bottom:function(e){return this._align(e,this._bottom)},_left:function(e,t){t.x=e.x},_center:function(e,t){t.x=(e.width-t.width)/2||0},_right:function(e,t){t.x=e.width-t.width},_top:function(e,t){t.y=e.y},_middle:function(e,t){t.y=(e.height-t.height)/2||0},_bottom:function(e,t){t.y=e.height-t.height},_stretch:function(e,t){t.x=0;t.y=0;t.height=e.height;t.width=e.width},_align:function(e,t){e=x.toRect(e);t(this.container,e);return e}}),k=e.extend({init:function(e,t){this.r=e;this.angle=t}}),n=e.extend({init:function(e,t,i,r,n,a){this.a=e||0;this.b=t||0;this.c=i||0;this.d=r||0;this.e=n||0;this.f=a||0},plus:function(e){this.a+=e.a;this.b+=e.b;this.c+=e.c;this.d+=e.d;this.e+=e.e;this.f+=e.f},minus:function(e){this.a-=e.a;this.b-=e.b;this.c-=e.c;this.d-=e.d;this.e-=e.e;this.f-=e.f},times:function(e){return new n(this.a*e.a+this.c*e.b,this.b*e.a+this.d*e.b,this.a*e.c+this.c*e.d,this.b*e.c+this.d*e.d,this.a*e.e+this.c*e.f+this.e,this.b*e.e+this.d*e.f+this.f)},apply:function(e){return new b(this.a*e.x+this.c*e.y+this.e,this.b*e.x+this.d*e.y+this.f)},applyRect:function(e){return x.fromPoints(this.apply(e.topLeft()),this.apply(e.bottomRight()))},toString:function(){return"matrix("+this.a+" "+this.b+" "+this.c+" "+this.d+" "+this.e+" "+this.f+")"}}),C=(t(n,{fromSVGMatrix:function(e){var t=new n;t.a=e.a;t.b=e.b;t.c=e.c;t.d=e.d;t.e=e.e;t.f=e.f;return t},fromMatrixVector:function(e){var t=new n;t.a=e.a;t.b=e.b;t.c=e.c;t.d=e.d;t.e=e.e;t.f=e.f;return t},fromList:function(e){if(e.length!==6)throw"The given list should consist of six elements.";var t=new n;t.a=e[0];t.b=e[1];t.c=e[2];t.d=e[3];t.e=e[4];t.f=e[5];return t},translation:function(e,t){var i=new n;i.a=1;i.b=0;i.c=0;i.d=1;i.e=e;i.f=t;return i},unit:function(){return new n(1,0,0,1,0,0)},rotation:function(e,t,i){var r=new n;r.a=Math.cos(e*Math.PI/180);r.b=Math.sin(e*Math.PI/180);r.c=-r.b;r.d=r.a;r.e=t-t*r.a+i*r.b||0;r.f=i-i*r.a-t*r.b||0;return r},scaling:function(e,t){var i=new n;i.a=e;i.b=0;i.c=0;i.d=t;i.e=0;i.f=0;return i},parse:function(e){var t,i;if(e){e=e.trim();if(e.slice(0,6).toLowerCase()==="matrix"){i=e.slice(7,e.length-1).trim();t=i.split(",");if(t.length===6)return n.fromList(s(t,function(e){return parseFloat(e)}));t=i.split(" ");if(t.length===6)return n.fromList(s(t,function(e){return parseFloat(e)}))}if(e.slice(0,1)==="("&&e.slice(e.length-1)===")")e=e.substr(1,e.length-1);if(e.indexOf(",")>0){t=e.split(",");if(t.length===6)return n.fromList(s(t,function(e){return parseFloat(e)}))}if(e.indexOf(" ")>0){t=e.split(" ");if(t.length===6)return n.fromList(s(t,function(e){return parseFloat(e)}))}}return t}}),e.extend({init:function(e,t,i,r,n,a){this.a=e||0;this.b=t||0;this.c=i||0;this.d=r||0;this.e=n||0;this.f=a||0},fromMatrix:function e(t){var i=new C;i.a=t.a;i.b=t.b;i.c=t.c;i.d=t.d;i.e=t.e;i.f=t.f;return i}}));function S(e,t){var i,r,n;do{i=Math.random()*2-1;r=Math.random()*2-1;n=i*i+r*r}while(!n||n>1);return e+t*i*Math.sqrt(-2*Math.log(n)/n)}function T(e){if(I.isUndefined(e))e=10;var t="";var i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(var r=e;r>0;--r)t+=i.charAt(Math.round(Math.random()*(i.length-1)));return t}var A={_distanceToLineSquared:function(e,t,i){function r(e,t){return(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)}if(t===i)return r(e,t);var n=i.x-t.x,a=i.y-t.y,o=(e.x-t.x)*n+(e.y-t.y)*a;if(o<0)return r(t,e);o=(i.x-e.x)*n+(i.y-e.y)*a;if(o<0)return r(i,e);o=(i.x-e.x)*a-(i.y-e.y)*n;return o*o/(n*n+a*a)},distanceToLine:function(e,t,i){return Math.sqrt(this._distanceToLineSquared(e,t,i))},distanceToPolyline:function(e,t){var i=Number.MAX_VALUE;if(I.isUndefined(t)||t.length===0)return Number.MAX_VALUE;for(var r=0;r<t.length-1;r++){var n=t[r];var a=t[r+1];var o=this._distanceToLineSquared(e,n,a);if(o<i)i=o}return Math.sqrt(i)}},M=w.Class.extend({init:function(){this._buckets=[];this.length=0},add:function(e,t){var i=this._createGetBucket(e);if(I.isDefined(t))i.value=t;return i},get:function(e){if(this._bucketExists(e))return this._createGetBucket(e);return null},set:function(e,t){this.add(e,t)},containsKey:function(e){return this._bucketExists(e)},remove:function(e){if(this._bucketExists(e)){var t=this._hash(e);delete this._buckets[t];this.length--;return e}},forEach:function(e){var t=this._hashes();for(var i=0,r=t.length;i<r;i++){var n=t[i];var a=this._buckets[n];if(I.isUndefined(a))continue;e(a)}},clone:function(){var e=new M;var t=this._hashes();for(var i=0,r=t.length;i<r;i++){var n=t[i];var a=this._buckets[n];if(I.isUndefined(a))continue;e.add(a.key,a.value)}return e},_hashes:function(){var e=[];for(var t in this._buckets)if(this._buckets.hasOwnProperty(t))e.push(t);return e},_bucketExists:function(e){var t=this._hash(e);return I.isDefined(this._buckets[t])},_createGetBucket:function(e){var t=this._hash(e);var i=this._buckets[t];if(I.isUndefined(i)){i={key:e};this._buckets[t]=i;this.length++}return i},_hash:function(e){if(I.isNumber(e))return e;if(I.isString(e))return this._hashString(e);if(I.isObject(e))return this._objectHashId(e);throw"Unsupported key type."},_hashString:function(e){var t=0;if(e.length===0)return t;for(var i=0;i<e.length;i++){var r=e.charCodeAt(i);t=t*32-t+r}return t},_objectHashId:function(e){var t=e._hashId;if(I.isUndefined(t)){t=T();e._hashId=t}return t}}),B=w.Observable.extend({init:function(e){var t=this;w.Observable.fn.init.call(t);this._hashTable=new M;this.length=0;if(I.isDefined(e))if(Array.isArray(e))for(var i=0;i<e.length;i++)this.add(e[i]);else e.forEach(function(e,t){this.add(e,t)},this)},add:function(e,t){var i=this._hashTable.get(e);if(!i){i=this._hashTable.add(e);this.length++;this.trigger("changed")}i.value=t},set:function(e,t){this.add(e,t)},get:function(e){var t=this._hashTable.get(e);if(t)return t.value;throw new Error("Cannot find key "+e)},containsKey:function(e){return this._hashTable.containsKey(e)},remove:function(e){if(this.containsKey(e)){this.trigger("changed");this.length--;return this._hashTable.remove(e)}},forEach:function(t,i){this._hashTable.forEach(function(e){t.call(i,e.key,e.value)})},forEachValue:function(t,i){this._hashTable.forEach(function(e){t.call(i,e.value)})},forEachKey:function(t,i){this._hashTable.forEach(function(e){t.call(i,e.key)})},keys:function(){var t=[];this.forEachKey(function(e){t.push(e)});return t}}),D=w.Class.extend({init:function(){this._tail=null;this._head=null;this.length=0},enqueue:function(e){var t={value:e,next:null};if(!this._head){this._head=t;this._tail=this._head}else{this._tail.next=t;this._tail=this._tail.next}this.length++},dequeue:function(){if(this.length<1)throw new Error("The queue is empty.");var e=this._head.value;this._head=this._head.next;this.length--;return e},contains:function(e){var t=this._head;while(t){if(t.value===e)return true;t=t.next}return false}}),E=w.Observable.extend({init:function(e){var t=this;w.Observable.fn.init.call(t);this._hashTable=new M;this.length=0;if(I.isDefined(e))if(e instanceof M)e.forEach(function(e){this.add(e)});else if(e instanceof B)e.forEach(function(e,t){this.add({key:e,value:t})},this)},contains:function(e){return this._hashTable.containsKey(e)},add:function(e){var t=this._hashTable.get(e);if(!t){this._hashTable.add(e,e);this.length++;this.trigger("changed")}},get:function(e){if(this.contains(e))return this._hashTable.get(e).value;else return null},hash:function(e){return this._hashTable._hash(e)},remove:function(e){if(this.contains(e)){this._hashTable.remove(e);this.length--;this.trigger("changed")}},forEach:function(t,e){this._hashTable.forEach(function(e){t(e.value)},e)},toArray:function(){var t=[];this.forEach(function(e){t.push(e)});return t}}),g=w.Class.extend({init:function(e,t){this.links=[];this.outgoing=[];this.incoming=[];this.weight=1;if(I.isDefined(e))this.id=e;else this.id=T();if(I.isDefined(t)){this.associatedShape=t;var i=t.bounds();this.width=i.width;this.height=i.height;this.x=i.x;this.y=i.y}else this.associatedShape=null;this.data=null;this.type="Node";this.shortForm="Node '"+this.id+"'";this.isVirtual=false},isIsolated:function(){return I.isEmpty(this.links)},bounds:function(e){if(!I.isDefined(e))return new p.Rect(this.x,this.y,this.width,this.height);this.x=e.x;this.y=e.y;this.width=e.width;this.height=e.height},isLinkedTo:function(t){var i=this;return I.any(i.links,function(e){return e.getComplement(i)===t})},getChildren:function(){if(this.outgoing.length===0)return[];var e=[];for(var t=0,i=this.outgoing.length;t<i;t++){var r=this.outgoing[t];e.push(r.getComplement(this))}return e},getParents:function(){if(this.incoming.length===0)return[];var e=[];for(var t=0,i=this.incoming.length;t<i;t++){var r=this.incoming[t];e.push(r.getComplement(this))}return e},clone:function(){var e=new g;if(I.isDefined(this.weight))e.weight=this.weight;if(I.isDefined(this.balance))e.balance=this.balance;if(I.isDefined(this.owner))e.owner=this.owner;e.associatedShape=this.associatedShape;e.x=this.x;e.y=this.y;e.width=this.width;e.height=this.height;return e},adjacentTo:function(e){return this.isLinkedTo(e)!==null},removeLink:function(e){if(e.source===this){I.remove(this.links,e);I.remove(this.outgoing,e);e.source=null}if(e.target===this){I.remove(this.links,e);I.remove(this.incoming,e);e.target=null}},hasLinkTo:function(t){return I.any(this.outgoing,function(e){return e.target===t})},degree:function(){return this.links.length},incidentWith:function(e){return v(this.links,e)},getLinksWith:function(t){return I.all(this.links,function(e){return e.getComplement(this)===t},this)},getNeighbors:function(){var t=[];I.forEach(this.incoming,function(e){t.push(e.getComplement(this))},this);I.forEach(this.outgoing,function(e){t.push(e.getComplement(this))},this);return t}}),P=w.Class.extend({init:function(e,t,i,r){if(I.isUndefined(e))throw"The source of the new link is not set.";if(I.isUndefined(t))throw"The target of the new link is not set.";var n,a;if(I.isString(e))n=new g(e);else n=e;if(I.isString(t))a=new g(t);else a=t;this.source=n;this.target=a;this.source.links.push(this);this.target.links.push(this);this.source.outgoing.push(this);this.target.incoming.push(this);if(I.isDefined(i))this.id=i;else this.id=T();if(I.isDefined(r))this.associatedConnection=r;else this.associatedConnection=null;this.type="Link";this.shortForm="Link '"+this.source.id+"->"+this.target.id+"'"},getComplement:function(e){if(this.source!==e&&this.target!==e)throw"The given node is not incident with this link.";return this.source===e?this.target:this.source},getCommonNode:function(e){if(this.source===e.source||this.source===e.target)return this.source;if(this.target===e.source||this.target===e.target)return this.target;return null},isBridging:function(e,t){return this.source===e&&this.target===t||this.source===t&&this.target===e},getNodes:function(){return[this.source,this.target]},incidentWith:function(e){return this.source===e||this.target===e},adjacentTo:function(e){return v(this.source.links,e)||v(this.target.links,e)},changeSource:function(e){I.remove(this.source.links,this);I.remove(this.source.outgoing,this);e.links.push(this);e.outgoing.push(this);this.source=e},changeTarget:function(e){I.remove(this.target.links,this);I.remove(this.target.incoming,this);e.links.push(this);e.incoming.push(this);this.target=e},changesNodes:function(e,t){if(this.source===e)this.changeSource(t);else if(this.target===e)this.changeTarget(t)},reverse:function(){var e=this.source;var t=this.target;this.source=t;I.remove(e.outgoing,this);this.source.outgoing.push(this);this.target=e;I.remove(t.incoming,this);this.target.incoming.push(this);return this},directTo:function(e){if(this.source!==e&&this.target!==e)throw"The given node is not incident with this link.";if(this.target!==e)this.reverse()},createReverseEdge:function(){var e=this.clone();e.reverse();e.reversed=true;return e},clone:function(){var e=new P(this.source,this.target);return e}}),m=w.Class.extend({init:function(e){this.links=[];this.nodes=[];this._nodeMap=new B;this.diagram=null;this._root=null;if(I.isDefined(e))if(I.isString(e))this.id=e;else{this.diagram=e;this.id=e.id}else this.id=T();this.bounds=new x;this._hasCachedRelationships=false;this.type="Graph"},cacheRelationships:function(e){if(I.isUndefined(e))e=false;if(this._hasCachedRelationships&&!e)return;for(var t=0,i=this.nodes.length;t<i;t++){var r=this.nodes[t];r.children=this.getChildren(r);r.parents=this.getParents(r)}this._hasCachedRelationships=true},assignLevels:function(e,t,i){if(!e)throw"Start node not specified.";if(I.isUndefined(t))t=0;this.cacheRelationships();if(I.isUndefined(i)){i=new B;I.forEach(this.nodes,function(e){i.add(e,false)})}i.set(e,true);e.level=t;var r=e.children;for(var n=0,a=r.length;n<a;n++){var o=r[n];if(!o||i.get(o))continue;this.assignLevels(o,t+1,i)}},root:function(e){if(I.isUndefined(e))if(!this._root){var t=I.first(this.nodes,function(e){return e.incoming.length===0});if(t)return t;return I.first(this.nodes)}else return this._root;else this._root=e},getConnectedComponents:function(){this.componentIndex=0;this.setItemIndices();var e=I.initArray(this.nodes.length,-1);for(var t=0;t<this.nodes.length;t++)if(e[t]===-1){this._collectConnectedNodes(e,t);this.componentIndex++}var i=[],r;for(r=0;r<this.componentIndex;++r)i[r]=new m;for(r=0;r<e.length;++r){var n=i[e[r]];n.addNodeAndOutgoings(this.nodes[r])}i.sort(function(e,t){return t.nodes.length-e.nodes.length});return i},_collectConnectedNodes:function(r,e){r[e]=this.componentIndex;var n=this.nodes[e];I.forEach(n.links,function(e){var t=e.getComplement(n);var i=t.index;if(r[i]===-1)this._collectConnectedNodes(r,i)},this)},calcBounds:function(){if(this.isEmpty()){this.bounds=new x;return this.bounds}var e=null;for(var t=0,i=this.nodes.length;t<i;t++){var r=this.nodes[t];if(!e)e=r.bounds();else e=e.union(r.bounds())}this.bounds=e;return this.bounds},getSpanningTree:function(e){var t=new m;var i=new B,r,n;t.root=e.clone();t.root.level=0;t.root.id=e.id;i.add(e,t.root);e.level=0;var a=[];var o=[];t._addNode(t.root);a.push(e);o.push(e);var s=1;while(o.length>0){var l=o.pop();for(var h=0;h<l.links.length;h++){var u=l.links[h];var c=u.getComplement(l);if(v(a,c))continue;c.level=l.level+1;if(s<c.level+1)s=c.level+1;if(!v(o,c))o.push(c);if(!v(a,c))a.push(c);if(i.containsKey(l))r=i.get(l);else{r=l.clone();r.level=l.level;r.id=l.id;i.add(l,r)}if(i.containsKey(c))n=i.get(c);else{n=c.clone();n.level=c.level;n.id=c.id;i.add(c,n)}var f=new P(r,n);t.addLink(f)}}var d=[];for(var p=0;p<s;p++)d.push([]);I.forEach(t.nodes,function(e){d[e.level].push(e)});t.treeLevels=d;t.cacheRelationships();return t},takeRandomNode:function(t,i){if(I.isUndefined(t))t=[];if(I.isUndefined(i))i=4;if(this.nodes.length===0)return null;if(this.nodes.length===1)return v(t,this.nodes[0])?null:this.nodes[0];var e=r.grep(this.nodes,function(e){return!v(t,e)&&e.degree()<=i});if(I.isEmpty(e))return null;return e[I.randomInteger(0,e.length)]},isEmpty:function(){return I.isEmpty(this.nodes)},isHealthy:function(){return I.all(this.links,function(e){return v(this.nodes,e.source)&&v(this.nodes,e.target)},this)},getParents:function(e){if(!this.hasNode(e))throw"The given node is not part of this graph.";return e.getParents()},getChildren:function(e){if(!this.hasNode(e))throw"The given node is not part of this graph.";return e.getChildren()},addLink:function(e,t,i){if(I.isUndefined(e))throw"The source of the link is not defined.";if(I.isUndefined(t))if(I.isDefined(e.type)&&e.type==="Link"){this.addExistingLink(e);return}else throw"The target of the link is not defined.";var r=this.getNode(e);if(I.isUndefined(r))r=this.addNode(e);var n=this.getNode(t);if(I.isUndefined(n))n=this.addNode(t);var a=new P(r,n);if(I.isDefined(i))a.owner=i;this.links.push(a);return a},removeAllLinks:function(){while(this.links.length>0){var e=this.links[0];this.removeLink(e)}},addExistingLink:function(e){if(this.hasLink(e))return;this.links.push(e);if(this.hasNode(e.source.id)){var t=this.getNode(e.source.id);e.changeSource(t)}else this.addNode(e.source);if(this.hasNode(e.target.id)){var i=this.getNode(e.target.id);e.changeTarget(i)}else this.addNode(e.target)},hasLink:function(t){if(I.isString(t))return I.any(this.links,function(e){return e.id===t});if(t.type==="Link")return v(this.links,t);throw"The given object is neither an identifier nor a Link."},getNode:function(e){var t=e.id||e;if(this._nodeMap.containsKey(t))return this._nodeMap.get(t)},hasNode:function(e){var t=e.id||e;return this._nodeMap.containsKey(t)},_addNode:function(e){this.nodes.push(e);this._nodeMap.add(e.id,e)},_removeNode:function(e){I.remove(this.nodes,e);this._nodeMap.remove(e.id)},removeNode:function(e){var t=e;if(I.isString(e))t=this.getNode(e);if(I.isDefined(t)){var i=t.links;t.links=[];for(var r=0,n=i.length;r<n;r++){var a=i[r];this.removeLink(a)}this._removeNode(t)}else throw"The identifier should be a Node or the Id (string) of a node."},areConnected:function(t,i){return I.any(this.links,function(e){return e.source==t&&e.target==i||e.source==i&&e.target==t})},removeLink:function(e){I.remove(this.links,e);I.remove(e.source.outgoing,e);I.remove(e.source.links,e);I.remove(e.target.incoming,e);I.remove(e.target.links,e)},addNode:function(e,t,i){var r=null;if(!I.isDefined(e))throw"No Node or identifier for a new Node is given.";if(I.isString(e)){if(this.hasNode(e))return this.getNode(e);r=new g(e)}else{if(this.hasNode(e))return this.getNode(e);r=e}if(I.isDefined(t))r.bounds(t);if(I.isDefined(i))r.owner=i;this._addNode(r);return r},addNodeAndOutgoings:function(e){if(!this.hasNode(e))this._addNode(e);var t=e.outgoing;e.outgoing=[];I.forEach(t,function(e){this.addExistingLink(e)},this)},setItemIndices:function(){var e;for(e=0;e<this.nodes.length;++e)this.nodes[e].index=e;for(e=0;e<this.links.length;++e)this.links[e].index=e},clone:function(e){var i=new m;var r=I.isDefined(e)&&e===true;if(r){i.nodeMap=new B;i.linkMap=new B}var n=new B;I.forEach(this.nodes,function(e){var t=e.clone();n.set(e,t);i._addNode(t);if(r)i.nodeMap.set(t,e)});I.forEach(this.links,function(e){if(n.containsKey(e.source)&&n.containsKey(e.target)){var t=i.addLink(n.get(e.source),n.get(e.target));if(r)i.linkMap.set(t,e)}});return i},linearize:function(e){return m.Utils.linearize(this,e)},depthFirstTraversal:function(e,t){if(I.isUndefined(e))throw"You need to supply a starting node.";if(I.isUndefined(t))throw"You need to supply an action.";if(!this.hasNode(e))throw"The given start-node is not part of this graph";var i=this.getNode(e);var r=[];this._dftIterator(i,t,r)},_dftIterator:function(e,t,i){t(e);i.push(e);var r=e.getChildren();for(var n=0,a=r.length;n<a;n++){var o=r[n];if(v(i,o))continue;this._dftIterator(o,t,i)}},breadthFirstTraversal:function(e,t){if(I.isUndefined(e))throw"You need to supply a starting node.";if(I.isUndefined(t))throw"You need to supply an action.";if(!this.hasNode(e))throw"The given start-node is not part of this graph";var i=this.getNode(e);var r=new D;var n=[];r.enqueue(i);while(r.length>0){var a=r.dequeue();t(a);n.push(a);var o=a.getChildren();for(var s=0,l=o.length;s<l;s++){var c=o[s];if(v(n,c)||v(r,c))continue;r.enqueue(c)}}},_stronglyConnectedComponents:function(e,t,i,r,n,a,o){i.add(t,o);r.add(t,o);o++;a.push(t);var h=t.getChildren(),s;for(var l=0,u=h.length;l<u;l++){s=h[l];if(!i.containsKey(s)){this._stronglyConnectedComponents(e,s,i,r,n,a,o);r.add(t,Math.min(r.get(t),r.get(s)))}else if(v(a,s))r.add(t,Math.min(r.get(t),i.get(s)))}if(r.get(t)===i.get(t)){var c=[];do{s=a.pop();c.push(s)}while(s!==t);if(!e||c.length>1)n.push(c)}},findCycles:function(e){if(I.isUndefined(e))e=true;var t=new B;var i=new B;var r=[];var n=[];for(var a=0,o=this.nodes.length;a<o;a++){var s=this.nodes[a];if(t.containsKey(s))continue;this._stronglyConnectedComponents(e,s,t,i,r,n,0)}return r},isAcyclic:function(){return I.isEmpty(this.findCycles())},isSubGraph:function(e){var t=e.linearize();var i=this.linearize();return I.all(t,function(e){return v(i,e)})},makeAcyclic:function(){if(this.isEmpty()||this.nodes.length<=1||this.links.length<=1)return[];if(this.nodes.length==2){var h=[];if(this.links.length>1){var u=this.links[0];var f=u.source;for(var d=0,p=this.links.length;d<p;d++){var v=this.links[d];if(v.source==f)continue;var g=v.reverse();h.push(g)}}return h}var e=this.clone(true);var r=this.nodes.length;var t=new B;var n=function(e){if(e.outgoing.length===0)return 2-r;else if(e.incoming.length===0)return r-2;else return e.outgoing.length-e.incoming.length};var m=function(e,t){var i=n(e,r);if(!t.containsKey(i))t.set(i,[]);t.get(i).push(e)};I.forEach(e.nodes,function(e){m(e,t)});var i=[];var _=[];while(e.nodes.length>0){var a,o,s;if(t.containsKey(2-r)){var y=t.get(2-r);while(y.length>0){o=y.pop();for(var w=0;w<o.links.length;w++){var b=o.links[w];a=b.getComplement(o);s=n(a,r);I.remove(t.get(s),a);a.removeLink(b);m(a,t)}e._removeNode(o);_.unshift(o)}}if(t.containsKey(r-2)){var x=t.get(r-2);while(x.length>0){a=x.pop();for(var k=0;k<a.links.length;k++){var C=a.links[k];o=C.getComplement(a);s=n(o,r);I.remove(t.get(s),o);o.removeLink(C);m(o,t)}i.push(a);e._removeNode(a)}}if(e.nodes.length>0)for(var l=r-3;l>2-r;l--)if(t.containsKey(l)&&t.get(l).length>0){var S=t.get(l);var c=S.pop();for(var T=0;T<c.links.length;T++){var A=c.links[T];var M=A.getComplement(c);s=n(M,r);I.remove(t.get(s),M);M.removeLink(A);m(M,t)}i.push(c);e._removeNode(c);break}}i=i.concat(_);var D=new B;for(var E=0;E<this.nodes.length;E++)D.set(e.nodeMap.get(i[E]),E);var P=[];I.forEach(this.links,function(e){if(D.get(e.source)>D.get(e.target)){e.reverse();P.push(e)}});return P}});m.Predefined={EightGraph:function(){return m.Utils.parse(["1->2","2->3","3->4","4->1","3->5","5->6","6->7","7->3"])},Mindmap:function(){return m.Utils.parse(["0->1","0->2","0->3","0->4","0->5","1->6","1->7","7->8","2->9","9->10","9->11","3->12","12->13","13->14","4->15","4->16","15->17","15->18","18->19","18->20","14->21","14->22","5->23","23->24","23->25","6->26"])},ThreeGraph:function(){return m.Utils.parse(["1->2","2->3","3->1"])},BinaryTree:function(e){if(I.isUndefined(e))e=5;return m.Utils.createBalancedTree(e,2)},Linear:function(e){if(I.isUndefined(e))e=10;return m.Utils.createBalancedTree(e,1)},Tree:function(e,t){return m.Utils.createBalancedTree(e,t)},Forest:function(e,t,i){return m.Utils.createBalancedForest(e,t,i)},Workflow:function(){return m.Utils.parse(["0->1","1->2","2->3","1->4","4->3","3->5","5->6","6->3","6->7","5->4"])},Grid:function(e,t){var i=new p.Graph;if(e<=0&&t<=0)return i;for(var r=0;r<e+1;r++){var n=null;for(var a=0;a<t+1;a++){var o=new g(r.toString()+"."+a.toString());i.addNode(o);if(n)i.addLink(n,o);if(r>0){var s=i.getNode((r-1).toString()+"."+a.toString());i.addLink(s,o)}n=o}}return i}},m.Utils={parse:function(e){var t,i=new p.Graph,r=e.slice();for(var n=0,a=r.length;n<a;n++){var o=r[n];if(I.isString(o)){if(o.indexOf("->")<0)throw"The link should be specified as 'a->b'.";var s=o.split("->");if(s.length!=2)throw"The link should be specified as 'a->b'.";t=new P(s[0],s[1]);i.addLink(t)}if(I.isObject(o)){if(!t)throw"Specification found before Link definition.";w.deepExtend(t,o)}}return i},linearize:function(e,t){if(I.isUndefined(e))throw"Expected an instance of a Graph object in slot one.";if(I.isUndefined(t))t=false;var i=[];for(var r=0,n=e.links.length;r<n;r++){var a=e.links[r];i.push(a.source.id+"->"+a.target.id);if(t)i.push({id:a.id})}return i},_addShape:function(e,t,i,r){if(I.isUndefined(t))t=new p.Point(0,0);if(I.isUndefined(i))i=T();r=w.deepExtend({width:20,height:20,id:i,radius:10,fill:"#778899",data:"circle",undoable:false,x:t.x,y:t.y},r);return e.addShape(r)},_addConnection:function(e,t,i,r){return e.connect(t,i,r)},createDiagramFromGraph:function(e,t,i,r){if(I.isUndefined(e))throw"The diagram surface is undefined.";if(I.isUndefined(t))throw"No graph specification defined.";if(I.isUndefined(i))i=true;if(I.isUndefined(r))r=false;var h=e.element.clientWidth||200;var u=e.element.clientHeight||200;var n=[],a,o;for(var s=0,f=t.nodes.length;s<f;s++){a=t.nodes[s];var l=a.position;if(I.isUndefined(l))if(I.isDefined(a.x)&&I.isDefined(a.y))l=new b(a.x,a.y);else l=new b(I.randomInteger(10,h-20),I.randomInteger(10,u-20));var d={};if(a.id==="0");else if(r)w.deepExtend(d,{width:Math.random()*150+20,height:Math.random()*80+50,data:"rectangle",fill:{color:"#778899"}});o=this._addShape(e,l,a.id,d);var c=o.bounds();if(I.isDefined(c)){a.x=c.x;a.y=c.y;a.width=c.width;a.height=c.height}n[a.id]=o}for(var p=0;p<t.links.length;p++){var v=t.links[p];var g=n[v.source.id];if(I.isUndefined(g))continue;var m=n[v.target.id];if(I.isUndefined(m))continue;this._addConnection(e,g,m,{id:v.id})}if(i){var _=new e.SpringLayout(e);_.layoutGraph(t,{limitToView:false});for(var y=0;y<t.nodes.length;y++){a=t.nodes[y];o=n[a.id];o.bounds(new x(a.x,a.y,a.width,a.height))}}},createBalancedTree:function(e,t){if(I.isUndefined(e))e=3;if(I.isUndefined(t))t=3;var i=new p.Graph,r=-1,n=[],a;if(e<=0||t<=0)return i;var o=new g((++r).toString());i.addNode(o);i.root=o;n.push(o);for(var s=0;s<e;s++){a=[];for(var l=0;l<n.length;l++){var h=n[l];for(var c=0;c<t;c++){var u=new g((++r).toString());i.addLink(h,u);a.push(u)}}n=a}return i},createBalancedForest:function(e,t,i){if(I.isUndefined(e))e=3;if(I.isUndefined(t))t=3;if(I.isUndefined(i))i=5;var r=new p.Graph,n=-1,a=[],o;if(e<=0||t<=0||i<=0)return r;for(var s=0;s<i;s++){var l=new g((++n).toString());r.addNode(l);a=[l];for(var h=0;h<e;h++){o=[];for(var c=0;c<a.length;c++){var u=a[c];for(var f=0;f<t;f++){var d=new g((++n).toString());r.addLink(u,d);o.push(d)}}a=o}}return r},createRandomConnectedGraph:function(e,t,i){if(I.isUndefined(e))e=40;if(I.isUndefined(t))t=4;if(I.isUndefined(i))i=false;var r=new p.Graph,n=-1;if(e<=0)return r;var h=new g((++n).toString());r.addNode(h);if(e===1)return r;if(e>1){for(var a=1;a<e;a++){var o=r.takeRandomNode([],t);if(!o)break;var u=r.addNode(a.toString());r.addLink(o,u)}if(!i&&e>1){var f=I.randomInteger(1,e);for(var s=0;s<f;s++){var l=r.takeRandomNode([],t);var c=r.takeRandomNode([],t);if(l&&c&&!r.areConnected(l,c))r.addLink(l,c)}}return r}},randomDiagram:function(e,t,i,r,n){var a=w.dataviz.diagram.Graph.Utils.createRandomConnectedGraph(t,i,r);m.Utils.createDiagramFromGraph(e,a,false,n)}},w.deepExtend(p,{init:function(e){w.init(e,p.ui)},Point:b,Intersect:_,Geometry:A,Rect:x,Size:u,RectAlign:y,Matrix:n,MatrixVector:C,normalVariable:S,randomId:T,Dictionary:B,HashTable:M,Queue:D,Set:E,Node:g,Link:P,Graph:m,PathDefiner:h})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("dataviz/diagram/svg.min",["../../kendo.drawing.min","./math.min"],function(){var u=window.kendo.jQuery,f=void 0,i=window.kendo,t=i.dataviz.diagram,e=i.Class,l=i.deepExtend,d=t.Point,p=t.Rect,v=t.Matrix,g=t.Utils,m=g.isNumber,_=g.isString,y=t.MatrixVector,s=i.geometry,a=i.drawing,o=a.util.defined,w=u.inArray,b="transparent",x={none:"none",arrowStart:"ArrowStart",filledCircle:"FilledCircle",arrowEnd:"ArrowEnd"},k=360,c="start",C="end",S="width",T="height",A="x",M="y";function D(e,t){var i=this.options;var r=false;var n,a;for(var o=0;o<t.length;o++){a=t[o];n=e[a];if(m(n)&&i[a]!==n){i[a]=n;r=true}}return r}t.Markers=x;var E=e.extend({init:function(e,t){this.x=e;this.y=t},toMatrix:function(){return v.scaling(this.x,this.y)},toString:function(){return i.format("scale({0},{1})",this.x,this.y)},invert:function(){return new E(1/this.x,1/this.y)}}),P=e.extend({init:function(e,t){this.x=e;this.y=t},toMatrixVector:function(){return new y(0,0,0,0,this.x,this.y)},toMatrix:function(){return v.translation(this.x,this.y)},toString:function(){return i.format("translate({0},{1})",this.x,this.y)},plus:function(e){this.x+=e.x;this.y+=e.y},times:function(e){this.x*=e;this.y*=e},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){if(this.Length===0)return;this.times(1/this.length())},invert:function(){return new P(-this.x,-this.y)}}),h=e.extend({init:function(e,t,i){this.x=t||0;this.y=i||0;this.angle=e},toString:function(){if(this.x&&this.y)return i.format("rotate({0},{1},{2})",this.angle,this.x,this.y);else return i.format("rotate({0})",this.angle)},toMatrix:function(){return v.rotation(this.angle,this.x,this.y)},center:function(){return new d(this.x,this.y)},invert:function(){return new h(k-this.angle,this.x,this.y)}}),I=(h.ZERO=new h(0),h.create=function(e){return new h(e.angle,e.x,e.y)},h.parse=function(e){var t=e.slice(1,e.length-1).split(","),i=t[0],r=t[1],n=t[2];var a=new h(i,r,n);return a},e.extend({init:function(e,t,i,r,n,a){this.translate=new P(e,t);if(i!==f&&r!==f)this.scale=new E(i,r);if(n!==f)this.rotate=a?new h(n,a.x,a.y):new h(n)},toString:function(){var e=function(e){return e?e.toString():""};return e(this.translate)+e(this.rotate)+e(this.scale)},render:function(e){e._transform=this;e._renderTransform()},toMatrix:function(){var e=v.unit();if(this.translate)e=e.times(this.translate.toMatrix());if(this.rotate)e=e.times(this.rotate.toMatrix());if(this.scale)e=e.times(this.scale.toMatrix());return e},invert:function(){var e=this.rotate?this.rotate.invert():f,t=e?e.toMatrix():v.unit(),i=this.scale?this.scale.invert():f,r=i?i.toMatrix():v.unit();var n=new d(-this.translate.x,-this.translate.y);n=t.times(r).apply(n);var a=new P(n.x,n.y);var o=new I;o.translate=a;o.rotate=e;o.scale=i;return o}})),B={_setScale:function(){var e=this.options;var t=this._originWidth;var i=this._originHeight;var r=e.width/t;var n=e.height/i;if(!m(r))r=1;if(!m(n))n=1;this._transform.scale=new E(r,n)},_setTranslate:function(){var e=this.options;var t=e.x||0;var i=e.y||0;this._transform.translate=new P(t,i)},_initSize:function(){var e=this.options;var t=false;if(e.autoSize!==false&&(o(e.width)||o(e.height))){this._measure(true);this._setScale();t=true}if(o(e.x)||o(e.y)){this._setTranslate();t=true}if(t)this._renderTransform()},_updateSize:function(e){var t=false;if(this.options.autoSize!==false&&this._diffNumericOptions(e,[S,T])){t=true;this._measure(true);this._setScale()}if(this._diffNumericOptions(e,[A,M])){t=true;this._setTranslate()}if(t)this._renderTransform();return t}},r=e.extend({init:function(e){var t=this;t.options=l({},t.options,e);t.id=t.options.id;t._originSize=p.empty();t._transform=new I},visible:function(e){return this.drawingContainer().visible(e)},redraw:function(e){if(e&&e.id)this.id=e.id},position:function(e,t){var i=this.options;if(!o(e))return new d(i.x,i.y);if(o(t)){i.x=e;i.y=t}else if(e instanceof d){i.x=e.x;i.y=e.y}this._transform.translate=new P(i.x,i.y);this._renderTransform()},rotate:function(e,t){if(o(e)){this._transform.rotate=new h(e,t.x,t.y);this._renderTransform()}return this._transform.rotate||h.ZERO},drawingContainer:function(){return this.drawingElement},_renderTransform:function(){var e=this._transform.toMatrix();this.drawingContainer().transform(new s.Matrix(e.a,e.b,e.c,e.d,e.e,e.f))},_hover:function(){},_diffNumericOptions:D,_measure:function(e){var t;if(!this._measured||e){var i=this._boundingBox()||new s.Rect;var r=i.topLeft();t=new p(r.x,r.y,i.width(),i.height());this._originSize=t;this._originWidth=t.width;this._originHeight=t.height;this._measured=true}else t=this._originSize;return t},_boundingBox:function(){return this.drawingElement.rawBBox()}}),n=r.extend({init:function(e){r.fn.init.call(this,e);e=this.options;e.fill=X(e.fill);e.stroke=X(e.stroke)},options:{stroke:{color:"gray",width:1},fill:{color:b}},fill:function(e,t){this._fill({color:K(e),opacity:t})},stroke:function(e,t,i){this._stroke({color:K(e),width:t,opacity:i})},redraw:function(e){if(e){var t=e.stroke;var i=e.fill;if(t)this._stroke(X(t));if(i)this._fill(X(i));r.fn.redraw.call(this,e)}},_hover:function(e){var t=this.drawingElement;var i=this.options;var r=i.hover;if(r&&r.fill){var n=e?X(r.fill):i.fill;t.fill(n.color,n.opacity)}},_stroke:function(e){var t=this.options;l(t,{stroke:e});e=t.stroke;var i=null;if(e.width>0)i={color:e.color,width:e.width,opacity:e.opacity,dashType:e.dashType};this.drawingElement.options.set("stroke",i)},_fill:function(e){var t=this.options;l(t,{fill:e||{}});var i=t.fill;if(i.gradient){var r=i.gradient;var n=r.type==="radial"?a.RadialGradient:a.LinearGradient;this.drawingElement.fill(new n(r))}else this.drawingElement.fill(i.color,i.opacity)}}),z=n.extend({init:function(e){e=this._textColor(e);n.fn.init.call(this,e);this._font();this._initText();this._initSize()},options:{fontSize:15,fontFamily:"sans-serif",stroke:{width:0},fill:{color:"black"},autoSize:true},_initText:function(){var e=this.options;this.drawingElement=new a.Text(o(e.text)?e.text:"",new s.Point,{font:e.font});this._fill();this._stroke()},_textColor:function(e){if(e&&e.color)e=l({},e,{fill:{color:e.color}});return e},_font:function(){var e=this.options;if(e.fontFamily&&o(e.fontSize)){var t=[];if(e.fontStyle)t.push(e.fontStyle);if(e.fontWeight)t.push(e.fontWeight);t.push(e.fontSize+(m(e.fontSize)?"px":""));t.push(e.fontFamily);e.font=t.join(" ")}else delete e.font},content:function(e){return this.drawingElement.content(e)},redraw:function(e){if(e){var t=false;var i=this.options;e=this._textColor(e);n.fn.redraw.call(this,e);if(e.fontFamily||o(e.fontSize)||e.fontStyle||e.fontWeight){l(i,{fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight});this._font();this.drawingElement.options.set("font",i.font);t=true}if(e.text){this.content(e.text);t=true}if(!this._updateSize(e)&&t)this._initSize()}}}),O=(l(z.fn,B),n.extend({init:function(e){n.fn.init.call(this,e);this._initPath();this._setPosition()},_setPosition:function(){var e=this.options;var t=e.x;var i=e.y;if(o(t)||o(i))this.position(t||0,i||0)},redraw:function(e){if(e){n.fn.redraw.call(this,e);if(this._diffNumericOptions(e,[S,T]))this._drawPath();if(this._diffNumericOptions(e,[A,M]))this._setPosition()}},_initPath:function(){var e=this.options;this.drawingElement=new a.Path({stroke:e.stroke,closed:true});this._fill();this._drawPath()},_drawPath:function(){var e=this.drawingElement;var t=$(this.options);var i=t.width;var r=t.height;e.segments.elements([Z(0,0),Z(i,0),Z(i,r),Z(0,r)])}})),L=n.extend({init:function(e){n.fn.init.call(this,e);var t=this.options.anchor;this.anchor=new s.Point(t.x,t.y);this.createElement()},options:{stroke:{color:b,width:0},fill:{color:"black"}},_transformToPath:function(e,t){var i=t.transform();if(e&&i)e=e.transformCopy(i);return e},redraw:function(e){if(e){if(e.position)this.options.position=e.position;n.fn.redraw.call(this,e)}}}),R=L.extend({options:{radius:4,anchor:{x:0,y:0}},createElement:function(){var e=this.options;this.drawingElement=new a.Circle(new s.Circle(this.anchor,e.radius),{fill:e.fill,stroke:e.stroke})},positionMarker:function(e){var t=this.options;var i=t.position;var r=e.segments;var n;var a;if(i==c)n=r[0];else n=r[r.length-1];if(n){a=this._transformToPath(n.anchor(),e);this.drawingElement.transform(s.transform().translate(a.x,a.y))}}}),F=L.extend({options:{path:"M 0 0 L 10 5 L 0 10 L 3 5 z",anchor:{x:10,y:5}},createElement:function(){var e=this.options;this.drawingElement=a.Path.parse(e.path,{fill:e.fill,stroke:e.stroke})},positionMarker:function(e){var t=this._linePoints(e);var i=t.start;var r=t.end;var n=s.transform();if(i)n.rotate(Q(i,r),r);if(r){var a=this.anchor;var o=r.clone().translate(-a.x,-a.y);n.translate(o.x,o.y)}this.drawingElement.transform(n)},_linePoints:function(e){var t=this.options;var i=e.segments;var r,n,a;if(t.position==c){a=i[0];if(a){n=a.anchor();r=a.controlOut();var o=i[1];if(!r&&o)r=o.anchor()}}else{a=i[i.length-1];if(a){n=a.anchor();r=a.controlIn();var s=i[i.length-2];if(!r&&s)r=s.anchor()}}if(n)return{start:this._transformToPath(r,e),end:this._transformToPath(n,e)}}}),V={_getPath:function(e){var t=this.drawingElement;if(t instanceof a.MultiPath)if(e==c)t=t.paths[0];else t=t.paths[t.paths.length-1];if(t&&t.segments.length)return t},_normalizeMarkerOptions:function(e){var t=e.startCap;var i=e.endCap;if(_(t))e.startCap={type:t};if(_(i))e.endCap={type:i}},_removeMarker:function(e){var t=this._markers[e];if(t){this.drawingContainer().remove(t.drawingElement);delete this._markers[e]}},_createMarkers:function(){var e=this.options;this._normalizeMarkerOptions(e);this._markers={};this._markers[c]=this._createMarker(e.startCap,c);this._markers[C]=this._createMarker(e.endCap,C)},_createMarker:function(e,t){var i=(e||{}).type;var r=this._getPath(t);var n,a;if(!r){this._removeMarker(t);return}if(i==x.filledCircle)n=R;else if(i==x.arrowStart||i==x.arrowEnd)n=F;else this._removeMarker(t);if(n){a=new n(l({},e,{position:t}));a.positionMarker(r);this.drawingContainer().append(a.drawingElement);return a}},_positionMarker:function(e){var t=this._markers[e];if(t){var i=this._getPath(e);if(i)t.positionMarker(i);else this._removeMarker(e)}},_capMap:{start:"startCap",end:"endCap"},_redrawMarker:function(e,t,i){this._normalizeMarkerOptions(i);var r=this.options;var n=this._capMap[t];var a=(r[n]||{}).type;var o=i[n];var s=false;if(o){r[n]=l({},r[n],o);if(o.type&&a!=o.type){this._removeMarker(t);this._markers[t]=this._createMarker(r[n],t);s=true}else if(this._markers[t])this._markers[t].redraw(o)}else if(e&&!this._markers[t]&&r[n]){this._markers[t]=this._createMarker(r[n],t);s=true}return s},_redrawMarkers:function(e,t){if(!this._redrawMarker(e,c,t)&&e)this._positionMarker(c);if(!this._redrawMarker(e,C,t)&&e)this._positionMarker(C)}},N=n.extend({init:function(e){n.fn.init.call(this,e);this.container=new a.Group;this._createElements();this._initSize()},options:{autoSize:true},drawingContainer:function(){return this.container},data:function(e){var t=this.options;if(e){if(t.data!=e){t.data=e;this._setData(e);this._initSize();this._redrawMarkers(true,{})}}else return t.data},redraw:function(e){if(e){n.fn.redraw.call(this,e);var t=this.options;var i=e.data;if(o(i)&&t.data!=i){t.data=i;this._setData(i);if(!this._updateSize(e))this._initSize();this._redrawMarkers(true,e)}else{this._updateSize(e);this._redrawMarkers(false,e)}}},_createElements:function(){var e=this.options;this.drawingElement=a.Path.parse(e.data||"",{stroke:e.stroke});this._fill();this.container.append(this.drawingElement);this._createMarkers()},_setData:function(e){var t=this.drawingElement;var i=a.Path.parse(e||"");var r=i.paths.slice(0);i.paths.elements([]);t.paths.elements(r)}}),H=(l(N.fn,B),l(N.fn,V),n.extend({init:function(e){n.fn.init.call(this,e);this.container=new a.Group;this._initPath();this._createMarkers()},drawingContainer:function(){return this.container},redraw:function(e){if(e){e=e||{};var t=e.from;var i=e.to;if(t)this.options.from=t;if(i)this.options.to=i;if(t||i){this._drawPath();this._redrawMarkers(true,e)}else this._redrawMarkers(false,e);n.fn.redraw.call(this,e)}},_initPath:function(){var e=this.options;var t=this.drawingElement=new a.Path({stroke:e.stroke});this._fill();this._drawPath();this.container.append(t)},_drawPath:function(){var e=this.options;var t=this.drawingElement;var i=e.from||new d;var r=e.to||new d;t.segments.elements([Z(i.x,i.y),Z(r.x,r.y)])}})),U=(l(H.fn,V),n.extend({init:function(e){n.fn.init.call(this,e);this.container=new a.Group;this._initPath();this._createMarkers()},drawingContainer:function(){return this.container},points:function(e){var t=this.options;if(e){t.points=e;this._updatePath()}else return t.points},redraw:function(e){if(e){var t=e.points;n.fn.redraw.call(this,e);if(t&&this._pointsDiffer(t)){this.points(t);this._redrawMarkers(true,e)}else this._redrawMarkers(false,e)}},_initPath:function(){var e=this.options;this.drawingElement=new a.Path({stroke:e.stroke});this._fill();this.container.append(this.drawingElement);if(e.points)this._updatePath()},_pointsDiffer:function(e){var t=this.options.points;var i=t.length!==e.length;if(!i)for(var r=0;r<e.length;r++)if(t[r].x!==e[r].x||t[r].y!==e[r].y){i=true;break}return i},_updatePath:function(){var e=this.drawingElement;var t=this.options;var i=t.points;var r=[];var n;for(var a=0;a<i.length;a++){n=i[a];r.push(Z(n.x,n.y))}e.segments.elements(r)},options:{points:[]}})),j=(l(U.fn,V),r.extend({init:function(e){r.fn.init.call(this,e);this._initImage()},redraw:function(e){if(e){if(e.source)this.drawingElement.src(e.source);if(this._diffNumericOptions(e,[S,T,A,M]))this.drawingElement.rect(this._rect());r.fn.redraw.call(this,e)}},_initImage:function(){var e=this.options;var t=this._rect();this.drawingElement=new a.Image(e.source,t,{})},_rect:function(){var e=$(this.options);var t=new s.Point(e.x,e.y);var i=new s.Size(e.width,e.height);return new s.Rect(t,i)}})),G=r.extend({init:function(e){this.children=[];r.fn.init.call(this,e);this.drawingElement=new a.Group;this._initSize()},options:{autoSize:false},append:function(e){this.drawingElement.append(e.drawingContainer());this.children.push(e);this._childrenChange=true},remove:function(e){if(this._remove(e))this._childrenChange=true},_remove:function(e){var t=w(e,this.children);if(t>=0){this.drawingElement.removeAt(t);this.children.splice(t,1);return true}},clear:function(){this.drawingElement.clear();this.children=[];this._childrenChange=true},toFront:function(e){var t;for(var i=0;i<e.length;i++){t=e[i];if(this._remove(t))this.append(t)}},toBack:function(e){this._reorderChildren(e,0)},toIndex:function(e,t){this._reorderChildren(e,t)},_reorderChildren:function(e,t){var i=this.drawingElement;var r=i.children.slice(0);var n=this.children;var h=m(t);var a,o,s,l,c;for(a=0;a<e.length;a++){c=e[a];l=c.drawingContainer();o=w(c,n);if(o>=0){r.splice(o,1);n.splice(o,1);s=h?t:t[a];r.splice(s,0,l);n.splice(s,0,c)}}i.clear();i.append.apply(i,r)},redraw:function(e){if(e){if(this._childrenChange){this._childrenChange=false;if(!this._updateSize(e))this._initSize()}else this._updateSize(e);r.fn.redraw.call(this,e)}},_boundingBox:function(){var e=this.children;var t;var i,r;for(var n=0;n<e.length;n++){i=e[n];if(i.visible()&&i._includeInBBox!==false){r=i.drawingContainer().clippedBBox(null);if(r)if(t)t=s.Rect.union(t,r);else t=r}}return t}}),W=(l(G.fn,B),G.extend({init:function(e,t){this.children=[];r.fn.init.call(this,t);this.drawingElement=new a.Layout(J(e),t);this._initSize()},rect:function(e){if(e)this.drawingElement.rect(J(e));else{var t=this.drawingElement.rect();if(t)return new p(t.origin.x,t.origin.y,t.size.width,t.size.height)}},reflow:function(){this.drawingElement.reflow()},redraw:function(e){i.deepExtend(this.drawingElement.options,e);G.fn.redraw.call(this,e)}})),q=n.extend({init:function(e){n.fn.init.call(this,e);this._initCircle();this._initSize()},redraw:function(e){if(e){var t=this.options;if(e.center){l(t,{center:e.center});this._center.move(t.center.x,t.center.y)}if(this._diffNumericOptions(e,["radius"]))this._circle.setRadius(t.radius);this._updateSize(e);n.fn.redraw.call(this,e)}},_initCircle:function(){var e=this.options;var t=e.width;var i=e.height;var r=e.radius;if(!o(r)){if(!o(t))t=i;if(!o(i))i=t;e.radius=r=Math.min(t,i)/2}var n=e.center||{x:r,y:r};this._center=new s.Point(n.x,n.y);this._circle=new s.Circle(this._center,r);this.drawingElement=new a.Circle(this._circle,{stroke:e.stroke});this._fill()}}),Y=(l(q.fn,B),e.extend({init:function(e,t){t=t||{};this.element=e;this.surface=a.Surface.create(e,t);if(i.isFunction(this.surface.translate))this.translate=this._translate;this.drawingElement=new a.Group;this._viewBox=new p(0,0,t.width,t.height);this.size(this._viewBox)},bounds:function(){var e=this.drawingElement.clippedBBox();return new p(0,0,e.width(),e.height())},size:function(e){var t=this._viewBox;if(o(e)){t.width=e.width;t.height=e.height;this.surface.setSize(e)}return{width:t.width,height:t.height}},_translate:function(e,t){var i=this._viewBox;if(o(e)&&o(t)){i.x=e;i.y=t;this.surface.translate({x:e,y:t})}return{x:i.x,y:i.y}},draw:function(){this.surface.draw(this.drawingElement)},append:function(e){this.drawingElement.append(e.drawingContainer());return this},remove:function(e){this.drawingElement.remove(e.drawingContainer())},insertBefore:function(){},clear:function(){this.drawingElement.clear()},destroy:function(e){this.surface.destroy();if(e)u(this.element).remove()}}));function $(e){return{x:e.x||0,y:e.y||0,width:e.width||0,height:e.height||0}}function X(e){if(e){var t=e;if(_(t))t={color:t};if(t.color)t.color=K(t.color);return t}}function K(e){var t;if(e!=b)t=new a.Color(e).toHex();else t=e;return t}function Q(e,t){var i=t.x-e.x;var r=t.y-e.y;var n=a.util.deg(Math.atan2(r,i));return n}function Z(e,t){return new a.Segment(new s.Point(e,t))}function J(e){if(e)return new s.Rect([e.x,e.y],[e.width,e.height])}i.deepExtend(t,{init:function(e){i.init(e,t.ui)},diffNumericOptions:D,Element:r,Scale:E,Translation:P,Rotation:h,Circle:q,Group:G,Rectangle:O,Canvas:Y,Path:N,Layout:W,Line:H,MarkerBase:L,ArrowMarker:F,CircleMarker:R,Polyline:U,CompositeTransform:I,TextBlock:z,Image:j,VisualBase:n})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("dataviz/diagram/services.min",["../../kendo.drawing.min","./svg.min"],function(){var h=window.kendo.jQuery,o=void 0,l=window.kendo,t,c=l.dataviz.diagram,e=l.Class,u=c.Group,y=c.Rect,f=c.Rectangle,b=c.Utils,d=b.isUndefined,w=c.Point,p=c.Circle,i=c.Ticker,s=l.deepExtend,v=l.ui.Movable,g=l.drawing.util,a=g.defined,m=h.inArray,_=h.proxy,r={arrow:"default",grip:"pointer",cross:"pointer",add:"pointer",move:"move",select:"pointer",south:"s-resize",east:"e-resize",west:"w-resize",north:"n-resize",rowresize:"row-resize",colresize:"col-resize"},x=10,k="Auto",C="Top",S="Right",T="Left",A="Bottom",M=10,D=10,E="dragStart",P="drag",I="dragEnd",B="itemRotate",z="itemBoundsChange",O=5,L=5,R="mouseEnter",F="mouseLeave",V="zoomStart",N="zoomEnd",H=-2e4,U=2e4,j=.9,G=.93,W=5,q="transparent",Y="pan",$="rotated",X,K="target",Q={"-1":"source",1:K},Z=(c.Cursors=r,l.Class.extend({init:function(e){this.layoutState=e;this.diagram=e.diagram},initState:function(){this.froms=[];this.tos=[];this.subjects=[];function e(e,t){var i=this.diagram.getShapeById(e);if(i){this.subjects.push(i);this.froms.push(i.bounds().topLeft());this.tos.push(t.topLeft())}}this.layoutState.nodeMap.forEach(e,this)},update:function(e){if(this.subjects.length<=0)return;for(var t=0;t<this.subjects.length;t++)this.subjects[t].position(new w(this.froms[t].x+(this.tos[t].x-this.froms[t].x)*e,this.froms[t].y+(this.tos[t].y-this.froms[t].y)*e))}})),J=e.extend({init:function(e,t,i){if(d(i))this.animate=false;else this.animate=i;this._initialState=e;this._finalState=t;this.title="Diagram layout"},undo:function(){this.setState(this._initialState)},redo:function(){this.setState(this._finalState)},setState:function(e){var r=e.diagram;if(this.animate){e.linkMap.forEach(function(e,t){var i=r.getShapeById(e);i.visible(false);if(i)i.points(t)});var t=new i;t.addAdapter(new Z(e));t.onComplete(function(){e.linkMap.forEach(function(e){var t=r.getShapeById(e);t.visible(true)})});t.play()}else{e.nodeMap.forEach(function(e,t){var i=r.getShapeById(e);if(i)i.position(t.topLeft())});e.linkMap.forEach(function(e,t){var i=r.getShapeById(e);if(i)i.points(t)})}}}),ee=e.extend({init:function(e){this.units=[];this.title="Composite unit";if(e!==o)this.units.push(e)},add:function(e){this.units.push(e)},undo:function(){for(var e=0;e<this.units.length;e++)this.units[e].undo()},redo:function(){for(var e=0;e<this.units.length;e++)this.units[e].redo()}}),te=e.extend({init:function(e,t,i){this.item=e;this._redoSource=t;this._redoTarget=i;if(a(t))this._undoSource=e.source();if(a(i))this._undoTarget=e.target();this.title="Connection Editing"},undo:function(){if(this._undoSource!==o)this.item._updateConnector(this._undoSource,"source");if(this._undoTarget!==o)this.item._updateConnector(this._undoTarget,"target");this.item.updateModel()},redo:function(){if(this._redoSource!==o)this.item._updateConnector(this._redoSource,"source");if(this._redoTarget!==o)this.item._updateConnector(this._redoTarget,"target");this.item.updateModel()}}),ie=e.extend({init:function(e,t,i){this.item=e;this._undoSource=t;this._undoTarget=i;this._redoSource=e.source();this._redoTarget=e.target();this.title="Connection Editing"},undo:function(){this.item._updateConnector(this._undoSource,"source");this.item._updateConnector(this._undoTarget,"target");this.item.updateModel()},redo:function(){this.item._updateConnector(this._redoSource,"source");this.item._updateConnector(this._redoTarget,"target");this.item.updateModel()}}),re=e.extend({init:function(e){this.connection=e;this.diagram=e.diagram;this.targetConnector=e.targetConnector;this.title="Delete connection"},undo:function(){this.diagram._addConnection(this.connection,false)},redo:function(){this.diagram.remove(this.connection,false)}}),ne=e.extend({init:function(e){this.shape=e;this.diagram=e.diagram;this.title="Deletion"},undo:function(){this.diagram._addShape(this.shape,false);this.shape.select(false)},redo:function(){this.shape.select(false);this.diagram.remove(this.shape,false)}}),ae=e.extend({init:function(e,t,i){this.shapes=e;this.undoStates=t;this.title="Transformation";this.redoStates=[];this.adorner=i;for(var r=0;r<this.shapes.length;r++){var n=this.shapes[r];this.redoStates.push(n.bounds())}},undo:function(){for(var e=0;e<this.shapes.length;e++){var t=this.shapes[e];t.bounds(this.undoStates[e]);if(t.hasOwnProperty("layout"))t.layout(t,this.redoStates[e],this.undoStates[e]);t.updateModel()}if(this.adorner){this.adorner.refreshBounds();this.adorner.refresh()}},redo:function(){for(var e=0;e<this.shapes.length;e++){var t=this.shapes[e];t.bounds(this.redoStates[e]);if(t.hasOwnProperty("layout"))t.layout(t,this.undoStates[e],this.redoStates[e]);t.updateModel()}if(this.adorner){this.adorner.refreshBounds();this.adorner.refresh()}}}),oe=e.extend({init:function(e,t){this.connection=e;this.diagram=t;this.title="New connection"},undo:function(){this.diagram.remove(this.connection,false)},redo:function(){this.diagram._addConnection(this.connection,false)}}),se=e.extend({init:function(e,t){this.shape=e;this.diagram=t;this.title="New shape"},undo:function(){this.diagram.deselect();this.diagram.remove(this.shape,false)},redo:function(){this.diagram._addShape(this.shape,false)}}),le=e.extend({init:function(e,t,i){this.initial=e;this.finalPos=t;this.diagram=i;this.title="Pan Unit"},undo:function(){this.diagram.pan(this.initial)},redo:function(){this.diagram.pan(this.finalPos)}}),ce=e.extend({init:function(e,t,i){this.shapes=t;this.undoRotates=i;this.title="Rotation";this.redoRotates=[];this.redoAngle=e._angle;this.adorner=e;this.center=e._innerBounds.center();for(var r=0;r<this.shapes.length;r++){var n=this.shapes[r];this.redoRotates.push(n.rotate().angle)}},undo:function(){var e,t;for(e=0;e<this.shapes.length;e++){t=this.shapes[e];t.rotate(this.undoRotates[e],this.center,false);if(t.hasOwnProperty("layout"))t.layout(t);t.updateModel()}if(this.adorner){this.adorner._initialize();this.adorner.refresh()}},redo:function(){var e,t;for(e=0;e<this.shapes.length;e++){t=this.shapes[e];t.rotate(this.redoRotates[e],this.center,false);if(t.hasOwnProperty("layout"))t.layout(t);t.updateModel()}if(this.adorner){this.adorner._initialize();this.adorner.refresh()}}}),he=e.extend({init:function(e,t,i){this.diagram=e;this.indices=i;this.items=t;this.title="Rotate Unit"},undo:function(){this.diagram._toIndex(this.items,this.indices)},redo:function(){this.diagram.toFront(this.items,false)}}),ue=e.extend({init:function(e,t,i){this.diagram=e;this.indices=i;this.items=t;this.title="Rotate Unit"},undo:function(){this.diagram._toIndex(this.items,this.indices)},redo:function(){this.diagram.toBack(this.items,false)}}),fe=l.Observable.extend({init:function(e){l.Observable.fn.init.call(this,e);this.bind(this.events,e);this.stack=[];this.index=0;this.capacity=100},events:["undone","redone"],begin:function(){this.composite=new ee},cancel:function(){this.composite=o},commit:function(e){if(this.composite.units.length>0)this._restart(this.composite,e);this.composite=o},addCompositeItem:function(e){if(this.composite)this.composite.add(e);else this.add(e)},add:function(e,t){this._restart(e,t)},pop:function(){if(this.index>0){this.stack.pop();this.index--}},count:function(){return this.stack.length},undo:function(){if(this.index>0){this.index--;this.stack[this.index].undo();this.trigger("undone")}},redo:function(){if(this.stack.length>0&&this.index<this.stack.length){this.stack[this.index].redo();this.index++;this.trigger("redone")}},_restart:function(e,t){this.stack.splice(this.index,this.stack.length-this.index);this.stack.push(e);if(t!==false)this.redo();else this.index++;if(this.stack.length>this.capacity){this.stack.splice(0,this.stack.length-this.capacity);this.index=this.capacity}},clear:function(){this.stack=[];this.index=0}}),de=e.extend({init:function(e){this.toolService=e},start:function(){},move:function(){},end:function(){},tryActivate:function(){return false},getCursor:function(){return r.arrow}}),pe=de.extend({init:function(e){var t=this;var i=l.support.mobileOS?G:j;de.fn.init.call(t,e);var r=t.toolService.diagram,n=r.canvas;var a=r.scroller=t.scroller=h(r.scrollable).kendoMobileScroller({friction:i,velocityMultiplier:W,mousewheelScrolling:false,zoom:false,scroll:_(t._move,t)}).data("kendoMobileScroller");if(n.translate)t.movableCanvas=new v(n.element);var o=function(e,t,i){e.makeVirtual();e.virtualSize(t||H,i||U)};o(a.dimensions.x);o(a.dimensions.y);a.disable()},tryActivate:function(e,t){var i=this.toolService;var r=i.diagram.options.pannable;var n=t.ctrlKey;if(a(r.key))if(!r.key||r.key=="none")n=Be(t)&&!a(i.hoveredItem);else n=t[r.key+"Key"];return r!==false&&n&&!a(i.hoveredAdorner)&&!a(i._hoveredConnector)},start:function(){this.scroller.enable()},move:function(){},_move:function(e){var t=this,i=t.toolService.diagram,r=i.canvas,n=new w(e.scrollLeft,e.scrollTop);if(r.translate){i._storePan(n.times(-1));t.movableCanvas.moveTo(n);r.translate(n.x,n.y)}else n=n.plus(i._pan.times(-1));i.trigger(Y,{pan:n})},end:function(){this.scroller.disable()},getCursor:function(){return r.move}}),ve=e.extend({init:function(e){this.toolService=e},tryActivate:function(){return true},start:function(e,t){var i=this.toolService,r=i.diagram,n=i.hoveredItem;if(n){i.selectSingle(n,t);if(n.adorner){this.adorner=n.adorner;this.handle=this.adorner._hitTest(e)}}if(!this.handle){this.handle=r._resizingAdorner._hitTest(e);if(this.handle)this.adorner=r._resizingAdorner}if(this.adorner)if(!this.adorner.isDragHandle(this.handle)||!r.trigger(E,{shapes:this.adorner.shapes,connections:[]}))this.adorner.start(e);else{i.startPoint=e;i.end(e)}},move:function(e){if(this.adorner){this.adorner.move(this.handle,e);if(this.adorner.isDragHandle(this.handle))this.toolService.diagram.trigger(P,{shapes:this.adorner.shapes,connections:[]})}},end:function(){var e=this.toolService.diagram,t=this.adorner,i;if(t)if(!t.isDragHandle(this.handle)||!e.trigger(I,{shapes:t.shapes,connections:[]})){i=t.stop();if(i)e.undoRedoService.add(i,false)}else t.cancel();this.adorner=o;this.handle=o},getCursor:function(e){return this.toolService.hoveredItem?this.toolService.hoveredItem._getCursor(e):r.arrow}}),ge=e.extend({init:function(e){this.toolService=e},tryActivate:function(e,t){var i=this.toolService;var r=i.diagram.options.selectable;var n=r&&r.multiple!==false;if(n)if(r.key&&r.key!="none")n=t[r.key+"Key"];else n=Be(t);return n&&!a(i.hoveredItem)&&!a(i.hoveredAdorner)},start:function(e){var t=this.toolService.diagram;t.deselect();t.selector.start(e)},move:function(e){var t=this.toolService.diagram;t.selector.move(e)},end:function(e,t){var i=this.toolService.diagram,r=this.toolService.hoveredItem;var n=i.selector.bounds();if((!r||!r.isSelected)&&!t.ctrlKey)i.deselect();if(!n.isEmpty())i.selectArea(n);i.selector.end()},getCursor:function(){return r.arrow}}),me=e.extend({init:function(e){this.toolService=e;this.type="ConnectionTool"},tryActivate:function(){return this.toolService._hoveredConnector},start:function(e,t){var i=this.toolService,r=i.diagram,n=i._hoveredConnector,a=r._createConnection({},n._c,e);if(Pe(a)&&!r.trigger(E,{shapes:[],connections:[a],connectionHandle:K})&&r._addConnection(a)){i._connectionManipulation(a,n._c.shape,true);i._removeHover();i.selectSingle(i.activeConnection,t);if(t.type=="touchmove")r._cachedTouchTarget=n.visual}else{a.source(null);i.end(e)}},move:function(e){var t=this.toolService;var i=t.activeConnection;i.target(e);t.diagram.trigger(P,{shapes:[],connections:[i],connectionHandle:K});return true},end:function(e){var t=this.toolService,i=t.diagram,r=t.activeConnection,n=t.hoveredItem,a=t._hoveredConnector,o,s=i._cachedTouchTarget;if(!r)return;if(a&&a._c!=r.sourceConnector)o=a._c;else if(n&&n instanceof c.Shape)o=n.getConnector(k)||n.getConnector(e);else o=e;r.target(o);if(!i.trigger(I,{shapes:[],connections:[r],connectionHandle:K})){r.updateModel();i._syncConnectionChanges()}else{i.remove(r,false);i.undoRedoService.pop()}t._connectionManipulation();if(s){i._connectorsAdorner.visual.remove(s);i._cachedTouchTarget=null}},getCursor:function(){return r.arrow}}),_e=e.extend({init:function(e){this.toolService=e;this.type="ConnectionTool"},tryActivate:function(e,t){var i=this.toolService,r=i.diagram,n=r.options.selectable,a=i.hoveredItem,o=n!==false&&a&&a.path&&!(a.isSelected&&t.ctrlKey);if(o)this._c=a;return o},start:function(e,t){var i=this.toolService;var r=this._c;i.selectSingle(r,t);var n=r.adorner;var a,o;if(n){a=n._hitTest(e);o=Q[a]}if(Pe(r)&&n&&!i.diagram.trigger(E,{shapes:[],connections:[r],connectionHandle:o})){this.handle=a;this.handleName=o;n.start(e)}else{i.startPoint=e;i.end(e)}},move:function(e){var t=this._c.adorner;if(Pe(this._c)&&t){t.move(this.handle,e);this.toolService.diagram.trigger(P,{shapes:[],connections:[this._c],connectionHandle:this.handleName});return true}},end:function(e){var t=this._c;var i=t.adorner;var r=this.toolService;var n=r.diagram;if(i)if(Pe(t)){var a=i.stop(e);if(!n.trigger(I,{shapes:[],connections:[t],connectionHandle:this.handleName})){n.undoRedoService.add(a,false);t.updateModel();n._syncConnectionChanges()}else a.undo()}},getCursor:function(){return r.move}});function n(e,t){return t.charCodeAt(0)==e||t.toUpperCase().charCodeAt(0)==e}var ye=e.extend({init:function(e){this.diagram=e;this.tools=[new pe(this),new _e(this),new me(this),new ge(this),new ve(this)];this.activeTool=o},start:function(e,t){t=s({},t);if(this.activeTool)this.activeTool.end(e,t);this._updateHoveredItem(e);this._activateTool(e,t);this.activeTool.start(e,t);this._updateCursor(e);this.diagram.focus();this.diagram.canvas.surface.suspendTracking();this.startPoint=e;return true},move:function(e,t){t=s({},t);var i=true;if(this.activeTool)i=this.activeTool.move(e,t);if(i)this._updateHoveredItem(e);this._updateCursor(e);return true},end:function(e,t){t=s({},t);if(this.activeTool)this.activeTool.end(e,t);this.diagram.canvas.surface.resumeTracking();this.activeTool=o;this._updateCursor(e);return true},keyDown:function(e,t){var i=this.diagram;t=s({ctrlKey:false,metaKey:false,altKey:false},t);if((t.ctrlKey||t.metaKey)&&!t.altKey){if(n(e,"a")){i.selectAll();i._destroyToolBar();return true}else if(n(e,"z")){i.undo();i._destroyToolBar();return true}else if(n(e,"y")){i.redo();i._destroyToolBar();return true}else if(n(e,"c")){i.copy();i._destroyToolBar()}else if(n(e,"x")){i.cut();i._destroyToolBar()}else if(n(e,"v")){i.paste();i._destroyToolBar()}else if(n(e,"l")){i.layout();i._destroyToolBar()}else if(n(e,"d")){i._destroyToolBar();i.copy();i.paste()}}else if(e===46||e===8){var r=this.diagram._triggerRemove(i.select());if(r.length){this.diagram.remove(r,true);this.diagram._syncChanges();this.diagram._destroyToolBar()}return true}else if(e===27){this._discardNewConnection();i.deselect();i._destroyToolBar();return true}},wheel:function(e,t){var i=this.diagram,r=t.delta,n=i.zoom(),a=i.options,o=a.zoomRate,s={point:e,meta:t,zoom:n};if(i.trigger(V,s))return;if(r<0)n+=o;else n-=o;n=l.dataviz.round(Math.max(a.zoomMin,Math.min(a.zoomMax,n)),2);s.zoom=n;i.zoom(n,s);i.trigger(N,s);return true},setTool:function(e,t){e.toolService=this;this.tools[t]=e},selectSingle:function(e,t){var i=this.diagram;var r=i.options.selectable;if(r&&!e.isSelected&&e.options.selectable!==false){var n=t.ctrlKey&&r.multiple!==false;i.select(e,{addToSelection:n})}},_discardNewConnection:function(){if(this.newConnection){this.diagram.remove(this.newConnection);this.newConnection=o}},_activateTool:function(e,t){for(var i=0;i<this.tools.length;i++){var r=this.tools[i];if(r.tryActivate(e,t)){this.activeTool=r;break}}},_updateCursor:function(e){var t=this.diagram.element;var i=this.activeTool?this.activeTool.getCursor(e):this.hoveredAdorner?this.hoveredAdorner._getCursor(e):this.hoveredItem?this.hoveredItem._getCursor(e):r.arrow;t.css({cursor:i})},_connectionManipulation:function(e,t,i){this.activeConnection=e;this.disabledShape=t;if(i)this.newConnection=this.activeConnection;else this.newConnection=o},_updateHoveredItem:function(e){var t=this._hitTest(e);var i=this.diagram;if(t!=this.hoveredItem&&(!this.disabledShape||t!=this.disabledShape)){if(this.hoveredItem){i.trigger(F,{item:this.hoveredItem});this.hoveredItem._hover(false)}if(t&&t.options.enable){i.trigger(R,{item:t});this.hoveredItem=t;this.hoveredItem._hover(true)}else this.hoveredItem=o}},_removeHover:function(){if(this.hoveredItem){this.hoveredItem._hover(false);this.hoveredItem=o}},_hitTest:function(e){var t,i=this.diagram,r,n;if(this._hoveredConnector){this._hoveredConnector._hover(false);this._hoveredConnector=o}if(i._connectorsAdorner._visible){t=i._connectorsAdorner._hitTest(e);if(t)return t}t=this.diagram._resizingAdorner._hitTest(e);if(t){this.hoveredAdorner=i._resizingAdorner;if(t.x!==0||t.y!==0)return;t=o}else this.hoveredAdorner=o;if(!this.activeTool||this.activeTool.type!=="ConnectionTool"){var a=[];for(n=0;n<i._selectedItems.length;n++){r=i._selectedItems[n];if(r instanceof c.Connection)a.push(r)}t=this._hitTestItems(a,e)}return t||this._hitTestElements(e)},_hitTestElements:function(e){var t=this.diagram;var i=this._hitTestItems(t.shapes,e);var r=this._hitTestItems(t.connections,e);var n;if((!this.activeTool||this.activeTool.type!="ConnectionTool")&&i&&r&&!Ie(i,e)){var a=t.mainLayer;var o=m(i.visual,a.children);var s=m(r.visual,a.children);n=o>s?i:r}return n||i||r},_hitTestItems:function(e,t){var i,r,n;for(i=e.length-1;i>=0;i--){r=e[i];n=r._hitTest(t);if(n)return n}}}),we=l.Class.extend({init:function(){}}),be=we.extend({init:function(e){var t=this;we.fn.init.call(t);this.connection=e},hitTest:function(e){var t=this.getBounds().inflate(x);if(!t.contains(e))return false;return c.Geometry.distanceToPolyline(e,this.connection.allPoints())<x},getBounds:function(){var e=this.connection.allPoints(),t=e[0],i=e[e.length-1],r=Math.max(t.x,i.x),n=Math.min(t.x,i.x),a=Math.min(t.y,i.y),o=Math.max(t.y,i.y);for(var s=1;s<e.length-1;++s){r=Math.max(r,e[s].x);n=Math.min(n,e[s].x);a=Math.min(a,e[s].y);o=Math.max(o,e[s].y)}return new y(n,a,r-n,o-a)}}),xe=be.extend({init:function(e){var t=this;be.fn.init.call(t);this.connection=e},route:function(){}}),ke=be.extend({SAME_SIDE_DISTANCE_RATIO:5,init:function(e){var t=this;be.fn.init.call(t);this.connection=e},routePoints:function(e,t,i,r){var n;if(i&&r)n=this._connectorPoints(e,t,i,r);else n=this._floatingPoints(e,t,i);return n},route:function(){var e=this.connection._resolvedSourceConnector;var t=this.connection._resolvedTargetConnector;var i=this.connection.sourcePoint();var r=this.connection.targetPoint();var n=this.routePoints(i,r,e,t);this.connection.points(n)},_connectorSides:[{name:"Top",axis:"y",boundsPoint:"topLeft",secondarySign:1},{name:"Left",axis:"x",boundsPoint:"topLeft",secondarySign:1},{name:"Bottom",axis:"y",boundsPoint:"bottomRight",secondarySign:-1},{name:"Right",axis:"x",boundsPoint:"bottomRight",secondarySign:-1}],_connectorSide:function(e,t){var i=e.position();var r=e.shape.bounds($);var h={topLeft:r.topLeft(),bottomRight:r.bottomRight()};var u=this._connectorSides;var n=g.MAX_NUM;var a;var o;var s;var l;for(var c=0;c<u.length;c++){l=u[c];s=l.axis;a=Math.round(Math.abs(i[s]-h[l.boundsPoint][s]));if(a<n){n=a;o=l}else if(a===n&&(i[s]-t[s])*l.secondarySign>(i[o.axis]-t[o.axis])*o.secondarySign)o=l}return o.name},_sameSideDistance:function(e){var t=e.shape.bounds($);return Math.min(t.width,t.height)/this.SAME_SIDE_DISTANCE_RATIO},_connectorPoints:function(e,t,i,h){var r=this._connectorSide(i,t);var n=this._connectorSide(h,e);var u=t.x-e.x;var a=t.y-e.y;var o=this._sameSideDistance(i);var s=[];var l,c;if(r===C||r==A)if(n==C||n==A)if(r==n){if(r==C)c=Math.min(e.y,t.y)-o;else c=Math.max(e.y,t.y)+o;s=[new w(e.x,c),new w(t.x,c)]}else s=[new w(e.x,e.y+a/2),new w(t.x,e.y+a/2)];else s=[new w(e.x,t.y)];else if(n==T||n==S)if(r==n){if(r==T)l=Math.min(e.x,t.x)-o;else l=Math.max(e.x,t.x)+o;s=[new w(l,e.y),new w(l,t.y)]}else s=[new w(e.x+u/2,e.y),new w(e.x+u/2,e.y+a)];else s=[new w(t.x,e.y)];return s},_floatingPoints:function(e,t,i){var h=i?this._connectorSide(i,t):null;var r=this._startHorizontal(e,t,h);var n=[e,e,t,t];var a=t.x-e.x;var u=t.y-e.y;var o=n.length;var s;var l;for(var c=1;c<o-1;++c){if(r)if(c%2!==0){s=a/(o/2);l=0}else{s=0;l=u/((o-1)/2)}else if(c%2!==0){s=0;l=u/(o/2)}else{s=a/((o-1)/2);l=0}n[c]=new w(n[c-1].x+s,n[c-1].y+l)}c--;if(r&&c%2!==0||!r&&c%2===0)n[o-2]=new w(n[o-1].x,n[o-2].y);else n[o-2]=new w(n[o-2].x,n[o-1].y);return[n[1],n[2]]},_startHorizontal:function(e,t,i){var r;if(i!==null&&(i===S||i===T))r=true;else r=Math.abs(e.x-t.x)>Math.abs(e.y-t.y);return r}}),Ce=e.extend({init:function(e,t){var i=this;i.diagram=e;i.options=s({},i.options,t);i.visual=new u;i.diagram._adorners.push(i)},refresh:function(){}}),Se=Ce.extend({init:function(e,t){var i=this,r;i.connection=e;r=i.connection.diagram;i._ts=r.toolService;Ce.fn.init.call(i,r,t);var n=i.connection.sourcePoint();var a=i.connection.targetPoint();i.spVisual=new p(s(i.options.handles,{center:n}));i.epVisual=new p(s(i.options.handles,{center:a}));i.visual.append(i.spVisual);i.visual.append(i.epVisual)},options:{handles:{}},_getCursor:function(){return r.move},start:function(e){this.handle=this._hitTest(e);this.startPoint=e;this._initialSource=this.connection.source();this._initialTarget=this.connection.target();switch(this.handle){case-1:if(this.connection.targetConnector)this._ts._connectionManipulation(this.connection,this.connection.targetConnector.shape);break;case 1:if(this.connection.sourceConnector)this._ts._connectionManipulation(this.connection,this.connection.sourceConnector.shape);break}},move:function(e,t){switch(e){case-1:this.connection.source(t);break;case 1:this.connection.target(t);break;default:var i=t.minus(this.startPoint);this.startPoint=t;if(!this.connection.sourceConnector)this.connection.source(this.connection.sourcePoint().plus(i));if(!this.connection.targetConnector)this.connection.target(this.connection.targetPoint().plus(i));break}this.refresh();return true},stop:function(e){var t=this.diagram.toolService,i=t.hoveredItem,r;if(t._hoveredConnector)r=t._hoveredConnector._c;else if(i&&i instanceof c.Shape)r=i.getConnector(k)||i.getConnector(e);else r=e;if(this.handle===-1)this.connection.source(r);else if(this.handle===1)this.connection.target(r);this.handle=o;this._ts._connectionManipulation();return new ie(this.connection,this._initialSource,this._initialTarget)},_hitTest:function(e){var t=this.connection.sourcePoint();var i=this.connection.targetPoint();var r=this.options.handles.width/2+x;var n=this.options.handles.height/2+x;var a=t.distanceTo(e);var o=i.distanceTo(e);var s=new y(t.x,t.y).inflate(r,n).contains(e);var l=new y(i.x,i.y).inflate(r,n).contains(e);var c=0;if(s&&(!l||a<o))c=-1;else if(l&&(!s||o<a))c=1;return c},refresh:function(){this.spVisual.redraw({center:this.diagram.modelToLayer(this.connection.sourcePoint())});this.epVisual.redraw({center:this.diagram.modelToLayer(this.connection.targetPoint())})}}),Te=Ce.extend({init:function(e,t){var i=this;Ce.fn.init.call(i,e,t);i._refreshHandler=function(e){if(e.item==i.shape)i.refresh()}},show:function(e){var t=this,i,r,n;t._visible=true;t.shape=e;t.diagram.bind(z,t._refreshHandler);i=e.connectors.length;t.connectors=[];t._clearVisual();for(r=0;r<i;r++){n=new Ee(e.connectors[r]);t.connectors.push(n);t.visual.append(n.visual)}t.visual.visible(true);t.refresh()},_clearVisual:function(){var e=this;if(e.diagram._cachedTouchTarget)e._keepCachedTouchTarget();else e.visual.clear()},_keepCachedTouchTarget:function(){var e=this,t=e.visual.children;var i=t.length;var r=m(e.diagram._cachedTouchTarget,t);for(var n=i-1;n>=0;n--){if(n==r)continue;e.visual.remove(t[n])}},destroy:function(){var e=this;e.diagram.unbind(z,e._refreshHandler);e.shape=o;e._visible=o;e.visual.visible(false)},_hitTest:function(e){var t,i;for(i=0;i<this.connectors.length;i++){t=this.connectors[i];if(t._hitTest(e)){t._hover(true);this.diagram.toolService._hoveredConnector=t;break}}},refresh:function(){if(this.shape){var e=this.shape.bounds();e=this.diagram.modelToLayer(e);this.visual.position(e.topLeft());h.each(this.connectors,function(){this.refresh()})}}});function Ae(e,t){var i;if(e.x==-1&&e.y==-1)i=t.bottomRight();else if(e.x==1&&e.y==1)i=t.topLeft();else if(e.x==-1&&e.y==1)i=t.topRight();else if(e.x==1&&e.y==-1)i=t.bottomLeft();else if(e.x===0&&e.y==-1)i=t.bottom();else if(e.x===0&&e.y==1)i=t.top();else if(e.x==1&&e.y===0)i=t.left();else if(e.x==-1&&e.y===0)i=t.right();return i}var Me=Ce.extend({init:function(e,t){var i=this;Ce.fn.init.call(i,e,t);i._manipulating=false;i.map=[];i.shapes=[];i._initSelection();i._createHandles();i.redraw();i.diagram.bind("select",function(e){i._initialize(e.selected)});i._refreshHandler=function(){if(!i._internalChange){i.refreshBounds();i.refresh()}};i._rotatedHandler=function(){if(i.shapes.length==1)i._angle=i.shapes[0].rotate().angle;i._refreshHandler()};i.diagram.bind(z,i._refreshHandler).bind(B,i._rotatedHandler);i.refreshBounds();i.refresh()},options:{handles:{fill:{color:"#fff"},stroke:{color:"#282828"},height:7,width:7,hover:{fill:{color:"#282828"},stroke:{color:"#282828"}}},selectable:{stroke:{color:"#778899",width:1,dashType:"dash"},fill:{color:q}},offset:10},_initSelection:function(){var e=this;var t=e.diagram;var i=t.options.selectable;var r=s({},e.options.selectable,i);e.rect=new f(r);e.visual.append(e.rect)},_resizable:function(){return this.options.editable&&this.options.editable.resize!==false},_handleOptions:function(){return(this.options.editable.resize||{}).handles||this.options.handles},_createHandles:function(){var e,t,i,r;if(this._resizable()){e=this._handleOptions();for(r=-1;r<=1;r++)for(i=-1;i<=1;i++)if(r!==0||i!==0){t=new f(e);t.drawingElement._hover=_(this._hover,this);this.map.push({x:r,y:i,visual:t});this.visual.append(t)}}},bounds:function(e){if(e){this._innerBounds=e.clone();this._bounds=this.diagram.modelToLayer(e).inflate(this.options.offset,this.options.offset)}else return this._bounds},_hitTest:function(e){var t=this.diagram.modelToLayer(e),i,r,n,a=this.map.length,o;if(this._angle)t=t.clone().rotate(this._bounds.center(),this._angle);if(this._resizable())for(i=0;i<a;i++){o=this.map[i];r=new w(o.x,o.y);n=this._getHandleBounds(r);n.offset(this._bounds.x,this._bounds.y);if(n.contains(t))return r}if(this._bounds.contains(t))return new w(0,0)},_getHandleBounds:function(e){if(this._resizable()){var t=this._handleOptions(),i=t.width,r=t.height,n=new y(0,0,i,r);if(e.x<0)n.x=-i/2;else if(e.x===0)n.x=Math.floor(this._bounds.width/2)-i/2;else if(e.x>0)n.x=this._bounds.width+1-i/2;if(e.y<0)n.y=-r/2;else if(e.y===0)n.y=Math.floor(this._bounds.height/2)-r/2;else if(e.y>0)n.y=this._bounds.height+1-r/2;return n}},_getCursor:function(e){var t=this._hitTest(e);if(t&&t.x>=-1&&t.x<=1&&t.y>=-1&&t.y<=1&&this._resizable()){var i=this._angle;if(i){i=360-i;t.rotate(new w(0,0),i);t=new w(Math.round(t.x),Math.round(t.y))}if(t.x==-1&&t.y==-1)return"nw-resize";if(t.x==1&&t.y==1)return"se-resize";if(t.x==-1&&t.y==1)return"sw-resize";if(t.x==1&&t.y==-1)return"ne-resize";if(t.x===0&&t.y==-1)return"n-resize";if(t.x===0&&t.y==1)return"s-resize";if(t.x==1&&t.y===0)return"e-resize";if(t.x==-1&&t.y===0)return"w-resize"}return this._manipulating?r.move:r.select},_initialize:function(){var e=this,t,i,r=e.diagram.select();e.shapes=[];for(t=0;t<r.length;t++){i=r[t];if(i instanceof c.Shape){e.shapes.push(i);i._rotationOffset=new w}}e._angle=e.shapes.length==1?e.shapes[0].rotate().angle:0;e._startAngle=e._angle;e._rotates();e._positions();e.refreshBounds();e.refresh();e.redraw()},_rotates:function(){var e=this,t,i;e.initialRotates=[];for(t=0;t<e.shapes.length;t++){i=e.shapes[t];e.initialRotates.push(i.rotate().angle)}},_positions:function(){var e=this,t,i;e.initialStates=[];for(t=0;t<e.shapes.length;t++){i=e.shapes[t];e.initialStates.push(i.bounds())}},_hover:function(e,t){if(this._resizable()){var i=this._handleOptions(),r=i.hover,n=i.stroke,a=i.fill;if(e&&b.isDefined(r.stroke))n=s({},n,r.stroke);if(e&&b.isDefined(r.fill))a=r.fill;t.stroke(n.color,n.width,n.opacity);t.fill(a.color,a.opacity)}},start:function(e){this._sp=e;this._cp=e;this._lp=e;this._manipulating=true;this._internalChange=true;this.shapeStates=[];for(var t=0;t<this.shapes.length;t++){var i=this.shapes[t];this.shapeStates.push(i.bounds())}},redraw:function(){var e,t,i=this._resizable();for(e=0;e<this.map.length;e++){t=this.map[e];t.visual.visible(i)}},angle:function(e){if(a(e))this._angle=e;return this._angle},rotate:function(){var e=this._innerBounds.center();var t=this.angle();this._internalChange=true;for(var i=0;i<this.shapes.length;i++){var r=this.shapes[i];t=(t+this.initialRotates[i]-this._startAngle)%360;r.rotate(t,e)}this.refresh()},move:function(e,t){var i,r,n=new w,a=new w,o,h,s,l,u,c,f=0,d,p,v;if(e.y===-2&&e.x===-1){h=this._innerBounds.center();this._angle=this._truncateAngle(b.findAngle(h,t));for(l=0;l<this.shapes.length;l++){s=this.shapes[l];u=(this._angle+this.initialRotates[l]-this._startAngle)%360;s.rotate(u,h);if(s.hasOwnProperty("layout"))s.layout(s);this._rotating=true}this.refresh()}else{if(this.shouldSnap()){var g=this._truncateDistance(t.minus(this._lp));if(g.x===0&&g.y===0){this._cp=t;return}i=g;this._lp=new w(this._lp.x+g.x,this._lp.y+g.y)}else i=t.minus(this._cp);if(this.isDragHandle(e)){a=n=i;r=true}else{if(this._angle)i.rotate(new w(0,0),this._angle);if(e.x==-1)n.x=i.x;else if(e.x==1)a.x=i.x;if(e.y==-1)n.y=i.y;else if(e.y==1)a.y=i.y}if(!r){d=Ae(e,this._innerBounds);p=(this._innerBounds.width+i.x*e.x)/this._innerBounds.width;v=(this._innerBounds.height+i.y*e.y)/this._innerBounds.height}for(l=0;l<this.shapes.length;l++){s=this.shapes[l];o=s.bounds();if(r){if(!Pe(s))continue;c=this._displaceBounds(o,n,a,r)}else{c=o.clone();c.scale(p,v,d,this._innerBounds.center(),s.rotate().angle);var m=c.center();m.rotate(o.center(),-this._angle);c=new y(m.x-c.width/2,m.y-c.height/2,c.width,c.height)}if(c.width>=s.options.minWidth&&c.height>=s.options.minHeight){var _=o;s.bounds(c);if(s.hasOwnProperty("layout"))s.layout(s,_,c);if(_.width!==c.width||_.height!==c.height)s.rotate(s.rotate().angle);f+=1}}if(f){if(f==l){c=this._displaceBounds(this._innerBounds,n,a,r);this.bounds(c)}else this.refreshBounds();this.refresh()}this._positions()}this._cp=t},isDragHandle:function(e){return e.x===0&&e.y===0},cancel:function(){var e=this.shapes;var t=this.shapeStates;for(var i=0;i<e.length;i++)e[i].bounds(t[i]);this.refreshBounds();this.refresh();this._manipulating=o;this._internalChange=o;this._rotating=o},_truncatePositionToGuides:function(e){if(this.diagram.ruler)return this.diagram.ruler.truncatePositionToGuides(e);return e},_truncateSizeToGuides:function(e){if(this.diagram.ruler)return this.diagram.ruler.truncateSizeToGuides(e);return e},_truncateAngle:function(e){var t=this.snapOptions();var i=Math.max(t.angle||D,L);return t?Math.floor(e%360/i)*i:e%360},_truncateDistance:function(e){if(e instanceof c.Point)return new c.Point(this._truncateDistance(e.x),this._truncateDistance(e.y));else{var t=this.snapOptions()||{};var i=Math.max(t.size||M,O);return t?Math.floor(e/i)*i:e}},snapOptions:function(){var e=this.diagram.options.editable;var t=((e||{}).drag||{}).snap||{};return t},shouldSnap:function(){var e=this.diagram.options.editable;var t=(e||{}).drag;var i=(t||{}).snap;return e!==false&&t!==false&&i!==false},_displaceBounds:function(e,t,i,r){var n=e.topLeft().plus(t),a=e.bottomRight().plus(i),o=y.fromPoints(n,a),s;if(!r){s=o.center();s.rotate(e.center(),-this._angle);o=new y(s.x-o.width/2,s.y-o.height/2,o.width,o.height)}return o},stop:function(){var e,t,i;if(this._cp!=this._sp)if(this._rotating){e=new ce(this,this.shapes,this.initialRotates);this._rotating=false}else if(this._diffStates()){if(this.diagram.ruler)for(t=0;t<this.shapes.length;t++){i=this.shapes[t];var r=i.bounds();r=this._truncateSizeToGuides(this._truncatePositionToGuides(r));i.bounds(r);this.refreshBounds();this.refresh()}for(t=0;t<this.shapes.length;t++){i=this.shapes[t];i.updateModel()}e=new ae(this.shapes,this.shapeStates,this);this.diagram._syncShapeChanges()}this._manipulating=o;this._internalChange=o;this._rotating=o;return e},_diffStates:function(){var e=this.shapes;var t=this.shapeStates;for(var i=0;i<e.length;i++)if(!e[i].bounds().equals(t[i]))return true;return false},refreshBounds:function(){var e=this.shapes.length==1?this.shapes[0].bounds().clone():this.diagram.boundingBox(this.shapes,true);this.bounds(e)},refresh:function(){var e=this,t,i;if(this.shapes.length>0){i=this.bounds();this.visual.visible(true);this.visual.position(i.topLeft());h.each(this.map,function(){t=e._getHandleBounds(new w(this.x,this.y));this.visual.position(t.topLeft())});this.visual.position(i.topLeft());var r=new w(i.width/2,i.height/2);this.visual.rotate(this._angle,r);this.rect.redraw({width:i.width,height:i.height});if(this.rotationThumb){var n=this.options.editable.rotate.thumb;this._rotationThumbBounds=new y(i.center().x,i.y+n.y,0,0).inflate(n.width);this.rotationThumb.redraw({x:i.width/2-n.width/2})}}else this.visual.visible(false)}}),De=e.extend({init:function(e){var t=e.options.selectable;this.options=s({},this.options,t);this.visual=new f(this.options);this.diagram=e},options:{stroke:{color:"#778899",width:1,dashType:"dash"},fill:{color:q}},start:function(e){this._sp=this._ep=e;this.refresh();this.diagram._adorn(this,true)},end:function(){this._sp=this._ep=o;this.diagram._adorn(this,false)},bounds:function(e){if(e)this._bounds=e;return this._bounds},move:function(e){this._ep=e;this.refresh()},refresh:function(){if(this._sp){var e=y.fromPoints(this.diagram.modelToLayer(this._sp),this.diagram.modelToLayer(this._ep));this.bounds(y.fromPoints(this._sp,this._ep));this.visual.position(e.topLeft());this.visual.redraw({height:e.height+1,width:e.width+1})}}}),Ee=e.extend({init:function(e){this.options=s({},e.options);this._c=e;this.visual=new p(this.options);this.refresh()},_hover:function(e){var t=this.options,i=t.hover,r=t.stroke,n=t.fill;if(e&&b.isDefined(i.stroke))r=s({},r,i.stroke);if(e&&b.isDefined(i.fill))n=i.fill;this.visual.redraw({stroke:r,fill:n})},refresh:function(){var e=this._c.shape.diagram.modelToView(this._c.position()),t=e.minus(this._c.shape.bounds("transformed").topLeft()),i=new y(e.x,e.y,0,0);i.inflate(this.options.width/2,this.options.height/2);this._visualBounds=i;this.visual.redraw({center:new w(t.x,t.y)})},_hitTest:function(e){var t=this._c.shape.diagram.modelToView(e);return this._visualBounds.contains(t)}});function Pe(e){var t=e.options.editable;return t&&t.drag!==false}function Ie(e,t){var i,r,n;for(var a=0;a<e.connectors.length;a++){i=e.connectors[a];r=i.position();n=new y(r.x,r.y);n.inflate(x,x);if(n.contains(t))return i}}function Be(e){return e.ctrlKey===false&&e.altKey===false&&e.shiftKey===false}s(c,{CompositeUnit:ee,TransformUnit:ae,PanUndoUnit:le,AddShapeUnit:se,AddConnectionUnit:oe,DeleteShapeUnit:ne,DeleteConnectionUnit:re,ConnectionEditAdorner:Se,ConnectionTool:me,ConnectorVisual:Ee,UndoRedoService:fe,ResizingAdorner:Me,Selector:De,ToolService:ye,ConnectorsAdorner:Te,LayoutUndoUnit:J,ConnectionEditUnit:te,ToFrontUnit:he,ToBackUnit:ue,ConnectionRouterBase:we,PolylineRouter:xe,CascadingRouter:ke,SelectionTool:ge,ScrollerTool:pe,PointerTool:ve,ConnectionEditTool:_e,RotateUnit:ce})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("dataviz/diagram/layout.min",["./math.min"],function(){var e=window.kendo.jQuery,r=void 0,t=window.kendo,h=t.dataviz.diagram,n=h.Graph,w=h.Node,b=h.Link,a=t.deepExtend,f=h.Size,d=h.Rect,M=h.Dictionary,u=h.Set,o=h.Graph,D=h.Utils,g=h.Point,p=1e-6,s=Math.PI/180,v=D.contains,l=e.grep,i=t.Class.extend({defaultOptions:{type:"Tree",subtype:"Down",roots:null,animate:false,limitToView:false,friction:.9,nodeDistance:50,iterations:300,horizontalSeparation:90,verticalSeparation:50,underneathVerticalTopOffset:15,underneathHorizontalOffset:15,underneathVerticalSeparation:15,grid:{width:1500,offsetX:50,offsetY:50,componentSpacingX:20,componentSpacingY:20},layerSeparation:50,layeredIterations:2,startRadialAngle:0,endRadialAngle:360,radialSeparation:150,radialFirstLevelSeparation:200,keepComponentsInOneRadialLayout:false,ignoreContainers:true,layoutContainerChildren:false,ignoreInvisible:true,animateTransitions:false},init:function(){},gridLayoutComponents:function(e){if(!e)throw"No components supplied.";D.forEach(e,function(e){e.calcBounds()});e.sort(function(e,t){return t.bounds.width-e.bounds.width});var h=this.options.grid.width,u=this.options.grid.componentSpacingX,f=this.options.grid.componentSpacingY,t=0,i=this.options.grid.offsetX,d=this.options.grid.offsetY,r=i,n=d,a,o=[],p=[];while(e.length>0){if(r>=h){r=i;n+=t+f;t=0}var s=e.pop();this.moveToOffset(s,new g(r,n));for(a=0;a<s.nodes.length;a++)p.push(s.nodes[a]);for(a=0;a<s.links.length;a++)o.push(s.links[a]);var v=s.bounds;var l=v.height;if(l<=0||isNaN(l))l=0;var c=v.width;if(c<=0||isNaN(c))c=0;if(l>=t)t=l;r+=c+u}return{nodes:p,links:o}},moveToOffset:function(e,t){var i,r,n=e.bounds,a=t.x-n.x,o=t.y-n.y;for(i=0;i<e.nodes.length;i++){var h=e.nodes[i];var s=h.bounds();if(s.width===0&&s.height===0&&s.x===0&&s.y===0)s=new d(0,0,0,0);s.x+=a;s.y+=o;h.bounds(s)}for(i=0;i<e.links.length;i++){var l=e.links[i];if(l.points){var u=[];var f=l.points;for(r=0;r<f.length;r++){var c=f[r];c.x+=a;c.y+=o;u.push(c)}l.points=u}}this.currentHorizontalOffset+=n.width+this.options.grid.offsetX;return new g(a,o)},transferOptions:function(e){this.options=t.deepExtend({},this.defaultOptions);if(D.isUndefined(e))return;this.options=t.deepExtend(this.options,e||{})}}),c=t.Class.extend({init:function(e){this.nodeMap=new M;this.shapeMap=new M;this.nodes=[];this.edges=[];this.edgeMap=new M;this.finalNodes=[];this.finalLinks=[];this.ignoredConnections=[];this.ignoredShapes=[];this.hyperMap=new M;this.hyperTree=new n;this.finalGraph=null;this.diagram=e},convert:function(e){if(D.isUndefined(this.diagram))throw"No diagram to convert.";this.options=t.deepExtend({ignoreInvisible:true,ignoreContainers:true,layoutContainerChildren:false},e||{});this.clear();this._renormalizeShapes();this._renormalizeConnections();this.finalNodes=new M(this.nodes);this.finalLinks=new M(this.edges);this.finalGraph=new n;this.finalNodes.forEach(function(e){this.finalGraph.addNode(e)},this);this.finalLinks.forEach(function(e){this.finalGraph.addExistingLink(e)},this);return this.finalGraph},mapConnection:function(e){return this.edgeMap.get(e.id)},mapShape:function(e){return this.nodeMap.get(e.id)},getEdge:function(t,i){return D.first(t.links,function(e){return e.getComplement(t)===i})},clear:function(){this.finalGraph=null;this.hyperTree=!this.options.ignoreContainers&&this.options.layoutContainerChildren?new o:null;this.hyperMap=!this.options.ignoreContainers&&this.options.layoutContainerChildren?new M:null;this.nodeMap=new M;this.shapeMap=new M;this.nodes=[];this.edges=[];this.edgeMap=new M;this.ignoredConnections=[];this.ignoredShapes=[];this.finalNodes=[];this.finalLinks=[]},listToRoot:function(e){var t=[];var i=e.container;if(!i)return t;t.push(i);while(i.parentContainer){i=i.parentContainer;t.push(i)}t.reverse();return t},firstNonIgnorableContainer:function(e){if(e.isContainer&&!this._isIgnorableItem(e))return e;return!e.parentContainer?null:this.firstNonIgnorableContainer(e.parentContainer)},isContainerConnection:function(e,t){if(e.isContainer&&this.isDescendantOf(e,t))return true;return t.isContainer&&this.isDescendantOf(t,e)},isDescendantOf:function(e,t){if(!e.isContainer)throw"Expecting a container.";if(e===t)return false;if(v(e.children,t))return true;var i=[];for(var r=0,n=e.children.length;r<n;r++){var a=e.children[r];if(a.isContainer&&this.isDescendantOf(a,t))i.push(a)}return i.length>0},isIgnorableItem:function(e){if(this.options.ignoreInvisible){if(e.isCollapsed&&this._isVisible(e))return false;if(!e.isCollapsed&&this._isVisible(e))return false;return true}else return e.isCollapsed&&!this._isTop(e)},isShapeMapped:function(e){return e.isCollapsed&&!this._isVisible(e)&&!this._isTop(e)},leastCommonAncestor:function(e,t){if(!e)throw"Parameter should not be null.";if(!t)throw"Parameter should not be null.";if(!this.hyperTree)throw"No hypertree available.";var i=this.listToRoot(e);var r=this.listToRoot(t);var n=null;if(D.isEmpty(i)||D.isEmpty(r))return this.hyperTree.root.data;var a=i[0];var o=r[0];var s=0;while(a===o){n=i[s];s++;if(s>=i.length||s>=r.length)break;a=i[s];o=r[s]}if(!n)return this.hyperTree.root.data;else return l(this.hyperTree.nodes,function(e){return e.data.container===n})},_isTop:function(e){return!e.parentContainer},_isVisible:function(e){if(!e.visible())return false;return!e.parentContainer?e.visible():this._isVisible(e.parentContainer)},_isCollapsed:function(e){if(e.isContainer&&e.isCollapsed)return true;return e.parentContainer&&this._isCollapsed(e.parentContainer)},_renormalizeShapes:function(){if(this.options.ignoreContainers)for(var e=0,t=this.diagram.shapes.length;e<t;e++){var i=this.diagram.shapes[e];if(this.options.ignoreInvisible&&!this._isVisible(i)||i.isContainer){this.ignoredShapes.push(i);continue}var r=new w(i.id,i);r.isVirtual=false;this.nodeMap.add(i.id,r);this.nodes.push(r)}else throw"Containers are not supported yet, but stay tuned."},_renormalizeConnections:function(){if(this.diagram.connections.length===0)return;for(var e=0,t=this.diagram.connections.length;e<t;e++){var i=this.diagram.connections[e];if(this.isIgnorableItem(i)){this.ignoredConnections.push(i);continue}var r=!i.sourceConnector?null:i.sourceConnector.shape;var n=!i.targetConnector?null:i.targetConnector.shape;if(!r||!n){this.ignoredConnections.push(i);continue}if(v(this.ignoredShapes,r)&&!this.shapeMap.containsKey(r)){this.ignoredConnections.push(i);continue}if(v(this.ignoredShapes,n)&&!this.shapeMap.containsKey(n)){this.ignoredConnections.push(i);continue}if(this.shapeMap.containsKey(r))r=this.shapeMap[r];if(this.shapeMap.containsKey(n))n=this.shapeMap[n];var a=this.mapShape(r);var o=this.mapShape(n);if(a===o||this.areConnectedAlready(a,o)){this.ignoredConnections.push(i);continue}if(a===null||o===null)throw"A shape was not mapped to a node.";if(this.options.ignoreContainers){if(a.isVirtual||o.isVirtual){this.ignoredConnections.push(i);continue}var s=new b(a,o,i.id,i);this.edgeMap.add(i.id,s);this.edges.push(s)}else throw"Containers are not supported yet, but stay tuned."}},areConnectedAlready:function(t,i){return D.any(this.edges,function(e){return e.source===t&&e.target===i||e.source===i&&e.target===t})}}),m=i.extend({init:function(e){var t=this;i.fn.init.call(t);if(D.isUndefined(e))throw"Diagram is not specified.";this.diagram=e},layout:function(e){this.transferOptions(e);var t=new c(this.diagram);var i=t.convert(e);if(i.isEmpty())return;var r=i.getConnectedComponents();if(D.isEmpty(r))return;for(var n=0;n<r.length;n++){var a=r[n];this.layoutGraph(a,e)}var o=this.gridLayoutComponents(r);return new h.LayoutState(this.diagram,o)},layoutGraph:function(e,t){if(D.isDefined(t))this.transferOptions(t);this.graph=e;var i=this.options.nodeDistance*9;this.temperature=i;var r=this._expectedBounds();this.width=r.width;this.height=r.height;for(var n=0;n<this.options.iterations;n++){this.refineStage=n>=this.options.iterations*5/6;this.tick();this.temperature=this.refineStage?i/30:i*(1-n/(2*this.options.iterations))}},tick:function(){var e;for(e=0;e<this.graph.nodes.length;e++)this._repulsion(this.graph.nodes[e]);for(e=0;e<this.graph.links.length;e++)this._attraction(this.graph.links[e]);for(e=0;e<this.graph.nodes.length;e++){var t=this.graph.nodes[e];var i=Math.sqrt(t.dx*t.dx+t.dy*t.dy);if(i===0)return;t.x+=Math.min(i,this.temperature)*t.dx/i;t.y+=Math.min(i,this.temperature)*t.dy/i;if(this.options.limitToView){t.x=Math.min(this.width,Math.max(t.width/2,t.x));t.y=Math.min(this.height,Math.max(t.height/2,t.y))}}},_shake:function(e){var t=Math.random()*this.options.nodeDistance/4;var i=Math.random()*2*Math.PI;e.x+=t*Math.cos(i);e.y-=t*Math.sin(i)},_InverseSquareForce:function(e,t,i){var r;if(!this.refineStage)r=Math.pow(e,2)/Math.pow(this.options.nodeDistance,2);else{var n=t.x-i.x;var a=t.y-i.y;var o=t.width/2;var s=t.height/2;var l=i.width/2;var c=i.height/2;r=Math.pow(n,2)/Math.pow(o+l+this.options.nodeDistance,2)+Math.pow(a,2)/Math.pow(s+c+this.options.nodeDistance,2)}return r*4/3},_SquareForce:function(e,t,i){return 1/this._InverseSquareForce(e,t,i)},_repulsion:function(a){a.dx=0;a.dy=0;D.forEach(this.graph.nodes,function(e){if(e===a)return;while(a.x===e.x&&a.y===e.y)this._shake(e);var t=a.x-e.x;var i=a.y-e.y;var r=Math.sqrt(t*t+i*i);var n=this._SquareForce(r,a,e)*2;a.dx+=t/r*n;a.dy+=i/r*n},this)},_attraction:function(e){var t=e.target;var i=e.source;if(i===t)return;while(i.x===t.x&&i.y===t.y)this._shake(t);var r=i.x-t.x;var n=i.y-t.y;var a=Math.sqrt(r*r+n*n);var o=this._InverseSquareForce(a,i,t)*5;var s=r/a*o;var l=n/a*o;t.dx+=s;t.dy+=l;i.dx-=s;i.dy-=l},_expectedBounds:function(){var e,t=this.graph.nodes.length,i=1.5,r=4;if(t===0)return e;e=D.fold(this.graph.nodes,function(e,t){var i=t.width*t.height;if(i>0){e+=Math.sqrt(i);return e}return 0},0,this);var n=e/t;var a=n*Math.ceil(Math.sqrt(t));var o=a*Math.sqrt(i);var s=a/Math.sqrt(i);return{width:o*r,height:s*r}}}),_=t.Class.extend({init:function(e){this.center=null;this.options=e},layout:function(e,t){this.graph=e;if(!this.graph.nodes||this.graph.nodes.length===0)return;if(!v(this.graph.nodes,t))throw"The given root is not in the graph.";this.center=t;this.graph.cacheRelationships();this.layoutSwitch()},layoutLeft:function(e){this.setChildrenDirection(this.center,"Left",false);this.setChildrenLayout(this.center,"Default",false);var t=0,i=0,r,n,a;for(n=0;n<e.length;n++){a=e[n];a.TreeDirection="Left";var o=this.measure(a,f.Empty);i=Math.max(i,o.Width);t+=o.height+this.options.verticalSeparation}t-=this.options.verticalSeparation;var s=this.center.x-this.options.horizontalSeparation;r=this.center.y+(this.center.height-t)/2;for(n=0;n<e.length;n++){a=e[n];var l=new g(s-a.Size.width,r);this.arrange(a,l);r+=a.Size.height+this.options.verticalSeparation}},layoutRight:function(e){this.setChildrenDirection(this.center,"Right",false);this.setChildrenLayout(this.center,"Default",false);var t=0,i=0,r,n,a;for(n=0;n<e.length;n++){a=e[n];a.TreeDirection="Right";var o=this.measure(a,f.Empty);i=Math.max(i,o.Width);t+=o.height+this.options.verticalSeparation}t-=this.options.verticalSeparation;var s=this.center.x+this.options.horizontalSeparation+this.center.width;r=this.center.y+(this.center.height-t)/2;for(n=0;n<e.length;n++){a=e[n];var l=new g(s,r);this.arrange(a,l);r+=a.Size.height+this.options.verticalSeparation}},layoutUp:function(e){this.setChildrenDirection(this.center,"Up",false);this.setChildrenLayout(this.center,"Default",false);var t=0,i,r,n;for(n=0;n<e.length;n++){r=e[n];r.TreeDirection="Up";var a=this.measure(r,f.Empty);t+=a.width+this.options.horizontalSeparation}t-=this.options.horizontalSeparation;var o=this.center.x+this.center.width/2-t/2;for(n=0;n<e.length;n++){r=e[n];i=this.center.y-this.options.verticalSeparation-r.Size.height;var s=new g(o,i);this.arrange(r,s);o+=r.Size.width+this.options.horizontalSeparation}},layoutDown:function(e){var t,i;this.setChildrenDirection(this.center,"Down",false);this.setChildrenLayout(this.center,"Default",false);var r=0,n;for(i=0;i<e.length;i++){t=e[i];t.treeDirection="Down";var a=this.measure(t,f.Empty);r+=a.width+this.options.horizontalSeparation}r-=this.options.horizontalSeparation;var o=this.center.x+this.center.width/2-r/2;n=this.center.y+this.options.verticalSeparation+this.center.height;for(i=0;i<e.length;i++){t=e[i];var s=new g(o,n);this.arrange(t,s);o+=t.Size.width+this.options.horizontalSeparation}},layoutRadialTree:function(){this.setChildrenDirection(this.center,"Radial",false);this.setChildrenLayout(this.center,"Default",false);this.previousRoot=null;var e=this.options.startRadialAngle*s;var t=this.options.endRadialAngle*s;if(t<=e)throw"Final angle should not be less than the start angle.";this.maxDepth=0;this.origin=new g(this.center.x,this.center.y);this.calculateAngularWidth(this.center,0);if(this.maxDepth>0)this.radialLayout(this.center,this.options.radialFirstLevelSeparation,e,t);this.center.Angle=t-e},tipOverTree:function(e,t){if(D.isUndefined(t))t=0;this.setChildrenDirection(this.center,"Down",false);this.setChildrenLayout(this.center,"Default",false);this.setChildrenLayout(this.center,"Underneath",false,t);var i=0,r,n,a;for(a=0;a<e.length;a++){n=e[a];n.TreeDirection="Down";var o=this.measure(n,f.Empty);i+=o.width+this.options.horizontalSeparation}i-=this.options.horizontalSeparation;i-=e[e.length-1].width;i+=e[e.length-1].associatedShape.bounds().width;var s=this.center.x+this.center.width/2-i/2;r=this.center.y+this.options.verticalSeparation+this.center.height;for(a=0;a<e.length;a++){n=e[a];var l=new g(s,r);this.arrange(n,l);s+=n.Size.width+this.options.horizontalSeparation}},calculateAngularWidth:function(e,t){if(t>this.maxDepth)this.maxDepth=t;var i=0,r=1e3,n=1e3,a=t===0?0:Math.sqrt(r*r+n*n)/t;if(e.children.length>0){for(var o=0,s=e.children.length;o<s;o++){var l=e.children[o];i+=this.calculateAngularWidth(l,t+1)}i=Math.max(a,i)}else i=a;e.sectorAngle=i;return i},sortChildren:function(e){var t=0,i;if(e.parents.length>1)throw"Node is not part of a tree.";var r=e.parents[0];if(r){var n=new g(r.x,r.y);var a=new g(e.x,e.y);t=this.normalizeAngle(Math.atan2(n.y-a.y,n.x-a.x))}var o=e.children.length;if(o===0)return null;var s=[];var l=[];for(i=0;i<o;++i){var h=e.children[i];var c=new g(h.x,h.y);l[i]=i;s[i]=this.normalizeAngle(-t+Math.atan2(c.y-c.y,c.x-c.x))}D.bisort(s,l);var u=[];var f=e.children;for(i=0;i<o;++i)u.push(f[l[i]]);return u},normalizeAngle:function(e){while(e>Math.PI*2)e-=2*Math.PI;while(e<0)e+=Math.PI*2;return e},radialLayout:function(e,t,i,h){var r=h-i;var u=r/2;var f=e.sectorAngle;var n=0;var a=this.sortChildren(e);for(var o=0,d=a.length;o<d;o++){var s=a[o];var l=s;var c=l.sectorAngle/f;if(s.children.length>0)this.radialLayout(s,t+this.options.radialSeparation,i+n*r,i+(n+c)*r);this.setPolarLocation(s,t,i+n*r+c*u);l.angle=c*r;n+=c}},setPolarLocation:function(e,t,i){e.x=this.origin.x+t*Math.cos(i);e.y=this.origin.y+t*Math.sin(i);e.BoundingRectangle=new d(e.x,e.y,e.width,e.height)},setChildrenDirection:function(e,t,i){var r=e.treeDirection;this.graph.depthFirstTraversal(e,function(e){e.treeDirection=t});if(!i)e.treeDirection=r},setChildrenLayout:function(e,t,i,r){if(D.isUndefined(r))r=0;var n=e.childrenLayout;if(r>0){this.graph.assignLevels(e);this.graph.depthFirstTraversal(e,function(e){if(e.level>=r+1)e.childrenLayout=t})}else{this.graph.depthFirstTraversal(e,function(e){e.childrenLayout=t});if(!i)e.childrenLayout=n}},measure:function(e,t){var i=0,r=0,n;var a=new f(0,0);if(!e)throw"";var h=e.associatedShape.bounds();var o=h.width;var s=h.height;if(e.parents.length!==1)throw"Node not in a spanning tree.";var u=e.parents[0];if(e.treeDirection==="Undefined")e.treeDirection=u.treeDirection;if(D.isEmpty(e.children))a=new f(Math.abs(o)<p?50:o,Math.abs(s)<p?25:s);else if(e.children.length===1){switch(e.treeDirection){case"Radial":n=this.measure(e.children[0],t);i=o+this.options.radialSeparation*Math.cos(e.AngleToParent)+n.width;r=s+Math.abs(this.options.radialSeparation*Math.sin(e.AngleToParent))+n.height;break;case"Left":case"Right":switch(e.childrenLayout){case"TopAlignedWithParent":break;case"BottomAlignedWithParent":break;case"Underneath":n=this.measure(e.children[0],t);i=o+n.width+this.options.underneathHorizontalOffset;r=s+this.options.underneathVerticalTopOffset+n.height;break;case"Default":n=this.measure(e.children[0],t);i=o+this.options.horizontalSeparation+n.width;r=Math.max(s,n.height);break;default:throw"Unhandled TreeDirection in the Radial layout measuring."}break;case"Up":case"Down":switch(e.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":n=this.measure(e.children[0],t);i=Math.max(o,n.width+this.options.underneathHorizontalOffset);r=s+this.options.underneathVerticalTopOffset+n.height;break;case"Default":n=this.measure(e.children[0],t);r=s+this.options.verticalSeparation+n.height;i=Math.max(o,n.width);break;default:throw"Unhandled TreeDirection in the Down layout measuring."}break;default:throw"Unhandled TreeDirection in the layout measuring."}a=new f(i,r)}else{var l,c;switch(e.treeDirection){case"Left":case"Right":switch(e.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":i=o;r=s+this.options.underneathVerticalTopOffset;for(l=0;l<e.children.length;l++){c=e.children[l];n=this.measure(c,t);i=Math.max(i,n.width+this.options.underneathHorizontalOffset);r+=n.height+this.options.underneathVerticalSeparation}r-=this.options.underneathVerticalSeparation;break;case"Default":i=o;r=0;for(l=0;l<e.children.length;l++){c=e.children[l];n=this.measure(c,t);i=Math.max(i,o+this.options.horizontalSeparation+n.width);r+=n.height+this.options.verticalSeparation}r-=this.options.verticalSeparation;break;default:throw"Unhandled TreeDirection in the Right layout measuring."}break;case"Up":case"Down":switch(e.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":i=o;r=s+this.options.underneathVerticalTopOffset;for(l=0;l<e.children.length;l++){c=e.children[l];n=this.measure(c,t);i=Math.max(i,n.width+this.options.underneathHorizontalOffset);r+=n.height+this.options.underneathVerticalSeparation}r-=this.options.underneathVerticalSeparation;break;case"Default":i=0;r=0;for(l=0;l<e.children.length;l++){c=e.children[l];n=this.measure(c,t);i+=n.width+this.options.horizontalSeparation;r=Math.max(r,n.height+this.options.verticalSeparation+s)}i-=this.options.horizontalSeparation;break;default:throw"Unhandled TreeDirection in the Down layout measuring."}break;default:throw"Unhandled TreeDirection in the layout measuring."}a=new f(i,r)}e.SectorAngle=Math.sqrt(i*i/4+r*r/4);e.Size=a;return a},arrange:function(e,t){var i,r,h,n,a,u=e.associatedShape.bounds();var o=u.width;var f=u.height;if(D.isEmpty(e.children)){e.x=t.x;e.y=t.y;e.BoundingRectangle=new d(t.x,t.y,o,f)}else{var s,l;var c;switch(e.treeDirection){case"Left":switch(e.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":c=t;e.x=c.x;e.y=c.y;e.BoundingRectangle=new d(e.x,e.y,e.width,e.height);l=t.y+f+this.options.underneathVerticalTopOffset;for(i=0;i<n.children.length;i++){n=n.children[i];s=c.x-n.associatedShape.width-this.options.underneathHorizontalOffset;r=new g(s,l);this.arrange(n,r);l+=n.Size.height+this.options.underneathVerticalSeparation}break;case"Default":c=new g(t.x+e.Size.width-o,t.y+(e.Size.height-f)/2);e.x=c.x;e.y=c.y;e.BoundingRectangle=new d(e.x,e.y,e.width,e.height);s=c.x-this.options.horizontalSeparation;l=t.y;for(i=0;i<e.children.length;i++){n=e.children[i];r=new g(s-n.Size.width,l);this.arrange(n,r);l+=n.Size.height+this.options.verticalSeparation}break;default:throw"Unsupported TreeDirection"}break;case"Right":switch(e.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":c=t;e.x=c.x;e.y=c.y;e.BoundingRectangle=new d(e.x,e.y,e.width,e.height);s=t.x+o+this.options.underneathHorizontalOffset;l=t.y+f+this.options.underneathVerticalTopOffset;for(i=0;i<e.children.length;i++){n=e.children[i];r=new g(s,l);this.arrange(n,r);l+=n.Size.height+this.options.underneathVerticalSeparation}break;case"Default":c=new g(t.x,t.y+(e.Size.height-f)/2);e.x=c.x;e.y=c.y;e.BoundingRectangle=new d(e.x,e.y,e.width,e.height);s=t.x+o+this.options.horizontalSeparation;l=t.y;for(i=0;i<e.children.length;i++){n=e.children[i];r=new g(s,l);this.arrange(n,r);l+=n.Size.height+this.options.verticalSeparation}break;default:throw"Unsupported TreeDirection"}break;case"Up":c=new g(t.x+(e.Size.width-o)/2,t.y+e.Size.height-f);e.x=c.x;e.y=c.y;e.BoundingRectangle=new d(e.x,e.y,e.width,e.height);if(Math.abs(c.x-t.x)<p){a=0;for(i=0;i<e.children.length;i++){h=e.children[i];a+=h.Size.width+this.options.horizontalSeparation}a-=this.options.horizontalSeparation;s=t.x+(o-a)/2}else s=t.x;for(i=0;i<e.children.length;i++){n=e.children[i];l=c.y-this.options.verticalSeparation-n.Size.height;r=new g(s,l);this.arrange(n,r);s+=n.Size.width+this.options.horizontalSeparation}break;case"Down":switch(e.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":c=t;e.x=c.x;e.y=c.y;e.BoundingRectangle=new d(e.x,e.y,e.width,e.height);s=t.x+this.options.underneathHorizontalOffset;l=t.y+f+this.options.underneathVerticalTopOffset;for(i=0;i<e.children.length;i++){n=e.children[i];r=new g(s,l);this.arrange(n,r);l+=n.Size.height+this.options.underneathVerticalSeparation}break;case"Default":c=new g(t.x+(e.Size.width-o)/2,t.y);e.x=c.x;e.y=c.y;e.BoundingRectangle=new d(e.x,e.y,e.width,e.height);if(Math.abs(c.x-t.x)<p){a=0;for(i=0;i<e.children.length;i++){h=e.children[i];a+=h.Size.width+this.options.horizontalSeparation}a-=this.options.horizontalSeparation;s=t.x+(o-a)/2}else s=t.x;for(i=0;i<e.children.length;i++){n=e.children[i];l=c.y+this.options.verticalSeparation+f;r=new g(s,l);this.arrange(n,r);s+=n.Size.width+this.options.horizontalSeparation}break;default:throw"Unsupported TreeDirection"}break;case"None":break;default:throw"Unsupported TreeDirection"}}},layoutSwitch:function(){if(!this.center)return;if(D.isEmpty(this.center.children))return;var e=this.options.subtype;if(D.isUndefined(e))e="Down";var t,i,r,n;var a=this.center.children;switch(e.toLowerCase()){case"radial":case"radialtree":this.layoutRadialTree();break;case"mindmaphorizontal":case"mindmap":t=this.center.children;if(this.center.children.length===1)this.layoutRight(t);else{n=a.length/2;i=l(this.center.children,function(e){return D.indexOf(a,e)<n});r=l(this.center.children,function(e){return D.indexOf(a,e)>=n});this.layoutLeft(i);this.layoutRight(r)}break;case"mindmapvertical":t=this.center.children;if(this.center.children.length===1)this.layoutDown(t);else{n=a.length/2;i=l(this.center.children,function(e){return D.indexOf(a,e)<n});r=l(this.center.children,function(e){return D.indexOf(a,e)>=n});this.layoutUp(i);this.layoutDown(r)}break;case"right":this.layoutRight(this.center.children);break;case"left":this.layoutLeft(this.center.children);break;case"up":case"bottom":this.layoutUp(this.center.children);break;case"down":case"top":this.layoutDown(this.center.children);break;case"tipover":case"tipovertree":if(this.options.tipOverTreeStartLevel<0)throw"The tip-over level should be a positive integer.";this.tipOverTree(this.center.children,this.options.tipOverTreeStartLevel);break;case"undefined":case"none":break}}}),y=i.extend({init:function(e){var t=this;i.fn.init.call(t);if(D.isUndefined(e))throw"No diagram specified.";this.diagram=e},layout:function(e){this.transferOptions(e);var t=new c(this.diagram);this.graph=t.convert();var i=this.layoutComponents();return new h.LayoutState(this.diagram,i)},layoutComponents:function(){if(this.graph.isEmpty())return;var e=this.graph.getConnectedComponents();if(D.isEmpty(e))return;var t=new _(this.options);var i=[];for(var r=0;r<e.length;r++){var n=e[r];var a=this.getTree(n);if(!a)throw"Failed to find a spanning tree for the component.";var o=a.root;var s=a.tree;t.layout(s,o);i.push(s)}return this.gridLayoutComponents(i)},getTree:function(e){var t=null;if(this.options.roots&&this.options.roots.length>0)for(var i=0,r=e.nodes.length;i<r;i++){var n=e.nodes[i];for(var a=0;a<this.options.roots.length;a++){var o=this.options.roots[a];if(o===n.associatedShape){t=n;break}}}if(!t){t=e.root();if(!t)throw"Unable to find a root for the tree."}return this.getTreeForRoot(e,t)},getTreeForRoot:function(e,t){var i=e.getSpanningTree(t);if(D.isUndefined(i)||i.isEmpty())return null;return{tree:i,root:i.root}}}),x=i.extend({init:function(e){var t=this;i.fn.init.call(t);if(D.isUndefined(e))throw"Diagram is not specified.";this.diagram=e},layout:function(e){this.transferOptions(e);var t=new c(this.diagram);var i=t.convert(e);if(i.isEmpty())return;var r=i.getConnectedComponents();if(D.isEmpty(r))return;for(var n=0;n<r.length;n++){var a=r[n];this.layoutGraph(a,e)}var o=this.gridLayoutComponents(r);return new h.LayoutState(this.diagram,o)},_initRuntimeProperties:function(){for(var e=0;e<this.graph.nodes.length;e++){var t=this.graph.nodes[e];t.layer=-1;t.downstreamLinkCount=0;t.upstreamLinkCount=0;t.isVirtual=false;t.uBaryCenter=0;t.dBaryCenter=0;t.upstreamPriority=0;t.downstreamPriority=0;t.gridPosition=0}},_prepare:function(h){var t=[],e,i,r;var n=new M;var u=0;var a,o,s;D.forEach(h.nodes,function(e){if(e.incoming.length===0){n.set(e,0);t.push(e)}});while(t.length>0){o=t.shift();for(e=0;e<o.outgoing.length;e++){r=o.outgoing[e];s=r.target;if(n.containsKey(s))a=Math.max(n.get(o)+1,n.get(s));else a=n.get(o)+1;n.set(s,a);if(a>u)u=a;if(!v(t,s))t.push(s)}}var f=n.keys();f.sort(function(e,t){var i=n.get(e);var r=n.get(t);return D.sign(r-i)});for(var d=0;d<f.length;++d){var l=f[d];var p=Number.MAX_VALUE;if(l.outgoing.length===0)continue;for(i=0;i<l.outgoing.length;++i){r=l.outgoing[i];p=Math.min(p,n.get(r.target))}if(p>1)n.set(l,p-1)}this.layers=[];var c;for(e=0;e<u+1;e++){c=[];c.linksTo={};this.layers.push(c)}n.forEach(function(e,t){e.layer=t;this.layers[t].push(e)},this);for(i=0;i<this.layers.length;i++){c=this.layers[i];for(e=0;e<c.length;e++)c[e].gridPosition=e}},layoutGraph:function(e,t){if(D.isUndefined(e))throw"No graph given or graph analysis of the diagram failed.";if(D.isDefined(t))this.transferOptions(t);this.graph=e;e.setItemIndices();var i=e.makeAcyclic();this._initRuntimeProperties();this._prepare(e,t);this._dummify();this._optimizeCrossings();this._swapPairs();this.arrangeNodes();this._moveThingsAround();this._dedummify();D.forEach(i,function(e){if(e.points)e.points.reverse()})},setMinDist:function(e,t,i){var r=e.layer;var n=e.layerIndex;this.minDistances[r][n]=i},getMinDist:function(e,t){var i=0,r=e.layerIndex,n=t.layerIndex,a=e.layer,o=Math.min(r,n),s=Math.max(r,n);for(var l=o;l<s;++l)i+=this.minDistances[a][l];return i},placeLeftToRight:function(h){var e=new M,t,i;for(var r=0;r<this.layers.length;++r){var n=h[r];if(!n)continue;for(t=0;t<n.length;t++){i=n[t];if(!e.containsKey(i))this.placeLeft(i,e,r)}var a=Number.POSITIVE_INFINITY;for(t=0;t<n.length;t++){i=n[t];var o=this.rightSibling(i);if(o&&this.nodeLeftClass.get(o)!==r)a=Math.min(a,e.get(o)-e.get(i)-this.getMinDist(i,o))}if(a===Number.POSITIVE_INFINITY){var s=[];for(t=0;t<n.length;t++){i=n[t];var l=[];D.addRange(l,this.upNodes.get(i));D.addRange(l,this.downNodes.get(i));for(var c=0;c<l.length;c++){var u=l[c];if(this.nodeLeftClass.get(u)<r)s.push(e.get(u)-e.get(i))}}s.sort();if(s.length===0)a=0;else if(s.length%2===1)a=s[this.intDiv(s.length,2)];else a=(s[this.intDiv(s.length,2)-1]+s[this.intDiv(s.length,2)])/2}for(t=0;t<n.length;t++){i=n[t];e.set(i,e.get(i)+a)}}return e},placeRightToLeft:function(h){var e=new M,t,i;for(var r=0;r<this.layers.length;++r){var n=h[r];if(!n)continue;for(t=0;t<n.length;t++){i=n[t];if(!e.containsKey(i))this.placeRight(i,e,r)}var a=Number.NEGATIVE_INFINITY;for(t=0;t<n.length;t++){i=n[t];var o=this.leftSibling(i);if(o&&this.nodeRightClass.get(o)!==r)a=Math.max(a,e.get(o)-e.get(i)+this.getMinDist(o,i))}if(a===Number.NEGATIVE_INFINITY){var s=[];for(t=0;t<n.length;t++){i=n[t];var l=[];D.addRange(l,this.upNodes.get(i));D.addRange(l,this.downNodes.get(i));for(var c=0;c<l.length;c++){var u=l[c];if(this.nodeRightClass.get(u)<r)s.push(e.get(i)-e.get(u))}}s.sort();if(s.length===0)a=0;else if(s.length%2===1)a=s[this.intDiv(s.length,2)];else a=(s[this.intDiv(s.length,2)-1]+s[this.intDiv(s.length,2)])/2}for(t=0;t<n.length;t++){i=n[t];e.set(i,e.get(i)+a)}}return e},_getLeftWing:function(){var e={value:null};var t=this.computeClasses(e,1);this.nodeLeftClass=e.value;return t},_getRightWing:function(){var e={value:null};var t=this.computeClasses(e,-1);this.nodeRightClass=e.value;return t},computeClasses:function(h,e){var t=0,i=h.value=new M;for(var r=0;r<this.layers.length;++r){t=r;var n=this.layers[r];for(var a=e===1?0:n.length-1;0<=a&&a<n.length;a+=e){var o=n[a];if(!i.containsKey(o)){i.set(o,t);if(o.isVirtual){var s=this._nodesInLink(o);for(var l=0;l<s.length;l++){var u=s[l];i.set(u,t)}}}else t=i.get(o)}}var c=[];for(var f=0;f<this.layers.length;f++)c.push(null);i.forEach(function(e,t){if(c[t]===null)c[t]=[];c[t].push(e)});return c},_isVerticalLayout:function(){return this.options.subtype.toLowerCase()==="up"||this.options.subtype.toLowerCase()==="down"||this.options.subtype.toLowerCase()==="vertical"},_isHorizontalLayout:function(){return this.options.subtype.toLowerCase()==="right"||this.options.subtype.toLowerCase()==="left"||this.options.subtype.toLowerCase()==="horizontal"},_isIncreasingLayout:function(){return this.options.subtype.toLowerCase()==="right"||this.options.subtype.toLowerCase()==="down"},_moveThingsAround:function(){var c,e,t,i,r,n;for(e=0;e<this.layers.length;++e){i=this.layers[e];i.sort(this._gridPositionComparer)}this.minDistances=[];for(e=0;e<this.layers.length;++e){i=this.layers[e];this.minDistances[e]=[];for(r=0;r<i.length;++r){t=i[r];t.layerIndex=r;this.minDistances[e][r]=this.options.nodeDistance;if(r<i.length-1)if(this._isVerticalLayout())this.minDistances[e][r]+=(t.width+i[r+1].width)/2;else this.minDistances[e][r]+=(t.height+i[r+1].height)/2}}this.downNodes=new M;this.upNodes=new M;D.forEach(this.graph.nodes,function(e){this.downNodes.set(e,[]);this.upNodes.set(e,[])},this);D.forEach(this.graph.links,function(e){var t=e.source;var i=e.target;var r=null,n=null;if(t.layer>i.layer){r=e.source;n=e.target}else{n=e.source;r=e.target}this.downNodes.get(n).push(r);this.upNodes.get(r).push(n)},this);this.downNodes.forEachValue(function(e){e.sort(this._gridPositionComparer)},this);this.upNodes.forEachValue(function(e){e.sort(this._gridPositionComparer)},this);for(e=0;e<this.layers.length-1;++e){i=this.layers[e];for(n=0;n<i.length-1;n++){var l=i[n];if(!l.isVirtual)continue;var a=this.downNodes.get(l)[0];if(!a.isVirtual)continue;for(r=n+1;r<i.length;++r){t=i[r];if(!t.isVirtual)continue;var o=this.downNodes.get(t)[0];if(!o.isVirtual)continue;if(a.gridPosition>o.gridPosition){var u=a.gridPosition;a.gridPosition=o.gridPosition;o.gridPosition=u;var f=a.layerIndex;var d=o.layerIndex;this.layers[e+1][f]=o;this.layers[e+1][d]=a;a.layerIndex=d;o.layerIndex=f}}}}var p=this._getLeftWing();var v=this._getRightWing();var g=this.placeLeftToRight(p);var m=this.placeRightToLeft(v);var h=new M;D.forEach(this.graph.nodes,function(e){h.set(e,(g.get(e)+m.get(e))/2)});var _=new M;var y=new M;for(e=0;e<this.layers.length;++e){i=this.layers[e];var s=-1,w=-1;for(r=0;r<i.length;++r){t=i[r];_.set(t,0);y.set(t,false);if(t.isVirtual)if(s===-1)s=r;else if(s===r-1)s=r;else{w=r;_.set(i[s],0);if(h.get(t)-h.get(i[s])===this.getMinDist(i[s],t))y.set(i[s],true);else y.set(i[s],false);s=r}}}var b=[1,-1];D.forEach(b,function(e){var t=e===1?0:this.layers.length-1;for(var i=t;0<=i&&i<this.layers.length;i+=e){var r=this.layers[i];var n=this._firstVirtualNode(r);var a=null;var o=null;if(n!==-1){a=r[n];o=[];for(c=0;c<n;c++)o.push(r[c])}else{a=null;o=r}if(o.length>0){this._sequencer(h,null,a,e,o);for(c=0;c<o.length-1;++c)this.setMinDist(o[c],o[c+1],h.get(o[c+1])-h.get(o[c]));if(a)this.setMinDist(o[o.length-1],a,h.get(a)-h.get(o[o.length-1]))}while(a){var s=this.nextVirtualNode(r,a);if(!s){n=a.layerIndex;o=[];for(c=n+1;c<r.length;c++)o.push(r[c]);if(o.length>0){this._sequencer(h,a,null,e,o);for(c=0;c<o.length-1;++c)this.setMinDist(o[c],o[c+1],h.get(o[c+1])-h.get(o[c]));this.setMinDist(a,o[0],h.get(o[0])-h.get(a))}}else if(_.get(a)===e){n=a.layerIndex;var l=s.layerIndex;o=[];for(c=n+1;c<l;c++)o.push(r[c]);if(o.length>0)this._sequencer(h,a,s,e,o);y.set(a,true)}a=s}this.adjustDirections(i,e,_,y)}},this);var x=this._isIncreasingLayout()?0:this.layers.length-1;var k=function(e,t){if(t._isIncreasingLayout())return e<t.layers.length;else return e>=0};var C=this._isIncreasingLayout()?+1:-1,S=0;function T(e,t){var i=Number.MIN_VALUE;for(var r=0;r<e.length;++r){var n=e[r];if(t._isVerticalLayout())i=Math.max(i,n.height);else i=Math.max(i,n.width)}return i}for(c=x;k(c,this);c+=C){i=this.layers[c];var A=T(i,this);for(r=0;r<i.length;++r){t=i[r];if(this._isVerticalLayout()){t.x=h.get(t);t.y=S+A/2}else{t.x=S+A/2;t.y=h.get(t)}}S+=this.options.layerSeparation+A}},adjustDirections:function(e,t,h,u){if(e+t<0||e+t>=this.layers.length)return;var i=null,r=null;var n=this.layers[e+t];for(var a=0;a<n.length;++a){var o=n[a];if(o.isVirtual){var s=this.getNeighborOnLayer(o,e);if(s.isVirtual){if(i){var f=u.get(r);var d=this.layers[e];var p=r.layerIndex;var v=s.layerIndex;for(var l=p+1;l<v;++l)if(d[l].isVirtual)f=f&&u.get(d[l]);if(f){h.set(i,t);var g=i.layerIndex;var m=o.layerIndex;for(var c=g+1;c<m;++c)if(n[c].isVirtual)h.set(n[c],t)}}i=o;r=s}}}},getNeighborOnLayer:function(e,t){var i=this.upNodes.get(e)[0];if(i.layer===t)return i;i=this.downNodes.get(e)[0];if(i.layer===t)return i;return null},_sequencer:function(e,t,i,r,n){if(n.length===1)this._sequenceSingle(e,t,i,r,n[0]);if(n.length>1){var a=n.length,o=this.intDiv(a,2);this._sequencer(e,t,i,r,n.slice(0,o));this._sequencer(e,t,i,r,n.slice(o));this.combineSequences(e,t,i,r,n)}},_sequenceSingle:function(e,t,i,r,n){var a=r===-1?this.downNodes.get(n):this.upNodes.get(n);var o=a.length;if(o!==0){if(o%2===1)e.set(n,e.get(a[this.intDiv(o,2)]));else e.set(n,(e.get(a[this.intDiv(o,2)-1])+e.get(a[this.intDiv(o,2)]))/2);if(t)e.set(n,Math.max(e.get(n),e.get(t)+this.getMinDist(t,n)));if(i)e.set(n,Math.min(e.get(n),e.get(i)-this.getMinDist(n,i)))}},combineSequences:function(e,h,u,f,t){var d=t.length,i=this.intDiv(d,2);var r=[],n,a,o,s,l,c;for(n=0;n<i;++n){a=0;s=f===-1?this.downNodes.get(t[n]):this.upNodes.get(t[n]);for(o=0;o<s.length;++o){l=s[o];if(e.get(l)>=e.get(t[n]))a++;else{a--;r.push({k:e.get(l)+this.getMinDist(t[n],t[i-1]),v:2})}}r.push({k:e.get(t[n])+this.getMinDist(t[n],t[i-1]),v:a})}if(h)r.push({k:e.get(h)+this.getMinDist(h,t[i-1]),v:Number.MAX_VALUE});r.sort(this._positionDescendingComparer);var p=[];for(n=i;n<d;++n){a=0;s=f===-1?this.downNodes.get(t[n]):this.upNodes.get(t[n]);for(o=0;o<s.length;++o){l=s[o];if(e.get(l)<=e.get(t[n]))a++;else{a--;p.push({k:e.get(l)-this.getMinDist(t[n],t[i]),v:2})}}p.push({k:e.get(t[n])-this.getMinDist(t[n],t[i]),v:a})}if(u)p.push({k:e.get(u)-this.getMinDist(u,t[i]),v:Number.MAX_VALUE});p.sort(this._positionAscendingComparer);var v=0,g=0;var m=this.getMinDist(t[i-1],t[i]);while(e.get(t[i])-e.get(t[i-1])<m)if(v<g)if(r.length===0){e.set(t[i-1],e.get(t[i])-m);break}else{c=r.shift();v=v+c.v;e.set(t[i-1],c.k);e.set(t[i-1],Math.max(e.get(t[i-1]),e.get(t[i])-m))}else if(p.length===0){e.set(t[i],e.get(t[i-1])+m);break}else{c=p.shift();g=g+c.v;e.set(t[i],c.k);e.set(t[i],Math.min(e.get(t[i]),e.get(t[i-1])+m))}for(n=i-2;n>=0;n--)e.set(t[n],Math.min(e.get(t[n]),e.get(t[i-1])-this.getMinDist(t[n],t[i-1])));for(n=i+1;n<d;n++)e.set(t[n],Math.max(e.get(t[n]),e.get(t[i])+this.getMinDist(t[n],t[i])))},placeLeft:function(e,i,r){var n=Number.NEGATIVE_INFINITY;D.forEach(this._getComposite(e),function(e){var t=this.leftSibling(e);if(t&&this.nodeLeftClass.get(t)===this.nodeLeftClass.get(e)){if(!i.containsKey(t))this.placeLeft(t,i,r);n=Math.max(n,i.get(t)+this.getMinDist(t,e))}},this);if(n===Number.NEGATIVE_INFINITY)n=0;D.forEach(this._getComposite(e),function(e){i.set(e,n)})},placeRight:function(e,i,r){var n=Number.POSITIVE_INFINITY;D.forEach(this._getComposite(e),function(e){var t=this.rightSibling(e);if(t&&this.nodeRightClass.get(t)===this.nodeRightClass.get(e)){if(!i.containsKey(t))this.placeRight(t,i,r);n=Math.min(n,i.get(t)-this.getMinDist(e,t))}},this);if(n===Number.POSITIVE_INFINITY)n=0;D.forEach(this._getComposite(e),function(e){i.set(e,n)})},leftSibling:function(e){var t=this.layers[e.layer],i=e.layerIndex;return i===0?null:t[i-1]},rightSibling:function(e){var t=this.layers[e.layer];var i=e.layerIndex;return i===t.length-1?null:t[i+1]},_getComposite:function(e){return e.isVirtual?this._nodesInLink(e):[e]},arrangeNodes:function(){var e,t,i,r,n;for(t=0;t<this.layers.length;t++){r=this.layers[t];for(i=0;i<r.length;i++){n=r[i];n.upstreamPriority=n.upstreamLinkCount;n.downstreamPriority=n.downstreamLinkCount}}var a=2;for(var o=0;o<a;o++){for(e=this.layers.length-1;e>=1;e--)this.layoutLayer(false,e);for(e=0;e<this.layers.length-1;e++)this.layoutLayer(true,e)}var s=Number.MAX_VALUE;for(t=0;t<this.layers.length;t++){r=this.layers[t];for(i=0;i<r.length;i++){n=r[i];s=Math.min(s,n.gridPosition)}}if(s<0)for(t=0;t<this.layers.length;t++){r=this.layers[t];for(i=0;i<r.length;i++){n=r[i];n.gridPosition=n.gridPosition-s}}},layoutLayer:function(e,t){var i;var n;if(e)n=this.layers[i=t+1];else n=this.layers[i=t-1];var r=[];for(var a=0;a<n.length;a++)r.push(n[a]);r.sort(function(e,t){var i=(e.upstreamPriority+e.downstreamPriority)/2;var r=(t.upstreamPriority+t.downstreamPriority)/2;if(Math.abs(i-r)<1e-4)return 0;if(i<r)return 1;return-1});D.forEach(r,function(e){var t=e.gridPosition;var i=this.calcBaryCenter(e);var r=(e.upstreamPriority+e.downstreamPriority)/2;if(Math.abs(t-i)<1e-4)return;if(Math.abs(t-i)<.25+1e-4)return;if(t<i)while(t<i){if(!this.moveRight(e,n,r))break;t=e.gridPosition}else while(t>i){if(!this.moveLeft(e,n,r))break;t=e.gridPosition}},this);if(i>0)this.calcDownData(i-1);if(i<this.layers.length-1)this.calcUpData(i+1)},moveRight:function(e,t,i){var r=D.indexOf(t,e);if(r===t.length-1){e.gridPosition=e.gridPosition+.5;return true}var n=t[r+1];var a=(n.upstreamPriority+n.downstreamPriority)/2;if(n.gridPosition>e.gridPosition+1){e.gridPosition=e.gridPosition+.5;return true}if(a>i||Math.abs(a-i)<1e-4)return false;if(this.moveRight(n,t,i)){e.gridPosition=e.gridPosition+.5;return true}return false},moveLeft:function(e,t,i){var r=D.indexOf(t,e);if(r===0){e.gridPosition=e.gridPosition-.5;return true}var n=t[r-1];var a=(n.upstreamPriority+n.downstreamPriority)/2;if(n.gridPosition<e.gridPosition-1){e.gridPosition=e.gridPosition-.5;return true}if(a>i||Math.abs(a-i)<1e-4)return false;if(this.moveLeft(n,t,i)){e.gridPosition=e.gridPosition-.5;return true}return false},mapVirtualNode:function(e,t){this.nodeToLinkMap.set(e,t);if(!this.linkToNodeMap.containsKey(t))this.linkToNodeMap.set(t,[]);this.linkToNodeMap.get(t).push(e)},_nodesInLink:function(e){return this.linkToNodeMap.get(this.nodeToLinkMap.get(e))},_dummify:function(){this.linkToNodeMap=new M;this.nodeToLinkMap=new M;var e,t,i,h,u,r,n,f,d=this.graph.links.slice(0);var a=this.layers;var p=function(e,t,i){a[e].linksTo[t]=a[e].linksTo[t]||[];a[e].linksTo[t].push(i)};for(f=0;f<d.length;f++){var o=d[f];var s=o.source;var v=o.target;var l=s.layer;var c=v.layer;var g=s.gridPosition;var m=v.gridPosition;var _=(m-g)/Math.abs(c-l);var y=s;if(l-c>1){for(n=l-1;n>c;n--){i=new w;i.x=s.x;i.y=s.y;i.width=s.width/100;i.height=s.height/100;e=a[n];t=(n-c)*_+g;if(t>e.length)t=e.length;if(g>=a[l].length-1&&m>=a[c].length-1)t=e.length;else if(g===0&&m===0)t=0;i.layer=n;i.uBaryCenter=0;i.dBaryCenter=0;i.upstreamLinkCount=0;i.downstreamLinkCount=0;i.gridPosition=t;i.isVirtual=true;D.insert(e,i,t);for(u=t+1;u<e.length;u++){h=e[u];h.gridPosition=h.gridPosition+1}r=new b(y,i);r.depthOfDumminess=0;p(n-1,n,r);y=i;this.graph._addNode(i);this.graph.addLink(r);i.index=this.graph.nodes.length-1;this.mapVirtualNode(i,o)}p(c-1,c,r);o.changeSource(y);o.depthOfDumminess=l-c-1}else if(l-c<-1){for(n=l+1;n<c;n++){i=new w;i.x=s.x;i.y=s.y;i.width=s.width/100;i.height=s.height/100;e=a[n];t=(n-l)*_+g;if(t>e.length)t=e.length;if(g>=a[l].length-1&&m>=a[c].length-1)t=e.length;else if(g===0&&m===0)t=0;i.layer=n;i.uBaryCenter=0;i.dBaryCenter=0;i.upstreamLinkCount=0;i.downstreamLinkCount=0;i.gridPosition=t;i.isVirtual=true;t&=t;D.insert(e,i,t);for(u=t+1;u<e.length;u++){h=e[u];h.gridPosition=h.gridPosition+1}r=new b(y,i);r.depthOfDumminess=0;p(n-1,n,r);y=i;this.graph._addNode(i);this.graph.addLink(r);i.index=this.graph.nodes.length-1;this.mapVirtualNode(i,o)}p(c-1,c,o);o.changeSource(y);o.depthOfDumminess=c-l-1}else p(l,c,o)}},_dedummify:function(){var e=true;while(e){e=false;for(var t=0;t<this.graph.links.length;t++){var i=this.graph.links[t];if(!i.depthOfDumminess)continue;var r=[];r.unshift({x:i.target.x,y:i.target.y});r.unshift({x:i.source.x,y:i.source.y});var n=i;var a=i.depthOfDumminess;for(var o=0;o<a;o++){var s=n.source;var l=s.incoming[0];r.unshift({x:l.source.x,y:l.source.y});n=l}i.changeSource(n.source);i.depthOfDumminess=0;if(r.length>2){r.splice(0,1);r.splice(r.length-1);i.points=r}else i.points=[];e=true;break}}},_optimizeCrossings:function(){var e=-1,t;var i=3;var r=0;while(e!==0){if(r++>i)break;e=0;for(t=this.layers.length-1;t>=1;t--)e+=this.optimizeLayerCrossings(false,t);for(t=0;t<this.layers.length-1;t++)e+=this.optimizeLayerCrossings(true,t)}},calcUpData:function(e){if(e===0)return;var t=this.layers[e],i,r,n;var a=new u;var o=this.layers[e-1];for(i=0;i<o.length;i++)a.add(o[i]);for(i=0;i<t.length;i++){var s=t[i];var l=0;var c=0;for(r=0;r<s.incoming.length;r++){n=s.incoming[r];if(a.contains(n.source)){c++;l+=n.source.gridPosition}}for(r=0;r<s.outgoing.length;r++){n=s.outgoing[r];if(a.contains(n.target)){c++;l+=n.target.gridPosition}}if(c>0){s.uBaryCenter=l/c;s.upstreamLinkCount=c}else{s.uBaryCenter=i;s.upstreamLinkCount=0}}},calcDownData:function(e){if(e===this.layers.length-1)return;var t=this.layers[e],i,r,n;var a=new u;var o=this.layers[e+1];for(i=0;i<o.length;i++)a.add(o[i]);for(i=0;i<t.length;i++){var s=t[i];var l=0;var c=0;for(r=0;r<s.incoming.length;r++){n=s.incoming[r];if(a.contains(n.source)){c++;l+=n.source.gridPosition}}for(r=0;r<s.outgoing.length;r++){n=s.outgoing[r];if(a.contains(n.target)){c++;l+=n.target.gridPosition}}if(c>0){s.dBaryCenter=l/c;s.downstreamLinkCount=c}else{s.dBaryCenter=i;s.downstreamLinkCount=0}}},optimizeLayerCrossings:function(e,t){var i;var r;if(e)r=this.layers[i=t+1];else r=this.layers[i=t-1];var n=r.slice(0);if(e)this.calcUpData(i);else this.calcDownData(i);var a=this;r.sort(function(e,t){var i=a.calcBaryCenter(e),r=a.calcBaryCenter(t);if(Math.abs(i-r)<1e-4){if(e.degree()===t.degree())return a.compareByIndex(e,t);else if(e.degree()<t.degree())return 1;return-1}var n=(r-i)*1e3;if(n>0)return-1;else if(n<0)return 1;return a.compareByIndex(e,t)});var o,s=0;for(o=0;o<r.length;o++)if(r[o]!==n[o])s++;if(s>0){var l=0;for(o=0;o<r.length;o++){var c=r[o];c.gridPosition=l++}}return s},_swapPairs:function(){var h=this.options.layeredIterations;var e=0;while(true){if(e++>h)break;var t=e%4<=1;var u=e%4===1;for(var i=t?0:this.layers.length-1;t?i<=this.layers.length-1:i>=0;i+=t?1:-1){var r=this.layers[i];var f=false;var d=true;var p=0;for(var n=0;n<r.length-1;n++){var a=0;var o=0;var s=0;if(d){if(i!==0)a=this.countLinksCrossingBetweenTwoLayers(i-1,i);if(i!==this.layers.length-1)o=this.countLinksCrossingBetweenTwoLayers(i,i+1);if(t)a*=2;else o*=2;s=a+o}else s=p;if(s===0)continue;var l=r[n];var c=r[n+1];var v=l.gridPosition;var g=c.gridPosition;r[n]=c;r[n+1]=l;l.gridPosition=g;c.gridPosition=v;a=0;if(i!==0)a=this.countLinksCrossingBetweenTwoLayers(i-1,i);o=0;if(i!==this.layers.length-1)o=this.countLinksCrossingBetweenTwoLayers(i,i+1);if(t)a*=2;else o*=2;var m=a+o;var _=false;if(u)_=m>=s;else _=m>s;if(_){l=r[n];c=r[n+1];v=l.gridPosition;g=c.gridPosition;r[n]=c;r[n+1]=l;l.gridPosition=g;c.gridPosition=v;p=s;d=false}else{f=true;d=true}}if(f){if(i!==this.layers.length-1)this.calcUpData(i+1);if(i!==0)this.calcDownData(i-1)}}}},countLinksCrossingBetweenTwoLayers:function(h,e){var t=this.layers[h].linksTo[e];var i,r,n,a,o,s,l,c;var u=0;var f=t.length;for(l=0;l<f;l++){i=t[l];for(c=l+1;c<f;c++){r=t[c];if(i.target.layer===e){n=i.source;a=i.target}else{n=i.target;a=i.source}if(r.target.layer===e){o=r.source;s=r.target}else{o=r.target;s=r.source}var d=n.gridPosition;var p=a.gridPosition;var v=o.gridPosition;var g=s.gridPosition;if((d-v)*(p-g)<0)u++}}return u},calcBaryCenter:function(e){var t=e.upstreamLinkCount;var i=e.downstreamLinkCount;var r=e.uBaryCenter;var n=e.dBaryCenter;if(t>0&&i>0)return(r+n)/2;if(t>0)return r;if(i>0)return n;return 0},_gridPositionComparer:function(e,t){if(e.gridPosition<t.gridPosition)return-1;if(e.gridPosition>t.gridPosition)return 1;return 0},_positionAscendingComparer:function(e,t){return e.k<t.k?-1:e.k>t.k?1:0},_positionDescendingComparer:function(e,t){return e.k<t.k?1:e.k>t.k?-1:0},_firstVirtualNode:function(e){for(var t=0;t<e.length;t++)if(e[t].isVirtual)return t;return-1},compareByIndex:function(e,t){var i=e.index;var r=t.index;if(i<r)return 1;if(i>r)return-1;return 0},intDiv:function(e,t){return(e-e%t)/t},nextVirtualNode:function(e,t){var i=t.layerIndex;for(var r=i+1;r<e.length;++r)if(e[r].isVirtual)return e[r];return null}}),k=t.Class.extend({init:function(e,t){if(D.isUndefined(e))throw"No diagram given";this.diagram=e;this.nodeMap=new M;this.linkMap=new M;this.capture(t?t:e)},capture:function(e){var t,i,r,n,a,o,s;if(e instanceof h.Graph){for(n=0;n<e.nodes.length;n++){t=e.nodes[n];r=t.associatedShape;this.nodeMap.set(r.visual.id,new d(t.x,t.y,t.width,t.height))}for(n=0;n<e.links.length;n++){o=e.links[n];a=o.associatedConnection;this.linkMap.set(a.visual.id,o.points())}}else if(e instanceof Array){i=e;for(n=0;n<i.length;n++){t=i[n];r=t.associatedShape;if(r)this.nodeMap.set(r.visual.id,new d(t.x,t.y,t.width,t.height))}}else if(e.hasOwnProperty("links")&&e.hasOwnProperty("nodes")){i=e.nodes;s=e.links;for(n=0;n<i.length;n++){t=i[n];r=t.associatedShape;if(r)this.nodeMap.set(r.visual.id,new d(t.x,t.y,t.width,t.height))}for(n=0;n<s.length;n++){o=s[n];a=o.associatedConnection;if(a)this.linkMap.set(a.visual.id,o.points)}}else{var l=this.diagram.shapes;var c=this.diagram.connections;for(n=0;n<l.length;n++){r=l[n];this.nodeMap.set(r.visual.id,r.bounds())}for(n=0;n<c.length;n++){a=c[n];this.linkMap.set(a.visual.id,a.points())}}}});a(h,{init:function(e){t.init(e,h.ui)},SpringLayout:m,TreeLayout:y,GraphAdapter:c,LayeredLayout:x,LayoutBase:i,LayoutState:k})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.html.base.min",["./kendo.core.min"],function(){var e={id:"html.base",name:"Html.Base",category:"web",description:"",depends:["core"],features:[]},r=window.kendo.jQuery,t=void 0,n=window.kendo,i=n.Class,a=(n.html=n.html||{},i.extend({init:function(e,t){var i=this;i.element=r(e);t=t||{};delete t.name;i._initOptions(t)},options:{stylingOptions:[]},_addClasses:function(){var e=this,i=e.options,t=i.stylingOptions;t=t.map(function(e){var t;if(e==="themeColor"){t=n.cssProperties.getValidClass({widget:i.name,propName:"fillMode",value:i.fillMode});if(!t||t.length===0)return""}return n.cssProperties.getValidClass({widget:i.name,propName:e,value:i[e],fill:i.fillMode})});e.wrapper.addClass(t.join(" "))},html:function(){var e=this;return e.wrapper[0].outerHTML}}));return r.extend(n.html,{HTMLBase:a}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.html.button.min",["./kendo.html.base.min"],function(){var t={id:"html.button",name:"Html.Button",category:"web",description:"HTML rendering utility for Kendo UI for jQuery.",depends:["html.base"],features:[]},h=window.kendo.jQuery,i=void 0,u=window.kendo,r=u.html.HTMLBase,n="k-button",f="k-button-icon",a="k-button-text",e=function(e,t){if(arguments[0]===i||h.isPlainObject(arguments[0])){t=e;e=h("<button></button>")}return new o(e,t).html()},o=r.extend({init:function(e,t){var i=this;r.fn.init.call(i,e,t);i.wrapper=i.element.addClass(n);if(!i.element.attr("type"))i.element.attr("type",i.options.type);i._addClasses();i.iconElement();i._textElement()},options:{name:"HTMLButton",type:"button",icon:"",iconClass:"",spriteCssClass:"",imageUrl:"",size:"medium",shape:"rectangle",rounded:"medium",fillMode:"solid",themeColor:"base",stylingOptions:["size","shape","rounded","fillMode","themeColor"]},iconElement:function(){var e=this,t=e.element,i=e.options,r=i.icon,n=i.iconClass,a=i.spriteCssClass,o=i.imageUrl,s,l,c;if(a||o||r||n){c=true;t.contents().filter(function(){return!h(this).hasClass("k-sprite")&&!h(this).hasClass("k-icon")&&!h(this).hasClass("k-image")}).each(function(e,t){if(t.nodeType==1||t.nodeType==3&&u.trim(t.nodeValue).length>0)c=false})}if(c)e.element.addClass("k-icon-button");if(o){l=t.children("img.k-image").first();if(!l[0])l=h('<img alt="icon" class="k-image" />').prependTo(t);l.attr("src",o);l.addClass(f)}else if(r||n){s=t.children("span.k-icon").first();if(!s[0])s=h("<span></span>").prependTo(t);s.attr("class",r?"k-icon k-i-"+r:n);s.addClass(f)}else if(a){s=t.children("span.k-sprite").first();if(!s[0])s=h('<span class="k-sprite"></span>').prependTo(t);s.addClass(a+" "+f)}},_textElement:function(){var e=this.element;e.contents().filter(function(){return!h(this).hasClass(f)&&!h(this).hasClass("k-sprite")&&!h(this).hasClass("k-icon")&&!h(this).hasClass("k-image")}).each(function(e,t){if(t.nodeType==1||t.nodeType==3&&u.trim(t.nodeValue).length>0){if(t.nodeType===3){var i=t.parentNode;var r=document.createElement("span");r.appendChild(document.createTextNode(t.nodeValue));i.replaceChild(r,t);t=r}t.classList.add(a)}})}});return h.extend(u.html,{renderButton:e,HTMLButton:o}),u.cssProperties.registerPrefix("HTMLButton","k-button-"),u.cssProperties.registerValues("HTMLButton",[{prop:"fillMode",values:u.cssProperties.fillModeValues.concat(["link"])},{prop:"rounded",values:u.cssProperties.roundedValues.concat([["full","full"]])}]),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.toolbar.min",["./kendo.core.min","./kendo.userevents.min","./kendo.popup.min","./kendo.html.button.min"],function(){var e={id:"toolbar",name:"ToolBar",category:"web",description:"The ToolBar widget displays one or more command buttons divided into groups.",depends:["core","html.button"]},p=window.kendo.jQuery,a=void 0,c=window.kendo,t=c.Class,s=c.ui.Widget,l=p.proxy,f=c.isFunction,v=c.keys,d=c._outerWidth,n=".kendoToolBar",y="k-toolbar",w="k-button",r="k-button-md k-rounded-md k-button-solid k-button-solid-base",b="k-overflow-button",x="k-toggle-button",g="k-button-group",k="k-split-button",C="k-split-button-arrow",S="k-list-container k-split-container",T="k-icon-button",A="k-separator",M="k-spacer",i="k-popup",D="k-toolbar-resizable",E="k-active",P="k-disabled",I="k-state-hidden",B="k-hidden",z="k-group-start",O="k-group-end",L="k-menu-link",R="k-overflow-group",F="k-overflow-hidden",V="k-overflow-anchor",N="k-overflow-container",H="k-overflow-wrapper",U="k-toolbar-first-visible",j="k-toolbar-last-visible",G="k-rounded-md",W="k-group k-menu-group k-reset k-menu-group-md",q="aria-disabled",Y="aria-pressed",$="click",X="toggle",K="open",Q="close",m="focus",Z="focusin",J="keydown",ee="tap",te="spacer",ie="both",re="primary",ne="href",ae="role",h="button",oe="separator",se="overflow",le="next",ce="prev",he="tabindex",ue="template",fe="overflowOpen",de="overflowClose",pe="never",ve="auto",ge="always",me="_optionlist",o=c.attr("uid"),_e='<li class="k-menu-item k-item">',ye='<span tabindex="0" class="k-link k-menu-link">'+'<span class="k-menu-link-text">#:text#</span>'+"</span>",we='<a href="#:href#" class="k-link k-menu-link">'+'<span class="k-menu-link-text">#:text#</span>'+"</a>",u=" ",be="",_=".",xe=",",ke="id",Ce=(c.toolbar={},{overflowAnchor:'<div tabindex="0" class="k-overflow-anchor k-button k-button-md k-rounded-md k-button-flat k-button-flat-base" title="More tools" role="button"></div>',overflowContainer:'<ul class="k-overflow-container k-list-container"></ul>'}),Se=(c.toolbar.registerComponent=function(e,t,i){Ce[e]={toolbar:t,overflow:i}},c.Class.extend({addOverflowAttr:function(){this.element.attr(c.attr(se),this.options.overflow||ve)},addUidAttr:function(){this.element.attr(o,this.options.uid)},addIdAttr:function(){if(this.options.id)this.element.attr(ke,this.options.id)},addOverflowIdAttr:function(){if(this.options.id)this.element.attr(ke,this.options.id+"_overflow")},attributes:function(){var e=this.options.attributes,t;if(e){if(e.class){t=e.class;this.element.addClass(t);delete e.class}this.element.attr(e);e.class=t}},show:function(){this.element.removeClass(I);this.element.removeClass(B);this.options.hidden=false},hide:function(){this.element.addClass(I);this.element.addClass(B);if(this.overflow&&this.overflowHidden)this.overflowHidden();this.options.hidden=true},remove:function(){this.element.remove()},enable:function(e){if(e===a)e=true;this.element.toggleClass(P,!e);this.element.attr(q,!e);this.options.enable=e},twin:function(){var e=this.element.attr(o);if(this.overflow&&this.options.splitContainerId)return p("#"+this.options.splitContainerId).find("["+o+"='"+e+"']").data(this.options.type);else if(this.overflow)return this.toolbar.element.find("["+o+"='"+e+"']").data(this.options.type);else if(this.toolbar.options.resizable)return this.toolbar.popup.element.find("["+o+"='"+e+"']").data(this.options.type)}})),Te=(c.toolbar.Item=Se).extend({init:function(e,t){var i=e.useButtonTag?p("<button></button>"):p('<a role="button" href></a>');this.element=i;this.options=p.extend({},this.options,e);this.toolbar=t;this.attributes();if(e.primary)this.options.themeColor=re;if(e.togglable){i.addClass(x);this.toggle(e.selected)}if(e.url!==a&&!e.useButtonTag){i.attr(ne,e.url);if(e.mobile)i.attr(c.attr(ae),h)}if(e.group){i.attr(c.attr("group"),e.group);this.group=this.toolbar.addToGroup(this,e.group)}if(!e.togglable&&e.click&&f(e.click))this.clickHandler=e.click;if(e.togglable&&e.toggle&&f(e.toggle))this.toggleHandler=e.toggle},options:{showIcon:ie,showText:ie},toggle:function(e,t){e=!!e;if(this.group&&e)this.group.select(this);else if(!this.group)this.select(e);if(t&&this.twin())this.twin().toggle(e)},getParentGroup:function(){if(this.options.isChild)return this.element.closest(_+g).data("buttonGroup")}}),Ae=(c.toolbar.Button=Te).extend({init:function(e,t){Te.fn.init.call(this,e,t);var i=this.element;e=this.options;i.addClass(w);this.addIdAttr();if(e.align)i.addClass("k-align-"+e.align);if(!!e.text&&(e.showText=="toolbar"||e.showText==ie))if(e.mobile)i.html('<span class="km-text">'+e.text+"</span>");else i.html(e.text);else if(!!e.text)i.attr("aria-label",e.text);if(e.icon||e.spriteCssClass||e.imageUrl)if(e.showIcon!=="toolbar"&&e.showIcon!==ie){e.icon=null;e.spriteCssClass=null;e.imageUrl=null}c.html.renderButton(i,e);this.addUidAttr();this.addOverflowAttr();this.enable(e.enable);if(e.hidden)this.hide();this.element.data({type:h,button:this})},select:function(e){if(e===a)e=false;if(this.options.togglable)this.element.attr(Y,e);this.element.toggleClass(E,e);this.options.selected=e}}),Me=(c.toolbar.ToolBarButton=Ae,Te.extend({init:function(e,t){this.overflow=true;Te.fn.init.call(this,p.extend({},e),t);var i=this.element;e=this.options;if(!!e.text&&(e.showText==se||e.showText==ie))if(e.mobile)i.html('<span class="km-text">'+e.text+"</span>");else i.html(e.text);else if(!!e.text)i.attr("aria-label",e.text);if(e.icon||e.spriteCssClass||e.imageUrl)if(e.showIcon!==se&&e.showIcon!==ie){e.icon=null;e.spriteCssClass=null;e.imageUrl=null}c.html.renderButton(i,e);if(!e.isChild)this._wrap();this.addOverflowIdAttr();this.attributes();this.addUidAttr();this.addOverflowAttr();this.enable(e.enable);i.addClass(b+u+w);if(e.hidden)this.hide();if(e.togglable)this.toggle(e.selected);this.element.data({type:h,button:this})},_wrap:function(){this.element=this.element.wrap(_e).parent()},overflowHidden:function(){this.element.addClass(F)},select:function(e){if(e===a)e=false;if(this.options.isChild)this.element.toggleClass(E,e);else this.element.find(_+w).toggleClass(E,e);this.options.selected=e}})),De=(c.toolbar.OverflowButton=Me,c.toolbar.registerComponent(h,Ae,Me),Se.extend({createButtons:function(e){var t=this.options;var i=t.buttons||[];var r;for(var n=0;n<i.length;n++){if(!i[n].uid)i[n].uid=c.guid();r=new e(p.extend({mobile:t.mobile,isChild:true,type:h},i[n]),this.toolbar);r.element.appendTo(this.element)}},refresh:function(){this.element.children().filter(":not('."+I+"')").first().addClass(z);this.element.children().filter(":not('."+I+"')").last().addClass(O)}})),Ee=(c.toolbar.ButtonGroup=De).extend({init:function(e,t){var i=this.element=p("<div></div>");this.options=e;this.toolbar=t;this.addIdAttr();if(e.align)i.addClass("k-align-"+e.align);this.createButtons(Ae);this.attributes();this.addUidAttr();this.addOverflowAttr();this.refresh();i.addClass(g);this.element.data({type:"buttonGroup",buttonGroup:this})}}),Pe=(c.toolbar.ToolBarButtonGroup=Ee,De.extend({init:function(e,t){var i=this.element=p("<li></li>");this.options=e;this.toolbar=t;this.overflow=true;this.addOverflowIdAttr();this.createButtons(Me);this.attributes();this.addUidAttr();this.addOverflowAttr();this.refresh();i.addClass((e.mobile?be:g)+u+R);this.element.data({type:"buttonGroup",buttonGroup:this})},overflowHidden:function(){this.element.addClass(F)}})),Ie=(c.toolbar.OverflowButtonGroup=Pe,c.toolbar.registerComponent("buttonGroup",Ee,Pe),Ae.extend({init:function(e,t){var i,r,n;e=this.options=p.extend({},this.options,e);if(e.url!==a)i=p(c.template(we)({href:e.url,text:e.text}));else i=p(c.template(ye)({text:e.text}));this.element=i;this.toolbar=t;if(e.click&&f(e.click))this.clickHandler=e.click;if(e.imageUrl){r=p('<img alt="icon" class="k-image" />').prependTo(i);r.attr("src",e.imageUrl)}else if(e.icon){n=p("<span></span>").prependTo(i);n.attr("class","k-icon k-i-"+e.icon)}else if(e.spriteCssClass){n=p('<span class="k-sprite"></span>').prependTo(i);n.addClass(e.spriteCssClass)}this.addIdAttr();this.addUidAttr();this.addOverflowAttr();this.attributes();this.enable(e.enable);if(e.group){i.attr(c.attr("group"),e.group);this.group=this.toolbar.addToGroup(this,e.group)}if(e.hidden)this.hide();this.element.data({type:h,button:this})}})),Be=(c.toolbar.ToolBarMenuButton=Ie,Se.extend({init:function(e,t){var i=this.element=p('<div class="'+k+u+g+u+G+'" tabindex="0"></div>');this.options=e;this.toolbar=t;this.mainButton=new Ae(p.extend({},e,{hidden:false}),t);this.arrowButton=p('<a class="'+w+u+r+u+T+u+C+'"><span class="'+(e.mobile?"km-icon km-arrowdown":"k-icon k-i-arrow-s")+'"></span></a>');this.popupElement=p('<ul class="'+S+u+W+'"></ul>');this.mainButton.element.removeAttr("href tabindex").appendTo(i);this.arrowButton.appendTo(i);this.popupElement.appendTo(i);if(e.align)i.addClass("k-align-"+e.align);if(!e.id)e.id=e.uid;i.attr(ke,e.id+"_wrapper");this.addOverflowAttr();this.addUidAttr();this.createMenuButtons();this.createPopup();this._navigatable();this.mainButton.main=true;this.enable(e.enable);if(e.hidden)this.hide();i.data({type:"splitButton",splitButton:this,kendoPopup:this.popup})},_navigatable:function(){var i=this;i.popupElement.on(J+n,_+L,function(e){var t=p(e.target).parent();e.preventDefault();if(e.keyCode===v.ESC||e.keyCode===v.TAB||e.altKey&&e.keyCode===v.UP){i.toggle();i.focus()}else if(e.keyCode===v.DOWN)je(t,le).trigger(m);else if(e.keyCode===v.UP)je(t,ce).trigger(m);else if(e.keyCode===v.SPACEBAR||e.keyCode===v.ENTER)i.toolbar.userEvents.trigger(ee,{target:p(e.target)});else if(e.keyCode===v.HOME)t.parent().find(":kendoFocusable").first().trigger(m);else if(e.keyCode===v.END)t.parent().find(":kendoFocusable").last().trigger(m)})},createMenuButtons:function(){var e=this.options;var t=e.menuButtons;var i;for(var r=0;r<t.length;r++){i=new Ie(p.extend({mobile:e.mobile,type:h,click:e.click},t[r]),this.toolbar);i.element.wrap(_e).parent().appendTo(this.popupElement)}},createPopup:function(){var i=this;var e=this.options;var r=this.element;this.popupElement.attr(ke,e.id+me).attr(o,e.rootUid);if(e.mobile)this.popupElement=He(this.popupElement);this.popup=this.popupElement.kendoPopup({appendTo:e.mobile?p(e.mobile).children(".km-pane"):null,anchor:r,isRtl:this.toolbar._isRtl,copyAnchorStyles:false,animation:e.animation,open:function(e){var t=i.toolbar.trigger(K,{target:r});if(t){e.preventDefault();return}i.adjustPopupWidth(e.sender)},activate:function(){this.element.find(":kendoFocusable").first().trigger(m)},close:function(e){var t=i.toolbar.trigger(Q,{target:r});if(t)e.preventDefault();r.trigger(m)}}).data("kendoPopup");this.popup.element.on($+n,"a.k-button",Ue)},adjustPopupWidth:function(e){var t=e.options.anchor,i=d(t),r;c.wrap(e.element).addClass("k-split-wrapper");if(e.element.css("box-sizing")!=="border-box")r=i-(d(e.element)-e.element.width());else r=i;e.element.css({fontFamily:t.css("font-family"),"min-width":r})},remove:function(){this.popup.element.off($+n,"a.k-button");this.popup.destroy();this.element.remove()},toggle:function(){if(this.options.enable||this.popup.visible())this.popup.toggle()},enable:function(e){if(e===a)e=true;this.mainButton.enable(e);this.element.toggleClass(P,!e);this.element.attr(q,!e);this.options.enable=e},focus:function(){this.element.trigger(m)},hide:function(){if(this.popup)this.popup.close();this.element.addClass(I);this.element.addClass(B);this.options.hidden=true},show:function(){this.element.removeClass(I);this.element.removeClass(B);this.options.hidden=false}})),ze=(c.toolbar.ToolBarSplitButton=Be,Se.extend({init:function(e,t){var i=this.element=p('<li class="'+k+'"></li>'),r=e.menuButtons,n,a;this.options=e;this.toolbar=t;this.overflow=true;a=(e.id||e.uid)+me;this.mainButton=new Me(p.extend({isChild:true},e));this.mainButton.element.appendTo(i);for(var o=0;o<r.length;o++){n=new Me(p.extend({mobile:e.mobile,type:h,splitContainerId:a,isChild:true},r[o],{click:e.click}),this.toolbar);n.element.appendTo(i)}this.addUidAttr();this.addOverflowAttr();this.mainButton.main=true;i.data({type:"splitButton",splitButton:this})},overflowHidden:function(){this.element.addClass(F)}})),Oe=(c.toolbar.OverflowSplitButton=ze,c.toolbar.registerComponent("splitButton",Be,ze),Se.extend({init:function(e,t){var i=this.element=p("<div>&nbsp;</div>");this.element=i;this.options=e;this.toolbar=t;this.attributes();this.addIdAttr();this.addUidAttr();this.addOverflowAttr();i.addClass(A);i.attr(ae,oe);i.data({type:oe,separator:this})}})),Le=Se.extend({init:function(e,t){var i=this.element=p("<li>&nbsp;</li>");this.element=i;this.options=e;this.toolbar=t;this.overflow=true;this.attributes();this.addUidAttr();this.addOverflowIdAttr();i.addClass(A);i.attr(ae,oe);i.data({type:oe,separator:this})},overflowHidden:function(){this.element.addClass(F)}}),Re=(c.toolbar.registerComponent("separator",Oe,Le),Se.extend({init:function(e,t){var i=this.element=p("<div>&nbsp;</div>");this.element=i;this.options=e;this.toolbar=t;i.addClass(M);i.data({type:te})}})),Fe=(c.toolbar.registerComponent(te,Re),Se.extend({init:function(e,t,i){var r=f(e)?e(t):e;if(!(r instanceof jQuery))r=p("<div></div>").html(r);else r=r.wrap("<div></div>").parent();this.element=r;this.options=t;this.options.type=ue;this.toolbar=i;this.attributes();this.addUidAttr();this.addIdAttr();this.addOverflowAttr();r.data({type:ue,template:this})}})),Ve=(c.toolbar.TemplateItem=Fe,Se.extend({init:function(e,t,i){var r=f(e)?p(e(t)):p(e);if(!(r instanceof jQuery))r=p("<li></li>").html(r);else r=r.wrap("<li></li>").parent();this.element=r;this.options=t;this.options.type=ue;this.toolbar=i;this.overflow=true;this.attributes();this.addUidAttr();this.addOverflowIdAttr();this.addOverflowAttr();r.data({type:ue,template:this})},overflowHidden:function(){this.element.addClass(F)}}));function Ne(e){if(!e.target.is(".k-toggle-button"))e.target.toggleClass(E,e.type=="press")}function He(e){e=p(e);return e.hasClass("km-actionsheet")?e.closest(".km-popup-wrapper"):e.addClass("km-widget km-actionsheet").wrap('<div class="km-actionsheet-wrapper km-actionsheet-tablet km-widget km-popup"></div>').parent().wrap('<div class="km-popup-wrapper k-popup"></div>').parent()}function Ue(e){if(p(e.target).closest("a.k-button").length)e.preventDefault()}function je(e,t){var i=t===le?p.fn.next:p.fn.prev;var r=t===le?p.fn.first:p.fn.last;var n=i.call(e);if(!n.length&&e.is(_+V))return e;if(n.is(":kendoFocusable")||!n.length)return n;if(n.find(":kendoFocusable").length)return r.call(n.find(":kendoFocusable"));return je(n,t)}c.toolbar.OverflowTemplateItem=Ve;var Ge=t.extend({init:function(e){this.name=e;this.buttons=[]},add:function(e){this.buttons[this.buttons.length]=e},remove:function(e){var t=p.inArray(e,this.buttons);this.buttons.splice(t,1)},select:function(e){var t;for(var i=0;i<this.buttons.length;i++){t=this.buttons[i];t.select(false)}e.select(true);if(e.twin())e.twin().select(true)}}),We=s.extend({init:function(e,t){var i=this;s.fn.init.call(i,e,t);t=i.options;e=i.wrapper=i.element;e.addClass(y+" k-widget");e.attr(ae,"toolbar");this.uid=c.guid();this._isRtl=c.support.isRtl(e);this._groups={};e.attr(o,this.uid);i.isMobile=typeof t.mobile==="boolean"?t.mobile:i.element.closest(".km-root")[0];i.animation=i.isMobile?{open:{effects:"fade"}}:{};if(i.isMobile){e.addClass("km-widget");w="km-button";g="km-buttongroup";E="km-state-active";P="km-state-disabled"}if(t.resizable){i._renderOverflow();e.addClass(D);i.overflowUserEvents=new c.UserEvents(i.element,{threshold:5,allowSelection:true,filter:_+V,tap:l(i._toggleOverflow,i)});i._resizeHandler=c.onResize(function(){i.resize()})}else i.popup={element:p([])};if(t.items&&t.items.length){for(var r=0;r<t.items.length;r++)i.add(t.items[r]);if(t.resizable)i._shrink(i.element.innerWidth())}i.userEvents=new c.UserEvents(document.documentElement,{threshold:5,allowSelection:true,filter:"["+o+"="+this.uid+"] a."+w+xe+u+"["+o+"="+this.uid+"] ."+L+xe+u+"["+o+"="+this.uid+"] ."+b,tap:l(i._buttonClick,i),press:Ne,release:Ne});i.element.on($+n,"a.k-button",Ue);i._navigatable();if(t.resizable)i.popup.element.on($+n,+"a.k-button",Ue);if(t.resizable)this._toggleOverflowAnchor();c.notify(i)},events:[$,X,K,Q,fe,de],options:{name:"ToolBar",items:[],resizable:true,mobile:null},addToGroup:function(e,t){var i;if(!this._groups[t])i=this._groups[t]=new Ge;else i=this._groups[t];i.add(e);return i},destroy:function(){var e=this;e.element.find(_+k).each(function(e,t){p(t).data("kendoPopup").destroy()});e.element.off(n,"a.k-button");e.userEvents.destroy();if(e.options.resizable){c.unbindResize(e._resizeHandler);e.overflowUserEvents.destroy();e.popup.element.off(n,"a.k-button");e.popup.destroy()}s.fn.destroy.call(e)},add:function(e){var t=Ce[e.type],i=e.template,r,n=this,a=n.isMobile?be:"k-item",o=e.overflowTemplate,s;p.extend(e,{uid:c.guid(),animation:n.animation,mobile:n.isMobile,rootUid:n.uid});if(e.menuButtons)for(var l=0;l<e.menuButtons.length;l++)p.extend(e.menuButtons[l],{uid:c.guid()});if(i&&!o||e.type===te)e.overflow=pe;else if(!e.overflow)e.overflow=ve;if(e.overflow!==pe&&n.options.resizable){if(o)s=new Ve(o,e,n);else if(t){s=new t.overflow(e,n);s.element.addClass(a)}if(s){if(e.overflow===ve)s.overflowHidden();s.element.appendTo(n.popup.container);n.angular("compile",function(){return{elements:s.element.get()}})}}if(e.overflow!==ge){if(i)r=new Fe(i,e,n);else if(t)r=new t.toolbar(e,n);if(r){r.element.appendTo(n.element);n.angular("compile",function(){return{elements:r.element.get()}})}}},_getItem:function(e){var t,i,r,n=this.options.resizable,a;t=this.element.find(e);if(!t.length)t=p(".k-split-container[data-uid="+this.uid+"]").find(e);a=t.length?t.data("type"):be;i=t.data(a);if(i){if(i.main){t=t.parent(_+k);a="splitButton";i=t.data(a)}if(n)r=i.twin()}else if(n){t=this.popup.element.find(e);a=t.length?t.data("type"):be;r=t.data(a);if(r&&r.main){t=t.parent(_+k);a="splitButton";r=t.data(a)}}return{type:a,toolbar:i,overflow:r}},remove:function(e){var t=this._getItem(e);if(t.toolbar)t.toolbar.remove();if(t.overflow)t.overflow.remove();this.resize(true)},hide:function(e){var t=this._getItem(e);var i;if(t.toolbar)if(t.toolbar.options.type===h&&t.toolbar.options.isChild){i=t.toolbar.getParentGroup();t.toolbar.hide();if(i)i.refresh()}else if(!t.toolbar.options.hidden)t.toolbar.hide();if(t.overflow)if(t.overflow.options.type===h&&t.overflow.options.isChild){i=t.overflow.getParentGroup();t.overflow.hide();if(i)i.refresh()}else if(!t.overflow.options.hidden)t.overflow.hide();this.resize(true)},show:function(e){var t=this._getItem(e);var i;if(t.toolbar)if(t.toolbar.options.type===h&&t.toolbar.options.isChild){i=t.toolbar.getParentGroup();t.toolbar.show();if(i)i.refresh()}else if(t.toolbar.options.hidden)t.toolbar.show();if(t.overflow)if(t.overflow.options.type===h&&t.overflow.options.isChild){i=t.overflow.getParentGroup();t.toolbar.show();if(i)i.refresh()}else if(t.overflow.options.hidden)t.overflow.show();this.resize(true)},enable:function(e,t){var i=this._getItem(e);if(typeof t=="undefined")t=true;if(i.toolbar)i.toolbar.enable(t);if(i.overflow)i.overflow.enable(t)},getSelectedFromGroup:function(e){return this.element.find(_+x+"[data-group='"+e+"']").filter(_+E)},toggle:function(e,t){var i=p(e),r=i.data(h);if(r.options.togglable){if(t===a)t=true;r.toggle(t,true)}},_renderOverflow:function(){var a=this,e=Ce.overflowContainer,i=a._isRtl,t=i?"left":"right";a.overflowAnchor=p(Ce.overflowAnchor).addClass(w);a.element.append(a.overflowAnchor);if(a.isMobile){a.overflowAnchor.append('<span class="km-icon km-more"></span>');e=He(e)}else a.overflowAnchor.append('<span class="k-icon k-i-more-vertical"></span>');a.popup=new c.ui.Popup(e,{origin:"bottom "+t,position:"top "+t,anchor:a.overflowAnchor,isRtl:i,animation:a.animation,appendTo:a.isMobile?p(a.isMobile).children(".km-pane"):null,copyAnchorStyles:false,open:function(e){var t=c.wrap(a.popup.element).addClass(H);if(!a.isMobile)t.css("margin-left",(i?-1:1)*((d(t)-t.width())/2+1));else a.popup.container.css("max-height",parseFloat(p(".km-content:visible").innerHeight())-15+"px");if(a.trigger(fe))e.preventDefault()},activate:function(){this.element.find(":kendoFocusable").first().trigger(m)},close:function(e){if(a.trigger(de))e.preventDefault();this.element.trigger(m)}});a.popup.element.on(J+n,_+w,function(e){var t=p(e.target),i=t.parent(),r=i.is(_+g)||i.is(_+k),n;e.preventDefault();if(e.keyCode===v.ESC||e.keyCode===v.TAB||e.altKey&&e.keyCode===v.UP){a._toggleOverflow();a.overflowAnchor.trigger(m)}else if(e.keyCode===v.DOWN){n=!r||r&&t.is(":last-child")?i:t;je(n,le).trigger(m)}else if(e.keyCode===v.UP){n=!r||r&&t.is(":first-child")?i:t;je(n,ce).trigger(m)}else if(e.keyCode===v.SPACEBAR||e.keyCode===v.ENTER){a.userEvents.trigger(ee,{target:p(e.target)});a.overflowAnchor.trigger(m)}else if(e.keyCode===v.HOME)i.parent().find(":kendoFocusable").first().trigger(m);else if(e.keyCode===v.END)i.parent().find(":kendoFocusable").last().trigger(m)});if(a.isMobile)a.popup.container=a.popup.element.find(_+N);else a.popup.container=a.popup.element;a.popup.container.attr(o,this.uid)},_toggleOverflowAnchor:function(){var e=false;var t=this._isRtl?"padding-left":"padding-right";if(this.options.mobile)e=this.popup.element.find(_+N).children(":not(."+F+", ."+i+")").length>0;else e=this.popup.element.children(":not(."+F+", ."+i+")").length>0;if(e){this.overflowAnchor.css({visibility:"visible",width:be});this.wrapper.css(t,this.overflowAnchor.outerWidth(true))}else{this.overflowAnchor.css({visibility:"hidden",width:"1px"});this.wrapper.css(t,be)}},_buttonClick:function(e){var t=this,i,r,n,a,o=e.target.closest(_+C).length,s,l,c;e.preventDefault();if(o){t._toggle(e);return}r=p(e.target).closest(_+w+xe+u+_+L,t.element);if(r.hasClass(V))return;n=r.data(h);if(!n&&t.popup){r=p(e.target).closest(_+b,t.popup.container);n=r.parent("li").data(h)}if(!n||!n.options.enable)return;if(n.options.togglable){s=f(n.toggleHandler)?n.toggleHandler:null;n.toggle(!n.options.selected,true);l={target:r,group:n.options.group,checked:n.options.selected,id:n.options.id,item:n};if(s)s.call(t,l);t.trigger(X,l)}else{s=f(n.clickHandler)?n.clickHandler:null;l={sender:t,target:r,id:n.options.id,item:n};if(s)s.call(t,l);t.trigger($,l)}if(n.options.url){if(n.options.attributes&&n.options.attributes.target)c=n.options.attributes.target;window.open(n.options.url,c||"_self")}if(r.hasClass(b))t.popup.close();a=r.closest(".k-split-container");if(a[0]){i=a.data("kendoPopup");(i?i:a.parents(".km-popup-wrapper").data("kendoPopup")).close()}},_navigatable:function(){var e=this;e.element.attr(he,0).on(Z+n,function(e){var t=p(e.target);var i=p(this).find(":kendoFocusable").first();if(!t.is(_+y)||i.length===0)return;if(i.is(_+V))i=je(i,le);if(i.length)i[0].focus()}).on(J+n,l(e._keydown,e))},_keydown:function(e){var t=p(e.target),i=e.keyCode,r=this.element.children(":not(.k-separator):visible"),n=this._isRtl?-1:1;if(i===v.TAB){var a=t.parentsUntil(this.element).last(),o=false,s=false,l=false;if(!r.not(_+V).length)l=true;if(!a.length)a=t;if(a.is(_+V)&&!l){var h=r.last();if(e.shiftKey)e.preventDefault();if(h.is(":kendoFocusable"))r.last().trigger(m);else r.last().find(":kendoFocusable").last().trigger(m)}if(!e.shiftKey&&r.index(a)===r.length-1)if(a.is(_+g))o=t.is(":last-child");else o=true;var u=r.index(a)===r.not(".k-overflow-anchor").first().index();if(e.shiftKey&&u)if(a.is(_+g))s=t.is(":first-child");else s=true;if(o&&this.overflowAnchor&&this.overflowAnchor.css("visibility")!=="hidden"&&!l){e.preventDefault();this.overflowAnchor.trigger(m)}if(s||l&&e.shiftKey){e.preventDefault();var c=this._getPrevFocusable(this.wrapper);if(c)c.trigger(m)}this._preventNextFocus=false}if(e.altKey&&i===v.DOWN){var f=p(document.activeElement).data("splitButton");var d=p(document.activeElement).is(_+V);if(f)f.toggle();else if(d)this._toggleOverflow();return}if((i===v.SPACEBAR||i===v.ENTER)&&!t.is("input, checkbox")){if(i===v.SPACEBAR)e.preventDefault();if(t.is(_+k)){t=t.children().first();this.userEvents.trigger(ee,{target:t})}else if(i===v.SPACEBAR)this.userEvents.trigger(ee,{target:t});return}if(i===v.HOME){if(t.is(".k-dropdown")||t.is("input"))return;if(this.overflowAnchor)r.eq(1).trigger(m);else r.first().trigger(m);e.preventDefault()}else if(i===v.END){if(t.is(".k-dropdown")||t.is("input"))return;if(this.overflowAnchor&&p(this.overflowAnchor).css("visibility")!="hidden")this.overflowAnchor.trigger(m);else r.last().trigger(m);e.preventDefault()}else if(i===v.RIGHT&&!this._preventNextFocus&&!t.is("input, select, .k-dropdown, .k-colorpicker")&&this._getNextElement(e.target,1*n)){this._getNextElement(e.target,1*n).focus();e.preventDefault()}else if(i===v.LEFT&&!this._preventNextFocus&&!t.is("input, select, .k-dropdown, .k-colorpicker")&&this._getNextElement(e.target,-1*n)){this._getNextElement(e.target,-1*n).focus();e.preventDefault()}},_getNextElement:function(e,t){var i=this.element.children(":not(.k-separator, .k-spacer):visible");var r=i.index(e)===-1?i.index(e.parentElement):i.index(e);var n=this.overflowAnchor?1:0;var a=t;var o=t===1?i.length-1:n;var s=t===1?n:i.length-1;var l=i[r+t];this._preventNextFocus=false;if(p(e).closest(_+g).not(_+k).length&&!p(e).is(t===1?":last-child":":first-child"))return p(e).closest(_+g).children()[p(e).closest(_+g).children().index(e)+t];if(this.overflowAnchor&&e===this.overflowAnchor[0]&&t===-1)l=i[i.length-1];if(r===o)l=!this.overflowAnchor||this.overflowAnchor&&p(this.overflowAnchor).css("visibility")==="hidden"?i[s]:this.overflowAnchor;while(!p(l).is(":kendoFocusable")){if(t===-1&&p(l).closest(_+g).length)l=p(l).children(":not(label, div)").last();else l=p(l).children(":not(label, div)").first();if(!l.length){a=a+t;l=i[r+a];if(!l)return this.overflowAnchor}if(p(l).hasClass("k-combobox"))l=p(l).find("input");this._preventNextFocus=p(l).closest(_+g).length?false:true}return l},_getPrevFocusable:function(e){if(e.is("html"))return e;var t,i,r=e.prevAll();r.each(function(){i=p(this);if(i.is(":kendoFocusable")){t=i;return false}else if(i.find(":kendoFocusable").length>0){t=i.find(":kendoFocusable").last();return false}});if(t)return t;else return this._getPrevFocusable(e.parent())},_toggle:function(e){var t=p(e.target).closest(_+k).data("splitButton");e.preventDefault();if(!t.options.enable)return;t.toggle()},_toggleOverflow:function(){this.popup.toggle()},_resize:function(e){var t=e.width;if(!this.options.resizable)return;this.popup.close();this._shrink(t);this._stretch(t);this._markVisibles();this._toggleOverflowAnchor()},_childrenWidth:function(){var e=0;this.element.children(":visible:not(."+I+xe+u+_+M+")").each(function(){e+=d(p(this),true)});return Math.ceil(e)},_shrink:function(e){var t,i;if(e<this._childrenWidth()){i=this.element.children(":visible:not([data-overflow='never'], ."+V+")");for(var r=i.length-1;r>=0;r--){t=i.eq(r);if(e>this._childrenWidth())break;else this._hideItem(t)}}},_stretch:function(e){var t,i;if(e>this._childrenWidth()){i=this.element.children(":hidden:not('."+I+"')");for(var r=0;r<i.length;r++){t=i.eq(r);if(e<this._childrenWidth()||!this._showItem(t,e))break}}},_hideItem:function(e){e.addClass(B);if(this.popup)this.popup.container.find(">li[data-uid='"+e.data("uid")+"']").removeClass(F)},_showItem:function(e,t){e.removeClass(B);var i=d(e,true);e.addClass(B);if(e.length&&t>this._childrenWidth()+i){e.removeClass(B);if(this.popup)this.popup.container.find(">li[data-uid='"+e.data("uid")+"']").addClass(F);return true}return false},_markVisibles:function(){var e=this.popup.container.children(),t=this.element.children(":not(.k-overflow-anchor)"),i=e.filter(":not(.k-overflow-hidden)"),r=t.filter(":visible");e.add(t).removeClass(U+u+j);i.first().add(r.first()).addClass(U);i.last().add(r.last()).addClass(j)}});return c.ui.plugin(We),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.toggleinputbase.min",["./kendo.core.min"],function(){var c={id:"toggleinputbase",name:"ToggleInputBase",category:"web",description:"The ToggleInputBase component.",depends:["core"]},r=window.kendo.jQuery,n=void 0,a=window.kendo,e=a.ui,o=e.Widget,t="change",s="disabled",l="checked",i=o.extend({init:function(e,t){var i=this;o.fn.init.call(i,e,t);i._wrapper();i._initSettings();i._attachEvents();a.notify(i,a.ui)},events:[t],options:{name:"ToggleInputBase"},NS:".kendoToggleInputBase",RENDER_INPUT:r.noop,check:function(e){var t=this,i=t.element[0];if(e===n)return i.checked;if(i.checked!==e)t.options.checked=i.checked=e;if(e)t.element.attr(l,l);else t.element.prop(l,false)},destroy:function(){o.fn.destroy.call(this);this.wrapper.off(this.NS)},enable:function(e){var t=this.element;if(typeof e=="undefined")e=true;this.options.enabled=e;if(e)t.prop(s,false);else t.attr(s,s)},toggle:function(){var e=this;e.check(!e.element[0].checked)},_attachEvents:function(){this.element.on(t+this.NS,this._change.bind(this))},_change:function(){var e=this.element[0].checked;this.trigger(t,{checked:e})},_initSettings:function(){var e=this,t=e.element[0],i=e.options;if(i.checked===null)i.checked=t.checked;e.check(i.checked);i.enabled=i.enabled&&!e.element.attr(s);e.enable(i.enabled)},_wrapper:function(){var e=this,t=e.options,i=e.RENDER_INPUT;i(e.element,r.extend({},t));e.element.removeClass("input-validation-error");e.wrapper=e.element}});return e.plugin(i),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.html.input.min",["./kendo.html.base.min"],function(){var c={id:"html.input",name:"Html.Input",category:"web",description:"HTML rendering utility for Kendo UI for jQuery.",depends:["html.base"],features:[]},n=window.kendo.jQuery,i=void 0,a=window.kendo,r=a.html.HTMLBase,e=function(e,t){if(arguments[0]===i||n.isPlainObject(arguments[0])){t=e;e=n("<input />")}return new s(e,t).html()},t=function(e,t){if(arguments[0]===i||n.isPlainObject(arguments[0])){t=e;e=n("<input />")}return new l(e,t).html()},o=r.extend({init:function(e,t){var i=this;r.fn.init.call(i,e,t);i._wrapper();i._addClasses()},options:{label:null,labelPosition:"after",encoded:true},_wrapper:function(){var e=this,t=e.element[0],i=e.options,r=t.id;e.wrapper=e.element.addClass(i.inputClass).prop("type",i.type);if(!r&&!!i.label)t.id=r=a.guid();if(!!i.label){e.labelEl=n("<label for='"+r+"' class='"+i.labelClass+"'>");if(i.encoded)e.labelEl.text(i.label);else e.labelEl.html(i.label);e.element[i.labelPosition](e.labelEl)}},html:function(){var e=this,t=e.options.labelPosition==="after",i=r.fn.html.call(e);if(!e.labelEl)return i;if(t)return i+e.labelEl[0].outerHTML;return e.labelEl[0].outerHTML+i}}),s=o.extend({init:function(e,t){var i=this;o.fn.init.call(i,e,t);i._addClasses()},options:{name:"HTMLCheckBox",inputClass:"k-checkbox",labelClass:"k-checkbox-label",type:"checkbox",rounded:"medium",size:"medium",stylingOptions:["size","rounded"]}}),l=o.extend({init:function(e,t){var i=this;o.fn.init.call(i,e,t);i._addClasses()},options:{name:"HTMLRadioButton",inputClass:"k-radio",labelClass:"k-radio-label",type:"radio",size:"medium",stylingOptions:["size"]}});return n.extend(a.html,{renderCheckBox:e,renderRadioButton:t,HTMLInput:o,HTMLCheckBox:s,HTMLRadioButton:l}),a.cssProperties.registerPrefix("HTMLCheckBox","k-checkbox-"),a.cssProperties.registerValues("HTMLCheckBox",[{prop:"rounded",values:a.cssProperties.roundedValues.concat([["full","full"]])}]),a.cssProperties.registerPrefix("HTMLRadioButton","k-radio-"),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.checkbox.min",["./kendo.toggleinputbase.min","./kendo.html.input.min"],function(){var e={id:"checkbox",name:"CheckBox",category:"web",description:"The CheckBox widget is used to display boolean value input.",depends:["toggleinputbase","html.input"]},t=window.kendo.jQuery,i=void 0,r=window.kendo,n=r.ui,a,o=n.ToggleInputBase.extend({options:{name:"CheckBox",checked:null,enabled:true,encoded:true,label:null,rounded:"medium",size:"medium"},RENDER_INPUT:r.html.renderCheckBox,NS:".kendoCheckBox",value:function(e){if(typeof e==="string")e=e==="true";return this.check.apply(this,[e])}});return r.cssProperties.registerPrefix("CheckBox","k-checkbox-"),r.cssProperties.registerValues("CheckBox",[{prop:"rounded",values:r.cssProperties.roundedValues.concat([["full","full"]])}]),n.plugin(o),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.list.min",["./kendo.data.min","./kendo.popup.min"],function(){var e={id:"list",name:"List",category:"framework",depends:["data","popup"],hidden:true},v=window.kendo.jQuery,d=void 0,p=window.kendo,r=p.ui,l=p._outerHeight,y=/^\d+(\.\d+)?%$/i,a=r.Widget,g=p.keys,o=p.support,w=p.htmlEncode,b=p._activeElement,s=p._outerWidth,t=p.data.ObservableArray,n="id",m="change",c="k-focus",f="k-hover",_="k-selected",i="k-i-loading",x="k-list",k="k-table",C="k-data-table",S="k-table-md",T="k-list-ul",A="k-table-list",M=".k-list-group-sticky-header",D=".k-list-item-group-label",E=".k-list-item",P="_label",I="open",B="close",z="cascade",O="select",L="click",R="mouseleave",F="mouseenter",V="activate",N="deactivate",H="dataBinding",U="dataBound",j="selectedItemChange",G="selected",W="requestStart",q="requestEnd",Y="blur",$="focus",X="focusout",K=v.extend,h=v.proxy,Q=Array.isArray,Z=o.browser,J="k-hidden",ee="width",te="text",ie="value",re=Z.msie,ne=/"/g,ae={ComboBox:["DropDownList","MultiColumnComboBox"],DropDownList:["ComboBox","MultiColumnComboBox"],MultiColumnComboBox:["ComboBox","DropDownList"]},oe='<ul unselectable="on"/>',se="<div class='k-list'/>",le='<div class="k-no-data" style="display: none;"></div>',ce='<div class="k-list-footer"></div>',he='<div class="k-table-footer">'+'<span class="k-table-td"></span>'+"</div>",ue="mousedown",fe="-list",de="_listbox",pe="aria-labelledby",ve="aria-label",ge="aria-activedescendant",me="aria-autocomplete",_e="aria-controls",ye="aria-live",we="aria-expanded",be="aria-hidden",xe="aria-busy",ke="aria-multiselectable",Ce="aria-selected",Se=".k-table-group-row",Te=p.ui.DataBoundWidget.extend({init:function(e,t){var i=this,r;a.fn.init.call(i,e,t);e=i.element;t=i.options;i._isSelect=e.is(O);if(i._isSelect&&i.element[0].length)if(!t.dataSource){t.dataTextField=t.dataTextField||te;t.dataValueField=t.dataValueField||ie}i._listSize=p.cssProperties.getValidClass({widget:"List",propName:"size",value:t.size});i.ul=v(oe).attr({tabIndex:-1,"aria-hidden":true});i.list=v(se).addClass(i._listSize).append(i.ul);r=e.attr(n);if(!r)r=p.guid();i.list.attr(n,r+fe);i.ul.attr(n,r+de);if(t.columns&&t.columns.length){i.list.removeClass(x).addClass(C);i.list.removeClass(i._listSize).addClass(S);i.ul.removeClass(T).addClass(k);i._columnsHeader()}i._header();i._noData();i._footer();i._accessors();i._initValue()},options:{valuePrimitive:false,footerTemplate:"",headerTemplate:"",noDataTemplate:true,size:"medium",messages:{noData:"No data found.",clear:"clear"}},setOptions:function(e){a.fn.setOptions.call(this,e);if(e&&e.enable!==d)e.enabled=e.enable;if(e.columns&&e.columns.length)this._columnsHeader();this._header();this._noData();this._footer();this._renderFooter();this._renderNoData()},focus:function(){this._focused.trigger($)},readonly:function(e){this._editable({readonly:e===d?true:e,disable:false})},enable:function(e){this._editable({readonly:false,disable:!(e=e===d?true:e)})},_header:function(){var e=this;var t=v(e.header);var i=e.options.headerTemplate;this._angularElement(t,"cleanup");p.destroy(t);t.remove();if(!i){e.header=null;return}var r=typeof i!=="function"?p.template(i):i;t=v(r({}));e.header=t[0]?t:null;if(e.list.parent.length>0)e.list.before(t);this._angularElement(e.header,"compile")},_columnsHeader:function(){var e=this;var t=v(e.columnsHeader);this._angularElement(t,"cleanup");p.destroy(t);t.remove();var i="<div class='k-table-header'><div class='k-table-header-wrap'><table class='k-table' role='presentation'>";var r="<colgroup>";var n="<tr class='k-table-row'>";for(var a=0;a<this.options.columns.length;a++){var o=this.options.columns[a];var h=o.title||o.field||"";var s=o.headerTemplate||h;var u=typeof s!=="function"?p.template(s):s;var l=o.width;var f=parseInt(l,10);var c="";if(l&&!isNaN(f)){c+="style='width:";c+=f;c+=y.test(l)?"%":"px";c+=";'"}r+="<col "+c+"/>";n+="<th class='k-table-th'>";n+=u(o);n+="</th>"}r+="</colgroup>";n+="</tr>";i+=r;i+="<thead class='k-table-thead'>";i+=n;i+="</thead></table></div></div>";e.columnsHeader=t=v(i);e.list.prepend(t);this._angularElement(e.columnsHeader,"compile")},_noData:function(){var e=this;var t=v(e.noData);var i=e.options.noDataTemplate===true?e.options.messages.noData:e.options.noDataTemplate;e.angular("cleanup",function(){return{elements:t}});p.destroy(t);t.remove();if(!i){e.noData=null;return}e.noData=v(le).appendTo(e.list);e.noDataTemplate=typeof i!=="function"?p.template(i):i},_footer:function(){var e=this;var t=v(e.footer);var i=e.options.footerTemplate;var r=this.options.columns&&this.options.columns.length?he:ce;this._angularElement(t,"cleanup");p.destroy(t);t.remove();if(!i){e.footer=null;return}e.footer=v(r).appendTo(e.list);e.footerTemplate=typeof i!=="function"?p.template(i):i},_listOptions:function(e){var t=this;var i=t.options;var r=i.virtual;var n={change:h(t._listChange,t)};var a=h(t._listBound,t);var o=t._focused;var s=t.element.attr("id");var l=v('label[for="'+t.element.attr("id")+'"]');var c=o.attr(pe);if(!c&&l.length)c=l.attr("id")||t._generateLabelId(l,s||p.guid());r=typeof r==="object"?r:{};e=v.extend({autoBind:false,selectable:true,dataSource:t.dataSource,click:h(t._click,t),activate:h(t._activateItem,t),columns:i.columns,deactivate:h(t._deactivateItem,t),dataBinding:function(){t.trigger(H)},dataBound:a,height:i.height,dataValueField:i.dataValueField,dataTextField:i.dataTextField,groupTemplate:i.groupTemplate,fixedGroupTemplate:i.fixedGroupTemplate,template:i.template,ariaLabel:o.attr(ve),ariaLabelledBy:c,listSize:t._listSize},e,r,n);if(!e.template)e.template="#:"+p.expr(e.dataTextField,"data")+"#";if(i.$angular)e.$angular=i.$angular;return e},_initList:function(){var e=this;var t=e._listOptions({selectedItemChange:h(e._listChange,e)});if(!e.options.virtual)e.listView=new p.ui.StaticList(e.ul,t);else{e.listView=new p.ui.VirtualList(e.ul,t);e.list.addClass("k-virtual-list")}e.listView.bind("listBound",h(e._listBound,e));e._setListValue()},_setListValue:function(e){e=e||this.options.value;if(e!==d)this.listView.value(e).done(h(this._updateSelectionState,this))},_updateSelectionState:v.noop,_listMousedown:function(e){if(!this.filterInput||this.filterInput[0]!==e.target)e.preventDefault()},_isFilterEnabled:function(){var e=this.options.filter;return e&&e!=="none"},_hideClear:function(){var e=this;if(e._clear)e._clear.addClass(J)},_showClear:function(){if(this._clear)this._clear.removeClass(J)},_clearValue:function(){this._clearText();this._accessor("");this.listView.value([]);if(this._isSelect)this._customOption=d;if(this._isFilterEnabled()&&!this.options.enforceMinLength){this._filter({word:"",open:false});if(this.options.highlightFirst)this.listView.focus(0)}this._change()},_clearText:function(){this.text("")},_clearFilter:function(){if(!this.options.virtual)this.listView.bound(false);this._filterSource()},_filterSource:function(e,t){var i=this;var r=i.options;var n=r.filterFields&&e&&e.logic&&e.filters&&e.filters.length;var a=i.dataSource;var o=K({},a.filter()||{});var s=e||o.filters&&o.filters.length&&!e;var l=Be(o,r.dataTextField);this._clearFilterExpressions(o);if((e||l)&&i.trigger("filtering",{filter:e}))return v.Deferred().reject().promise();var c={filters:[],logic:"and"};if(n)c.filters.push(e);else this._pushFilterExpression(c,e);if(Ie(o))if(c.logic===o.logic)c.filters=c.filters.concat(o.filters);else c.filters.push(o);if(i._cascading)this.listView.setDSFilter(c);var h=K({},{page:s?1:a.page(),pageSize:s?a.options.pageSize:a.pageSize(),sort:a.sort(),filter:a.filter(),group:a.group(),aggregate:a.aggregate()},{filter:c});return a[t?"read":"query"](a._mergeState(h))},_pushFilterExpression:function(e,t){if(Ie(t)&&t.value!=="")e.filters.push(t)},_clearFilterExpressions:function(e){if(!e.filters)return;var t;for(var i=0;i<e.filters.length;i++)if("fromFilter"in e.filters[i])t=i;if(!isNaN(t))e.filters.splice(t,1)},_angularElement:function(e,t){if(!e)return;this.angular(t,function(){return{elements:e}})},_renderNoData:function(){var e=this;var t=e.noData;if(!t)return;this._angularElement(t,"cleanup");t.html(e.noDataTemplate({instance:e}));this._angularElement(t,"compile")},_toggleNoData:function(e){v(this.noData).toggle(e)},_toggleHeader:function(e){var t=this.listView.content.prev(M);t.toggle(e)},_renderFooter:function(){var e=this,t=e.footer?this.options.columns&&this.options.columns.length?e.footer.children().first():e.footer:null;if(!t)return;this._angularElement(t,"cleanup");t.html(e.footerTemplate({instance:e}));this._angularElement(t,"compile")},_allowOpening:function(){return this.options.noDataTemplate||this.dataSource.flatView().length},_initValue:function(){var e=this,t=e.options.value;if(t!==null)e.element.val(t);else{t=e._accessor();e.options.value=t}e._old=t},_ignoreCase:function(){var e=this,t=e.dataSource.reader.model,i;if(t&&t.fields){i=t.fields[e.options.dataTextField];if(i&&i.type&&i.type!=="string")e.options.ignoreCase=false}},_focus:function(e){return this.listView.focus(e)},_filter:function(e){var t=this;var i=t.options;var r=e.word;var n=i.filterFields;var a=i.dataTextField;var o;if(n&&n.length){o={logic:"or",filters:[],fromFilter:true};for(var s=0;s<n.length;s++)this._pushFilterExpression(o,t._buildExpression(r,n[s]))}else o=t._buildExpression(r,a);t._open=e.open;t._filterSource(o)},_buildExpression:function(e,t){var i=this;var r=i.options;var n=r.ignoreCase;var a=i.dataSource.options.accentFoldingFiltering;return{value:n?a?e.toLocaleLowerCase(a):e.toLowerCase():e,field:t,operator:r.filter,ignoreCase:n}},_clearButton:function(){var e=this;var t=e.options.messages.clear;if(!e._clear)e._clear=v('<span unselectable="on" class="k-clear-value" title="'+t+'"><span class="k-icon k-i-x"></span></span>').attr({role:"button",tabIndex:-1});if(!e.options.clearButton)e._clear.remove();this._hideClear()},search:function(e){var t=this.options;e=typeof e==="string"?e:this._inputValue();clearTimeout(this._typingTimeout);if(!t.enforceMinLength&&!e.length||e.length>=t.minLength){this._state="filter";if(this.listView)this.listView._emptySearch=!p.trim(e).length;if(!this._isFilterEnabled())this._searchByWord(e);else this._filter({word:e,open:true})}},current:function(e){return this._focus(e)},items:function(){return this.ul[0].children},destroy:function(){var e=this;var t=e.ns;a.fn.destroy.call(e);e._unbindDataSource();e.listView.destroy();e.list.off(t);e.popup.destroy();if(e._form)e._form.off("reset",e._resetHandler)},dataItem:function(e){var t=this;if(e===d)return t.listView.selectedDataItems()[0];if(typeof e!=="number"){if(t.options.virtual)return t.dataSource.getByUid(v(e).data("uid"));e=v(t.items()).index(e)}return t.dataSource.flatView()[e]},_activateItem:function(){var e=this.listView.focus();if(e)this._focused.add(this.filterInput).attr(ge,e.attr("id"))},_deactivateItem:function(){this._focused.add(this.filterInput).removeAttr(ge)},_accessors:function(){var e=this;var t=e.element;var i=e.options;var r=p.getter;var n=t.attr(p.attr("text-field"));var a=t.attr(p.attr("value-field"));if(!i.dataTextField&&n)i.dataTextField=n;if(!i.dataValueField&&a)i.dataValueField=a;e._text=r(i.dataTextField);e._value=r(i.dataValueField)},_aria:function(e){var t=this,i=t.options,r=t._focused,n;if(i.suggest!==d){if(i.filter==="none")if(i.suggest===true)n="inline";else n="none";else if(i.suggest===true)n="both";else n="list";r.attr(me,n)}e=e?e+" "+t.ul[0].id:t.ul[0].id;r.attr({"aria-owns":e,"aria-controls":e});if(t.filterInput&&t.filterInput.length>0)t.filterInput.attr(_e,e);t.ul.attr(ye,!t._isFilterEnabled()?"off":"polite");t._ariaLabel()},_ariaLabel:function(){var e=this;var t=e._focused;var i=e.element;var r=i.attr("id");var n=v('label[for="'+r+'"]');var a=i.attr(ve);var o=i.attr(pe);if(t===i)return;if(a)t.attr(ve,a);else if(o)t.attr(pe,o);else if(n.length){var s=n.attr("id")||e._generateLabelId(n,r||p.guid());t.attr(pe,s)}},_generateLabelId:function(e,t){var i=t+P;e.attr("id",i);return i},_blur:function(){var e=this;e._change();e.close();e._userTriggered=false},_isValueChanged:function(e){return e!==Ae(this._old,typeof e)},_change:function(){var e=this;var t=e.selectedIndex;var i=e.options.value;var r=e.value();var n;if(e._isSelect&&!e.listView.bound()&&i)r=i;if(e._isValueChanged(r))n=true;else if(e._valueBeforeCascade!==d&&e._valueBeforeCascade!==Ae(e._old,typeof e._valueBeforeCascade)&&e._userTriggered)n=true;else if(t!==d&&t!==e._oldIndex&&!e.listView.isFiltered())n=true;if(n){if(e._old===null||e._old===""||r==="")e._valueBeforeCascade=e._old=r;else if(e.dataItem())e._valueBeforeCascade=e._old=e.options.dataValueField?e.dataItem()[e.options.dataValueField]:e.dataItem();else e._valueBeforeCascade=e._old=null;e._oldIndex=t;if(!e._typing)e.element.trigger(m);e.trigger(m)}e.typing=false},_data:function(){return this.dataSource.view()},_enable:function(){var e=this,t=e.options,i=e.element.is("[disabled]");if(t.enable!==d)t.enabled=t.enable;if(!t.enabled||i)e.enable(false);else e.readonly(e.element.is("[readonly]"))},_dataValue:function(e){var t=this._value(e);if(t===d)t=this._text(e);return t},_offsetHeight:function(){var t=0;var e=this.listView.content.parent().prevAll(":visible");e.each(function(){var e=v(this);t+=l(e,true)});return t},_height:function(e){var t=this;var i=t.list;var r=t.options.height;var n=t.popup.visible();var a=this.options.columns&&this.options.columns.length;var o,s;if(e||t.options.noDataTemplate){s=i.parent().add(i.closest(".k-animation-container")).show();if(!i.parent().is(":visible")){s.hide();return}r=t.listView.content[0].scrollHeight>r?r:"auto";s.height(r);if(r!=="auto"){o=t._offsetHeight();r=r-o;if(a)r=r-(l(v(t.footer))||0)-(l(v(t.columnsHeader))||0)}if(a)t.listView.content.outerHeight(r);else t.listView.content.parent().outerHeight(r);if(!n)s.hide()}return r},_openHandler:function(e){this._adjustListWidth();if(this.trigger(I))e.preventDefault();else{this._focused.attr(we,true);this.ul.attr(be,false)}},_adjustListWidth:function(){var e=this,t=e.list.parent(),i=t[0].style.width,r=e.wrapper,n,a;if(!t.data(ee)&&i)return;n=window.getComputedStyle?window.getComputedStyle(r[0],null):0;a=parseFloat(n&&n.width)||s(r);if(n&&Z.msie)a+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth);if(t.css("box-sizing")!=="border-box")i=a-(s(t)-t.width());else i=a;t.css({fontFamily:r.css("font-family"),width:e.options.autoWidth?"auto":i,minWidth:i,whiteSpace:e.options.autoWidth?"nowrap":"normal"}).data(ee,i);return true},_closeHandler:function(e){if(this.trigger(B))e.preventDefault();else{this._focused.attr(we,false);this.ul.attr(be,true)}},_focusItem:function(){var e=this.listView;var t=!e.focus();var i=u(e.select());if(i===d&&this.options.highlightFirst&&t)i=0;if(i!==d)e.focus(i);else if(t)e.scrollToIndex(0)},_calculateGroupPadding:function(e){var t=this.ul.children(".k-first").first();var i=this.listView.content.prev(M);var r=0;var n="right";if(i[0]&&i[0].style.display!=="none"){if(e!=="auto")r=p.support.scrollbar();if(this.element.parents(".k-rtl").length)n="left";r+=parseFloat(t.css("border-"+n+"-width"),10)+parseFloat(t.children(D).css("padding-"+n),10);i.css("padding-"+n,r)}},_calculatePopupHeight:function(e){var t=this._height(this.dataSource.flatView().length||e);this._calculateGroupPadding(t);this._calculateColumnsHeaderPadding(t)},_calculateColumnsHeaderPadding:function(e){if(this.options.columns&&this.options.columns.length){var t=this;var i=o.isRtl(t.wrapper);var r=p.support.scrollbar();t.columnsHeader.css(i?"padding-left":"padding-right",e!=="auto"?r:0)}},_refreshScroll:function(){var e=this.listView;var t=e.element.height()>e.content.height();if(this.options.autoWidth)e.content.css({overflowX:"hidden",overflowY:t?"scroll":"auto"})},_resizePopup:function(e){if(this.options.virtual)return;if(!this.popup.element.is(":visible")){this.popup.one("open",function(e){return h(function(){this._calculatePopupHeight(e)},this)}.call(this,e));this.popup.one(V,h(this._refreshScroll,this))}else this._calculatePopupHeight(e)},_popup:function(){var e=this;e.list.wrap("<div>");e.popup=new r.Popup(e.list.parent(),K({},e.options.popup,{anchor:e.wrapper,open:h(e._openHandler,e),close:h(e._closeHandler,e),animation:e.options.animation,isRtl:o.isRtl(e.wrapper),autosize:e.options.autoWidth}));e.popup.element.prepend(e.header).on(ue+this.ns,h(this._listMousedown,this))},_toggleHover:function(e){v(e.currentTarget).toggleClass(f,e.type===F)},_toggle:function(e,t){var i=this;var r=o.mobileOS&&(o.touch||o.MSPointers||o.pointers);e=e!==d?e:!i.popup.visible();if(!t&&!r&&i._focused[0]!==b()){i._prevent=true;i._focused.trigger($);i._prevent=false}i[e?I:B]()},_triggerCascade:function(){var e=this;if(!e._cascadeTriggered||e.value()!==Ae(e._cascadedValue,typeof e.value())){e._cascadedValue=e.value();e._cascadeTriggered=true;e.trigger(z,{userTriggered:e._userTriggered})}},_triggerChange:function(){if(this._valueBeforeCascade!==this.value())this.trigger(m)},_unbindDataSource:function(){var e=this;e.dataSource.unbind(W,e._requestStartHandler).unbind(q,e._requestEndHandler).unbind("error",e._errorHandler)},requireValueMapper:function(e,t){var i=(e.value instanceof Array?e.value.length:e.value)||(t instanceof Array?t.length:t);if(i&&e.virtual&&typeof e.virtual.valueMapper!=="function")throw new Error("ValueMapper is not provided while the value is being set. See http://docs.telerik.com/kendo-ui/controls/editors/combobox/virtualization#the-valuemapper-function")}});function Ae(e,t){if(e!==d&&e!==""&&e!==null)if(t==="boolean"){if(typeof e!=="boolean")e=e.toString().toLowerCase()==="true";e=Boolean(e)}else if(t==="number")e=Number(e);else if(t==="string")e=e.toString();return e}K(Te,{inArray:function(e,t){var i,r,n=t.children;if(!e||e.parentNode!==t)return-1;for(i=0,r=n.length;i<r;i++)if(e===n[i])return i;return-1},unifyType:Ae}),r.Select=(p.ui.List=Te).extend({init:function(e,t){Te.fn.init.call(this,e,t);this._initial=this.element.val()},setDataSource:function(e){var t=this;var i;t.options.dataSource=e;t._dataSource();if(t.listView.bound()){t._initialIndex=null;t.listView._current=null}t.listView.setDataSource(t.dataSource);if(t.options.autoBind)t.dataSource.fetch();i=t._parentWidget();if(i)t._cascadeSelect(i)},close:function(){this.popup.close()},select:function(e){var t=this;if(e===d)return t.selectedIndex;else return t._select(e).done(function(){t._cascadeValue=t._old=t._accessor();t._oldIndex=t.selectedIndex})},_accessor:function(e,t){return this[this._isSelect?"_accessorSelect":"_accessorInput"](e,t)},_accessorInput:function(e){var t=this.element[0];if(e===d)return t.value;else{if(e===null)e="";t.value=e}},_accessorSelect:function(e,t){var i=this.element[0];var r;if(e===d)return Ee(i).value||"";Ee(i).selected=false;if(t===d)t=-1;r=e!==null&&e!=="";if(r&&t==-1)this._custom(e);else if(e)i.value=e;else i.selectedIndex=t},_syncValueAndText:function(){return true},_custom:function(e){var t=this;var i=t.element;var r=t._customOption;if(!r){r=v("<option/>");t._customOption=r;i.append(r)}r.text(e);r[0].selected=true},_hideBusy:function(){var e=this;clearTimeout(e._busy);e._arrowIcon.removeClass(i);e._focused.attr(xe,false);e._busy=null;e._showClear()},_showBusy:function(e){var t=this;if(e.isDefaultPrevented())return;t._request=true;if(t._busy)return;t._busy=setTimeout(function(){if(t._arrowIcon){t._focused.attr(xe,true);t._arrowIcon.addClass(i);t._hideClear()}},100)},_requestEnd:function(){this._request=false;this._hideBusy()},_dataSource:function(){var e=this,t=e.element,i=e.options,r=i.dataSource||{},n;r=Array.isArray(r)?{data:r}:r;if(e._isSelect){n=t[0].selectedIndex;if(n>-1)i.index=n;r.select=t;r.fields=[{field:i.dataTextField},{field:i.dataValueField}]}if(e.dataSource)e._unbindDataSource();else{e._requestStartHandler=h(e._showBusy,e);e._requestEndHandler=h(e._requestEnd,e);e._errorHandler=h(e._hideBusy,e)}e.dataSource=p.data.DataSource.create(r).bind(W,e._requestStartHandler).bind(q,e._requestEndHandler).bind("error",e._errorHandler)},_firstItem:function(){this.listView.focusFirst()},_lastItem:function(){this.listView.focusLast()},_nextItem:function(){return this.listView.focusNext()},_prevItem:function(){return this.listView.focusPrev()},_getNormalizedDataItem:function(e){var t=this,i=t.listView,r=typeof e==="number",n=t.optionLabel&&t.optionLabel.length,a;if(r)a=n?--e:e;else a=i.getElementIndex(e);return i.dataItemByIndex(a)},_getNormalizedSelectCandidate:function(e){var t=this,i=t.optionLabel&&t.optionLabel.length,r=typeof e==="number",n=e;if(i&&r)n++;return n},_move:function(e){var t=this;var i=t.listView;var r=e.keyCode;var n=r===g.DOWN;var h=t.options.virtual;var a;var o;var s;var l;var u;if(r===g.UP||n){if(e.altKey)t.toggle(n);else{if(!i.bound()&&!t.ul[0].firstChild){if(!t._fetch){t.dataSource.one(m,function(){t._fetch=false;t._move(e)});t._fetch=true;t._filterSource()}e.preventDefault();return true}s=t._focus();if(!t._fetch&&(!s||s.hasClass(_)))if(n){l=t._nextItem();if(h&&l<=0||!t._focus()&&!l)t._lastItem()}else{l=t._prevItem();if(h&&l>=i.dataSource.total()-1||!t._focus()&&!l)t._firstItem()}u=t._getNormalizedSelectCandidate(t._get(t._focus())||l||0);t._select(u,true).done(function(){var e=function(){if(!t.popup.visible())t._blur();if(t._cascadedValue===null)t._cascadedValue=t.value();else t._cascadedValue=t.dataItem()?t.dataItem()[t.options.dataValueField]||t.dataItem():null};if(t.trigger(O,{dataItem:t._getNormalizedDataItem(u),item:t._focus()}))t._select(s).done(e);else e()})}e.preventDefault();o=true}else if(r===g.ENTER||r===g.TAB){if(t.popup.visible())e.preventDefault();s=t._focus();a=t.dataItem();if(!t.popup.visible()&&(!a||t.text()!==t._text(a)))s=null;var f=t.filterInput&&t.filterInput[0]===b();var c;if(s){a=i.dataItemByIndex(i.getElementIndex(s));var d=true;if(a)d=t._value(a)!==Te.unifyType(t.value(),typeof t._value(a));if(d&&t.trigger(O,{dataItem:a,item:s}))return;c=t._select(s)}else if(t.input){if(t._syncValueAndText()||t._isSelect)t._accessor(t.input.val());t.listView.value(t.input.val())}if(t._focusElement)t._focusElement(t.wrapper);if(f&&r===g.TAB)t.wrapper.focusout();else if(c&&typeof c.done==="function")c.done(function(){t._blur()});else t._blur();t.close();o=true}else if(r===g.ESC){if(t.popup.visible())e.preventDefault();t.close();o=true}else if(t.popup.visible()&&(r===g.PAGEDOWN||r===g.PAGEUP)){e.preventDefault();var p=r===g.PAGEDOWN?1:-1;i.scrollWith(p*i.screenHeight());o=true}return o},_fetchData:function(){var e=this;var t=!!e.dataSource.view().length;if(e._request||e.options.cascadeFrom)return;if(!e.listView.bound()&&!e._fetch&&!t){e._fetch=true;e.dataSource.fetch().done(function(){e._fetch=false})}},_options:function(e,h,t){var i=this,u=i.element,r=u[0],f=e.length,n="",a,o,s,l,c=0;if(h)n=h;for(;c<f;c++){a="<option";o=e[c];s=i._text(o);l=i._value(o);if(l!==d){l+="";if(l.indexOf('"')!==-1)l=l.replace(ne,"&quot;");a+=' value="'+l+'"'}a+=">";if(s!==d)a+=w(s);a+="</option>";n+=a}u.html(n);if(t!==d){r.value=t;if(r.value&&!t)r.selectedIndex=-1}if(r.selectedIndex!==-1){a=Ee(r);if(a)a.setAttribute(G,G)}},_reset:function(){var e=this,t=e.element,i=t.attr("form"),r=i?v("#"+i):t.closest("form");if(r[0]){e._resetHandler=function(){setTimeout(function(){e.value(e._initial)})};e._form=r.on("reset",e._resetHandler)}},_parentWidget:function(){var e=this.options.name;if(!this.options.cascadeFrom)return;var t=v("#"+this.options.cascadeFrom);var i=t.data("kendo"+e);if(!i)for(var r=0;r<ae[e].length;r+=1){i=t.data("kendo"+ae[e][r]);if(!!i)break}return i},_cascade:function(){var t=this;var e=t.options;var i=e.cascadeFrom;var r;if(i){r=t._parentWidget();if(!r)return;t._cascadeHandlerProxy=h(t._cascadeHandler,t);t._cascadeFilterRequests=[];e.autoBind=false;r.bind("set",function(){t.one("set",function(e){t._selectedValue=e.value||t._accessor()})});r.first(z,t._cascadeHandlerProxy);if(r.listView.bound()){t._toggleCascadeOnFocus();t._cascadeSelect(r)}else{r.one(U,function(){t._toggleCascadeOnFocus();if(r.popup.visible())r._focused.trigger($)});if(!r.value())t.enable(false)}}},_toggleCascadeOnFocus:function(){var e=this;var t=e._parentWidget();var i=re&&t instanceof r.DropDownList?Y:X;t._focused.add(t.filterInput).on($,function(){t.unbind(z,e._cascadeHandlerProxy);t.unbind(m,e._cascadeHandlerProxy);t.first(m,e._cascadeHandlerProxy)});t._focused.add(t.filterInput).on(i,function(){t.unbind(m,e._cascadeHandlerProxy);t.unbind(z,e._cascadeHandlerProxy);t.first(z,e._cascadeHandlerProxy)})},_cascadeHandler:function(e){var t=this._parentWidget();var i=this.value();this._userTriggered=e.userTriggered||t._userTriggered;if(this.listView.bound())this._clearSelection(t,true);this._cascadeSelect(t,i)},_cascadeChange:function(e){var t=this;var i=t._accessor()||t._selectedValue;if(!t._cascadeFilterRequests.length)t._selectedValue=null;if(t._userTriggered)t._clearSelection(e,true);else if(i){if(i!==Ae(t.listView.value()[0],typeof i))t.value(i);if(!t.dataSource.view()[0]||t.selectedIndex===-1)t._clearSelection(e,true)}else if(t.dataSource.flatView().length)t.select(t.options.index);t.enable();t._triggerCascade();t._triggerChange();t._userTriggered=false},_cascadeSelect:function(t,e){var i=this;var r=t.dataItem();var n=r?r[i.options.cascadeFromParentField]||t._value(r):null;var a=i.options.cascadeFromField||t.options.dataValueField;var o;i._valueBeforeCascade=e!==d?e:i.value();if(n||n===0){o=i.dataSource.filter()||{};Be(o,a);var s=function(){var e=i._cascadeFilterRequests.shift();if(e)i.unbind("dataBound",e);e=i._cascadeFilterRequests[0];if(e)i.first("dataBound",e);i._cascadeChange(t)};i._cascadeFilterRequests.push(s);if(i._cascadeFilterRequests.length===1)i.first("dataBound",s);i._cascading=true;i._filterSource({field:a,operator:"eq",value:n});i._cascading=false}else{i.enable(false);i._clearSelection(t);i._triggerCascade();i._triggerChange();i._userTriggered=false}}});var Me=".StaticList",De=p.ui.DataBoundWidget.extend({init:function(e,t){a.fn.init.call(this,e,t);this.element.attr("role","listbox").on(L+Me,"li",h(this._click,this)).on(F+Me,"li",function(){v(this).addClass(f)}).on(R+Me,"li",function(){v(this).removeClass(f)});if(t&&t.ariaLabel)this.element.attr(ve,t.ariaLabel);else if(t&&t.ariaLabelledBy)this.element.attr(pe,t.ariaLabelledBy);if(o.touch)this._touchHandlers();if(this.options.selectable==="multiple")this.element.attr(ke,true);if(this.options.columns&&this.options.columns.length){var i=this.element.parent().find(".k-table-thead");var r=v('<tr class="k-table-group-row">'+'<th class="k-table-th" colspan="'+this.options.columns.length+'"></th>'+"</tr>");i.append(r);this.header=r.find(".k-table-th");this.content=this.element.wrap("<div class='k-table-body k-table-scroller' unselectable='on'></div>").parent();this.element.addClass(A)}else{this.content=this.element.wrap("<div class='k-list-content k-list-scroller' unselectable='on'></div>").parent();this.header=this.content.before('<div class="k-list-group-sticky-header" style="display:none"></div>').prev();this.element.addClass(T)}this.bound(false);this._optionID=p.guid();this._selectedIndices=[];this._view=[];this._dataItems=[];this._values=[];var n=this.options.value;if(n)this._values=Array.isArray(n)?n.slice(0):[n];this._getter();this._templates();this.setDataSource(this.options.dataSource);this._onScroll=h(function(){var e=this;clearTimeout(e._scrollId);e._scrollId=setTimeout(function(){e._renderHeader()},50)},this)},options:{name:"StaticList",dataValueField:null,valuePrimitive:false,selectable:true,template:null,groupTemplate:null,fixedGroupTemplate:null,ariaLabel:null,ariaLabelledBy:null},events:[L,m,V,N,H,U,j],setDataSource:function(e){var t=this;var i=e||{};var r;i=Array.isArray(i)?{data:i}:i;i=p.data.DataSource.create(i);if(t.dataSource){t.dataSource.unbind(m,t._refreshHandler);r=t.value();t.value([]);t.bound(false);t.value(r)}else t._refreshHandler=h(t.refresh,t);t.setDSFilter(i.filter());t.dataSource=i.bind(m,t._refreshHandler);t._fixedHeader()},_touchHandlers:function(){var t=this;var i;var r;var n=function(e){return(e.originalEvent||e).changedTouches[0].pageY};t.element.on("touchstart"+Me,function(e){i=n(e)});t.element.on("touchend"+Me,function(e){if(e.isDefaultPrevented())return;r=n(e);if(Math.abs(r-i)<10){t._touchTriggered=true;t._triggerClick(v(e.target).closest(E).get(0))}})},skip:function(){return this.dataSource.skip()},setOptions:function(e){a.fn.setOptions.call(this,e);this._getter();this._templates();this._render()},destroy:function(){this.element.off(Me);if(this._refreshHandler)this.dataSource.unbind(m,this._refreshHandler);clearTimeout(this._scrollId);a.fn.destroy.call(this)},dataItemByIndex:function(e){return this.dataSource.flatView()[e]},screenHeight:function(){return this.content[0].clientHeight},scrollToIndex:function(e){var t=this.element[0].children[e];if(t)this.scroll(t)},scrollWith:function(e){this.content.scrollTop(this.content.scrollTop()+e)},scroll:function(e){if(!e)return;if(e[0])e=e[0];var t=this.content[0],i=e.offsetTop,r=e.offsetHeight,n=t.scrollTop,a=t.clientHeight,o=i+r;if(n>i)n=i;else if(o>n+a)n=o-a;t.scrollTop=n},selectedDataItems:function(e){if(e===d)return this._dataItems.slice();this._dataItems=e;this._values=this._getValues(e)},_getValues:function(e){var t=this._valueGetter;return v.map(e,function(e){return t(e)})},focusNext:function(){var e=this.focus();if(!e)e=0;else e=e.next();this.focus(e)},focusPrev:function(){var e=this.focus();if(!e)e=this.element[0].children.length-1;else e=e.prev();this.focus(e)},focusFirst:function(){this.focus(this.element[0].children[0])},focusLast:function(){this.focus(u(this.element[0].children))},focus:function(e){var t=this;var i=t._optionID;var r;if(e===d)return t._current;e=u(t._get(e));e=v(this.element[0].children[e]);if(t._current){t._current.removeClass(c).removeAttr(n);t.trigger(N)}r=!!e[0];if(r){e.addClass(c);t.scroll(e);e.attr("id",i)}t._current=r?e:null;t.trigger(V)},focusIndex:function(){return this.focus()?this.focus().index():d},skipUpdate:function(e){this._skipUpdate=e},select:function(e){var t=this;var i=t.options.selectable;var r=i!=="multiple"&&i!==false;var n=t._selectedIndices;var h=[this.element.find(".k-selected").index()];var a=[];var o=[];var s;if(e===d)return n.slice();e=t._get(e);if(e.length===1&&e[0]===-1)e=[];var l=v.Deferred().resolve();var c=t.isFiltered();if(c&&!r&&t._deselectFiltered(e))return l;if(r&&!c&&v.inArray(u(e),n)!==-1&&v.inArray(u(e),h)!==-1){if(t._dataItems.length&&t._view.length)t._dataItems=[t._view[n[0]].item];return l}s=t._deselect(e);o=s.removed;e=s.indices;if(e.length){if(r)e=[u(e)];a=t._select(e)}if(a.length||o.length){t._valueComparer=null;t.trigger(m,{added:a,removed:o})}return l},removeAt:function(e){this._selectedIndices.splice(e,1);this._values.splice(e,1);this._valueComparer=null;return{position:e,dataItem:this._dataItems.splice(e,1)[0]}},setValue:function(e){e=Array.isArray(e)||e instanceof t?e.slice(0):[e];this._values=e;this._valueComparer=null},value:function(e){var t=this;var i=t._valueDeferred;var r;if(e===d)return t._values.slice();t.setValue(e);if(!i||i.state()==="resolved")t._valueDeferred=i=v.Deferred();if(t.bound()){r=t._valueIndices(t._values);if(t.options.selectable==="multiple")t.select(-1);t.select(r);i.resolve()}t._skipUpdate=false;return i},items:function(){return this.element.children(E)},_click:function(e){if(this._touchTriggered){this._touchTriggered=false;return}if(!e.isDefaultPrevented())this._triggerClick(e.currentTarget)},_triggerClick:function(e){if(!this.trigger(L,{item:v(e)}))this.select(e)},_valueExpr:function(e,t){var i=this;var r=0;var n;var a;var o=[];if(!i._valueComparer||i._valueType!==e){i._valueType=e;for(;r<t.length;r++)o.push(Ae(t[r],e));n="for (var idx = 0; idx < "+o.length+"; idx++) {"+" if (current === values[idx]) {"+"   return idx;"+" }"+"} "+"return -1;";a=new Function("current","values",n);i._valueComparer=function(e){return a(e,o)}}return i._valueComparer},_dataItemPosition:function(e,t){var i=this._valueGetter(e);var r=this._valueExpr(typeof i,t);return r(i)},_getter:function(){this._valueGetter=p.getter(this.options.dataValueField)},_deselect:function(e){var t=this;var i=t.element[0].children;var r=t.options.selectable;var n=t._selectedIndices;var h=t._dataItems;var u=t._values;var a=[];var o=0;var s;var l,c;var f=0;e=e.slice();if(r===true||!e.length){for(;o<n.length;o++){v(i[n[o]]).removeClass(_).attr(Ce,false);a.push({position:o,dataItem:h[o]})}t._values=[];t._dataItems=[];t._selectedIndices=[]}else if(r==="multiple")for(;o<e.length;o++){l=e[o];if(!v(i[l]).hasClass(_))continue;for(s=0;s<n.length;s++){c=n[s];if(c===l){v(i[c]).removeClass(_).attr(Ce,false);var d=this._view[l].item;var p=this._dataItemPosition(d,this._values);a.push({position:p,dataItem:d});h.splice(s,1);n.splice(s,1);e.splice(o,1);u.splice(s,1);f+=1;o-=1;s-=1;break}}}return{indices:e,removed:a}},_deselectFiltered:function(e){var t=this.element[0].children;var i,r,n;var a=[];var o=0;for(;o<e.length;o++){r=e[o];i=this._view[r].item;n=this._dataItemPosition(i,this._values);if(n>-1){a.push(this.removeAt(n));v(t[r]).removeClass(_)}}if(a.length){this.trigger(m,{added:[],removed:a});return true}return false},_select:function(e){var t=this;var i=t.element[0].children;var r=t._view;var n,a;var o=[];var s=0;if(u(e)!==-1)t.focus(e);for(;s<e.length;s++){a=e[s];n=r[a];if(a===-1||!n)continue;n=n.item;t._selectedIndices.push(a);t._dataItems.push(n);t._values.push(t._valueGetter(n));v(i[a]).addClass(_).attr(Ce,true);o.push({dataItem:n})}return o},getElementIndex:function(e){return v(e).data("offset-index")},_get:function(e){if(typeof e==="number")e=[e];else if(!Q(e)){e=this.getElementIndex(e);e=[e!==d?e:-1]}return e},_template:function(){var e=this;var t=e.options;var i=t.template;if(!i)i=p.template('<li tabindex="-1" role="option" unselectable="on" class="k-list-item"><span class="k-list-item-text">${'+p.expr(t.dataTextField,"data")+"}</span></li>",{useWithBlock:false});else{i=p.template(i);i=function(e){return'<li tabindex="-1" role="option" unselectable="on" class="k-list-item">'+i(e)+"</li>"}}return i},_templates:function(){var e;var t=this.options;var i={template:t.template,groupTemplate:t.groupTemplate,fixedGroupTemplate:t.fixedGroupTemplate};if(t.columns)for(var r=0;r<t.columns.length;r++){var n=t.columns[r];var a=n.field?n.field.toString():te;i["column"+r]=n.template||"#: "+a+"#"}for(var o in i){e=i[o];if(e&&typeof e!=="function")i[o]=p.template(e)}this.templates=i},_normalizeIndices:function(e){var t=[];var i=0;for(;i<e.length;i++)if(e[i]!==d)t.push(e[i]);return t},_valueIndices:function(e,t){var i=this._view;var r=0;var n;t=t?t.slice():[];if(!e.length)return[];for(;r<i.length;r++){n=this._dataItemPosition(i[r].item,e);if(n!==-1)t[n]=r}return this._normalizeIndices(t)},_firstVisibleItem:function(){var e=this.element[0];var t=this.content[0];var i=t.scrollTop;var r=v(e.children[0]).height();var n=Math.floor(i/r)||0;var a=e.children[n]||e.lastChild;var o=a.offsetTop<i;while(a)if(o){if(a.offsetTop+r>i||!a.nextSibling)break;a=a.nextSibling}else{if(a.offsetTop<=i||!a.previousSibling)break;a=a.previousSibling}return this._view[v(a).data("offset-index")]},_fixedHeader:function(){if(this.isGrouped()&&this.templates.fixedGroupTemplate){if(this.header.closest(Se).length)this.header.closest(Se).show();else this.header.show();this.content.scroll(this._onScroll)}else{if(this.header.closest(Se).length)this.header.closest(Se).hide();else this.header.hide();this.content.off("scroll",this._onScroll)}},_renderHeader:function(){var e=this.templates.fixedGroupTemplate;if(!e)return;var t=this._firstVisibleItem();if(t&&t.group.toString().length)this.header.html(e(t.group))},_renderItem:function(e){var t='<li tabindex="-1" role="option" unselectable="on" ';var i=e.item;var r=e.index!==0;var n=e.selected;var a=this.isGrouped();var o=this.options.columns&&this.options.columns.length;var s=e.index%2===1?" k-table-alt-row":"";if(o)t+='class="k-table-row'+s;else t+='class="k-list-item';if(r&&e.newGroup)t+=" k-first";if(e.isLastGroupedItem&&o)t+=" k-last";if(n)t+=" k-selected";t+='" aria-selected="'+(n?"true":"false")+'" data-offset-index="'+e.index+'">';if(o)t+=this._renderColumns(i);else{t+='<span class="k-list-item-text">';t+=this.templates.template(i);t+="</span>"}if(r&&e.newGroup)if(o)t+='<span class="k-table-td k-table-group-td"><span>'+this.templates.groupTemplate(e.group)+"</span></span>";else t+='<div class="k-list-item-group-label">'+this.templates.groupTemplate(e.group)+"</div>";else if(a&&o)t+='<span class="k-table-td k-table-spacer-td"></span>';return t+"</li>"},_renderColumns:function(e){var t="";for(var i=0;i<this.options.columns.length;i++){var r=this.options.columns[i].width;var n=parseInt(r,10);var a="";if(r&&!isNaN(n)){a+="style='width:";a+=n;a+=y.test(r)?"%":"px";a+=";'"}t+="<span class='k-table-td' "+a+">";t+=this.templates["column"+i](e);t+="</span>"}return t},_render:function(){var e="";var t=0;var i=0;var r;var n=[];var a=this.dataSource.view();var o=this.value();var s,l,c;var h=this.isGrouped();if(h)for(t=0;t<a.length;t++){s=a[t];l=true;for(c=0;c<s.items.length;c++){r={selected:this._selected(s.items[c],o),item:s.items[c],group:s.value,newGroup:l,isLastGroupedItem:c===s.items.length-1,index:i};n[i]=r;i+=1;e+=this._renderItem(r);l=false}}else for(t=0;t<a.length;t++){r={selected:this._selected(a[t],o),item:a[t],index:t};n[t]=r;e+=this._renderItem(r)}this._view=n;this.element[0].innerHTML=e;if(h&&n.length)this._renderHeader()},_selected:function(e,t){var i=!this.isFiltered()||this.options.selectable==="multiple";return i&&this._dataItemPosition(e,t)!==-1},setDSFilter:function(e){this._lastDSFilter=K({},e)},isFiltered:function(){if(!this._lastDSFilter)this.setDSFilter(this.dataSource.filter());return!p.data.Query.compareFilters(this.dataSource.filter(),this._lastDSFilter)},refresh:function(e){var t=this;var i=e&&e.action;var r=t.options.skipUpdateOnBind;var n=i==="itemchange";var a;t.trigger(H);t._angularItems("cleanup");t._fixedHeader();t._render();t.bound(true);if(n||i==="remove"){a=Pe(t._dataItems,e.items);if(a.changed.length)if(n)t.trigger(j,{items:a.changed});else t.value(t._getValues(a.unchanged))}else if(t.isFiltered()||t._skipUpdate||t._emptySearch){t.focus(0);if(t._skipUpdate){t._skipUpdate=false;t._selectedIndices=t._valueIndices(t._values,t._selectedIndices)}}else if(!r&&(!i||i==="add"))t.value(t._values);if(t._valueDeferred)t._valueDeferred.resolve();t._angularItems("compile");t.trigger(U)},bound:function(e){if(e===d)return this._bound;this._bound=e},isGrouped:function(){return(this.dataSource.group()||[]).length}});function u(e){return e[e.length-1]}function Ee(e){var t=e.selectedIndex;return t>-1?e.options[t]:{}}function Pe(e,t){var i=t.length;var r=e.length;var n;var a;var o,s;var l=[];var c=[];if(r)for(o=0;o<r;o++){n=e[o];a=false;for(s=0;s<i;s++)if(n===t[s]){a=true;l.push({index:o,item:n});break}if(!a)c.push(n)}return{changed:l,unchanged:c}}function Ie(e){if(!e||v.isEmptyObject(e))return false;if(e.filters&&!e.filters.length)return false;return true}function Be(e,t){var i;var r=false;if(e.filters){i=v.grep(e.filters,function(e){r=Be(e,t);if(e.filters)return e.filters.length;else return e.field!=t});if(!r&&e.filters.length!==i.length)r=true;e.filters=i}return r}return r.plugin(De),p.cssProperties.registerPrefix("List","k-list-"),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.virtuallist.min",["./kendo.data.min"],function(){var e={id:"virtuallist",name:"VirtualList",category:"framework",depends:["data"],hidden:true},g=window.kendo.jQuery,m=void 0,o=window.kendo,t=o.ui,c=t.Widget,r=t.DataBoundWidget,a=g.proxy,u=/^\d+(\.\d+)?%$/i,f="k-list-content k-virtual-content",d="k-table-body k-table-scroller",p="k-list-group-sticky-header",v="k-list-item",w="k-table-row",b="k-height-container",x="k-list-item-group-label",k="k-list-ul",C="k-table-list",_="k-selected",h="k-focus",S="k-hover",n="change",i="click",T="listBound",A="itemChange",M="activate",D="deactivate",E=".k-table-group-row",s=".VirtualList";function P(e){return e[e.length-1]}function l(e){return e instanceof Array?e:[e]}function y(e){return typeof e==="string"||typeof e==="number"||typeof e==="boolean"}function I(e,t,i){return Math.ceil(e*t/i)}function B(e,t,i){var r=document.createElement(i||"div");if(t)r.className=t;e.appendChild(r);return r}function z(e){var t=g('<div class="k-list '+e+' k-virtual-list">'+'<div class="k-list-content k-virtual-content">'+'<ul class="k-list-ul">'+'<li class="k-list-item">'+'<span class="k-list-item-text">test</span>'+"</li>"+"</ul>"+"</div>"+"</div>");var i;t.css({position:"absolute",left:"-200000px",visibility:"hidden"});t.appendTo(document.body);i=parseFloat(o.getComputedStyles(t.find(".k-list-item")[0],["height"]).height);t.remove();return i}function O(e,t,i){return{down:e*i,up:e*(t-1-i)}}function L(e,t){var r=(e.listScreens-1-e.threshold)*t;var n=e.threshold*t;return function(e,t,i){if(t>i)return t-e.top<r;else return e.top===0||t-e.top>n}}function R(t,i){return function(e){return i(t.scrollTop,e)}}function F(i){return function(e,t){i(e.items,e.index,t);return e}}function V(e,t){e.style.webkitTransform="translateY("+t+"px)";e.style.transform="translateY("+t+"px)"}function N(n,a){return function(e,t){for(var i=0,r=e.length;i<r;i++){n(e[i],t[i],a);if(t[i].item)this.trigger(A,{item:g(e[i]),data:t[i].item,ns:o.ui})}}}function H(e,t){var i;if(t>0){i=e.splice(0,t);e.push.apply(e,i)}else{i=e.splice(t,-t);e.unshift.apply(e,i)}return i}function U(e,t,i){var r=i.template,n=this.options.columns&&this.options.columns.length,a=t.index%2===1?"k-table-alt-row":"";e=g(e);if(!t.item)r=i.placeholderTemplate;if(t.index===0&&this.header&&t.group)this.header.html(i.fixedGroupTemplate(t.group));this.angular("cleanup",function(){return{elements:[e]}});e.attr("data-uid",t.item?t.item.uid:"").attr("data-offset-index",t.index);if(n&&t.item){if(a.length>0)e.addClass(a);else e.removeClass("k-table-alt-row");e.html(j(this.options,t.item,i))}else{e.find("."+x).remove();e.find(".k-list-item-text").html(r(t.item||{}))}e.toggleClass(h,t.current);e.toggleClass(_,t.selected);e.toggleClass("k-first",t.newGroup);e.toggleClass("k-last",t.isLastGroupedItem);e.toggleClass("k-loading-item",!t.item);if(t.index!==0&&t.newGroup)if(n)g('<span class="k-table-td k-table-group-td"><span>'+i.groupTemplate(t.group)+"</span></span>").appendTo(e);else g("<div class="+x+"></div>").appendTo(e).html(i.groupTemplate(t.group));else if(t.group&&n)e.append(g('<span class="k-table-td k-table-spacer-td"></span>'));if(t.top!==m)V(e[0],t.top);this.angular("compile",function(){return{elements:[e],data:[{dataItem:t.item,group:t.group,newGroup:t.newGroup}]}})}function j(e,t,i){var r="";for(var n=0;n<e.columns.length;n++){var a=e.columns[n].width;var o=parseInt(a,10);var s="";if(a){s+="style='width:";s+=o;s+=u.test(a)?"%":"px";s+=";'"}r+="<span class='k-table-td' "+s+">";r+=i["column"+n](t);r+="</span>"}return r}function G(e,t){var i=t.length;var r=e.length;var n;var a;var o,s;var l=[];var c=[];if(r)for(o=0;o<r;o++){n=e[o];a=false;for(s=0;s<i;s++)if(n===t[s]){a=true;l.push({index:o,item:n});break}if(!a)c.push(n)}return{changed:l,unchanged:c}}function W(e){return e&&e.state()!=="resolved"}var q=r.extend({init:function(e,t){var i=this,r=t.columns&&t.columns.length?d:f;i.bound(false);i._fetching=false;c.fn.init.call(i,e,t);if(!i.options.itemHeight)i.options.itemHeight=z(t.listSize);t=i.options;i.element.attr("role","listbox");i.content=i.wrapper=i.element.wrap("<div unselectable='on' class='"+r+"'></div>").parent();if(i.options.columns&&i.options.columns.length){var n=i.element.closest(".k-data-table").find(".k-table-thead");var a=g('<tr class="k-table-group-row">'+'<th class="k-table-th" colspan="'+i.options.columns.length+'"></th>'+"</tr>");n.append(a);i.header=a.find(".k-table-th");i.element.addClass(C+" k-virtual-table")}else{i.header=i.content.before("<div class='"+p+"'></div>").prev();i.element.addClass(k)}if(t.ariaLabel)this.element.attr("aria-label",t.ariaLabel);else if(t.ariaLabelledBy)this.element.attr("aria-labelledby",t.ariaLabelledBy);i.element.on("mouseenter"+s,"li:not(.k-loading-item)",function(){g(this).addClass(S)}).on("mouseleave"+s,"li",function(){g(this).removeClass(S)});i._values=l(i.options.value);i._selectedDataItems=[];i._selectedIndexes=[];i._rangesList={};i._promisesList=[];i._optionID=o.guid();i._templates();i.setDataSource(t.dataSource);i.content.on("scroll"+s,o.throttle(function(){i._renderItems();i._triggerListBound()},t.delay));i._selectable()},options:{name:"VirtualList",autoBind:true,delay:100,height:null,listScreens:4,threshold:.5,itemHeight:null,oppositeBuffer:1,type:"flat",selectable:false,value:[],dataValueField:null,template:"#:data#",placeholderTemplate:"loading...",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",mapValueTo:"index",valueMapper:null,ariaLabel:null,ariaLabelledBy:null},events:[n,i,T,A,M,D],setOptions:function(e){var t=this.options.columns&&this.options.columns.length?w:v;c.fn.setOptions.call(this,e);if(this._selectProxy&&this.options.selectable===false)this.element.off(i,"."+t,this._selectProxy);else if(!this._selectProxy&&this.options.selectable)this._selectable();this._templates();this.refresh()},items:function(){return g(this._items)},destroy:function(){this.wrapper.off(s);this.dataSource.unbind(n,this._refreshHandler);c.fn.destroy.call(this)},setDataSource:function(e){var t=this;var i=e||{};var r;i=Array.isArray(i)?{data:i}:i;i=o.data.DataSource.create(i);if(t.dataSource){t.dataSource.unbind(n,t._refreshHandler);t._clean();t.bound(false);t._deferValueSet=true;r=t.value();t.value([]);t.mute(function(){t.value(r)})}else t._refreshHandler=g.proxy(t.refresh,t);t.dataSource=i.bind(n,t._refreshHandler);t.setDSFilter(i.filter());if(i.view().length!==0)t.refresh();else if(t.options.autoBind)i.fetch()},skip:function(){return this.dataSource.currentRangeStart()},_triggerListBound:function(){var e=this;var t=e.skip();if(e.bound()&&!e._selectingValue&&e._skip!==t){e._skip=t;e.trigger(T)}},_getValues:function(e){var t=this._valueGetter;return g.map(e,function(e){return t(e)})},_highlightSelectedItems:function(){for(var e=0;e<this._selectedDataItems.length;e++){var t=this._getElementByDataItem(this._selectedDataItems[e]);if(t.length)t.addClass(_)}},refresh:function(e){var t=this;var i=e&&e.action;var r=i==="itemchange";var n=this.isFiltered();var a;if(t._mute)return;t._deferValueSet=false;if(!t._fetching){if(n)t.focus(0);t._createList();if(!i&&t._values.length&&!n&&!t.options.skipUpdateOnBind&&!t._emptySearch){t._selectingValue=true;t.bound(true);t.value(t._values,true).done(function(){t._selectingValue=false;t._triggerListBound()})}else{t.bound(true);t._highlightSelectedItems();t._triggerListBound()}}else{if(t._renderItems)t._renderItems(true);t._triggerListBound()}if(r||i==="remove"){a=G(t._selectedDataItems,e.items);if(a.changed.length)if(r)t.trigger("selectedItemChange",{items:a.changed});else t.value(t._getValues(a.unchanged))}t._fetching=false},removeAt:function(e){var t=this._values.splice(e,1)[0];return{position:e,dataItem:this._removeSelectedDataItem(t)}},_removeSelectedDataItem:function(e){var t=this,i=t._valueGetter;for(var r in t._selectedDataItems)if(i(t._selectedDataItems[r])===e){t._selectedIndexes.splice(r,1);return t._selectedDataItems.splice(r,1)[0]}},setValue:function(e){this._values=l(e)},value:function(e,t){var i=this;if(e===m)return i._values.slice();if(e===null)e=[];e=l(e);if(!i._valueDeferred||i._valueDeferred.state()==="resolved")i._valueDeferred=g.Deferred();var r=i.options.selectable==="multiple"&&i.select().length&&e.length;if(r||!e.length)i.select(-1);i._values=e;if(i.bound()&&!i._mute&&!i._deferValueSet||t)i._prefetchByValue(e);return i._valueDeferred},_checkValuesOrder:function(e){if(this._removedAddedIndexes&&this._removedAddedIndexes.length===e.length){var t=this._removedAddedIndexes.slice();this._removedAddedIndexes=null;return t}return e},_prefetchByValue:function(e){var t=this,i=t._dataView,r=t._valueGetter,n=t.options.mapValueTo,a,o=false,s=[];for(var l=0;l<e.length;l++)for(var c=0;c<i.length;c++){a=i[c].item;if(a){o=y(a)?e[l]===a:e[l]===r(a);if(o)s.push(i[c].index)}}if(s.length===e.length){t._values=[];t.select(s);return}if(typeof t.options.valueMapper==="function")t.options.valueMapper({value:this.options.selectable==="multiple"?e:e[0],success:function(e){if(n==="index")t.mapValueToIndex(e);else if(n==="dataItem")t.mapValueToDataItem(e)}});else if(!t.value()[0])t.select([-1]);else{t._selectingValue=false;t._triggerListBound()}},mapValueToIndex:function(e){if(e===m||e===-1||e===null)e=[];else e=l(e);if(!e.length)e=[-1];else{var t=this._deselect([]).removed;if(t.length)this._triggerChange(t,[])}this.select(e)},mapValueToDataItem:function(e){var t,i;if(e===m||e===null)e=[];else e=l(e);if(!e.length)this.select([-1]);else{t=g.map(this._selectedDataItems,function(e,t){return{index:t,dataItem:e}});i=g.map(e,function(e,t){return{index:t,dataItem:e}});this._selectedDataItems=e;this._selectedIndexes=[];for(var r=0;r<this._selectedDataItems.length;r++){var n=this._getElementByDataItem(this._selectedDataItems[r]);this._selectedIndexes.push(this._getIndecies(n)[0]);n.addClass(_)}this._triggerChange(t,i);if(this._valueDeferred)this._valueDeferred.resolve()}},deferredRange:function(e){var a=this.dataSource;var o=this.itemCount;var s=this._rangesList;var t=g.Deferred();var l=[];var i=Math.floor(e/o)*o;var r=Math.ceil(e/o)*o;var n=r===i?[r]:[i,r];g.each(n,function(e,t){var i=t+o;var r=s[t];var n;if(!r||r.end!==i){n=g.Deferred();s[t]={end:i,deferred:n};a._multiplePrefetch(t,o,function(){n.resolve()})}else n=r.deferred;l.push(n)});g.when.apply(g,l).then(function(){t.resolve()});return t},prefetch:function(e){var i=this,r=this.itemCount,t=!i._promisesList.length;if(!W(i._activeDeferred)){i._activeDeferred=g.Deferred();i._promisesList=[]}g.each(e,function(e,t){i._promisesList.push(i.deferredRange(i._getSkip(t,r)))});if(t)g.when.apply(g,i._promisesList).done(function(){i._promisesList=[];i._activeDeferred.resolve()});return i._activeDeferred},_findDataItem:function(e,t){var i;if(this.options.type==="group")for(var r=0;r<e.length;r++){i=e[r].items;if(i.length<=t)t=t-i.length;else return i[t]}return e[t]},_getRange:function(e,t){return this.dataSource._findRange(e,Math.min(e+t,this.dataSource.total()))},dataItemByIndex:function(e){var t=this;var i=t.itemCount;var r=t._getSkip(e,i);var n=this._getRange(r,i);if(!t._getRange(r,i).length)return null;if(t.options.type==="group"){o.ui.progress(g(t.wrapper),true);t.mute(function(){t.dataSource.range(r,i,function(){o.ui.progress(g(t.wrapper),false)});n=t.dataSource.view()})}return t._findDataItem(n,[e-r])},selectedDataItems:function(){return this._selectedDataItems.slice()},scrollWith:function(e){this.content.scrollTop(this.content.scrollTop()+e)},scrollTo:function(e){this.content.scrollTop(e)},scrollToIndex:function(e){this.scrollTo(e*this.options.itemHeight)},focus:function(e){var t,i,r,n,a=this.options.itemHeight,o=this._optionID,s=true;if(e===m){n=this.element.find("."+h);return n.length?n:null}if(typeof e==="function"){r=this.dataSource.flatView();for(var l=0;l<r.length;l++)if(e(r[l])){e=l;break}}if(e instanceof Array)e=P(e);if(isNaN(e)){t=g(e);i=parseInt(g(t).attr("data-offset-index"),10)}else{i=e;t=this._getElementByIndex(i)}if(i===-1){this.element.find("."+h).removeClass(h);this._focusedIndex=m;return}if(t.length){if(t.hasClass(h))s=false;if(this._focusedIndex!==m){n=this._getElementByIndex(this._focusedIndex);n.removeClass(h).removeAttr("id");if(s)this.trigger(D)}this._focusedIndex=i;t.addClass(h).attr("id",o);var c=this._getElementLocation(i);if(c==="top")this.scrollTo(i*a);else if(c==="bottom")this.scrollTo(i*a+a-this._screenHeight);else if(c==="outScreen")this.scrollTo(i*a);if(s)this.trigger(M)}else{this._focusedIndex=i;this.items().removeClass(h);this.scrollToIndex(i)}},focusIndex:function(){return this._focusedIndex},focusFirst:function(){this.scrollTo(0);this.focus(0)},focusLast:function(){var e=this.dataSource.total();this.scrollTo(this.heightContainer.offsetHeight);this.focus(e-1)},focusPrev:function(){var e=this._focusedIndex;var t;if(!isNaN(e)&&e>0){e-=1;this.focus(e);t=this.focus();if(t&&t.hasClass("k-loading-item")){e+=1;this.focus(e)}return e}else{e=this.dataSource.total()-1;this.focus(e);return e}},focusNext:function(){var e=this._focusedIndex;var t=this.dataSource.total()-1;var i;if(!isNaN(e)&&e<t){e+=1;this.focus(e);i=this.focus();if(i&&i.hasClass("k-loading-item")){e-=1;this.focus(e)}return e}else{e=0;this.focus(e);return e}},_triggerChange:function(e,t){e=e||[];t=t||[];if(e.length||t.length)this.trigger(n,{removed:e,added:t})},select:function(e){var t=this,i,r,n=t.options.selectable!=="multiple",a=W(t._activeDeferred),h=this.isFiltered(),o,s,l,c=[];if(e===m)return t._selectedIndexes.slice();if(!t._selectDeferred||t._selectDeferred.state()==="resolved")t._selectDeferred=g.Deferred();i=t._getIndecies(e);o=n&&!h&&P(i)===P(this._selectedIndexes);c=t._deselectCurrentValues(i);if(c.length||!i.length||o){t._triggerChange(c);if(t._valueDeferred)t._valueDeferred.resolve().promise();return t._selectDeferred.resolve().promise()}if(i.length===1&&i[0]===-1)i=[];r=i;l=t._deselect(i);c=l.removed;i=l.indices;if(n){a=false;if(i.length)i=[P(i)]}var u=function(){var e=t._select(i);if(r.length===i.length||n)t.focus(i);t._triggerChange(c,e);if(t._valueDeferred)t._valueDeferred.resolve();t._selectDeferred.resolve()};s=t.prefetch(i);if(!a)if(s)s.done(u);else u();return t._selectDeferred.promise()},bound:function(e){if(e===m)return this._listCreated;this._listCreated=e},mute:function(e){this._mute=true;a(e(),this);this._mute=false},setDSFilter:function(e){this._lastDSFilter=g.extend({},e)},isFiltered:function(){if(!this._lastDSFilter)this.setDSFilter(this.dataSource.filter());return!o.data.Query.compareFilters(this.dataSource.filter(),this._lastDSFilter)},skipUpdate:g.noop,_getElementByIndex:function(i){return this.items().filter(function(e,t){return i===parseInt(g(t).attr("data-offset-index"),10)})},_getElementByDataItem:function(e){var t=this._dataView,i=this._valueGetter,r,n;for(var a=0;a<t.length;a++){n=t[a].item&&y(t[a].item)?t[a].item===e:t[a].item&&e&&i(t[a].item)==i(e);if(n){r=t[a];break}}return r?this._getElementByIndex(r.index):g()},_clean:function(){this.result=m;this._lastScrollTop=m;this._skip=m;g(this.heightContainer).remove();this.heightContainer=m;this.element.empty()},_height:function(){var e=!!this.dataSource.view().length,t=this.options.height,i=this.options.itemHeight,r=this.dataSource.total();if(!e)t=0;else if(t/i>r)t=r*i;return t},setScreenHeight:function(){var e=this._height();this.content.height(e);this._screenHeight=e},screenHeight:function(){return this._screenHeight},_getElementLocation:function(e){var t=this.content.scrollTop(),i=this._screenHeight,r=this.options.itemHeight,n=e*r,a=n+r,o=t+i,s;if(n===t-r||a>t&&n<t)s="top";else if(n===o||n<o&&o<a)s="bottom";else if(n>=t&&n<=t+(i-r))s="inScreen";else s="outScreen";return s},_templates:function(){var e=this.options;var t={template:e.template,placeholderTemplate:e.placeholderTemplate,groupTemplate:e.groupTemplate,fixedGroupTemplate:e.fixedGroupTemplate};if(e.columns)for(var i=0;i<e.columns.length;i++){var r=e.columns[i];var n=r.field?r.field.toString():"text";t["column"+i]=r.template||"#: "+n+"#"}for(var a in t)if(typeof t[a]!=="function")t[a]=o.template(t[a]||"");this.templates=t},_generateItems:function(e,t){var i=[],r,n,a=this.options.itemHeight+"px",o=this.options.columns&&this.options.columns.length?w:v;while(t-- >0){n=document.createElement("span");n.className="k-list-item-text";r=document.createElement("li");r.tabIndex=-1;r.className=o;r.setAttribute("role","option");r.style.height=a;r.style.minHeight=a;r.appendChild(n);e.appendChild(r);i.push(r)}return i},_saveInitialRanges:function(){var e=this.dataSource._ranges;var t=g.Deferred();t.resolve();this._rangesList={};for(var i=0;i<e.length;i++)this._rangesList[e[i].start]={end:e[i].end,deferred:t}},_createList:function(){var r=this,e=r.content.get(0),t=r.options,i=r.dataSource;if(r.bound())r._clean();r._saveInitialRanges();r._buildValueGetter();r.setScreenHeight();r.itemCount=I(r._screenHeight,t.listScreens,t.itemHeight);if(r.itemCount>i.total())r.itemCount=i.total();r._items=r._generateItems(r.element[0],r.itemCount);r._setHeight(t.itemHeight*i.total());r.options.type=(i.group()||[]).length?"group":"flat";if(r.options.type==="flat")if(r.header.closest(E).length)r.header.closest(E).hide();else r.header.hide();else if(r.header.closest(E).length)r.header.closest(E).show();else r.header.show();r.getter=r._getter(function(){r._renderItems(true)});r._onScroll=function(e,t){var i=r._listItems(r.getter);return r._fixedHeader(e,i(e,t))};r._renderItems=r._whenChanged(R(e,r._onScroll),F(r._reorderList(r._items,g.proxy(U,r))));r._renderItems();r._calculateGroupPadding(r._screenHeight);r._calculateColumnsHeaderPadding()},_setHeight:function(e){var t,i=this.heightContainer;if(!i)i=this.heightContainer=B(this.content[0],b);else t=i.offsetHeight;if(e!==t){i.innerHTML="";while(e>0){var r=Math.min(e,25e4);B(i).style.height=r+"px";e-=r}}},_getter:function(){var u=null,f=this.dataSource,d=f.skip(),p=this.options.type,v=this.itemCount,g={};if(f.pageSize()<v)this.mute(function(){f.pageSize(v)});return function(e,t){var i=this;if(!f.inRange(t,v)){if(u!==t){u=t;d=t;if(i._getterDeferred)i._getterDeferred.reject();i._getterDeferred=i.deferredRange(t);i._getterDeferred.then(function(){var e=i._indexConstraint(i.content[0].scrollTop);i._getterDeferred=null;if(t<=e&&e<=t+v){i._fetching=true;f.range(t,v)}})}return null}else{if(d!==t)this.mute(function(){f.range(t,v);d=t});var r;if(p==="group"){if(!g[t]){var n=g[t]=[];var a=f.view();for(var o=0,s=a.length;o<s;o++){var l=a[o];for(var c=0,h=l.items.length;c<h;c++)n.push({item:l.items[c],group:l.value})}}r=g[t][e-t]}else r=f.view()[e-t];return r}}},_fixedHeader:function(e,t){var i=this.currentVisibleGroup,r=this.options.itemHeight,n=Math.floor((e-t.top)/r),a=t.items[n];if(a&&a.item){var o=a.group;if(o!==i){var s=o||"";this.header.html(this.templates.fixedGroupTemplate(s));this.currentVisibleGroup=o}}return t},_itemMapper:function(e,t,i){var h=this.options.type,u=this.options.itemHeight,f=this._focusedIndex,r=false,n=false,a=false,d=null,o=false,s=this._valueGetter;if(h==="group"){if(e){a=t===0||this._currentGroup!==false&&this._currentGroup!==e.group;this._currentGroup=e.group}d=e?e.group:null;e=e?e.item:null}if(this.options.mapValueTo==="dataItem"&&this._selectedDataItems.length&&e)for(var l=0;l<this._selectedDataItems.length;l++){o=s(this._selectedDataItems[l])===s(e);if(o){r=true;break}}else if(!this.isFiltered()&&i.length&&e)for(var c=0;c<i.length;c++){o=y(e)?i[c]===e:i[c]===s(e);if(o){i.splice(c,1);r=true;break}}if(f===t)n=true;return{item:e?e:null,group:d,newGroup:a,selected:r,current:n,index:t,top:t*u}},_range:function(e){var t=this.itemCount,i=this._values.slice(),r=[],n;this._view={};this._currentGroup=false;for(var a=e,o=e+t;a<o;a++){n=this._itemMapper(this.getter(a,e),a,i);if(r[r.length-1])r[r.length-1].isLastGroupedItem=n.newGroup;r.push(n);this._view[n.index]=n}this._dataView=r;return r},_getDataItemsCollection:function(e,t){var i=this._range(this._listIndex(e,t));return{index:i.length?i[0].index:0,top:i.length?i[0].top:0,items:i}},_listItems:function(){var e=this._screenHeight,t=this.options;var n=L(t,e);return g.proxy(function(e,t){var i=this.result,r=this._lastScrollTop;if(t||!i||!n(i,e,r))i=this._getDataItemsCollection(e,r);this._lastScrollTop=e;this.result=i;return i},this)},_whenChanged:function(i,r){var n;return function(e){var t=i(e);if(t!==n){n=t;r(t,e)}}},_reorderList:function(o,s){var l=this;var c=o.length;var h=-Infinity;s=g.proxy(N(s,this.templates),this);return function(e,t,i){var r=t-h;var n,a;if(i||Math.abs(r)>=c){n=o;a=e}else{n=H(o,r);a=r>0?e.slice(-r):e.slice(0,-r)}s(n,a,l.bound());h=t}},_bufferSizes:function(){var e=this.options;return O(this._screenHeight,e.listScreens,e.oppositeBuffer)},_indexConstraint:function(e){var t=this.itemCount,i=this.options.itemHeight,r=this.dataSource.total();return Math.min(Math.max(r-t,0),Math.max(0,Math.floor(e/i)))},_listIndex:function(e,t){var i=this._bufferSizes(),r;r=e-(e>t?i.down:i.up);return this._indexConstraint(r)},_selectable:function(){var e=this.options.columns&&this.options.columns.length?w:v;if(this.options.selectable){this._selectProxy=g.proxy(this,"_clickHandler");this.element.on(i+s,"."+e,this._selectProxy)}},getElementIndex:function(e){if(!(e instanceof jQuery))return m;return parseInt(e.attr("data-offset-index"),10)},_getIndecies:function(e){var t=[],i;if(typeof e==="function"){i=this.dataSource.flatView();for(var r=0;r<i.length;r++)if(e(i[r])){t.push(r);break}}if(typeof e==="number")t.push(e);var n=this.getElementIndex(e);if(!isNaN(n))t.push(n);if(e instanceof Array)t=e;return t},_deselect:function(e){var h=[],t,i,r=this._selectedIndexes,n=this._selectedDataItems,a=0,u=this.options.selectable,f=0,d=this._valueGetter,p,v,o=null;e=e.slice();if(u===true||!e.length){for(var s=0;s<r.length;s++){if(r[s]!==m)this._getElementByIndex(r[s]).removeClass(_);else if(n[s])this._getElementByDataItem(n[s]).removeClass(_);h.push({index:r[s],position:s,dataItem:n[s]})}this._values=[];this._selectedDataItems=[];this._selectedIndexes=[]}else if(u==="multiple")for(var l=0;l<e.length;l++){o=null;a=g.inArray(e[l],r);i=this.dataItemByIndex(e[l]);if(a===-1&&i)for(var c=0;c<n.length;c++){v=y(i)?n[c]===i:d(n[c])===d(i);if(v){p=this._getElementByIndex(e[l]);o=this._deselectSingleItem(p,c,e[l],f)}}else{t=r[a];if(t!==m){p=this._getElementByIndex(t);o=this._deselectSingleItem(p,a,t,f)}}if(o){e.splice(l,1);h.push(o);f++;l--}}return{indices:e,removed:h}},_deselectSingleItem:function(e,t,i,r){var n;if(!e.hasClass(_))return;e.removeClass(_);this._values.splice(t,1);this._selectedIndexes.splice(t,1);n=this._selectedDataItems.splice(t,1)[0];return{index:i,position:t+r,dataItem:n}},_deselectCurrentValues:function(e){var t=this.element[0].children;var i,r,n;var a=this._values;var o=[];var s=0;var l;if(this.options.selectable!=="multiple"||!this.isFiltered())return[];if(e[0]===-1){g(t).removeClass(_);o=g.map(this._selectedDataItems.slice(0),function(e,t){return{dataItem:e,position:t}});this._selectedIndexes=[];this._selectedDataItems=[];this._values=[];return o}for(;s<e.length;s++){n=-1;r=e[s];if(this.dataItemByIndex(r))i=this._valueGetter(this.dataItemByIndex(r));for(l=0;l<a.length;l++)if(i==a[l]){n=l;break}if(n>-1){o.push(this.removeAt(n));g(t[r]).removeClass(_)}}return o},_getSkip:function(e,t){var i=e<t?1:Math.floor(e/t)+1;return(i-1)*t},_select:function(e){var r=this,t=this.options.selectable!=="multiple",n=this.dataSource,a,o,s=this.itemCount,l=this._valueGetter,c=[];if(t){r._selectedIndexes=[];r._selectedDataItems=[];r._values=[]}o=n.skip();g.each(e,function(e,t){var i=r._getSkip(t,s);r.mute(function(){n.range(i,s);a=r._findDataItem(n.view(),[t-i]);r._selectedIndexes.push(t);r._selectedDataItems.push(a);r._values.push(y(a)?a:l(a));c.push({index:t,dataItem:a});r._getElementByIndex(t).addClass(_);n.range(o,s)})});r._values=r._checkValuesOrder(r._values);return c},_clickHandler:function(e){var t=g(e.currentTarget);if(!e.isDefaultPrevented()&&t.attr("data-uid"))this.trigger(i,{item:t})},_buildValueGetter:function(){this._valueGetter=o.getter(this.options.dataValueField)},_calculateGroupPadding:function(e){var t=this.items().first(),i=this.header,r=0;if(i[0]&&i[0].style.display!=="none"){if(e!=="auto")r=o.support.scrollbar();r+=parseFloat(t.css("border-right-width"),10)+parseFloat(t.children(".k-group").css("right"),10);i.css("padding-right",r)}},_calculateColumnsHeaderPadding:function(){if(this.options.columns&&this.options.columns.length){var e=o.support.isRtl(this.wrapper);var t=o.support.scrollbar();var i=this.content.parent().parent().find(".k-table-header");var r=this.dataSource.total();i.css(e?"padding-left":"padding-right",r?t:0)}}});return o.ui.VirtualList=q,o.ui.plugin(q),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.dropdownlist.min",["./kendo.list.min","./kendo.mobile.scroller.min","./kendo.virtuallist.min","./kendo.html.button.min"],function(){var e={id:"dropdownlist",name:"DropDownList",category:"web",description:"The DropDownList widget displays a list of values and allows the selection of a single value from the list.",depends:["list","html.button"],features:[{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]},{id:"virtualization",name:"VirtualList",description:"Support for virtualization",depends:["virtuallist"]}]},s=window.kendo.jQuery,l=void 0,c=window.kendo,t=c.ui,v=c.html,a=t.List,h=t.Select,o=c.support,g=c._activeElement,m=c.data.ObservableObject,u=c.keys,f=".kendoDropDownList",i=f+"FocusEvent",_="disabled",y="readonly",n="change",r="k-focus",w="k-disabled",b="aria-disabled",x="aria-readonly",k="click"+f+" touchend"+f,C="mouseenter"+f+" mouseleave"+f,d="tabindex",S="filter",T="accept",A="The `optionLabel` option is not valid due to missing fields. Define a custom optionLabel as shown here http://docs.telerik.com/kendo-ui/api/javascript/ui/dropdownlist#configuration-optionLabel",p=s.proxy,M="open",D="close",E=h.extend({init:function(e,t){var i=this;var r=t&&t.index;var n,a,o;i.ns=f;t=Array.isArray(t)?{dataSource:t}:t;h.fn.init.call(i,e,t);t=i.options;e=i.element.on("focus"+f,p(i._focusHandler,i));i._focusInputHandler=s.proxy(i._focusInput,i);i.optionLabel=s();i._optionLabel();i._inputTemplate();i._reset();i._prev="";i._word="";i._wrapper();i._tabindex();i.wrapper.data(d,i.wrapper.attr(d));i._span();i._popup();i._mobile();i._dataSource();i._ignoreCase();i._filterHeader();i._aria();i.wrapper.attr("aria-live","polite");i._enable();i._attachFocusHandlers();i._oldIndex=i.selectedIndex=-1;if(r!==l)t.index=r;i._initialIndex=t.index;i.requireValueMapper(i.options);i._initList();i.listView.one("dataBound",p(i._attachAriaActiveDescendant,i));i._cascade();i.one("set",function(e){if(!e.sender.listView.bound()&&i.hasOptionLabel())i._textAccessor(i._optionLabelText())});if(t.autoBind)i.dataSource.fetch();else if(i.selectedIndex===-1){a=t.text||"";if(!a){n=t.optionLabel;if(n&&t.index===0)a=n;else if(i._isSelect)a=e.children(":selected").text()}i._textAccessor(a)}o=s(i.element).parents("fieldset").is(":disabled");if(o)i.enable(false);i.listView.bind("click",function(e){e.preventDefault()});c.notify(i);i._applyCssClasses()},options:{name:"DropDownList",enabled:true,autoBind:true,index:0,text:null,value:null,delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",cascadeFromField:"",cascadeFromParentField:"",ignoreCase:true,animation:{},filter:"none",minLength:1,enforceMinLength:false,virtual:false,template:null,valueTemplate:null,optionLabelTemplate:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",autoWidth:false,popup:null,filterTitle:null,size:"medium",fillMode:"solid",rounded:"medium"},events:["open","close",n,"select","filtering","dataBinding","dataBound","cascade","set","kendoKeydown"],setOptions:function(e){h.fn.setOptions.call(this,e);this.listView.setOptions(this._listOptions(e));this._optionLabel();this._inputTemplate();this._accessors();this._filterHeader();this._enable();this._aria();if(!this.value()&&this.hasOptionLabel())this.select(0)},destroy:function(){var e=this;h.fn.destroy.call(e);e.wrapper.off(f);e.wrapper.off(i);e.element.off(f);e._arrow.off();e._arrow=null;e._arrowIcon=null;e.optionLabel.off();if(e.filterInput)e.filterInput.off(i)},open:function(){var e=this;var t=e.dataSource.filter()?e.dataSource.filter().filters.length>0:false;var i=this.listView;if(e.popup.visible())return;if(!e.listView.bound()||e._state===T){e._open=true;e._state="rebind";if(e.filterInput){e.filterInput.val("");e._prev=""}if(e.filterInput&&e.options.minLength!==1&&!t){e.refresh();e.popup.one("activate",e._focusInputHandler);e.wrapper.attr("aria-activedescendant",i._optionID);e.popup.open();e._resizeFilterInput()}else e._filterSource()}else if(e._allowOpening()){e._focusFilter=true;e.popup.one("activate",e._focusInputHandler);e.popup._hovered=true;e.wrapper.attr("aria-activedescendant",i._optionID);e.popup.open();e._resizeFilterInput();e._focusItem()}},close:function(){this._attachAriaActiveDescendant();this.popup.close()},_attachAriaActiveDescendant:function(){var e=this.wrapper,t=e.find(".k-input-inner").attr("id");e.attr("aria-activedescendant",t)},_focusInput:function(){this._focusElement(this.filterInput)},_resizeFilterInput:function(){var e=this.filterInput;var t=this._prevent;if(!e)return;var i=this.filterInput[0]===g();var r=c.caret(this.filterInput[0])[0];this._prevent=true;e.addClass("k-hidden");e.closest(".k-list-filter").css("width",this.popup.element.css("width"));e.removeClass("k-hidden");if(i){e.trigger("focus");c.caret(e[0],r)}this._prevent=t},_allowOpening:function(){return this.hasOptionLabel()||this.filterInput||h.fn._allowOpening.call(this)},toggle:function(e){this._toggle(e,true)},current:function(e){var t;if(e===l){t=this.listView.focus();if(!t&&this.selectedIndex===0&&this.hasOptionLabel())return this.optionLabel;return t}this._focus(e)},dataItem:function(e){var t=this;var i=null;if(e===null)return e;if(e===l)i=t.listView.selectedDataItems()[0];else{if(typeof e!=="number"){if(t.options.virtual)return t.dataSource.getByUid(s(e).data("uid"));if(e.hasClass("k-list-optionlabel"))e=-1;else e=s(t.items()).index(e)}else if(t.hasOptionLabel())e-=1;i=t.dataSource.flatView()[e]}if(!i)i=t._optionLabelDataItem();return i},refresh:function(){this.listView.refresh()},text:function(e){var t=this;var i;var r=t.options.ignoreCase;e=e===null?"":e;if(e!==l){if(typeof e!=="string"){t._textAccessor(e);return}i=r?e.toLowerCase():e;t._select(function(e){e=t._text(e);if(r)e=(e+"").toLowerCase();return e===i}).done(function(){t._textAccessor(t.dataItem()||e)})}else return t._textAccessor()},_clearFilter:function(){s(this.filterInput).val("");h.fn._clearFilter.call(this)},value:function(e){var t=this;var i=t.listView;var r=t.dataSource;if(e===l){e=t._accessor()||t.listView.value()[0];return e===l||e===null?"":e}t.requireValueMapper(t.options,e);if(e||!t.hasOptionLabel())t._initialIndex=null;this.trigger("set",{value:e});if(t._request&&t.options.cascadeFrom&&t.listView.bound()){if(t._valueSetter)r.unbind(n,t._valueSetter);t._valueSetter=p(function(){t.value(e)},t);r.one(n,t._valueSetter);return}if(t._isFilterEnabled()&&i.bound()&&i.isFiltered())t._clearFilter();else t._fetchData();i.value(e).done(function(){t._old=t._valueBeforeCascade=t._accessor();t._oldIndex=t.selectedIndex})},hasOptionLabel:function(){return this.optionLabel&&!!this.optionLabel[0]},_optionLabel:function(){var e=this;var t=e.options;var i=t.optionLabel;var r=t.optionLabelTemplate;if(!i){e.optionLabel.off().remove();e.optionLabel=s();return}if(!r){r="#:";if(typeof i==="string")r+="data";else r+=c.expr(t.dataTextField,"data");r+="#"}if(typeof r!=="function")r=c.template(r);e.optionLabelTemplate=r;if(!e.hasOptionLabel())e.optionLabel=s('<div class="k-list-optionlabel"></div>').prependTo(e.list);e.optionLabel.html(r(i)).off().on(k,p(e._click,e)).on(C,e._toggleHover);e.angular("compile",function(){return{elements:e.optionLabel,data:[{dataItem:e._optionLabelDataItem()}]}})},_optionLabelText:function(){var e=this.options.optionLabel;return typeof e==="string"?e:this._text(e)},_optionLabelDataItem:function(){var e=this;var t=e.options.optionLabel;if(e.hasOptionLabel())return s.isPlainObject(t)?new m(t):e._assignInstance(e._optionLabelText(),"");return l},_buildOptions:function(e){var t=this;if(!t._isSelect)return;var i=t.listView.value()[0];var r=t._optionLabelDataItem();var n=r&&t._value(r);if(i===l||i===null)i="";if(r){if(n===l||n===null)n="";r='<option value="'+n+'">'+t._text(r)+"</option>"}t._options(e,r,i);if(i!==a.unifyType(t._accessor(),typeof i)){t._customOption=null;t._custom(i)}},_listBound:function(){var e=this;var t=e._initialIndex;var i=e._state===S;var r=e.dataSource.flatView();var n;e._presetValue=false;e._renderFooter();e._renderNoData();e._toggleNoData(!r.length);e._resizePopup(true);e.popup.position();e._buildOptions(r);if(!i){if(e._open)e.toggle(e._allowOpening());e._open=false;if(!e._fetch)if(r.length){if(!e.listView.value().length&&t>-1&&t!==null)e.select(t);e._initialIndex=null;n=e.listView.selectedDataItems()[0];if(n&&e.text()!==e._text(n))e._selectValue(n)}else if(e._textAccessor()!==e._optionLabelText()){e.listView.value("");e._selectValue(null);e._oldIndex=e.selectedIndex}}e._hideBusy();e.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]);if(this._presetValue||this._old&&this._oldIndex===-1)this._oldIndex=this.selectedIndex},_filterPaste:function(){this._search()},_attachFocusHandlers:function(){var e=this;var t=e.wrapper;t.on("focusin"+i,p(e._focusinHandler,e)).on("focusout"+i,p(e._focusoutHandler,e));if(e.filterInput)e.filterInput.on("focusin"+i,p(e._focusinHandler,e)).on("focusout"+i,p(e._focusoutHandler,e))},_focusHandler:function(){this.wrapper.trigger("focus")},_focusinHandler:function(){this.wrapper.addClass(r);this._prevent=false},_focusoutHandler:function(){var e=this;var t=window.self!==window.top;if(!e._prevent){clearTimeout(e._typingTimeout);if(o.mobileOS.ios&&t)e._change();else e._blur();e.wrapper.removeClass(r);e._prevent=true;e._open=false;e.element.trigger("blur")}},_wrapperMousedown:function(){this._prevent=!!this.filterInput},_wrapperClick:function(e){e.preventDefault();this.popup.unbind("activate",this._focusInputHandler);this._focused=this.wrapper;this._prevent=false;this._toggle()},_editable:function(e){var t=this;var i=t.element;var r=e.disable;var n=e.readonly;var a=t.wrapper.add(t.filterInput).off(f);var o=t.wrapper.off(C);if(!n&&!r){i.prop(_,false).prop(y,false);o.removeClass(w).on(C,t._toggleHover);a.attr(d,a.data(d)).attr(b,false).attr(x,false).on("keydown"+f,t,p(t._keydown,t)).on(c.support.mousedown+f,p(t._wrapperMousedown,t)).on("paste"+f,p(t._filterPaste,t));t.wrapper.on("click"+f,p(t._wrapperClick,t));if(!t.filterInput)a.on("keypress"+f,p(t._keypress,t));else a.on("input"+f,p(t._search,t))}else if(r){a.removeAttr(d);o.addClass(w)}else o.removeClass(w);i.attr(_,r).attr(y,n);a.attr(b,r).attr(x,n)},_keydown:function(e){var t=this;var i=e.keyCode;var r=e.altKey;var n;var a;var o=t.popup.visible();if(t.filterInput)n=t.filterInput[0]===g();if(i===u.LEFT){i=u.UP;a=true}else if(i===u.RIGHT){i=u.DOWN;a=true}if(a&&n)return;e.keyCode=i;if(r&&i===u.UP||i===u.ESC)t._focusElement(t.wrapper);if(t._state===S&&i===u.ESC){t._clearFilter();t._open=false;t._state=T}if(i===u.ENTER&&t._typingTimeout&&t.filterInput&&o){e.preventDefault();return}if(i===u.SPACEBAR&&!n){t.toggle(!o);e.preventDefault()}a=t._move(e);if(a)return;if(!o||!t.filterInput){var s=t._focus();if(i===u.HOME){a=true;t._firstItem()}else if(i===u.END){a=true;t._lastItem()}if(a){if(t.trigger("select",{dataItem:t._getElementDataItem(t._focus()),item:t._focus()})){t._focus(s);return}t._select(t._focus(),true).done(function(){if(!o)t._blur()});e.preventDefault()}}if(!r&&!a&&t.filterInput)t._search()},_matchText:function(e,t){var i=this.options.ignoreCase;if(e===l||e===null)return false;e=e+"";if(i)e=e.toLowerCase();return e.indexOf(t)===0},_shuffleData:function(e,t){var i=this._optionLabelDataItem();if(i)e=[i].concat(e);return e.slice(t).concat(e.slice(0,t))},_selectNext:function(){var t=this;var e=t.dataSource.flatView();var i=e.length+(t.hasOptionLabel()?1:0);var r=B(t._word,t._last);var n=t.selectedIndex;var a;var o;if(n===-1)n=0;else{n+=r?1:0;n=I(n,i)}e=e.toJSON?e.toJSON():e.slice();e=t._shuffleData(e,n);for(var s=0;s<i;s++){o=t._text(e[s]);if(r&&t._matchText(o,t._last))break;else if(t._matchText(o,t._word))break}if(s!==i){a=t._focus();t._select(I(n+s,i)).done(function(){var e=function(){if(!t.popup.visible())t._change()};if(t.trigger("select",{dataItem:t._getElementDataItem(t._focus()),item:t._focus()}))t._select(a).done(e);else e()})}},_keypress:function(e){var t=this;if(e.which===0||e.keyCode===c.keys.ENTER)return;var i=String.fromCharCode(e.charCode||e.keyCode);if(t.options.ignoreCase)i=i.toLowerCase();if(i===" ")e.preventDefault();t._word+=i;t._last=i;t._search()},_popupOpen:function(){var e=this.popup;e.wrapper=c.wrap(e.element);if(e.element.closest(".km-root")[0]){e.wrapper.addClass("km-popup km-widget");this.wrapper.addClass("km-widget")}},_popup:function(){h.fn._popup.call(this);this.popup.one("open",p(this._popupOpen,this))},_getElementDataItem:function(e){if(!e||!e[0])return null;if(e[0]===this.optionLabel[0])return this._optionLabelDataItem();return this.listView.dataItemByIndex(this.listView.getElementIndex(e))},_click:function(e){var t=this;var i=e.item||s(e.currentTarget);e.preventDefault();if(t.trigger("select",{dataItem:t._getElementDataItem(i),item:i})){t.close();return}t._userTriggered=true;t._select(i).done(function(){t._blur();t._focusElement(t.wrapper)})},_focusElement:function(e){var t=g();var i=this.wrapper;var r=this.filterInput;var n=e===r?i:r;var a=o.mobileOS&&(o.touch||o.MSPointers||o.pointers);if(r&&r[0]===e[0]&&a)return;if(r&&(n[0]===t||this._focusFilter)){this._focusFilter=false;this._prevent=true;this._focused=e.trigger("focus")}},_searchByWord:function(t){if(!t)return;var i=this;var e=i.options.ignoreCase;if(e)t=t.toLowerCase();i._select(function(e){return i._matchText(i._text(e),t)})},_inputValue:function(){return this.text()},_search:function(){var t=this;var e=t.dataSource;clearTimeout(t._typingTimeout);if(t._isFilterEnabled())t._typingTimeout=setTimeout(function(){var e=t.filterInput.val();if(t._prev!==e){t._prev=e;t.search(e);t._resizeFilterInput()}t._typingTimeout=null},t.options.delay);else{t._typingTimeout=setTimeout(function(){t._word=""},t.options.delay);if(!t.listView.bound()){e.fetch().done(function(){t._selectNext()});return}t._selectNext()}},_get:function(e){var t,i,r;var n=typeof e==="function";var a=!n?s(e):s();if(this.hasOptionLabel())if(typeof e==="number"){if(e>-1)e-=1}else if(a.hasClass("k-list-optionlabel"))e=-1;if(n){t=this.dataSource.flatView();for(r=0;r<t.length;r++)if(e(t[r])){e=r;i=true;break}if(!i)e=-1}return e},_firstItem:function(){if(this.hasOptionLabel())this._focus(this.optionLabel);else this.listView.focusFirst()},_lastItem:function(){this._resetOptionLabel();this.listView.focusLast()},_nextItem:function(){var e;if(this.optionLabel.hasClass("k-focus")){this._resetOptionLabel();this.listView.focusFirst();e=1}else e=this.listView.focusNext();return e},_prevItem:function(){var e;if(this.optionLabel.hasClass("k-focus"))return;e=this.listView.focusPrev();if(!this.listView.focus()&&!this.options.virtual)this._focus(this.optionLabel);return e},_focusItem:function(){var e=this.options;var t=this.listView;var i=t.focus();var r=t.select();r=r[r.length-1];if(r===l&&e.highlightFirst&&!i)r=0;if(r!==l)t.focus(r);else if(e.optionLabel&&(!e.virtual||e.virtual.mapValueTo!=="dataItem")){this._focus(this.optionLabel);this._select(this.optionLabel);this.listView.content.scrollTop(0)}else t.scrollToIndex(0)},_resetOptionLabel:function(e){this.optionLabel.removeClass("k-focus"+(e||"")).removeAttr("id")},_focus:function(e){var t=this.listView;var i=this.optionLabel;if(e===l){e=t.focus();if(!e&&i.hasClass("k-focus"))e=i;return e}this._resetOptionLabel();e=this._get(e);t.focus(e);if(e===-1){i.addClass("k-focus").attr("id",t._optionID);this._focused.add(this.filterInput).removeAttr("aria-activedescendant").attr("aria-activedescendant",t._optionID)}},_select:function(e,t){var i=this;e=i._get(e);return i.listView.select(e).done(function(){if(!t&&i._state===S)i._state=T;if(e===-1)i._selectValue(null)})},_selectValue:function(e){var t=this;var i=t.options.optionLabel;var r=t.listView.select();var n="";var a="";r=r[r.length-1];if(r===l)r=-1;this._resetOptionLabel(" k-selected");if(e||e===0){a=e;n=t._dataValue(e);if(i)r+=1}else if(i){t._focus(t.optionLabel.addClass("k-selected"));a=t._optionLabelText();if(typeof i==="string")n="";else n=t._value(i);r=0}t.selectedIndex=r;if(n===null)n="";t._textAccessor(a);t._accessor(n,r);t._triggerCascade()},_mobile:function(){var e=this,t=e.popup,i=o.mobileOS,r=t.element.parents(".km-root").eq(0);if(r.length&&i)t.options.animation.open.effects=i.android||i.meego?"fadeIn":i.ios||i.wp?"slideIn:up":t.options.animation.open.effects},_filterHeader:function(){var e='<div class="k-list-filter">'+'<span class="k-searchbox k-input k-input-md k-rounded-md k-input-solid" type="text" autocomplete="off">'+'<span class="k-input-icon k-icon k-i-search"></span>'+"</span>"+"</div>";if(this.filterInput){this.filterInput.off(f).closest(".k-list-filter").remove();this.filterInput=null}if(this._isFilterEnabled()){this.filterInput=s('<input class="k-input-inner" type="text" />').attr({placeholder:this.element.attr("placeholder"),title:this.options.filterTitle||this.element.attr("title"),role:"searchbox","aria-label":this.options.filterTitle,"aria-haspopup":"listbox","aria-autocomplete":"list"});this.list.parent().prepend(s(e)).find(".k-searchbox").append(this.filterInput)}},_span:function(){var e=this,t=e.wrapper,i="span.k-input-value-text",r=c.guid(),n=e.options,a,o;a=t.find(i);if(!a[0]){o=v.renderButton('<button type="button" tabindex="-1" unselectable="on" class="k-select k-input-button" aria-label="select"></button>',{icon:"arrow-s",size:n.size,fillMode:n.fillMode,shape:null,rounded:null});t.append('<span id="'+r+'" unselectable="on" role="option" aria-selected="true" class="k-input-inner">'+'<span class="k-input-value-text"></span>'+"</span>").append(o).append(e.element);a=t.find(i)}e.span=a;e._arrow=t.find(".k-select");e._arrowIcon=e._arrow.find(".k-icon")},_wrapper:function(){var e=this,t=e.element,i=t[0],r;r=t.parent();if(!r.is("span.k-picker")){r=t.wrap("<span />").parent();r[0].style.cssText=i.style.cssText;r[0].title=i.title}e._focused=e.wrapper=r.addClass("k-picker k-dropdown k-widget").addClass(i.className).removeClass("input-validation-error").css("display","").attr({accesskey:t.attr("accesskey"),unselectable:"on",role:"listbox","aria-haspopup":"listbox","aria-expanded":false});t.hide().removeAttr("accesskey")},_clearSelection:function(e){this.select(e.value()?0:-1)},_openHandler:function(e){this._adjustListWidth();if(this.trigger(M))e.preventDefault();else{this.wrapper.attr("aria-expanded",true);this.ul.attr("aria-hidden",false)}},_closeHandler:function(e){if(this.trigger(D))e.preventDefault();else{this.wrapper.attr("aria-expanded",false);this.ul.attr("aria-hidden",true)}},_inputTemplate:function(){var e=this,t=e.options.valueTemplate;if(!t)t=s.proxy(c.template("#:this._text(data)#",{useWithBlock:false}),e);else t=c.template(t);e.valueTemplate=t;if(e.hasOptionLabel()&&!e.options.optionLabelTemplate)try{e.valueTemplate(e._optionLabelDataItem())}catch(e){throw new Error(A)}},_textAccessor:function(e){var t=null;var i=this.valueTemplate;var r=this._optionLabelText();var n=this.span;if(e===l)return n.text();if(s.isPlainObject(e)||e instanceof m)t=e;else if(r&&r===e)t=this.options.optionLabel;if(!t)t=this._assignInstance(e,this._accessor());if(this.hasOptionLabel())if(t===r||this._text(t)===r){i=this.optionLabelTemplate;if(typeof this.options.optionLabel==="string"&&!this.options.optionLabelTemplate)t=r}var a=function(){return{elements:n.get(),data:[{dataItem:t}]}};this.angular("cleanup",a);try{n.html(i(t))}catch(e){n.html("")}this.angular("compile",a)},_preselect:function(e,t){if(!e&&!t)t=this._optionLabelText();this._accessor(e);this._textAccessor(t);this._old=this._accessor();this._oldIndex=this.selectedIndex;this.listView.setValue(e);this._initialIndex=null;this._presetValue=true},_assignInstance:function(e,t){var i=this.options.dataTextField;var r={};if(i){P(r,i.split("."),e);P(r,this.options.dataValueField.split("."),t);r=new m(r)}else r=e;return r}});function P(e,t,i){var r=0,n=t.length-1,a;for(;r<n;++r){a=t[r];if(!(a in e))e[a]={};e=e[a]}e[t[n]]=i}function I(e,t){if(e>=t)e-=t;return e}function B(e,t){for(var i=0;i<e.length;i++)if(e.charAt(i)!==t)return false;return true}return t.plugin(E),c.cssProperties.registerPrefix("DropDownList","k-picker-"),c.cssProperties.registerValues("DropDownList",[{prop:"rounded",values:c.cssProperties.roundedValues.concat([["full","full"]])}]),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.selectable.min",["./kendo.core.min","./kendo.userevents.min"],function(){var e={id:"selectable",name:"Selectable",category:"framework",depends:["core","userevents"],advanced:true},h=window.kendo.jQuery,t=void 0,u=window.kendo,n=u.ui.Widget,a=h.proxy,r=Math.abs,o="aria-selected",f="k-state-selected",c="k-state-selecting",d="k-selectable",p="change",i=".kendoSelectable",s="unselect",v="k-state-unselecting",l="input,a,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-arrow-60-down,span.k-icon.k-i-arrow-60-up,label.k-checkbox-label.k-no-text,.k-icon.k-i-collapse,.k-icon.k-i-expand,span.k-numeric-wrap,.k-focusable",g=u.support.browser.msie,m=false,_=h.extend,y,w=(h('<div class="parent"><span></span></div>').on("click",">*",function(){m=true}).find("span").trigger("click").end().off(),n.extend({init:function(e,t){var i=this,r;n.fn.init.call(i,e,t);i._marquee=h("<div class='k-marquee'><div class='k-marquee-color'></div></div>");i._lastActive=null;i.element.addClass(d);i.relatedTarget=i.options.relatedTarget;r=i.options.multiple;i.userEvents=new u.UserEvents(i.element,{global:true,allowSelection:true,filter:(!m?"."+d+" ":"")+i.options.filter,tap:a(i._tap,i),touchAction:r?"none":"pan-x pan-y"});if(r)i.userEvents.bind("start",a(i._start,i)).bind("move",a(i._move,i)).bind("end",a(i._end,i)).bind("select",a(i._select,i))},events:[p,s],options:{name:"Selectable",filter:">*",inputSelectors:l,multiple:false,relatedTarget:h.noop,ignoreOverlapped:false,addIdToRanges:false},_isElement:function(e){var t=this.element;var i,r=t.length,n=false;e=e[0];for(i=0;i<r;i++)if(t[i]===e){n=true;break}return n},_tap:function(e){var t=h(e.target),i=this,r=e.event.ctrlKey||e.event.metaKey,n=i.options.multiple,a=n&&e.event.shiftKey,o=i.options.selectedClass||f,s,l=e.event.which,c=e.event.button;if(!i._isElement(t.closest("."+d))||l&&l==3||c&&c==2)return;if(!this._allowSelection(e.event.target))return;s=t.hasClass(o);if(!n||!r)i.clear();t=t.add(i.relatedTarget(t));if(a)i.selectRange(i._firstSelectee(),t,e);else{if(s&&r){i._unselect(t);i._notify(p,e)}else i.value(t,e);i._lastActive=i._downTarget=t}},_start:function(e){var t=this,i=h(e.target),r=t.options.selectedClass||f,n=i.hasClass(r),a,o=e.event.ctrlKey||e.event.metaKey;if(!this._allowSelection(e.event.target))return;t._downTarget=i;if(!t._isElement(i.closest("."+d))){t.userEvents.cancel();return}if(t.options.useAllItems)t._items=t.element.find(t.options.filter);else{a=i.closest(t.element);t._items=a.find(t.options.filter)}e.sender.capture();t._marquee.appendTo(document.body).css({left:e.x.client+1,top:e.y.client+1,width:0,height:0});if(!o)t.clear();i=i.add(t.relatedTarget(i));if(n){t._selectElement(i,true);if(o)i.addClass(v)}},_move:function(e){var t=this,i={left:e.x.startLocation>e.x.location?e.x.location:e.x.startLocation,top:e.y.startLocation>e.y.location?e.y.location:e.y.startLocation,width:r(e.x.initialDelta),height:r(e.y.initialDelta)};t._marquee.css(i);t._invalidateSelectables(i,e.event.ctrlKey||e.event.metaKey);e.preventDefault()},_end:function(e){var t=this,i=u.attr("range-selected"),r=u.guid();t._marquee.remove();t._unselect(t.element.find(t.options.filter+"."+v)).removeClass(v);var n=t.element.find(t.options.filter+"."+c);n=n.add(t.relatedTarget(n));if(t.options.addIdToRanges)for(var a=0;a<t._currentlyActive.length;a++)h(t._currentlyActive[a]).attr(i,r);t.value(n,e);t._lastActive=t._downTarget;t._items=null},_invalidateSelectables:function(e,t){var i,r,n=this._downTarget[0],a=this._items,o=this.options.selectedClass||f,s,l;this._currentlyActive=[];for(i=0,r=a.length;i<r;i++){l=a.eq(i);s=l.add(this.relatedTarget(l));if(b(l,e)){if(l.hasClass(o)){if(t&&n!==l[0])s.removeClass(o).addClass(v)}else if(!l.hasClass(c)&&!l.hasClass(v)&&!this._collidesWithActiveElement(s,e))s.addClass(c);this._currentlyActive.push(s[0])}else if(l.hasClass(c))s.removeClass(c);else if(t&&l.hasClass(v))s.removeClass(v).addClass(o)}},_collidesWithActiveElement:function(e,t){if(!this.options.ignoreOverlapped)return false;var i=this._currentlyActive;var r=e[0].getBoundingClientRect();var n;var a=false;var o=u.support.isRtl(e);var s=o?"right":"left";var l={};t.right=t.left+t.width;t.bottom=t.top+t.height;for(var c=0;c<i.length;c++){n=i[c].getBoundingClientRect();if(x(r,n)){l[s]=s==="left"?n.right:n.left;r=_({},r,l);if(r.left>r.right)return true;a=!x(r,t)}}return a},value:function(e,t){var i=this,r=a(i._selectElement,i);if(e){e.each(function(){r(this)});i._notify(p,t);return}return i.element.find(i.options.filter+"."+(i.options.selectedClass||f))},selectedRanges:function(){var e=this;var n=u.attr("range-selected");var a={};e.element.find("["+n+"]").each(function(e,t){var i=h(t).attr(n);var r=a[i];if(!r)r=a[i]=[];r.push(h(t))});return a},selectedSingleItems:function(){var e=this;var t=u.attr("range-selected");return e.element.find(e.options.filter+"."+(e.options.selectedClass||f)+":not(["+t+"])").toArray().map(function(e){return h(e)})},_firstSelectee:function(){var e=this,t;if(e._lastActive!==null)return e._lastActive;t=e.value();return t.length>0?t[0]:e.element.find(e.options.filter)[0]},_selectElement:function(e,t){var i=h(e),r=this.options.selectedClass||f,n=!t&&this._notify("select",{element:e});i.removeClass(c);if(!n){i.addClass(r);if(this.options.aria)i.attr(o,true)}},_notify:function(e,t){t=t||{};return this.trigger(e,t)},_unselect:function(e){if(this.trigger(s,{element:e}))return;var t=u.attr("range-selected");e.removeClass(this.options.selectedClass||f).removeAttr(t);if(this.options.aria)e.attr(o,false);return e},_select:function(e){if(this._allowSelection(e.event.target))if(!g||g&&!h(u._activeElement()).is(this.options.inputSelectors))e.preventDefault()},_allowSelection:function(e){if(h(e).is(this.options.inputSelectors)){this.userEvents.cancel();this._downTarget=null;return false}return true},resetTouchEvents:function(){this.userEvents.cancel()},clear:function(){var e=this.element.find(this.options.filter+"."+(this.options.selectedClass||f));this._unselect(e)},selectRange:function(e,t,i){var r=this,n,a,o;r.clear();if(r.element.length>1)o=r.options.continuousItems();if(!o||!o.length)o=r.element.find(r.options.filter);e=h.inArray(h(e)[0],o);t=h.inArray(h(t)[0],o);if(e>t){a=e;e=t;t=a}if(!r.options.useAllItems)t+=r.element.length-1;for(n=e;n<=t;n++)r._selectElement(o[n]);r._notify(p,i)},destroy:function(){var e=this;n.fn.destroy.call(e);e.element.off(i);e.userEvents.destroy();e._marquee=e._lastActive=e.element=e.userEvents=null}}));function b(e,t){if(!e.is(":visible"))return false;var i=u.getOffset(e),r=t.left+t.width,n=t.top+t.height;i.right=i.left+u._outerWidth(e);i.bottom=i.top+u._outerHeight(e);return!(i.left>r||i.right<t.left||i.top>n||i.bottom<t.top)}function x(e,t){return!(e.right<=t.left||e.left>=t.right||e.bottom<=t.top||e.top>=t.bottom)}return w.parseOptions=function(e){var t=e.mode||e;var i=typeof t==="string"&&t.toLowerCase();return{multiple:i&&i.indexOf("multiple")>-1,cell:i&&i.indexOf("cell")>-1}},u.ui.plugin(w),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.calendar.min",["./kendo.core.min","./kendo.selectable.min"],function(){var e={id:"calendar",name:"Calendar",category:"web",description:"The Calendar widget renders a graphical calendar that supports navigation and selection.",depends:["core","selectable"]},y=window.kendo.jQuery,x=void 0,T=window.kendo,t=T.support,i=T.ui,a=i.Widget,g=T.keys,s=T.parseDate,D=T.date.adjustDST,E=T.date.weekInYear,n=T.ui.Selectable,c=T._extractFormat,h=T.template,u=T.getCulture,r=T.support.transitions,f=r?r.css+"transform-origin":"",k=h('<td class="#=data.cssClass#" role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',{useWithBlock:false}),C=h('<td role="gridcell" class="k-calendar-td k-out-of-range"><a class="k-link"></a></td>',{useWithBlock:false}),S=h('<td role="gridcell" class="k-calendar-td k-out-of-range">&nbsp;</td>',{useWithBlock:false}),P=h('<td class="k-calendar-td k-alt">#= data.weekNumber #</td>',{useWithBlock:false}),d=T._outerWidth,l=".kendoCalendar",p="click"+l,v="keydown"+l,_="id",I="min",B="left",z="slideIn",O="month",L="century",R="change",F="navigate",V="value",N="k-state-hover",H="k-state-disabled",U="k-state-focused",j="k-other-month",G,W="k-nav-today",q="td:has(.k-link)",o="td:has(.k-link):not(."+H+"):not(."+"k-out-of-range"+")",Y="td:not(:has(.k-link))",$="k-state-selected",X="blur"+l,K="focus",Q=K+l,Z=t.touch?"touchstart":"mouseenter",J=t.touch?"touchstart"+l:"mouseenter"+l,ee=t.touch?"touchend"+l+" touchmove"+l:"mouseleave"+l,te=6e4,ie=864e5,re="_prevArrow",ne="_nextArrow",ae="aria-disabled",oe="aria-selected",se="aria-label",le=y.proxy,ce=y.extend,w=Date,b={month:0,year:1,decade:2,century:3},he=".k-header, .k-calendar-header",ue='<div class="k-header k-hstack">'+'<a href="\\#" #=actionAttr#="prev" role="button" class="k-nav-prev k-button #=size# k-rounded-md k-button-flat k-button-flat-base k-icon-button" '+se+'="Previous"><span class="k-button-icon k-icon k-i-arrow-60-left"></span></a>'+'<a href="\\#" #=actionAttr#="nav-up" role="button" aria-live="assertive" aria-atomic="true" class="k-nav-fast k-button #=size# k-rounded-md k-button-flat k-button-flat-base  k-flex"></a>'+'<a href="\\#" #=actionAttr#="next" role="button" class="k-nav-next k-button #=size# k-rounded-md k-button-flat k-button-flat-base  k-icon-button" '+se+'="Next"><span class="k-icon k-i-arrow-60-right"></span></a>'+"</div>",fe='<div class="k-calendar-header k-hstack">'+'<a href="\\#" #=actionAttr#="nav-up" role="button" aria-live="assertive" aria-atomic="true" class="k-calendar-title k-title k-button #=size# k-rounded-md k-button-flat k-button-flat-base "></a>'+'<span class="k-spacer"></span>'+'<span class="k-calendar-nav k-hstack">'+'<a #=actionAttr#="prev" class="k-button #=size# k-rounded-md k-button-flat k-button-flat-base  k-icon-button k-prev-view">'+'<span class="k-button-icon k-icon k-i-arrow-60-left"></span>'+"</a>"+'<a #=actionAttr#="today" class="k-nav-today">#=messages.today#</a>'+'<a #=actionAttr#="next" class="k-button #=size# k-rounded-md k-button-flat k-button-flat-base  k-icon-button k-next-view">'+'<span class="k-button-icon k-icon k-i-arrow-60-right"></span>'+"</a>"+"</span>"+"</div>",de=a.extend({init:function(e,r){var n=this,t,i;r=r||{};r.componentType=r.componentType||"classic";a.fn.init.call(n,e,r);e=n.wrapper=n.element;r=n.options;r.url=T.unescape(r.url);n.options.disableDates=Ie(n.options.disableDates);n._templates();n._selectable();n._header();n._viewWrapper();if(n.options.hasFooter)n._footer(n.footer);else{n._today=n.element.find("a.k-nav-today");n._toggle()}i=e.addClass("k-widget k-calendar "+(r.weekNumber?" k-week-number":"")).on(J+" "+ee,q,Ce).on(v,"table.k-content",le(n._move,n)).on(p+" touchend",q,function(e){var t=e.currentTarget.firstChild,i=m(t);if(t.href.indexOf("#")!=-1)e.preventDefault();if(n._view.name=="month"&&n.options.disableDates(i))return;if(n._view.name!="month"||r.selectable=="single")n._click(y(t))}).on("mouseup"+l,"table.k-content, .k-footer",function(){n._focusView(n.options.focusOnNav!==false)}).attr(_);if(n._isMultipleSelection()&&n.options.weekNumber)e.on(p,Y,function(e){var t=y(e.currentTarget).closest("tr").find(o).first(),i=n.selectable._lastActive=y(e.currentTarget).closest("tr").find(o).last();n.selectable.selectRange(t,i,{event:e});n._current=n._value=m(i.find("a"));n._setCurrent(n._current)});Ae(r);t=s(r.value,r.format,r.culture);n._selectDates=[];n._index=b[r.start];n._current=new w(+_e(t,r.min,r.max));n._addClassProxy=function(){n._active=true;if(n._cell.hasClass(H)){var e=n._view.toDateString(me());n._cell=n._cellByDate(e)}n._cell.addClass(U)};n._removeClassProxy=function(){n._active=false;if(n._cell)n._cell.removeClass(U)};n.value(t);if(n._isMultipleSelection()&&r.selectDates.length>0)n.selectDates(r.selectDates);T.notify(n)},options:{name:"Calendar",value:null,min:new w(1900,0,1),max:new w(2099,11,31),dates:[],disableDates:null,url:"",culture:"",footer:"",format:"",month:{},weekNumber:false,selectable:"single",selectDates:[],start:O,depth:O,size:"medium",animation:{horizontal:{effects:z,reverse:true,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}},messages:{weekColumnHeader:"",today:"Today"},componentType:"classic"},events:[R,F],componentTypes:{classic:{header:{template:ue},hasFooter:true,linksSelector:".k-button",contentClasses:"k-calendar-table k-content"},modern:{header:{template:fe},hasFooter:false,linksSelector:".k-button",contentClasses:"k-calendar-table k-content k-calendar-content"}},setOptions:function(e){var t=this;Ae(e);e.disableDates=Ie(e.disableDates);t._destroySelectable();a.fn.setOptions.call(t,e);t._templates();t._selectable();t._viewWrapper();if(t.options.hasFooter)t._footer(t.footer);else{t.element.find(".k-footer").hide();t._toggle()}t._index=b[t.options.start];t.navigate();if(e.weekNumber)t.element.addClass("k-week-number")},destroy:function(){var e=this,t=e._today;e.element.off(l);e._title.off(l);e[re].off(l);e[ne].off(l);e._destroySelectable();T.destroy(e._table);if(t)T.destroy(t.off(l));a.fn.destroy.call(e)},current:function(){return this._current},view:function(){return this._view},focus:function(e){e=e||this._table;this._bindTable(e);e.trigger("focus")},min:function(e){return this._option(I,e)},max:function(e){return this._option("max",e)},navigateToPast:function(){this._navigate(re,-1)},navigateToFuture:function(){this._navigate(ne,1)},navigateUp:function(){var e=this,t=e._index;if(e._title.hasClass(H))return;e.navigate(e._current,++t)},navigateDown:function(e){var t=this,i=t._index,r=t.options.depth;if(!e)return;if(i===b[r]){if(!Oe(t._value,t._current)||!Oe(t._value,e)){t.value(e);t.trigger(R)}return}t.navigate(e,--i)},navigate:function(e,t){t=isNaN(t)?b[t]:t;var i=this,r=i.options,h=r.culture,n=r.min,a=r.max,u=i._title,o=i._table,f=i._oldTable,d=i._current,p=e&&+e>+d,v=t!==x&&t!==i._index,s,l,g,c,m=i.element.children(".k-calendar-view");if(!e)e=d;i._current=e=new w(+_e(e,n,a));if(t===x)t=i._index;else i._index=t;i._view=l=A.views[t];g=l.compare;c=t===b[L];u.toggleClass(H,c).attr(ae,c);c=g(e,n)<1;i[re].toggleClass(H,c).attr(ae,c);c=g(e,a)>-1;i[ne].toggleClass(H,c).attr(ae,c);if(o&&f&&f.data("animating")){f.kendoStop(true,true);o.kendoStop(true,true)}i._oldTable=o;if(!o||i._changeView){u.html(l.title(e,n,a,h));i._table=s=y(l.content(ce({min:n,max:a,date:e,url:r.url,dates:r.dates,format:r.format,otherMonth:true,culture:h,disableDates:r.disableDates,isWeekColumnVisible:r.weekNumber,messages:r.messages,contentClasses:i.options.contentClasses},i[l.name])));Me(s,l.name);var _=o&&o.data("start")===s.data("start");i._animate({from:o,to:s,vertical:v,future:p,replace:_});m.removeClass("k-calendar-monthview k-calendar-yearview k-calendar-decadeview k-calendar-centuryview");m.addClass("k-calendar-"+l.name+"view");i.trigger(F);i._focus(e)}if(t===b[r.depth]&&i._selectDates.length>0)i._visualizeSelectedDatesInView();if(i.options.selectable==="single")if(t===b[r.depth]&&i._value&&!i.options.disableDates(i._value))i._selectCell(i._value);i._setCurrent(e);if(!o&&i._cell)i._cell.removeClass(U);i._changeView=true},selectDates:function(e){var t=this,i,r;if(e===x)return t._selectDates;r=e.map(function(e){return e.getTime()}).filter(function(e,t,i){return i.indexOf(e)===t}).map(function(e){return new Date(e)});i=y.grep(r,function(e){if(e)return+t._validateValue(new Date(e.setHours(0,0,0,0)))===+e});t._selectDates=i.length>0?i:r.length===0?r:t._selectDates;t._visualizeSelectedDatesInView()},value:function(e){var t=this,i=t._view,r=t._view;if(e===x)return t._value;e=t._validateValue(e);if(e&&t._isMultipleSelection()){var n=new Date(+e);n.setHours(0,0,0,0);t._selectDates=[n];t.selectable._lastActive=null}if(i&&e===null&&t._cell)t._cell.removeClass($);else{t._changeView=!e||r&&r.compare(e,t._current)!==0;t.navigate(e)}},_validateValue:function(e){var t=this,i=t.options,r=i.min,n=i.max;if(e===null)t._current=M(t._current.getFullYear(),t._current.getMonth(),t._current.getDate());e=s(e,i.format,i.culture);if(e!==null){e=new w(+e);if(!ye(e,r,n))e=null}if(e===null||!t.options.disableDates(new Date(+e)))t._value=e;else if(t._value===x)t._value=null;return t._value},_visualizeSelectedDatesInView:function(){var e=this;var i={};y.each(e._selectDates,function(e,t){i[T.calendar.views[0].toDateString(t)]=t});e.selectable.clear();var t=e._table.find(q).filter(function(e,t){return i[y(t.firstChild).attr(T.attr(V))]});if(t.length>0)e.selectable._selectElement(t,true)},_isMultipleSelection:function(){var e=this;return e.options.selectable==="multiple"},_selectable:function(){var e=this;if(!e._isMultipleSelection())return;var t=e.options.selectable,i=n.parseOptions(t);if(i.multiple)e.element.attr("aria-multiselectable","true");e.selectable=new n(e.wrapper,{aria:true,inputSelectors:"input,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-arrow-60-down,span.k-icon.k-i-arrow-60-up",multiple:i.multiple,filter:"table.k-month:eq(0) "+o,change:le(e._onSelect,e),relatedTarget:le(e._onRelatedTarget,e)})},_onRelatedTarget:function(e){var t=this;if(t.selectable.options.multiple&&e.is(o)){t._current=m(e.find("a"));t._setCurrent(t._current)}},_onSelect:function(e){var r=this,t=e,i=n.parseOptions(r.options.selectable);if(!i.multiple){if(y(t.event.currentTarget).is("td")&&!y(t.event.currentTarget).hasClass("k-state-selected"))y(t.event.currentTarget).addClass("k-state-selected");else r._click(y(t.event.currentTarget).find("a"));return}if(t.event.ctrlKey||t.event.metaKey)if(y(t.event.currentTarget).is(o))r._toggleSelection(y(t.event.currentTarget));else{r._cellsBySelector(o).each(function(e,t){var i=m(y(t).find("a"));r._deselect(i)});r._addSelectedCellsToArray()}else if(t.event.shiftKey)r._rangeSelection(r._cell);else if(y(t.event.currentTarget).is(q))r.value(m(y(t.event.currentTarget).find("a")));else{r._selectDates=[];r._addSelectedCellsToArray()}r.trigger(R)},_destroySelectable:function(){var e=this;if(e.selectable){e.selectable.destroy();e.selectable=null}},_toggleSelection:function(e){var t=this,i=m(e.find("a"));if(e.hasClass("k-state-selected"))t._selectDates.push(i);else t._deselect(i)},_rangeSelection:function(e,t){var i=this,r=t||m(i.selectable.value().first().find("a")),n=m(e.find("a")),a;if(i.selectable._lastActive||i._value)r=i.selectable._lastActive?m(i.selectable._lastActive.find("a")):new Date(+i._value);else i.selectable._lastActive=t?i._cellByDate(i._view.toDateString(t),o):i.selectable.value().first();i._selectDates=[];a=xe(r,n);ke(i._selectDates,a,r,i.options.disableDates);i._visualizeSelectedDatesInView()},_cellsBySelector:function(e){var t=this;return t._table.find(e)},_addSelectedCellsToArray:function(){var r=this;r.selectable.value().each(function(e,t){var i=m(y(t.firstChild));if(!r.options.disableDates(i))r._selectDates.push(i)})},_deselect:function(e){var t=this;var i=t._selectDates.map(Number).indexOf(+e);if(i!=-1)t._selectDates.splice(i,1)},_dateInView:function(e){var t=this,i=m(t._cellsBySelector(o).first().find("a")),r=m(t._cellsBySelector(o).last().find("a"));return+e<=+r&&+e>=+i},_isNavigatable:function(e,t){var i=this;var r=i.options.disableDates;var n;var a;if(i._view.name=="month")return!r(e);else{a=i.wrapper.find("."+U).index();n=i.wrapper.find(".k-content td").eq(a+t);return n.is(o)||!r(e)}},_move:function(e){var t=this,h=t.options,i=e.keyCode,u=t._view,f=t._index,r=t.options.min,d=t.options.max,n=new w(+t._current),a=T.support.isRtl(t.wrapper),p=t.options.disableDates,o,s,l,c;if(e.target===t._table[0])t._active=true;if(i==g.RIGHT&&!a||i==g.LEFT&&a){o=1;s=true}else if(i==g.LEFT&&!a||i==g.RIGHT&&a){o=-1;s=true}else if(i==g.UP){o=f===0?-7:-4;s=true}else if(i==g.DOWN){o=f===0?7:4;s=true}else if(i==g.SPACEBAR){o=0;s=true}else if(i==g.HOME||i==g.END){l=i==g.HOME?"first":"last";c=u[l](n);n=new w(c.getFullYear(),c.getMonth(),c.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds());n.setFullYear(c.getFullYear());s=true}if(e.ctrlKey||e.metaKey){if(i==g.RIGHT&&!a||i==g.LEFT&&a){t.navigateToFuture();s=true}else if(i==g.LEFT&&!a||i==g.RIGHT&&a){t.navigateToPast();s=true}else if(i==g.UP){t.navigateUp();s=true}else if(i==g.DOWN){t._click(y(t._cell[0].firstChild));s=true}else if((i==g.ENTER||i==g.SPACEBAR)&&t._isMultipleSelection()){t._keyboardToggleSelection(e);var v=m(y(t._cell[0]).find("a"));t._setCurrent(v)}}else if(e.shiftKey){if(o!==x||l){if(!l)u.setDate(n,o);if(!ye(n,r,d))n=_e(n,h.min,h.max);if(p(n))n=t._nextNavigatable(n,o);r=M(r.getFullYear(),r.getMonth(),r.getDate());if(t._isMultipleSelection())t._keyboardRangeSelection(e,n);else t._focus(n)}}else{if(i==g.ENTER||i==g.SPACEBAR){if(u.name=="month"&&t._isMultipleSelection()){t.value(m(y(t._cell.find("a"))));t.selectable._lastActive=y(t._cell[0]);t.trigger(R)}else t._click(y(t._cell[0].firstChild));s=true}else if(i==g.PAGEUP){s=true;t.navigateToPast()}else if(i==g.PAGEDOWN){s=true;t.navigateToFuture()}if(o||l){if(!l)u.setDate(n,o);r=M(r.getFullYear(),r.getMonth(),r.getDate());if(!ye(n,r,d))n=_e(n,h.min,h.max);if(!t._isNavigatable(n,o))n=t._nextNavigatable(n,o);if(t._isMultipleSelection())if(!t._dateInView(n))t.navigate(n);else{t._current=n;t._setCurrent(n)}else t._focus(n)}}if(s)e.preventDefault();return t._current},_keyboardRangeSelection:function(e,t){var i=this,r,n;if(!i._dateInView(t)){i._selectDates=[];r=i.selectable._lastActive?m(i.selectable._lastActive.find("a")):t;n=xe(r,new Date(+t));ke(i._selectDates,n,r,i.options.disableDates);i.navigate(t);i._current=t;i.selectable._lastActive=i.selectable._lastActive||i._cellByDate(i._view.toDateString(t),o);i.trigger(R);return}i.selectable.options.filter=i.wrapper.find("table").length>1&&+t>+i._current?"table.k-month:eq(1) "+o:"table.k-month:eq(0) "+o;i._setCurrent(t);i._current=t;i._rangeSelection(i._cellByDate(i._view.toDateString(t),o),t);i.trigger(R);i.selectable.options.filter="table.k-month:eq(0) "+o},_keyboardToggleSelection:function(e){var t=this;e.currentTarget=t._cell[0];t.selectable._lastActive=y(t._cell[0]);if(y(t._cell[0]).hasClass($)){t.selectable._unselect(y(t._cell[0]));t.selectable.trigger(R,{event:e})}else t.selectable.value(y(t._cell[0]),{event:e})},_nextNavigatable:function(e,t){var i=this,r=true,n=i._view,a=i.options.min,o=i.options.max,s=i.options.disableDates,l=new Date(e.getTime());n.setDate(l,-t);while(r){n.setDate(e,t);if(!ye(e,a,o)){e=l;break}r=s(e)}return e},_animate:function(e){var t=this;var i=e.from;var r=e.to;var n=t._active;var a=t.element.children(".k-calendar-view");if(!i){a.append(r);t._bindTable(r)}else if(i.parent().data("animating")){i.off(l);i.parent().kendoStop(true,true).remove();i.remove();a.append(r);t._focusView(n)}else if(!i.is(":visible")||t.options.animation===false||e.replace){r.insertAfter(i);i.off(l).remove();t._focusView(n)}else t[e.vertical?"_vertical":"_horizontal"](i,r,e.future)},_horizontal:function(e,t,i){var r=this,n=r._active,a=r.options.animation.horizontal,o=a.effects,s=d(e);if(o&&o.indexOf(z)!=-1){e.add(t).css({width:s});e.wrap("<div/>");r._focusView(n,e);e.parent().css({position:"relative",width:s*2,float:B,"margin-left":i?0:-s});t[i?"insertAfter":"insertBefore"](e);ce(a,{effects:z+":"+(i?"right":B),complete:function(){e.off(l).remove();r._oldTable=null;t.unwrap();r._focusView(n)}});e.parent().kendoStop(true,true).kendoAnimate(a)}},_vertical:function(e,t){var i=this,r=i.options.animation.vertical,n=r.effects,a=i._active,o,s;if(n&&n.indexOf("zoom")!=-1){t.insertBefore(e);e.css({position:"absolute",width:t.width()});if(f){o=i._cellByDate(i._view.toDateString(i._current));s=o.position();s=s.left+parseInt(o.width()/2,10)+"px"+" "+(s.top+parseInt(o.height()/2,10)+"px");t.css(f,s)}e.kendoStop(true,true).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){e.off(l).remove();i._oldTable=null;i._focusView(a)}});t.kendoStop(true,true).kendoAnimate(r)}},_cellByDate:function(e,t){return this._table.find(t?t:"td:not(."+j+")").filter(function(){return y(this.firstChild).attr(T.attr(V))===e})},_selectCell:function(e){var t=this,i=t._selectedCell,r=t._view.toDateString(e);if(i&&i[0]){i[0].removeAttribute(oe);i.removeClass($)}i=t._cellByDate(r,t.options.selectable=="multiple"?q:"td:not(."+j+")");t._selectedCell=i;i.addClass($).attr(oe,true)},_setCurrent:function(e){var t=this,i=T.guid(),r=t._cell,n=t._view.toDateString(e);if(r&&r[0]){r.removeClass(U);r[0].removeAttribute(se);r[0].removeAttribute(_)}r=t._cellByDate(n,t.options.selectable=="multiple"?q:"td:not(."+j+")");t._cell=r;r.attr(_,i).addClass(U);if(t._table[0]){t._table[0].removeAttribute("aria-activedescendant");t._table.attr("aria-activedescendant",i)}},_bindTable:function(e){e.on(Q,this._addClassProxy).on(X,this._removeClassProxy)},_click:function(e){var t=this,i=t.options,r=new Date(+t._current),n=m(e);D(n,0);if(t._view.name=="month"&&t.options.disableDates(n))n=t._value;t._view.setDate(r,n);t.navigateDown(_e(r,i.min,i.max))},_focus:function(e){var t=this,i=t._view;if(i.compare(e,t._current)!==0)t.navigate(e);else{t._current=e;t._setCurrent(e)}},_focusView:function(e,t){if(e)this.focus(t)},_viewWrapper:function(){var e=this;var t=e.element;var i=t.children(".k-calendar-view");if(!i[0])i=y("<div class='k-calendar-view' />").insertAfter(t.find(he))},_footer:function(e){var t=this,i=me(),r=t.element,n=r.find(".k-footer");if(!e){t._toggle(false);n.hide();return}if(!n[0])n=y('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(r);t._today=n.show().find(".k-link").html(e(i)).attr("title",T.toString(i,"D",t.options.culture));t._toggle()},_header:function(){var e=this,t=e.element,i=e.options.linksSelector;if(!t.find(he)[0])t.html(T.template(e.options.header.template)(y.extend(true,{},e.options,{actionAttr:T.attr("action"),size:T.getValidCssClass("k-button-","size",e.options.size)})));t.find(i).on(p+" touchend"+l,function(){return false});e._title=t.find("["+T.attr("action")+'="nav-up"]').on(p+" touchend"+l,function(){e._active=e.options.focusOnNav!==false;e.navigateUp()});e[re]=t.find("["+T.attr("action")+'="prev"]').on(p+" touchend"+l,function(){e._active=e.options.focusOnNav!==false;e.navigateToPast()});e[ne]=t.find("["+T.attr("action")+'="next"]').on(p+" touchend"+l,function(){e._active=e.options.focusOnNav!==false;e.navigateToFuture()});t.find("["+T.attr("action")+'="today"]').on(p+" touchend"+l,le(e._todayClick,e))},_navigate:function(e,t){var i=this,r=i._index+1,n=new w(+i._current);if(i._isMultipleSelection()){var a=i._table.find("td:not(.k-other-month):not(.k-out-of-range)").has(".k-link").first();n=m(a.find("a"));i._current=new Date(+n)}e=i[e];if(!e.hasClass(H)){if(r>3)n.setFullYear(n.getFullYear()+100*t);else A.views[r].setDate(n,t);i.navigate(n)}},_option:function(e,t){var i=this,r=i.options,n=i._value||i._current,a;if(t===x)return r[e];t=s(t,r.format,r.culture);if(!t)return;r[e]=new w(+t);if(e===I)a=t>n;else a=n>t;if(a||Pe(n,t)){if(a)i._value=null;i._changeView=true}if(!i._changeView)i._changeView=!!(r.month.content||r.month.empty);i.navigate(i._value);i._toggle()},_toggle:function(e){var t=this,i=t.options,r=t.options.disableDates(me()),n=t._today,a=t._todayClass();if(e===x)e=ye(me(),i.min,i.max);if(n){n.off(p);if(e&&!r)n.addClass(a).removeClass(H).on(p,le(t._todayClick,t));else n.removeClass(a).addClass(H).on(p,Se)}},_todayClass:function(){return W},_todayClick:function(e){var t=this,i=b[t.options.depth],r=t.options.disableDates,n=me();e.preventDefault();if(r(n))return;if(t._view.compare(t._current,n)===0&&t._index==i)t._changeView=false;if(t._isMultipleSelection()){t._selectDates=[n];t.selectable._lastActive=null}t._value=n;t.navigate(n,i);t.trigger(R)},_templates:function(){var e=this,t=e.options,i=t.footer,r=t.month,n=r.content,a=r.weekNumber,o=r.empty,s='#= kendo.toString(data,"D","'+t.culture+'") #';e.month={content:h('<td class="#=data.cssClass#" role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+T.attr(V)+'="#=data.dateString#" title="#=data.title#">'+(n||"#=data.value#")+"</a></td>",{useWithBlock:!!n}),empty:h('<td role="gridcell">'+(o||"&nbsp;")+"</td>",{useWithBlock:!!o}),weekNumber:h('<td class="k-alt">'+(a||"#= data.weekNumber #")+"</td>",{useWithBlock:!!a})};if(i&&i!==true)s=i;e.footer=i!==false?h(s,{useWithBlock:false}):null},_updateAria:function(e,t){var i=this;var r=i._cell;var n=i.view().valueType();var a=t||i.current();var o;if(n==="month")o=T.toString(a,"MMMM");else if(n==="date")o=T.toString(a,"D");else o=r.text();r.attr("aria-label",e({current:a,valueType:n,text:o}));return r.attr("id")}}),A=(i.plugin(de),{firstDayOfMonth:function(e){return M(e.getFullYear(),e.getMonth(),1)},firstVisibleDay:function(e,t){t=t||T.culture().calendar;var i=t.firstDay,r=new w(e.getFullYear(),e.getMonth(),1,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());r.setFullYear(e.getFullYear());while(r.getDay()!=i)A.setTime(r,-1*ie);return r},setTime:function(e,t){var i=e.getTimezoneOffset(),r=new w(e.getTime()+t),n=r.getTimezoneOffset()-i;e.setTime(r.getTime()+n*te)},views:[{name:O,title:function(e,t,i,r){return Te(r).months.names[e.getMonth()]+" "+e.getFullYear()},content:function(e){var t=this,i=0,r=e.min,n=e.max,a=e.date,s=e.dates,h=e.format,l=e.culture,u=e.url,f=e.showHeader,d=e.otherMonth,p=e.isWeekColumnVisible,v=u&&s[0],g=Te(l),m=g.firstDay,_=g.days,y=we(_.names,m),w=we(_.namesShort,m),b=A.firstVisibleDay(a,g),x=t.first(a),k=t.last(a),C=t.toDateString,c=me(),S=e.contentClasses,o='<table tabindex="0" role="grid" class="'+S+'" cellspacing="0" data-start="'+C(b)+'">';if(f)o+='<caption class="k-calendar-caption k-month-header">'+this.title(a,r,n,l)+"</caption>";o+='<thead class="k-calendar-thead"><tr role="row" class="k-calendar-tr">';if(p)o+='<th scope="col" class="k-calendar-th k-alt">'+e.messages.weekColumnHeader+"</th>";for(;i<7;i++)o+='<th scope="col" class="k-calendar-th" title="'+y[i]+'">'+w[i]+"</th>";D(c,0);c=+c;return ve({cells:42,perRow:7,html:o+='</tr></thead><tbody class="k-calendar-tbody"><tr role="row" class="k-calendar-tr">',start:b,isWeekColumnVisible:p,weekNumber:e.weekNumber,min:M(r.getFullYear(),r.getMonth(),r.getDate()),max:M(n.getFullYear(),n.getMonth(),n.getDate()),otherMonth:d,content:e.content,lastDayOfMonth:k,empty:e.empty,setter:t.setDate,disableDates:e.disableDates,build:function(e,t,i){var r=["k-calendar-td"],n=e.getDay(),a="",o="#";if(e<x||e>k)r.push(j);if(i(e))r.push(H);if(+e===c)r.push("k-today");if(n===0||n===6)r.push("k-weekend");if(v&&De(+e,s)){o=u.replace("{0}",T.toString(e,h,l));a=" k-action-link"}return{date:e,dates:s,ns:T.ns,title:T.toString(e,"D",l),value:e.getDate(),dateString:C(e),cssClass:r.join(" "),linkClass:a,url:o}},weekNumberBuild:function(e){return{weekNumber:E(e,T.culture().calendar.firstDay),currentDate:e}}})},first:function(e){return A.firstDayOfMonth(e)},last:function(e){var t=M(e.getFullYear(),e.getMonth()+1,0),i=A.firstDayOfMonth(e),r=Math.abs(t.getTimezoneOffset()-i.getTimezoneOffset());if(r)t.setHours(i.getHours()+r/60);return t},compare:function(e,t){var i,r=e.getMonth(),n=e.getFullYear(),a=t.getMonth(),o=t.getFullYear();if(n>o)i=1;else if(n<o)i=-1;else i=r==a?0:r>a?1:-1;return i},setDate:function(e,t){var i=e.getHours();if(t instanceof w)e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate());else A.setTime(e,t*ie);D(e,i)},toDateString:function(e){return e.getFullYear()+"/"+e.getMonth()+"/"+e.getDate()},valueType:function(){return"date"}},{name:"year",title:function(e){return e.getFullYear()},content:function(e){var i=Te(e.culture).months.namesAbbr,r=this.toDateString,t=e.min,n=e.max,a="";if(e.showHeader){a+='<table tabindex="0" role="grid" class="k-calendar-table k-content k-meta-view" cellspacing="0">';a+='<caption class="k-calendar-caption k-meta-header">';a+=this.title(e.date);a+="</caption>";a+='<tbody class="k-calendar-tbody">';a+='<tr role="row" class="k-calendar-tr">'}return ve({min:M(t.getFullYear(),t.getMonth(),1),max:M(n.getFullYear(),n.getMonth(),1),start:M(e.date.getFullYear(),0,1),html:a,setter:this.setDate,build:function(e){var t=["k-calendar-td"];return{value:i[e.getMonth()],ns:T.ns,dateString:r(e),cssClass:t.join(" ")}}})},first:function(e){return M(e.getFullYear(),0,e.getDate())},last:function(e){return M(e.getFullYear(),11,e.getDate())},compare:function(e,t){return ge(e,t)},setDate:function(e,t){var i,r=e.getHours();if(t instanceof w){i=t.getMonth();e.setFullYear(t.getFullYear(),i,e.getDate());if(i!==e.getMonth())e.setDate(0)}else{i=e.getMonth()+t;e.setMonth(i);if(i>11)i-=12;if(i>0&&e.getMonth()!=i)e.setDate(0)}D(e,r)},toDateString:function(e){return e.getFullYear()+"/"+e.getMonth()+"/1"},valueType:function(){return"month"}},{name:"decade",title:function(e,t,i){return pe(e,t,i,10)},content:function(e){var t=e.date.getFullYear(),r=this.toDateString,i="";if(e.showHeader){i+='<table tabindex="0" role="grid" class="k-calendar-table k-content k-meta-view" cellspacing="0">';i+='<caption class="k-meta-header">';i+=this.title(e.date,e.min,e.max);i+="</caption>";i+='<tbody class="k-calendar-thead">';i+='<tr role="row" class="k-calendar-tr">'}return ve({start:M(t-t%10-1,0,1),min:M(e.min.getFullYear(),0,1),max:M(e.max.getFullYear(),0,1),otherMonth:e.otherMonth,html:i,setter:this.setDate,build:function(e,t){var i=["k-calendar-td"];if(t===0||t===11)i.push(j);return{value:e.getFullYear(),ns:T.ns,dateString:r(e),cssClass:i.join(" ")}}})},first:function(e){var t=e.getFullYear();return M(t-t%10,e.getMonth(),e.getDate())},last:function(e){var t=e.getFullYear();return M(t-t%10+9,e.getMonth(),e.getDate())},compare:function(e,t){return ge(e,t,10)},setDate:function(e,t){be(e,t,1)},toDateString:function(e){return e.getFullYear()+"/0/1"},valueType:function(){return"year"}},{name:L,title:function(e,t,i){return pe(e,t,i,100)},content:function(e){var t=e.date.getFullYear(),a=e.min.getFullYear(),o=e.max.getFullYear(),s=this.toDateString,i=a,r=o,n="";i=i-i%10;r=r-r%10;if(r-i<10)r=i+9;if(e.showHeader){n+='<table tabindex="0" role="grid" class="k-calendar-table k-content k-meta-view" cellspacing="0">';n+='<caption class="k-calendar-caption k-meta-header">';n+=this.title(e.date,e.min,e.max);n+="</caption>";n+='<tbody class="k-calendar-tbody">';n+='<tr role="row" class="k-calendar-tr">'}return ve({start:M(t-t%100-10,0,1),min:M(i,0,1),max:M(r,0,1),otherMonth:e.otherMonth,html:n,setter:this.setDate,build:function(e,t){var i=["k-calendar-td"];var r=e.getFullYear(),n=r+9;if(t===0||t===11)i.push(j);if(r<a)r=a;if(n>o)n=o;return{ns:T.ns,value:r+" - "+n,dateString:s(e),cssClass:i.join(" ")}}})},first:function(e){var t=e.getFullYear();return M(t-t%100,e.getMonth(),e.getDate())},last:function(e){var t=e.getFullYear();return M(t-t%100+99,e.getMonth(),e.getDate())},compare:function(e,t){return ge(e,t,100)},setDate:function(e,t){be(e,t,10)},toDateString:function(e){var t=e.getFullYear();return t-t%10+"/0/1"},valueType:function(){return"decade"}}]});function pe(e,t,i,r){var n=e.getFullYear(),a=t.getFullYear(),o=i.getFullYear(),s;n=n-n%r;s=n+(r-1);if(n<a)n=a;if(s>o)s=o;return n+"-"+s}function ve(e){var t=0,i,r=e.min,h=e.max,n=e.start,u=e.setter,f=e.build,a=e.weekNumberBuild,d=e.cells||12,o=e.isWeekColumnVisible,p=e.perRow||4,s=e.otherMonth,v=e.lastDayOfMonth,l=e.weekNumber||P,g=e.content||k,m=e.empty||C,_=e.otherMonthCellTemplate||S,c=e.html||'<table tabindex="0" role="grid" class="k-calendar-table k-content k-meta-view" cellspacing="0"><tbody class="k-calendar-tbody"><tr role="row" class="k-calendar-tr">';if(o)c+=l(a(n));for(;t<d;t++){if(t>0&&t%p===0){c+='</tr><tr role="row" class="k-calendar-tr">';if(o)c+=s||+n<=+v?l(a(n)):l({weekNumber:"&nbsp;"})}n=M(n.getFullYear(),n.getMonth(),n.getDate());D(n,0);i=f(n,t,e.disableDates);c+=i.cssClass.indexOf(j)!==-1&&!s?_(i):ye(n,r,h)?g(i):m(i);u(n,1)}return c+"</tr></tbody></table>"}function ge(e,t,i){var r=e.getFullYear(),n=t.getFullYear(),a=n,o=0;if(i){n=n-n%i;a=n-n%i+i-1}if(r>a)o=1;else if(r<n)o=-1;return o}function me(){var e=new w;return new w(e.getFullYear(),e.getMonth(),e.getDate())}function _e(e,t,i){var r=me();if(e)r=new w(+e);if(t>r)r=new w(+t);else if(i<r)r=new w(+i);return r}function ye(e,t,i){return+e>=+t&&+e<=+i}function we(e,t){return e.slice(t).concat(e.slice(0,t))}function be(e,t,i){t=t instanceof w?t.getFullYear():e.getFullYear()+i*t;e.setFullYear(t)}function xe(e,t){if(+t<+e){var i=+e;A.views[0].setDate(e,t);A.views[0].setDate(t,new Date(i))}var r=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate());var n=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.ceil((+n-+r)/T.date.MS_PER_DAY)}function ke(e,t,i,r){for(var n=0;n<=t;n++){var a=new Date(i.getTime());a=new Date(a.setDate(a.getDate()+n));if(!r(a))e.push(a)}}function Ce(e){var t=y(this).hasClass("k-state-disabled");if(!t)y(this).toggleClass(N,Z.indexOf(e.type)>-1||e.type==K)}function Se(e){e.preventDefault()}function M(e,t,i){var r=new w(e,t,i);r.setFullYear(e,t,i);return r}function Te(e){return u(e).calendars.standard}function Ae(e){var t=b[e.start],i=b[e.depth],r=u(e.culture);e.format=c(e.format||r.calendars.standard.patterns.d);if(isNaN(t)){t=0;e.start=O}if(i===x||i>t)e.depth=O;if(e.dates===null)e.dates=[]}function Me(e,t){e.addClass("k-"+t)}function De(e,t){for(var i=0,r=t.length;i<r;i++)if(e===+t[i])return true;return false}function Ee(e,t){if(e)return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate();return false}function Pe(e,t){if(e)return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth();return false}function Ie(e){if(T.isFunction(e))return e;if(Array.isArray(e))return ze(e);return y.noop}function Be(e){var t=[];for(var i=0;i<e.length;i++)t.push(e[i].setHours(0,0,0,0));return t}function ze(e){var t,i,r=[],n=["su","mo","tu","we","th","fr","sa"],a="if (found) {"+" return true "+"} else {"+"return false"+"}";if(e[0]instanceof w){r=Be(e);t="var clonedDate = new Date(date); var found = date && window.kendo.jQuery.inArray(clonedDate.setHours(0, 0, 0, 0),["+r+"]) > -1;"+a}else{for(var o=0;o<e.length;o++){var s=e[o].slice(0,2).toLowerCase();var l=y.inArray(s,n);if(l>-1)r.push(l)}t="var clonedDate = new Date(date); var found = date && window.kendo.jQuery.inArray(clonedDate.getDay(),["+r+"]) > -1;"+a}i=new Function("date",t);return i}function Oe(e,t){if(e instanceof Date&&t instanceof Date){e=e.getTime();t=t.getTime()}return e===t}function m(e){var t=y(e).attr(T.attr(V)).split("/");t=M(t[0],t[1],t[2]);return t}return A.isEqualDatePart=Ee,A.isEqualDate=Oe,A.restrictValue=_e,A.isInRange=ye,A.addClassToViewContainer=Me,A.normalize=Ae,A.viewsEnum=b,A.disabled=Ie,A.toDateObject=m,A.getToday=me,A.createDate=M,T.calendar=A,window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.dateinput.min",["./kendo.core.min"],function(){var e={id:"dateinput",name:"DateInput",category:"web",description:"The DateInput widget allows to edit date by typing.",depends:["core"]},o=window.kendo.jQuery,A=void 0,i,M=window.kendo,c=M.caret,r=M.ui,s=r.Widget,d=M.keys,l=".kendoDateInput",t=o.proxy,n={}.toString,a=(M.support.propertyChangeEvent?"propertychange.kendoDateInput input":"input")+l,h="k-focus",p="k-disabled",v="k-invalid",g="disabled",m="readonly",u="change",f="dMyHhmftsz",_=s.extend({init:function(t,e){var i=this;s.fn.init.call(i,t,e);t=i.element;e=i.options;e.format=M._extractFormat(e.format||M.getCulture(e.culture).calendars.standard.patterns.d);e.min=M.parseDate(t.attr("min"))||M.parseDate(e.min);e.max=M.parseDate(t.attr("max"))||M.parseDate(e.max);var r=t.parent().attr("class")||"";var n=r.indexOf("picker")>=0&&r.indexOf("rangepicker")<0;if(n)i.wrapper=t.parent();else{i.wrapper=t.wrap("<span class='k-dateinput k-input'></span>").parent();i.wrapper.addClass(t[0].className).removeClass("input-validation-error");i.wrapper[0].style.cssText=t[0].style.cssText;t.css({height:t[0].style.height})}i._validationIcon=o("<span class='k-input-validation-icon k-icon k-i-warning k-hidden'></span>").insertAfter(t);i._form();i.element.addClass(n?" ":"k-input-inner").attr("autocomplete","off").on("focus"+l,function(){i.wrapper.addClass(h)}).on("focusout"+l,function(){i.wrapper.removeClass(h);i._change()});try{t[0].setAttribute("type","text")}catch(e){t[0].type="text"}var a=t.is("[disabled]")||o(i.element).parents("fieldset").is(":disabled");if(a)i.enable(false);else i.readonly(t.is("[readonly]"));i.value(i.options.value||t.val());i._applyCssClasses();M.notify(i)},options:{name:"DateInput",culture:"",value:"",format:"",min:new Date(1900,0,1),max:new Date(2099,11,31),messages:{year:"year",month:"month",day:"day",weekday:"day of the week",hour:"hours",minute:"minutes",second:"seconds",dayperiod:"AM/PM"},size:"medium",fillMode:"solid",rounded:"medium"},events:[u],min:function(e){if(e!==A)this.options.min=e;else return this.options.min},max:function(e){if(e!==A)this.options.max=e;else return this.options.max},setOptions:function(e){var t=this;s.fn.setOptions.call(t,e);this._unbindInput();this._bindInput();this._updateElementValue()},destroy:function(){var e=this;e.element.off(l);if(e._formElement)e._formElement.off("reset",e._resetHandler);s.fn.destroy.call(e)},value:function(e){if(e===A)return this._dateTime.getDateObject();if(e===null)e="";if(n.call(e)!=="[object Date]")e=M.parseDate(e,this.options.format,this.options.culture);if(e&&!e.getTime())e=null;this._dateTime=new y(e,this.options.format,this.options.culture,this.options.messages);this._updateElementValue();this._oldValue=e},_updateElementValue:function(){var e=this._dateTime.toPair(this.options.format,this.options.culture,this.options.messages);this.element.val(e[0]);this._oldText=e[0];this._format=e[1]},readonly:function(e){this._editable({readonly:e===A?true:e,disable:false})},enable:function(e){this._editable({readonly:false,disable:!(e=e===A?true:e)})},_bindInput:function(){var e=this;e.element.on("focus"+l,function(){e.wrapper.addClass(h)}).on("focusout"+l,function(){e.wrapper.removeClass(h);e._change()}).on("paste"+l,t(e._paste,e)).on("keydown"+l,t(e._keydown,e)).on(a,t(e._input,e)).on("mouseup"+l,t(e._mouseUp,e)).on("DOMMouseScroll"+l+" mousewheel"+l,t(e._scroll,e))},_unbindInput:function(){this.element.off("keydown"+l).off("paste"+l).off("focus"+l).off("focusout"+l).off(a).off("mouseup"+l).off("DOMMouseScroll"+l+" mousewheel"+l)},_editable:function(e){var t=this;var i=t.element;var r=e.disable;var n=e.readonly;var a=t.wrapper;t._unbindInput();if(!n&&!r){a.removeClass(p);if(i&&i.length){i[0].removeAttribute(g);i[0].removeAttribute(m)}t._bindInput()}else{if(r){a.addClass(p);i.attr(g,r);if(i&&i.length)i[0].removeAttribute(m)}if(n)i.attr(m,n)}},_change:function(){var e=this;var t=e._oldValue;var i=e.value();if(i&&e.min()&&i<e.min()){e.value(e.min());i=e.value()}if(i&&e.max()&&i>e.max()){e.value(e.max());i=e.value()}if(t&&i&&i.getTime()!==t.getTime()||t&&!i||!t&&i){e._oldValue=i;e.trigger(u);e.element.trigger(u)}},_input:function(){var e=this;var t=e.element[0];var i=false;if(M._activeElement()!==t)return;var r=w(this._oldText,this._format,this.element[0].value,c(this.element[0])[0]);var n=r.length===1&&r[0][1]===" ";if(!n)for(var a=0;a<r.length;a++){var o=this._dateTime.parsePart(r[a][0],r[a][1]);i=i||!o}this._updateElementValue();if(r.length&&r[0][0]!==" "){this._selectSegment(r[0][0]);if(!n){var s=r[0][0];setTimeout(function(){e._selectSegment(s)})}}if(n){var l={keyCode:39,preventDefault:function(){}};this._keydown(l)}if(i)e._blinkInvalidState()},_blinkInvalidState:function(){var e=this;e._addInvalidState();clearTimeout(e._invalidStateTimeout);e._invalidStateTimeout=setTimeout(t(e._removeInvalidState,e),100)},_addInvalidState:function(){var e=this;e.wrapper.addClass(v);e._validationIcon.removeClass("k-hidden")},_removeInvalidState:function(){var e=this;e.wrapper.removeClass(v);e._validationIcon.addClass("k-hidden");e._invalidStateTimeout=null},_mouseUp:function(){var e=c(this.element[0]);if(e[0]===e[1])this._selectNearestSegment()},_scroll:function(e){if(M._activeElement()!==this.element[0]||this.element.is("[readonly]"))return;e=window.event||e;var t={keyCode:37,preventDefault:function(){}};if(e.shiftKey)t.keyCode=(e.wheelDelta||-e.detail)>0?37:39;else t.keyCode=(e.wheelDelta||-e.detail)>0?38:40;this._keydown(t);e.returnValue=false;if(e.preventDefault)e.preventDefault();if(e.stopPropagation)e.stopPropagation()},_form:function(){var e=this;var t=e.element;var i=t.attr("form");var r=i?o("#"+i):t.closest("form");var n=t[0].value;if(!n&&e.options.value)n=e.options.value;if(r[0]){e._resetHandler=function(){setTimeout(function(){e.value(n)})};e._formElement=r.on("reset",e._resetHandler)}},_paste:function(e){e.preventDefault()},_keydown:function(e){var t=e.keyCode;var i;if(t==37||t==39){e.preventDefault();i=c(this.element[0]);if(i[0]!=i[1])this._selectNearestSegment();var r=t==37?-1:1;var n=r==-1?c(this.element[0])[0]-1:c(this.element[0])[1]+1;while(n>=0&&n<this._format.length){if(f.indexOf(this._format[n])>=0){this._selectSegment(this._format[n]);break}n+=r}}if(t==38||t==40){e.preventDefault();i=c(this.element[0]);var a=this._format[i[0]];if(f.indexOf(a)>=0){var o=1;if(a=="m")o=this.options.interval||1;this._dateTime.modifyPart(a,t==38?o*1:o*-1);this._updateElementValue();this._selectSegment(a);this.element.trigger(u)}}if(M.support.browser.msie&&M.support.browser.version<10){var s=e.keyCode?e.keyCode:e.which;if(s===8||s===46){var l=this;setTimeout(function(){l._input()},0)}}if(t===d.ENTER)this._change()},_selectNearestSegment:function(){var e=c(this.element[0]);var t=e[0];for(var i=t,r=t-1;i<this._format.length||r>=0;i++,r--){if(i<this._format.length&&f.indexOf(this._format[i])!==-1){this._selectSegment(this._format[i]);return}if(r>=0&&f.indexOf(this._format[r])!==-1){this._selectSegment(this._format[r]);return}}},_selectSegment:function(e){var t=-1,i=0;for(var r=0;r<this._format.length;r++)if(this._format[r]===e){i=r+1;if(t===-1)t=r}if(t<0)t=0;c(this.element,t,i)}}),y=(M.cssProperties.registerPrefix("DateInput","k-input-"),M.cssProperties.registerValues("DateInput",[{prop:"rounded",values:M.cssProperties.roundedValues.concat([["full","full"]])}]),r.plugin(_),function(e,t,i,r){var f=null;var d=true,p=true,v=true,g=true,w=true,b=true,l=true;var m="";var _="";var o={};var n=["","0","00","000","0000"];function s(e,t,i){e=e+"";t=t||2;i=t-e.length;if(i)return n[t].substring(0,i)+e;return e}var a=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g;var c=null,y=null,h=null,u=false;var x=function(e){var t,i;var r;switch(e){case"d":r=v?f.getDate():o.day;break;case"dd":r=v?s(f.getDate()):o.day;break;case"ddd":r=v&&p&&d?h.namesAbbr[f.getDay()]:o.weekday;break;case"dddd":r=v&&p&&d?h.names[f.getDay()]:o.weekday;break;case"M":r=p?f.getMonth()+1:o.month;break;case"MM":r=p?s(f.getMonth()+1):o.month;break;case"MMM":r=p?c.namesAbbr[f.getMonth()]:o.month;break;case"MMMM":r=p?c.names[f.getMonth()]:o.month;break;case"yy":r=d?s(f.getFullYear()%100):o.year;break;case"yyyy":r=d?s(f.getFullYear(),4):o.year;break;case"h":r=g?f.getHours()%12||12:o.hour;break;case"hh":r=g?s(f.getHours()%12||12):o.hour;break;case"H":r=g?f.getHours():o.hour;break;case"HH":r=g?s(f.getHours()):o.hour;break;case"m":r=w?f.getMinutes():o.minute;break;case"mm":r=w?s(f.getMinutes()):o.minute;break;case"s":r=b?f.getSeconds():o.second;break;case"ss":r=b?s(f.getSeconds()):o.second;break;case"f":r=l?Math.floor(f.getMilliseconds()/100):l;break;case"ff":r=f.getMilliseconds();if(r>99)r=Math.floor(r/10);r=l?s(r):e;break;case"fff":r=l?s(f.getMilliseconds(),3):e;break;case"tt":r=g?f.getHours()<12?y.AM[0]:y.PM[0]:o.dayperiod;break;case"zzz":t=f.getTimezoneOffset();i=t<0;r=Math.abs(t/60).toString().split(".")[0];t=Math.abs(t)-r*60;r=(i?"+":"-")+s(r);r+=":"+s(t);break;case"z":case"zz":r=f.getTimezoneOffset()/60;i=r<0;r=Math.abs(r).toString().split(".")[0];r=(i?"+":"-")+(e==="zz"?s(r):r);break}r=r!==A?r:e.slice(1,e.length-1);if(u){r=""+r;var n="";if(e=="ddd")e="EEE";if(e=="dddd")e="EEEE";for(var a=0;a<r.length;a++)n+=e[0];return n}else return r};function k(e){u=e;return x}function C(e,t){switch(e){case"y":d=t;break;case"M":p=t;if(!t){f.setMonth(0);m=""}break;case"d":v=t;break;case"H":case"h":g=t;if(!t)_="";break;case"m":w=t;break;case"s":b=t;break;default:return}}this.setValue=function(e){v=e};this.getValue=function(){return v};this.modifyPart=function(e,t){var i=new Date(f&&f.getTime?f.getTime():f);switch(e){case"y":i.setFullYear(i.getFullYear()+t);break;case"M":var r=i.getMonth()+t;i.setMonth(r);if(i.getMonth()%12!==(r+12)%12){i.setDate(1);i.setMonth(r)}break;case"d":case"E":i.setDate(i.getDate()+t);break;case"H":case"h":i.setHours(i.getHours()+t);break;case"m":i.setMinutes(i.getMinutes()+t);break;case"s":i.setSeconds(i.getSeconds()+t);break;case"t":i.setHours((i.getHours()+12)%24);break;default:break}if(i.getFullYear()>0){C(e,true);f=i}};this.parsePart=function(e,t){if(!t){C(e,false);return true}var i=new Date(f&&f.getTime?f.getTime():f);var h=new Date(i.getFullYear(),i.getMonth()+1,0).getDate();var r;switch(e){case"d":var n=(v?i.getDate()*10:0)+parseInt(t,10);if(isNaN(n))return;while(n>h)n=parseInt(n.toString().slice(1),10);if(n<1)v=false;else{i.setDate(n);if(i.getMonth()!==f.getMonth())return;v=true}break;case"M":var a=(p?(i.getMonth()+1)*10:0)+parseInt(t,10);if(!isNaN(a)){while(a>12)a=parseInt(a.toString().slice(1),10);if(a<1)p=false;else{i.setMonth(a-1);if(i.getMonth()!==a-1){i.setDate(1);i.setMonth(a-1)}p=true}}else{var u=y.months.names;m+=t.toLowerCase();while(m.length>0){for(var o=0;o<u.length;o++)if(u[o].toLowerCase().indexOf(m)===0){i.setMonth(o);p=true;f=i;return true}m=m.substring(1,m.length)}return false}break;case"y":var s=(d?i.getFullYear()*10:0)+parseInt(t,10);if(isNaN(s))return;while(s>9999)s=parseInt(s.toString().slice(1),10);if(s<1)d=false;else{i.setFullYear(s);d=true}break;case"h":r=(g?(i.getHours()%12||12)*10:0)+parseInt(t,10);if(isNaN(r))return;while(r>12)r=parseInt(r.toString().slice(1),10);i.setHours(Math.floor(i.getHours()/12)*12+r%12);g=true;break;case"H":r=(g?i.getHours()*10:0)+parseInt(t,10);if(isNaN(r))return;while(r>23)r=parseInt(r.toString().slice(1),10);i.setHours(r);g=true;break;case"m":var l=(w?i.getMinutes()*10:0)+parseInt(t,10);if(isNaN(l))return;while(l>59)l=parseInt(l.toString().slice(1),10);i.setMinutes(l);w=true;break;case"s":var c=(b?i.getSeconds()*10:0)+parseInt(t,10);if(isNaN(c))return;while(c>59)c=parseInt(c.toString().slice(1),10);i.setSeconds(c);b=true;break;case"t":if(g){_+=t.toLowerCase();while(_.length>0){if(y.AM[0].toLowerCase().indexOf(_)===0&&i.getHours()>=12||y.PM[0].toLowerCase().indexOf(_)===0&&i.getHours()<12){i.setHours((i.getHours()+12)%24);f=i;return true}_=_.substring(1,_.length)}return false}break;default:break}f=i;return true};this.toPair=function(e,t,i){if(!e)return["",""];t=M.getCulture(t);y=t.calendars.standard;e=y.patterns[e]||e;h=y.days;c=y.months;o=i;return[e.replace(a,k(false)),e.replace(a,k(true))]};this.getDateObject=function(){return d&&p&&v&&g&&w&&b&&l?new Date(f.getTime()):null};if(!e){f=new Date;var S=this.toPair(t,i,r)[1];for(var T=0;T<S.length;T++)C(S[T],false)}else f=new Date(e.getTime())});function w(e,t,i,r){var n=e[r+e.length-i.length];e=e.substring(0,r+e.length-i.length);i=i.substring(0,r);var a=[];var o;if(e===i&&r>0){a.push([t[r-1],i[r-1]]);return a}if(e.indexOf(i)===0&&(i.length===0||t[i.length-1]!==t[i.length])){var s="";for(o=i.length;o<e.length;o++)if(t[o]!==s&&f.indexOf(t[o])>=0){s=t[o];a.push([s,""])}return a}if(i[i.length-1]===" "||i[i.length-1]===n)return[[t[r-1]," "]];if(i.indexOf(e)===0||f.indexOf(t[r-1])===-1){var l=t[0];for(o=Math.max(0,e.length-1);o<t.length;o++)if(f.indexOf(t[o])>=0){l=t[o];break}return[[l,i[r-1]]]}return[[t[r-1],i[r-1]]]}return window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.datepicker.min",["./kendo.calendar.min","./kendo.popup.min","./kendo.dateinput.min","./kendo.html.button.min"],function(){var e={id:"datepicker",name:"DatePicker",category:"web",description:"The DatePicker widget allows the user to select a date from a calendar or by direct input.",depends:["calendar","popup","html.button"]},c=window.kendo.jQuery,n=void 0,h=window.kendo,a=h.ui,d=h.html,o=a.Widget,u=h.parseDate,s=h.keys,i=h.support,t=h.template,p=h._activeElement,v="<div />",g="<span />",l=".kendoDatePicker",m="click"+l,_=i.mouseAndTouchPresent?h.applyEventMap("up",l.slice(1)):m,y="open",w="close",b="change",x="disabled",k="readonly",C="k-focus",S="k-state-selected",T="k-disabled",A="k-hover",M="mouseenter"+l+" mouseleave"+l,D="mousedown"+l,E="id",P="min",I="max",B="month",z="aria-disabled",O="aria-readonly",L="aria-expanded",R="aria-hidden",r=h.calendar,F=r.isInRange,V=r.restrictValue,N=r.isEqualDatePart,H=c.extend,f=c.proxy,U=Date;function j(e){var t=e.parseFormats,i=e.format;r.normalize(e);t=Array.isArray(t)?t:[t];if(!t.length)t.push("yyyy-MM-dd");if(c.inArray(i,t)===-1)t.splice(0,0,e.format);e.parseFormats=t}function G(e){e.preventDefault()}var W=function(e){var t=this,i,r=document.body,n=c(v).attr(R,"true").addClass("k-calendar-container");t.options=e=e||{};i=e.id;if(!e.omitPopup){n.appendTo(r);t.popup=new a.Popup(n,H(e.popup,e,{name:"Popup",isRtl:h.support.isRtl(e.anchor)}))}else n=e.dateDiv;if(i){i+="_dateview";n.attr(E,i);t._dateViewID=i}t.div=n;t.value(e.value)},q=(W.prototype={_calendar:function(){var e=this;var t=e.calendar;var i=e.options;var r;if(!t){r=c(v).attr(E,h.guid()).appendTo(i.omitPopup?i.dateDiv:e.popup.element).on(D,G).on(m,"td:has(.k-link)",f(e._click,e));e.calendar=t=new a.Calendar(r,{componentType:i.componentType,size:i.size,messages:i.messages});e._setOptions(i);r.addClass(h.getValidCssClass("k-calendar-","size",i.size));t.navigate(e._value||e._current,i.start);e.value(e._value)}},_setOptions:function(e){this.calendar.setOptions({focusOnNav:false,change:e.change,culture:e.culture,dates:e.dates,depth:e.depth,footer:e.footer,format:e.format,max:e.max,min:e.min,month:e.month,weekNumber:e.weekNumber,start:e.start,messages:e.messages,disableDates:e.disableDates})},setOptions:function(e){var t=this.options;var i=e.disableDates;if(i)e.disableDates=r.disabled(i);this.options=H(t,e,{change:t.change,close:t.close,open:t.open});if(this.calendar)this._setOptions(this.options)},destroy:function(){if(this.popup)this.popup.destroy()},open:function(){var e=this;var t;e._calendar();t=e.popup._hovered;e.popup._hovered=true;e.popup.open();setTimeout(function(){e.popup._hovered=t},1)},close:function(){if(this.popup)this.popup.close()},min:function(e){this._option(P,e)},max:function(e){this._option(I,e)},toggle:function(){var e=this;e[e.popup.visible()?w:y]()},move:function(e){var t=this,i=e.keyCode,r=t.calendar,n=e.ctrlKey&&i==s.DOWN||i==s.ENTER,a=false;if(e.altKey){if(i==s.DOWN){t.open();e.preventDefault();a=true}else if(i==s.UP){t.close();e.preventDefault();a=true}}else if(t.popup&&t.popup.visible()){if(i==s.ESC||n&&r._cell.hasClass(S)){t.close();e.preventDefault();return true}if(i!=s.SPACEBAR)t._current=r._move(e);a=true}return a},current:function(e){this._current=e;if(this.calendar)this.calendar._focus(e)},value:function(e){var t=this,i=t.calendar,r=t.options,n=r.disableDates;if(n&&n(e))e=null;t._value=e;t._current=new U(+V(e,r.min,r.max));if(i)i.value(e)},_click:function(e){if(e.currentTarget.className.indexOf(S)!==-1){this.calendar.trigger("change");this.close()}},_option:function(e,t){var i=this;var r=i.calendar;i.options[e]=t;if(r)r[e](t)}},W.normalize=j,h.DateView=W,o.extend({init:function(r,e){var n=this,t,i,a;o.fn.init.call(n,r,e);r=n.element;e=n.options;e.disableDates=h.calendar.disabled(e.disableDates);e.min=u(r.attr("min"))||u(e.min);e.max=u(r.attr("max"))||u(e.max);j(e);n._initialOptions=H({},e);n._wrapper();n.dateView=new W(H({},e,{id:r.attr(E),anchor:n.wrapper,change:function(){n._change(this.value());n.close()},close:function(e){if(n.trigger(w))e.preventDefault();else{r.attr(L,false);a.attr(R,true)}},open:function(e){var t=n.options,i;if(n.trigger(y))e.preventDefault();else{if(n.element.val()!==n._oldText){i=u(r.val(),t.parseFormats,t.culture);n.dateView[i?"current":"value"](i)}r.attr(L,true);a.attr(R,false);n._updateARIA(i)}}}));a=n.dateView.div;n._icon();try{r[0].setAttribute("type","text")}catch(e){r[0].type="text"}r.addClass("k-input-inner").attr({role:"combobox","aria-expanded":false,"aria-haspopup":"grid","aria-owns":n.dateView._dateViewID,autocomplete:"off"});n._reset();n._template();i=r.is("[disabled]")||c(n.element).parents("fieldset").is(":disabled");if(i)n.enable(false);else n.readonly(r.is("[readonly]"));t=u(e.value||n.element.val(),e.parseFormats,e.culture);n._createDateInput(e);n._old=n._update(t||n.element.val());n._oldText=r.val();n._applyCssClasses();h.notify(n)},events:[y,w,b],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:B,depth:B,animation:{},month:{},dates:[],disableDates:null,ARIATemplate:"Current focused #=data.valueType# is #=data.text#",dateInput:false,weekNumber:false,messages:{weekColumnHeader:""},componentType:"classic",size:"medium",fillMode:"solid",rounded:"medium"},setOptions:function(e){var t=this;var i=t._value;o.fn.setOptions.call(t,e);e=t.options;e.min=u(e.min);e.max=u(e.max);j(e);t._dateIcon.off(l);t._dateIcon.remove();t.dateView.setOptions(e);t._icon();t._editable(e);t._createDateInput(e);if(!t._dateInput)t.element.val(h.toString(i,e.format,e.culture));if(i)t._updateARIA(i)},_editable:function(e){var t=this,i=t._dateIcon.off(l),r=t.element.off(l),n=t.wrapper.off(l),a=e.readonly,o=e.disable;if(!a&&!o){n.removeClass(T).on(M,t._toggleHover);if(r&&r.length){r[0].removeAttribute(x);r[0].removeAttribute(k)}r.attr(z,false).attr(O,false).on("keydown"+l,f(t._keydown,t)).on("focusout"+l,f(t._blur,t)).on("focus"+l,function(){t.wrapper.addClass(C)});i.on(_,f(t._click,t)).on(D,G)}else{n.addClass(o?T:"").removeClass(o?"":T);r.attr(x,o).attr(k,a).attr(z,o).attr(O,a)}},readonly:function(e){this._editable({readonly:e===n?true:e,disable:false});if(this._dateInput)this._dateInput._editable({readonly:e===n?true:e,disable:false})},enable:function(e){this._editable({readonly:false,disable:!(e=e===n?true:e)});if(this._dateInput)this._dateInput._editable({readonly:false,disable:!(e=e===n?true:e)})},destroy:function(){var e=this;o.fn.destroy.call(e);e.dateView.destroy();e.element.off(l);e._dateIcon.off(l);if(e._form)e._form.off("reset",e._resetHandler)},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(e){return this._option(P,e)},max:function(e){return this._option(I,e)},value:function(e){var t=this;if(e===n)return t._value;t._old=t._update(e);if(t._old===null)if(t._dateInput)t._dateInput.value(t._old);else t.element.val("");t._oldText=t.element.val()},_toggleHover:function(e){c(e.currentTarget).toggleClass(A,e.type==="mouseenter")},_blur:function(){var e=this,t=e.element.val();e.close();if(t!==e._oldText){e._change(t);if(!t)e.dateView.current(h.calendar.getToday())}e.wrapper.removeClass(C)},_click:function(e){var t=this;t.dateView.toggle();t._focusElement(e.type)},_focusElement:function(e){var t=this.element;if((!i.touch||i.mouseAndTouchPresent&&!(e||"").match(/touch/i))&&t[0]!==p())t.trigger("focus")},_change:function(e){var t=this,i=t.element.val(),r;e=t._update(e);r=!h.calendar.isEqualDate(t._old,e);var n=r&&!t._typing;var a=i!==t.element.val();if(n||a)t.element.trigger(b);if(r){t._old=e;t._oldText=t.element.val();t.trigger(b)}t._typing=false},_keydown:function(e){var t=this,i=t.dateView,r=t.element.val(),n=false;if(!i.popup.visible()&&e.keyCode==s.ENTER&&r!==t._oldText)t._change(r);else{n=i.move(e);t._updateARIA(i._current);if(!n)t._typing=true;else if(t._dateInput&&e.stopImmediatePropagation)e.stopImmediatePropagation()}},_icon:function(){var e=this,t=e.element,i=e.options,r;r=t.next("button.k-input-button");if(!r[0])r=c(d.renderButton('<button aria-label="select" tabindex="-1" class="k-input-button k-button k-icon-button"></button>',{icon:"calendar",size:i.size,fillMode:i.fillMode,shape:null,rounded:null})).insertAfter(t);e._dateIcon=r.attr({role:"button","aria-controls":e.dateView._dateViewID})},_option:function(e,t){var i=this,r=i.options;if(t===n)return r[e];t=u(t,r.parseFormats,r.culture);if(!t)return;r[e]=new U(+t);i.dateView[e](t)},_update:function(e){var t=this,i=t.options,r=i.min,n=i.max,a=t._value,o=u(e,i.parseFormats,i.culture),s=o===null&&a===null||o instanceof Date&&a instanceof Date,l;if(i.disableDates(o)){o=null;if(!t._old&&!t.element.val())e=null}if(+o===+a&&s){l=h.toString(o,i.format,i.culture);if(l!==e&&!(t._dateInput&&!o))t.element.val(o===null?e:l);return o}if(o!==null&&N(o,r))o=V(o,r,n);else if(!F(o,r,n))o=null;t._value=o;t.dateView.value(o);if(t._dateInput&&o)t._dateInput.value(o||e);else t.element.val(h.toString(o||e,i.format,i.culture));t._updateARIA(o);return o},_wrapper:function(){var e=this,t=e.element,i;i=t.parents(".k-datepicker");if(!i[0])i=t.wrap(g).parent();i[0].style.cssText=t[0].style.cssText;t.css({height:t[0].style.height});e.wrapper=i.addClass("k-datepicker k-input").addClass(t[0].className).removeClass("input-validation-error")},_reset:function(){var e=this,t=e.element,i=t.attr("form"),r=e.options,n=r.disableDates,a=r.parseFormats.length?r.parseFormats:null,o=e._initialOptions.value,s=i?c("#"+i):t.closest("form"),l=t[0].defaultValue;if(o&&(n&&n(o)))o=null;if((!l||!h.parseDate(l,a,r.culture))&&o)t.attr("value",h.toString(o,r.format,r.culture));if(s[0]){e._resetHandler=function(){e.value(o||t[0].defaultValue);e.max(e._initialOptions.max);e.min(e._initialOptions.min)};e._form=s.on("reset",e._resetHandler)}},_template:function(){this._ariaTemplate=f(t(this.options.ARIATemplate),this)},_createDateInput:function(e){if(this._dateInput){this._dateInput.destroy();this._dateInput=null}if(e.dateInput)this._dateInput=new a.DateInput(this.element,{culture:e.culture,format:e.format,size:e.size,fillMode:e.fillMode,rounded:e.rounded,min:e.min,max:e.max})},_updateARIA:function(e){var t=this;var i=t.dateView.calendar;if(t.element&&t.element.length)t.element[0].removeAttribute("aria-activedescendant");if(i)t.element.attr("aria-activedescendant",i._updateAria(t._ariaTemplate,e))}}));return h.cssProperties.registerPrefix("DatePicker","k-input-"),h.cssProperties.registerValues("DatePicker",[{prop:"rounded",values:h.cssProperties.roundedValues.concat([["full","full"]])}]),a.plugin(q),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.floatinglabel.min",["./kendo.core.min"],function(){var e={id:"floatinglabel",name:"FloatingLabel",category:"framework",depends:["core"],hidden:true},r=window.kendo.jQuery,n=void 0,a=window.kendo,o=a.ui.Widget,t=a.ui,s=".kendoFloatingLabel",f="k-floating-label-container",i="k-state-empty",l="k-focus",c="k-disabled",h="k-no-click",u="k-readonly",d=r.proxy,p=o.extend({init:function(e,t){var i=this;o.fn.init.call(i,e,t);t=r.extend(true,{},t);i.refresh();i._editable({readonly:i.options.widget.options.readonly!==n?i.options.widget.options.readonly:false,disable:i.options.widget.options.enable!==n?!i.options.widget.options.enable:false});i.element.addClass(f);a.notify(i)},options:{name:"FloatingLabel",widget:null,useReadOnlyClass:false},readonly:function(e){this._editable({readonly:e===n?true:e,disable:false})},enable:function(e){this._editable({readonly:false,disable:!(e=e===n?true:e)})},refresh:function(){var e=this;var t=e.element;t.removeClass(i).removeClass(l);if(!e.options.widget.element.val())t.addClass(i);if(document.activeElement===e.options.widget.element[0])t.addClass(l)},destroy:function(){var e=this;e.element.off(s);o.fn.destroy.call(e)},_editable:function(e){var t=this;var i=t.element;var r=e.disable;var n=e.readonly;i.off(s);if(!n&&!r){i.removeClass(c).removeClass(t.options.useReadOnlyClass?u:h);i.on("focusin"+s,d(t.refresh,t));i.on("focusout"+s,d(t.refresh,t))}else i.toggleClass(c,r).toggleClass(t.options.useReadOnlyClass?u:h,n)}});return t.plugin(p),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.numerictextbox.min",["./kendo.core.min","./kendo.userevents.min","./kendo.floatinglabel.min","./kendo.html.button.min"],function(){var e={id:"numerictextbox",name:"NumericTextBox",category:"web",description:"The NumericTextBox widget can format and display numeric, percentage or currency textbox.",depends:["core","userevents","floatinglabel","html.button"]},h=window.kendo.jQuery,u=void 0,f=window.kendo,d=f.caret,r=f.keys,n=f.html,t=f.ui,p=t.Widget,o=f._activeElement,y=f._extractFormat,i=f.parseFloat,a=f.support.placeholder,s=f.getCulture,l="change",c="disabled",w="readonly",b="k-input-inner",x="spin",v=".kendoNumericTextBox",k="touchend",C,S="mouseenter"+v+" "+("mouseleave"+v),T="k-focus",A="k-hover",M="focus",g=".",D="symbol",E="k-icon",P="k-label k-input-label",I="k-selected",B="k-disabled",z="k-invalid",O="aria-disabled",L=/^(-)?(\d*)$/,m=null,_=h.proxy,R=h.isPlainObject,F=h.extend,V=p.extend({init:function(e,t){var i=this,r=t&&t.step!==u,n,a,o,s,l;var c;p.fn.init.call(i,e,t);t=i.options;e=i.element.on("focusout"+v,_(i._focusout,i)).attr("role","spinbutton");t.placeholder=t.placeholder||e.attr("placeholder");n=i.min(e.attr("min"));a=i.max(e.attr("max"));o=i._parse(e.attr("step"));if(t.min===m&&n!==m)t.min=n;if(t.max===m&&a!==m)t.max=a;if(!r&&o!==m)t.step=o;i._initialOptions=F({},t);c=e.attr("type");i._reset();i._wrapper();i._arrows();i._validation();i._input();if(!f.support.mobileOS)i._text.on(M+v,_(i._click,i));else i._text.on(k+v+" "+M+v,function(){if(f.support.browser.edge)i._text.one(M+v,function(){i._focusin()});else i._focusin();i.selectValue()});e.attr("aria-valuemin",t.min!==m?t.min*t.factor:t.min).attr("aria-valuemax",t.max!==m?t.max*t.factor:t.max);t.format=y(t.format);s=t.value;if(s==m)if(c=="number")s=parseFloat(e.val());else s=e.val();i.value(s);l=!t.enable||e.is("[disabled]")||h(i.element).parents("fieldset").is(":disabled");if(l)i.enable(false);else i.readonly(e.is("[readonly]"));i.angular("compile",function(){return{elements:i._text.get()}});i._label();i._ariaLabel();i._applyCssClasses();f.notify(i)},options:{name:"NumericTextBox",decimals:m,enable:true,restrictDecimals:false,min:m,max:m,value:m,step:1,round:true,culture:"",format:"n",spinners:true,placeholder:"",selectOnFocus:false,factor:1,upArrowText:"Increase value",downArrowText:"Decrease value",label:null,size:"medium",fillMode:"solid",rounded:"medium"},events:[l,x],_editable:function(e){var t=this,i=t.element,r=e.disable,n=e.readonly,a=t._text.add(i),o=t.wrapper.off(S);t._toggleText(true);t._upArrowEventHandler.unbind("press");t._downArrowEventHandler.unbind("press");i.off("keydown"+v).off("keyup"+v).off("input"+v).off("paste"+v);if(t._inputLabel)t._inputLabel.off(v);if(!n&&!r){o.removeClass(B).on(S,t._toggleHover);a.prop(c,false).prop(w,false).attr(O,false);t._upArrowEventHandler.bind("press",function(e){e.preventDefault();t._spin(1);t._upArrow.addClass(I)});t._downArrowEventHandler.bind("press",function(e){e.preventDefault();t._spin(-1);t._downArrow.addClass(I)});t.element.on("keydown"+v,_(t._keydown,t)).on("keyup"+v,_(t._keyup,t)).on("paste"+v,_(t._paste,t)).on("input"+v,_(t._inputHandler,t));if(t._inputLabel)t._inputLabel.on("click"+v,_(t.focus,t))}else{o.addClass(r?B:"").removeClass(r?"":B);a.attr(c,r).attr(w,n).attr(O,r)}},readonly:function(e){var t=this;this._editable({readonly:e===u?true:e,disable:false});if(t.floatingLabel)t.floatingLabel.readonly(e===u?true:e)},enable:function(e){var t=this;this._editable({readonly:false,disable:!(e=e===u?true:e)});if(t.floatingLabel)t.floatingLabel.enable(e=e===u?true:e)},setOptions:function(e){var t=this;p.fn.setOptions.call(t,e);t._arrowsWrap.toggle(t.options.spinners);t.wrapper.toggleClass("k-expand-padding",!t.options.spinners);t._text.prop("placeholder",t.options.placeholder);t._placeholder(t.options.placeholder);t.element.attr({"aria-valuemin":t.options.min!==m?t.options.min*t.options.factor:t.options.min,"aria-valuemax":t.options.max!==m?t.options.max*t.options.factor:t.options.max});t.options.format=y(t.options.format);t._applyCssClasses();if(e.value!==u)t.value(e.value)},destroy:function(){var e=this;if(e._inputLabel){e._inputLabel.off(v);if(e.floatingLabel)e.floatingLabel.destroy()}e.element.add(e._text).add(e._upArrow).add(e._downArrow).off(v);e._upArrowEventHandler.destroy();e._downArrowEventHandler.destroy();if(e._form)e._form.off("reset",e._resetHandler);p.fn.destroy.call(e)},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},step:function(e){return this._option("step",e)},value:function(e){var t=this,i;if(e===u)return t._value;e=t._parse(e);i=t._adjust(e);if(e!==i)return;t._update(e);t._old=t._value},focus:function(){this._focusin()},_adjust:function(e){var t=this,i=t.options,r=i.min,n=i.max;if(e===m)return e;if(r!==m&&e<r)e=r;else if(n!==m&&e>n)e=n;return e},_arrows:function(){var e=this,t,i=function(){clearTimeout(e._spinning);t.removeClass(I)},r=e.options,n=r.spinners,a=e.element;t=a.siblings("."+E);if(!t[0]){t=h(N("increase",r.upArrowText)+N("decrease",r.downArrowText)).insertAfter(a);e._arrowsWrap=t.wrapAll('<span class="k-input-spinner k-spin-button"/>').parent()}if(!n){t.parent().toggle(n);e.wrapper.addClass("k-expand-padding")}e._upArrow=t.eq(0);e._upArrowEventHandler=new f.UserEvents(e._upArrow,{release:i});e._downArrow=t.eq(1);e._downArrowEventHandler=new f.UserEvents(e._downArrow,{release:i})},_validation:function(){var e=this;var t=e.element;e._validationIcon=h("<span class='k-input-validation-icon "+E+" k-i-warning k-hidden'></span>").insertAfter(t)},_blur:function(){var e=this;e._toggleText(true);e._change(e.element.val())},_click:function(c){var h=this;clearTimeout(h._focusing);h._focusing=setTimeout(function(){var e=c.target,t=d(e)[0],i=e.value.substring(0,t),r=h._format(h.options.format),n=r[","],a,o,s,l=0;if(n){o=new RegExp("\\"+n,"g");s=new RegExp("(-)?("+r[D]+")?([\\d\\"+n+"]+)(\\"+r[g]+")?(\\d+)?")}if(s)a=s.exec(i);if(a){l=a[0].replace(o,"").length;if(i.indexOf("(")!=-1&&h._value<0)l++}h._focusin();d(h.element[0],l);h.selectValue()})},selectValue:function(){if(this.options.selectOnFocus)this.element[0].select()},_getFactorValue:function(e){var t=this,i=t.options.factor;if(i&&i!==1){e=f.parseFloat(e);if(e!==null)e=e/i}return e},_change:function(e){var t=this;e=t._getFactorValue(e);t._update(e);e=t._value;if(t._old!=e){t._old=e;if(!t._typing)t.element.trigger(l);t.trigger(l)}t._typing=false},_culture:function(e){return e||s(this.options.culture)},_focusin:function(){var e=this;e.wrapper.addClass(T);e._toggleText(false);e.element[0].focus()},_focusout:function(){var e=this;clearTimeout(e._focusing);e.wrapper.removeClass(T).removeClass(A);e._blur();e._removeInvalidState()},_format:function(e,t){var i=this._culture(t).numberFormat;e=e.toLowerCase();if(e.indexOf("c")>-1)i=i.currency;else if(e.indexOf("p")>-1)i=i.percent;return i},_input:function(){var e=this,t=e.options,i=e.element.addClass(b).show()[0],r=i.accessKey,n=e.wrapper,a=n.find(g+b),o;o=a.first();if(o.length<2)o=h('<input type="text"/>').insertBefore(i);try{i.setAttribute("type","text")}catch(e){i.type="text"}o[0].title=i.title;o[0].tabIndex=i.tabIndex;o[0].style.cssText=i.style.cssText;o.prop("placeholder",t.placeholder);if(r){o.attr("accesskey",r);i.accessKey=""}e._text=o.addClass(i.className).attr({role:"spinbutton","aria-valuemin":t.min!==m?t.min*t.factor:t.min,"aria-valuemax":t.max!==m?t.max*t.factor:t.max,autocomplete:"off"})},_keydown:function(e){var t=this,i=e.keyCode;if(i===r.NUMPAD_DOT)t._numPadDot=true;if(i==r.DOWN){t._step(-1);return}else if(i==r.UP){t._step(1);return}else if(i==r.ENTER){t._change(t.element.val());return}if(i!=r.TAB)t._typing=true;t._cachedCaret=d(t.element)},_keyup:function(){this._removeInvalidState()},_inputHandler:function(){var e=this.element;var t=e.val();var i=this.options.min;var r=this._format(this.options.format);var n=r[g];var a=i!==null&&i>=0&&t.charAt(0)==="-";if(this._numPadDot&&n!==g){t=t.replace(g,n);this.element.val(t);this._numPadDot=false}if(this._isPasted)t=this._parse(t).toString().replace(g,r[g]);if(this._numericRegex(r).test(t)&&!a)this._oldText=t;else{this._blinkInvalidState();this.element.val(this._oldText);if(this._cachedCaret){d(e,this._cachedCaret[0]);this._cachedCaret=null}}this._isPasted=false},_blinkInvalidState:function(){var e=this;e._addInvalidState();clearTimeout(e._invalidStateTimeout);e._invalidStateTimeout=setTimeout(_(e._removeInvalidState,e),100)},_addInvalidState:function(){var e=this;e.wrapper.addClass(z);e._validationIcon.removeClass("k-hidden")},_removeInvalidState:function(){var e=this;e.wrapper.removeClass(z);e._validationIcon.addClass("k-hidden");e._invalidStateTimeout=null},_numericRegex:function(e){var t=this;var i=e[g];var r=t.options.decimals;var n="*";if(i===g)i="\\"+i;if(r===m)r=e.decimals;if(r===0&&t.options.restrictDecimals)return L;if(t.options.restrictDecimals)n="{0,"+r+"}";if(t._separator!==i){t._separator=i;t._floatRegExp=new RegExp("^(-)?(((\\d+("+i+"\\d"+n+")?)|("+i+"\\d"+n+")))?$")}return t._floatRegExp},_paste:function(e){var t=this;var i=e.target;var r=i.value;var n=t._format(t.options.format);t._isPasted=true;setTimeout(function(){var e=t._parse(i.value);if(e===m)t._update(r);else{i.value=e.toString().replace(g,n[g]);if(t._adjust(e)!==e||!t._numericRegex(n).test(i.value)){r=t._getFactorValue(i.value);t._update(r)}}})},_option:function(e,t){var i=this,r=i.element,n=i.options;if(t===u)return n[e];t=i._parse(t);if(!t&&e==="step")return;n[e]=t;r.add(i._text).attr("aria-value"+e,t);r.attr(e,t)},_ariaLabel:function(){var e=this;var t=e._text;var i=e.element;var r=i.attr("id");var n=h("label[for='"+r+"']");var a=i.attr("aria-label");var o=i.attr("aria-labelledby");var s;if(a)t.attr("aria-label",a);else if(o)t.attr("aria-labelledby",o);else if(n.length){s=n.attr("id");if(s)t.attr("aria-labelledby",s);else{s=f.guid();n.attr("id",s);t.attr("aria-labelledby",s)}}},_spin:function(e,t){var i=this;t=t||500;clearTimeout(i._spinning);i._spinning=setTimeout(function(){i._spin(e,50)},t);i._step(e)},_step:function(e){var t=this,i=t.element,r=t._value,n=t._parse(i.val())||0,a=t.options.decimals||2;if(o()!=i[0])t._focusin();if(t.options.factor&&n)n=n/t.options.factor;n=+(n+t.options.step*e).toFixed(a);n=t._adjust(n);t._update(n);t._typing=false;if(r!==n)t.trigger(x)},_toggleHover:function(e){h(e.currentTarget).toggleClass(A,e.type==="mouseenter")},_toggleText:function(e){var t=this;t._text.toggle(e);if(e)t._text.removeAttr("aria-hidden");else t._text.attr("aria-hidden","true");t.element.toggle(!e)},_parse:function(e,t){return i(e,this._culture(t),this.options.format)},_round:function(e,t){var i=this.options.round?f._round:H;return i(e,t)},_update:function(e){var t=this,i=t.options,r=i.factor,n=i.format,a=i.decimals,o=t._culture(),s=t._format(n,o),l,c;if(a===m)a=s.decimals;e=t._parse(e,o);c=e!==m;if(c)e=parseFloat(t._round(e,a),10);t._value=e=t._adjust(e);t._placeholder(f.toString(e,n,o));if(c){if(r)e=parseFloat(t._round(e*r,a),10);e=e.toString();if(e.indexOf("e")!==-1)e=t._round(+e,a);l=e;e=e.replace(g,s[g])}else{e=null;l=null}t.element.val(e);t._oldText=e;t.element.add(t._text).attr("aria-valuenow",l)},_placeholder:function(e){var t=this._text;t.val(e);if(!a&&!e)t.val(this.options.placeholder);t.attr("title",this.element.attr("title")||t.val())},_label:function(){var e=this;var t=e.element;var i=e.options;var r=t.attr("id");var n;var a;if(i.label!==null){n=R(i.label)?i.label.floating:false;a=R(i.label)?i.label.content:i.label;if(n){e._floatingLabelContainer=e.wrapper.wrap("<span></span>").parent();e.floatingLabel=new f.ui.FloatingLabel(e._floatingLabelContainer,{widget:e})}if(f.isFunction(a))a=a.call(e);if(!a)a="";if(!r){r=i.name+"_"+f.guid();t.attr("id",r)}e._inputLabel=h("<label class='"+P+"' for='"+r+"'>"+a+"</label>'").insertBefore(e.wrapper);if(e.element.attr("disabled")===u&&e.element.attr("readonly")===u)e._inputLabel.on("click"+v,_(e.focus,e))}},_wrapper:function(){var e=this,t=e.element,i=t[0],r;r=t.parents(".k-numerictextbox");if(!r.is("span.k-numerictextbox"))r=t.hide().wrap("<span/>").parent();r[0].style.cssText=i.style.cssText;i.style.width="";e.wrapper=r.addClass("k-numerictextbox k-input").addClass(i.className).removeClass("input-validation-error").css("display","")},_reset:function(){var e=this,t=e.element,i=t.attr("form"),r=i?h("#"+i):t.closest("form");if(r[0]){e._resetHandler=function(){setTimeout(function(){e.value(t[0].value);e.max(e._initialOptions.max);e.min(e._initialOptions.min)})};e._form=r.on("reset",e._resetHandler)}}});function N(e,t){var i=e==="increase"?"arrow-n":"arrow-s";var r=e==="increase"?"increase":"decrease";return n.renderButton('<button role="button" tabindex="-1" unselectable="on" class="k-spinner-'+r+'" aria-label="'+t+'" title="'+t+'"></button>',F({},this.options,{icon:i,shape:null,rounded:null}))}function H(e,t){var i=parseFloat(e,10).toString().split(g);if(i[1])i[1]=i[1].substring(0,t);return i.join(g)}return f.cssProperties.registerPrefix("NumericTextBox","k-input-"),f.cssProperties.registerValues("NumericTextBox",[{prop:"rounded",values:f.cssProperties.roundedValues.concat([["full","full"]])}]),t.plugin(V),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.validator.min",["./kendo.core.min"],function(){var e={id:"validator",name:"Validator",category:"web",description:"The Validator offers an easy way to do a client-side form validation.",depends:["core"]},x=window.kendo.jQuery,t=void 0,k=window.kendo,a=k.ui.Widget,o=".kendoValidator",C="k-invalid-msg",l=new RegExp(C,"i"),S="k-invalid",T="k-valid",c="k-validation-summary",D="k-text-error",h="k-messagebox k-messagebox-error",E=".k-input-inner",P=".k-input",A="aria-invalid",r="aria-describedby",i=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/i,n=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,s=":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])",u=":checkbox:not([disabled],[readonly])",f="[type=number],[type=range]",d="blur",M="name",p="form",v="novalidate",g="validate",m="change",I="validateInput",_=x.proxy,y=function(e,t){if(typeof t==="string")t=new RegExp("^(?:"+t+")$");return t.test(e)},w=function(e,t,i){var r=e.val();if(e.filter(t).length&&r!=="")return y(r,i);return true},b=function(e,t){if(e.length)return e[0].attributes[t]!=null;return false};if(!k.ui.validator)k.ui.validator={rules:{},messages:{},allowSubmit:x.noop,validateOnInit:x.noop};function B(e){var t=k.ui.validator.ruleResolvers||{},i={},r;for(r in t)x.extend(true,i,t[r].resolve(e));return i}function z(e){return e.replace(/&amp/g,"&amp;").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")}function O(e){e=(e+"").split(".");if(e.length>1)return e[1].length;return 0}function L(e){if(x.parseHTML)return x(x.parseHTML(e));return x(e)}function R(e,t){var i=x(),r,n;for(var a=0,o=e.length;a<o;a++){r=e[a];if(l.test(r.className)){n=r.getAttribute(k.attr("for"));if(n===t)i=i.add(r)}}return i}function F(e,t){if(!e)return false;if(typeof e.nodeName!=="string"||e.nodeName!=="LABEL")return false;if(typeof e.getAttribute("for")!=="string"||typeof t.getAttribute("id")!=="string")return false;if(e.getAttribute("for")!==t.getAttribute("id"))return false;return true}var V="<ul>"+"#for(var i = 0; i < errors.length; i += 1){#"+'<li><a data-field="#=errors[i].field#" href="\\#">#= errors[i].message #</a></li>'+"# } #"+"</ul>",N=a.extend({init:function(e,t){var i=this,r=B(e),n="["+k.attr("validate")+"!=false]";t=t||{};t.rules=x.extend({},k.ui.validator.rules,r.rules,t.rules);t.messages=x.extend({},k.ui.validator.messages,r.messages,t.messages);a.fn.init.call(i,e,t);i._errorTemplate=k.template(i.options.errorTemplate);i._summaryTemplate=k.template(i.options.validationSummary.template||V);if(i.element.is(p))i.element.attr(v,v);i._inputSelector=s+n;i._checkboxSelector=u+n;i._errors={};i._attachEvents();i._isValidated=false;if(i._validateOnInit())i.validate()},events:[g,m,I],options:{name:"Validator",errorTemplate:'<span class="k-form-error">#= message #</span>',messages:{required:"{0} is required",pattern:"{0} is not valid",min:"{0} should be greater than or equal to {1}",max:"{0} should be smaller than or equal to {1}",step:"{0} is not valid",email:"{0} is not valid email",url:"{0} is not valid URL",date:"{0} is not valid date",dateCompare:"End date should be greater than or equal to the start date",captcha:"The text you entered doesn't match the image."},rules:{required:function(e){var t=!e.attr("name")&&!e.is(":checked"),i=e.attr("name"),r=!!i&&i.indexOf("'")>-1?'"':"'",n=e.attr("name")&&!this.element.find("input[name="+r+e.attr("name")+r+"]:checked").length,a=e.filter("[type=checkbox]").length&&(t||n),o=e.filter("[type=radio]").length&&!this.element.find("input[name="+r+e.attr("name")+r+"]:checked").length,s=e.val();return!(b(e,"required")&&(!s||s===""||s.length===0||a||o))},pattern:function(e){if(e.filter("[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]").filter("[pattern]").length&&e.val()!=="")return y(e.val(),e.attr("pattern"));return true},min:function(e){if(e.filter(f+",["+k.attr("type")+"=number]").filter("[min]").length&&e.val()!==""){var t=parseFloat(e.attr("min"))||0,i=k.parseFloat(e.val());return t<=i}return true},max:function(e){if(e.filter(f+",["+k.attr("type")+"=number]").filter("[max]").length&&e.val()!==""){var t=parseFloat(e.attr("max"))||0,i=k.parseFloat(e.val());return t>=i}return true},step:function(e){if(e.filter(f+",["+k.attr("type")+"=number]").filter("[step]").length&&e.val()!==""){var t=parseFloat(e.attr("min"))||0,i=parseFloat(e.attr("step"))||1,r=parseFloat(e.val()),n=O(i),a;if(n){a=Math.pow(10,n);return Math.floor((r-t)*a)%(i*a)/Math.pow(100,n)===0}return(r-t)%i===0}return true},email:function(e){return w(e,"[type=email],["+k.attr("type")+"=email]",i)},url:function(e){return w(e,"[type=url],["+k.attr("type")+"=url]",n)},date:function(e){if(e.filter("[type^=date],["+k.attr("type")+"=date]").length&&e.val()!=="")return k.parseDate(e.val(),e.attr(k.attr("format")))!==null;return true},captcha:function(e){if(e.filter("["+k.attr("role")+"=captcha]").length){var t=this,i=k.widgetInstance(e),r=function(e){return typeof e!=="undefined"&&e!==null};if(!e.data("captcha_validating")&&!r(i.isValid())&&!!i.getCaptchaId()){e.data("captcha_validating",true);t._validating=true;i.validate().done(function(){t._validating=false;t._checkElement(e)}).fail(function(e){t._validating=false;if(e.error&&e.error==="handler_not_defined")window.console.warn("Captcha's validationHandler is not defined! You should either define a proper validation endpoint or declare a callback function to ensure the required behavior.")})}if(r(i.isValid())){e.removeData("captcha_validating");return i.isValid()}}return true}},validateOnBlur:true,validationSummary:false},_allowSubmit:function(){return k.ui.validator.allowSubmit(this.element,this.errors())},_validateOnInit:function(){return k.ui.validator.validateOnInit(this.element)},destroy:function(){a.fn.destroy.call(this);this.element.off(o);if(this.validationSummary){this.validationSummary.off(o);this.validationSummary=null}},value:function(){if(!this._isValidated)return false;return this.errors().length===0},_submit:function(e){if(!this.validate()&&!this._allowSubmit()||this._validating){e.stopPropagation();e.stopImmediatePropagation();e.preventDefault();return false}return true},_checkElement:function(e){var t=this.value();this.validateInput(e);if(this.value()!==t)this.trigger(m)},_attachEvents:function(){var e=this;if(e.element.is(p))e.element.on("submit"+o,_(e._submit,e));if(e.options.validateOnBlur)if(!e.element.is(s)){e.element.on(d+o,e._inputSelector,function(){e._checkElement(x(this))});e.element.on("click"+o,e._checkboxSelector,function(){e._checkElement(x(this))})}else{e.element.on(d+o,function(){e._checkElement(e.element)});if(e.element.is(u))e.element.on("click"+o,function(){e._checkElement(e.element)})}},validate:function(){var e;var t;var i=false;var r;var n=this.value();this._errors={};if(!this.element.is(s)){var a=false;e=this.element.find(this._inputSelector);for(t=0,r=e.length;t<r;t++)if(!this.validateInput(e.eq(t)))a=true;i=!a}else i=this.validateInput(this.element);if(this.options.validationSummary&&!n)this.showValidationSummary();this.trigger(g,{valid:i,errors:this.errors()});if(n!==i)this.trigger(m);return i},validateInput:function(e){e=x(e);this._isValidated=true;var t=this,h=t._errorTemplate,u=t._checkValidity(e),i=u.valid,f="."+C,r=e.attr(M)||"",n=t._findMessageContainer(r).add(e.next(f).filter(function(){var e=x(this);if(e.filter("["+k.attr("for")+"]").length)return e.attr(k.attr("for"))===r;return true})).addClass("k-hidden"),a=!i?t._extractMessage(e,u.key):"",o=!i?L(h({message:z(a),field:r})):"",d=!e.attr(A),p=e.is(E),s=e.parent(P);e.removeAttr(A);if(!i&&!e.data("captcha_validating")){t._errors[r]=a;var v=n.attr("id");t._decorateMessageContainer(o,r);if(v)o.attr("id",v);if(n.length!==0)n.replaceWith(o);else{var l=k.widgetInstance(e);var c=e.parent().get(0);var g=e.next().get(0);var m=e.prev().get(0);if(!l&&e.is("[type=radio]"))l=k.widgetInstance(e.closest(".k-radio-list"));if(!l&&e.is("[type=checkbox]"))l=k.widgetInstance(e.closest(".k-checkbox-list"));if(l&&l.wrapper)o.insertAfter(l.wrapper);else if(c&&c.nodeName==="LABEL")o.insertAfter(c);else if(g&&F(g,e[0]))o.insertAfter(g);else if(m&&F(m,e[0]))o.insertAfter(e);else if(p&&s.length)o.insertAfter(s);else o.insertAfter(e)}o.removeClass("k-hidden");e.attr(A,true)}else delete t._errors[r];if(d!==i)this.trigger(I,{valid:i,input:e,error:a,field:r});if(p&&s.length){s.toggleClass(S,!i);s.toggleClass(T,i)}e.toggleClass(S,!i);e.toggleClass(T,i);if(k.widgetInstance(e)){var _=k.widgetInstance(e);var y=_._inputWrapper||_.wrapper;var w=_._inputLabel;if(y){y.toggleClass(S,!i);y.toggleClass(T,i)}if(w)w.toggleClass(D,!i)}if(d!==i){var b=o?o.attr("id"):n.attr("id");t._associateMessageContainer(e,b);if(this.options.validationSummary&&this.options.validateOnBlur)this.showValidationSummary()}return i},hideMessages:function(){var e=this,t="."+C,i=e.element;e._disassociateMessageContainers();if(!i.is(s))i.find(t).addClass("k-hidden");else i.next(t).addClass("k-hidden")},reset:function(){var e=this,t=e.element.find("."+S),i=e.element.find("."+D);e._errors=[];e.hideMessages();e.hideValidationSummary();t.removeAttr(A);t.removeClass(S);i.removeClass(D)},_findMessageContainer:function(e){var t=k.ui.validator.messageLocators,i,r=x();for(var n=0,a=this.element.length;n<a;n++)r=r.add(R(this.element[n].getElementsByTagName("*"),e));for(i in t)r=r.add(t[i].locate(this.element,e));return r},_decorateMessageContainer:function(e,t){var i=k.ui.validator.messageLocators,r;e.addClass(C).attr(k.attr("for"),t||"");if(!e.attr("id"))e.attr("id",t+"-error");for(r in i)i[r].decorate(e,t)},_extractMessage:function(e,t){var i=this,r=i.options.messages[t],n=e.attr(M),a;if(!k.ui.Validator.prototype.options.messages[t])a=k.isFunction(r)?r(e):r;r=k.isFunction(r)?r(e):r;return k.format(e.attr(k.attr(t+"-msg"))||e.attr("validationMessage")||a||r||e.attr("title")||"",n,e.attr(t)||e.attr(k.attr(t)))},_checkValidity:function(e){var t=this.options.rules,i;for(i in t)if(!t[i].call(this,e))return{valid:false,key:i};return{valid:true}},errors:function(){var e=[],t=this._errors,i;for(i in t)e.push(t[i]);return e},setOptions:function(e){if(e.validationSummary)this.hideValidationSummary();k.deepExtend(this.options,e);this.destroy();this.init(this.element,this.options);this._setEvents(this.options)},_getInputNames:function(){var e=this,t=e.element.find(e._inputSelector),i=[];for(var r=0,n=t.length;r<n;r++){var a=x(t[r]);if(b(a,M))if(i.indexOf(a.attr(M))===-1||a.closest(".k-checkbox-list").length===0&&a.closest(".k-radio-list").length===0)i.push(a.attr(M))}return i},_associateMessageContainer:function(e,t){var i=k.getWidgetFocusableElement(e);if(!i||!t)return;k.toggleAttribute(i,r,t)},_disassociateMessageContainers:function(){var e=this,t=e.element.find("."+S).addBack(),i,r;for(var n=0;n<t.length;n+=1){i=x(t[n]);if(i.is("input")){r=e._findMessageContainer(i.attr(M)).add(i.next("."+C)).attr("id");e._associateMessageContainer(i,r)}}},_errorsByName:function(){var e=this,t=e._getInputNames(),i=[];for(var r=0;r<t.length;r+=1){var n=t[r];if(e._errors[n])i.push({field:n,message:e._errors[n]})}return i},_renderSummary:function(){var e=this,t=this.options.validationSummary,i=this.element,r=i.prev(),n;if(t.container)n=x(t.container);else if(r&&r.hasClass(c))n=r;else n=x("<div />").insertBefore(e.element);n.addClass([c,h].join(" "));n.attr("role","alert");n.on("click"+o,_(e._summaryClick,e));return n},_summaryClick:function(e){e.preventDefault();var t=this,i=x(e.target),r=t.element.find("[name='"+i.data("field")+"']"),n;if(!r.length)return;n=k.getWidgetFocusableElement(r);if(n)n.trigger("focus")},showValidationSummary:function(){var e=this,t=e.validationSummary,i=e._errorsByName(),r;if(!t)t=e.validationSummary=e._renderSummary();r=L(e._summaryTemplate({errors:i}));t.html(r);t.toggleClass("k-hidden",!i.length)},hideValidationSummary:function(){var e=this,t=e.validationSummary;if(!t)return;t.addClass("k-hidden")}});return k.ui.plugin(N),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.editable.min",["./kendo.checkbox.min","./kendo.dropdownlist.min","./kendo.datepicker.min","./kendo.numerictextbox.min","./kendo.validator.min","./kendo.binder.min"],function(){var t={id:"editable",name:"Editable",category:"framework",depends:["checkbox","dropdownlist","datepicker","numerictextbox","validator","binder"],hidden:true},p=window.kendo.jQuery,d=void 0,v=window.kendo,e=v.ui,r=e.Widget,_=p.extend,g=v.isFunction,m=p.isPlainObject,y=p.inArray,w=".",b="off",x=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g,i,c="change",f="equalSet",k=["url","email","number","date","boolean"];function C(e){e=e!=null?e:"";return e.type||v.type(e)||"string"}function S(e){e.find(":input:not(:button, .k-combobox .k-input, .k-checkbox-list .k-checkbox, .k-radio-list .k-radio, ["+v.attr("role")+"=listbox], ["+v.attr("role")+"=upload], ["+v.attr("skip")+"], [type=file])").each(function(){var e=v.attr("bind"),t=this.getAttribute(e)||"",i=this.type==="checkbox"||this.type==="radio"?"checked:":"value:",r=this.getAttribute("name")===a.antiForgeryTokenName,n=this.name;if(t.indexOf(i)===-1&&n&&!r){t+=(t.length?",":"")+i+n;p(this).attr(e,t)}})}function l(e){var t=(e.model.fields||e.model)[e.field],i=C(t),r=t?t.validation:{},n=t?t.attributes:{},a,o=v.attr("type"),h=v.attr("bind"),s,l={id:e.id||e.field,name:e.field,title:e.title?e.title:e.field};for(a in r){s=r[a];if(y(a,k)>=0)l[o]=a;else if(!g(s)){var c=v.getCulture();if(typeof s==="number"&&c.name.length){var u=c.numberFormat;var f=s.toString().replace(w,u[w]);l[a]=f}else l[a]=m(s)?s.value||a:s}l[v.attr(a+"-msg")]=s.message;l.autocomplete=b}for(var d in n)l[d]=n[d];if(y(i,k)>=0)l[o]=i;l[h]=(i==="boolean"?"checked:":"value:")+e.field;return l}function o(e,t){var i=e.attr("id");if(i){t.id=i;e.removeAttr("id")}return t}function n(e){var t,i,r,n,a,o;if(e&&e.length){o=[];for(t=0,i=e.length;t<i;t++){r=e[t];a=r.text||r.value||r;n=r.value==null?r.text||r:r.value;o[t]={text:a,value:n}}}return o}function h(e,t){var i;if(!e.length)return;if(e==="DropDownTree"&&t&&t.checkboxes||e==="MultiSelect")i="<select />";else if(e==="RadioGroup"||e==="CheckBoxGroup")i="<ul />";else i=e==="Editor"||e==="TextArea"?"<textarea />":"<input />";return i}var T=["AutoComplete","CheckBox","CheckBoxGroup","ColorPicker","ComboBox","DateInput","DatePicker","DateTimePicker","DropDownTree","Editor","MaskedTextBox","MultiColumnComboBox","MultiSelect","NumericTextBox","RadioGroup","Rating","Slider","Switch","TimePicker","DropDownList","TextBox","TextArea","Captcha"],s,A={number:function(e,t){var i=l(t);i=o(e,i);p('<input type="number"/>').attr(i).appendTo(e)},date:function(e,t){var i=l(t);i=o(e,i);p('<input type="date"/>').attr(i).appendTo(e)},string:function(e,t){var i=l(t);i=o(e,i);p('<input type="text" />').attr(i).appendTo(e)},boolean:function(e,t){var i=l(t);i=o(e,i);p('<input type="checkbox" />').attr(i).appendTo(e)},values:function(e,t){var i=l(t);var r=t.values;var n=p("<select />");i=o(e,i);for(var a in r)p('<option value="'+r[a].value+'">'+r[a].text+"</option>").appendTo(n);n.attr(i).appendTo(e)}};function M(e,t){var i=e?e.validation||{}:{},r,n;for(r in i){n=i[r];if(m(n)&&n.value)n=n.value;if(g(n))t[r]=n}}function u(e,t,i){var r=i?i.shouldRenderHidden||false:false;if(r){e.val(true);t.append(p("<input type='hidden' name='"+i.field+"' value='false' data-skip='true' data-validate='false'/>"))}}var a=r.extend({init:function(e,t){var i=this;if(t.target){t.$angular=t.target.options.$angular;if(t.target.pane)i._isMobile=true}r.fn.init.call(i,e,t);i._validateProxy=p.proxy(i._validate,i);i.refresh()},events:[c],options:{name:"Editable",editors:{hidden:function(e,t){var i=l(t);p('<input type="hidden"/>').attr(i).appendTo(e)},number:function(e,t){var i=l(t);p('<input type="text"/>').attr(i).appendTo(e).kendoNumericTextBox({format:t.format});p("<span "+v.attr("for")+'="'+t.field+'" class="k-invalid-msg k-hidden"/>').appendTo(e)},date:function(e,t){var i=l(t),r=t.format;if(r)r=v._extractFormat(r);i[v.attr("format")]=r;p('<input type="text"/>').attr(i).appendTo(e).kendoDatePicker({format:t.format});p("<span "+v.attr("for")+'="'+t.field+'" class="k-invalid-msg k-hidden"/>').appendTo(e)},string:function(e,t){var i=l(t);p('<input type="text"/>').attr(i).appendTo(e).kendoTextBox()},boolean:function(e,t){var i=l(t);var r=p('<input type="checkbox" />').attr(i).kendoCheckBox().appendTo(e);u(r,e,t)},values:function(e,t){var i=l(t);var r=v.stringify(n(t.values));p("<select "+v.attr("text-field")+'="text"'+v.attr("value-field")+'="value"'+v.attr("source")+"='"+(r?r.replace(/\'/g,"&apos;"):r)+"'"+v.attr("role")+'="dropdownlist"/>').attr(i).appendTo(e);p("<span "+v.attr("for")+'="'+t.field+'" class="k-invalid-msg  k-hidden"/>').appendTo(e)},kendoEditor:function(e,t){var i=l(t);var r=t.editor;var n="kendo"+r;var a=t.editorOptions;var o=h(r,a);var s=p(o).attr(i).appendTo(e)[n](a);u(s,e,t)}},mobileEditors:A,clearContainer:true,validateOnBlur:true,validationSummary:false,errorTemplate:'<div class="k-tooltip k-tooltip-error k-validator-tooltip">'+'<span class="k-tooltip-icon k-icon k-i-warning"></span>'+'<span class="k-tooltip-content">#= message #</span>'+'<span class="k-callout k-callout-n"></span>'+"</div>",skipFocus:false},editor:function(t,e){var i=this,r=i._isMobile?A:i.options.editors,n=m(t),a=n?t.field:t,h=i.options.model||{},u=n&&t.values,f=u?"values":C(e),o=n&&typeof t.editor==="string"&&t.editor==="hidden",s=n&&!o&&t.editor,d=n&&p.inArray(t.editor,T)!==-1,l=s?t.editor:r[o?"hidden":f],c=i.element.find("["+v.attr("container-for")+"="+a.replace(x,"\\$1")+"]");l=l?l:r.string;if(d)l=r.kendoEditor;else if(s&&typeof t.editor==="string")l=function(e){e.append(t.editor)};c=c.length?c:i.element;l(c,_(true,{},n?t:{field:a},{model:h}))},_validate:function(e){var t=this,i,r=e.value,n=t._validationEventInProgress,a={},o=v.attr("bind"),s=e.field.replace(x,"\\$1"),l=new RegExp("(value|checked)\\s*:\\s*"+s+"\\s*(,|$)");a[e.field]=e.value;i=p(":input["+o+'*="'+s+'"]',t.element).filter("["+v.attr("validate")+"!='false']").filter(function(){return l.test(p(this).attr(o))});if(i.length>1)i=i.filter(function(){var e=p(this);return!e.is(":radio")||e.val()==r});try{t._validationEventInProgress=true;if(!t.validatable.validateInput(i)||!n&&t.trigger(c,{values:a}))e.preventDefault()}finally{t._validationEventInProgress=false}},end:function(){return this.validatable.validate()},destroy:function(){var e=this;e.angular("cleanup",function(){return{elements:e.element}});r.fn.destroy.call(e);e.options.model.unbind("set",e._validateProxy);e.options.model.unbind(f,e._validateProxy);v.unbind(e.element);if(e.validatable)e.validatable.destroy();v.destroy(e.element);e.element.removeData("kendoValidator");if(e.element.is("["+v.attr("role")+"=editable]"))e.element.removeAttr(v.attr("role"))},refresh:function(){var e=this,t,i,r=e.options.fields||[],n=e.options.clearContainer?e.element.empty():e.element,a=e.options.model||{},o={},s,h,l,c,u;if(!Array.isArray(r))r=[r];for(t=0,i=r.length;t<i;t++){s=r[t];h=m(s);l=h?s.field:s;c=(a.fields||a)[l];M(c,o);e.editor(s,c)}if(e.options.target)e.angular("compile",function(){return{elements:n,data:n.map(function(){return{dataItem:a}})}});if(!i){u=a.fields||a;for(l in u)M(u[l],o)}S(n);if(e.validatable)e.validatable.destroy();v.bind(n,e.options.model);if(e.options.validateOnBlur){e.options.model.unbind("set",e._validateProxy).bind("set",e._validateProxy);e.options.model.unbind(f,e._validateProxy).bind(f,e._validateProxy)}e.validatable=new v.ui.Validator(n,{validateOnBlur:e.options.validateOnBlur,validationSummary:e.options.validationSummary,errorTemplate:e.options.errorTemplate||d,rules:o});if(!e.options.skipFocus)n.find(":kendoFocusable").eq(0).trigger("focus")}});return a.antiForgeryTokenName="__RequestVerificationToken",e.plugin(a),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.window.min",["./kendo.draganddrop.min","./kendo.popup.min"],function(){var e={id:"window",name:"Window",category:"web",description:"The Window widget displays content in a modal or non-modal HTML window.",depends:["draganddrop","popup"],features:[{id:"window-fx",name:"Animation",description:"Support for animation",depends:["fx"]}]},b=window.kendo.jQuery,w=void 0,x=window.kendo,C=x.ui.Widget,S=x.ui.Popup.TabKeyTrap,r=x.ui.Draggable,T=b.isPlainObject,n=x._activeElement,o=x._outerWidth,t=x._outerHeight,v=b.proxy,l=b.extend,a=b.each,s=x.template,u="body",f,g=".kendoWindow",h=".kendoWindowModal",A=".k-window",M=".k-window-title",m=M+"bar",_=".k-window-content",D=".k-dialog-content",d=".k-resize-handle",p=".k-overlay",E="k-content-frame",i="k-i-loading",c="k-hover",P="k-state-focused",I="k-window-maximized",B="k-display-inline-flex",z=":visible",O="hidden",L="cursor",R="open",F="activate",V="deactivate",N="close",H="refresh",U,j,G="resizeStart",W,q="resizeEnd",Y="dragstart",$="dragend",X="restore",K,Q="error",Z="overflow",J="original-overflow-rule",ee="zIndex",te=".k-window-actions .k-i-window-minimize,.k-window-actions .k-i-window-maximize",ie=".k-i-pin",re=".k-i-unpin",ne=ie+","+re,ae=".k-window-titlebar .k-window-action",oe=".k-window-titlebar .k-i-refresh",se="WindowEventsHandled",le=/^0[a-z]*$/i,ce=x.isLocalUrl,he={small:"k-window-sm",medium:"k-window-md",large:"k-window-lg"};function ue(e){return typeof e!="undefined"}function y(e,t){return parseInt(e.css(t),10)||0}function k(e,t,i){var r;if(e&&isNaN(e)&&e.toString().indexOf("px")<0)r=e;else r=Math.max(Math.min(parseInt(e,10),i===Infinity?i:parseInt(i,10)),t===-Infinity?t:parseInt(t,10));return r}function fe(){return!this.type||this.type.toLowerCase().indexOf("script")>=0}function de(e){var t={top:e.offsetTop,left:e.offsetLeft},i=e.offsetParent;while(i){t.top+=i.offsetTop;t.left+=i.offsetLeft;var r=b(i).css("overflowX");var n=b(i).css("overflowY");if(n==="auto"||n==="scroll")t.top-=i.scrollTop;if(r==="auto"||r==="scroll")t.left-=i.scrollLeft;i=i.offsetParent}return t}var pe=C.extend({init:function(e,t){var i=this,r,n={},h,u,a,f=false,o,s,d,l,p=t&&t.actions&&!t.actions.length,c;C.fn.init.call(i,e,t);t=i.options;a=t.position;e=i.element;o=t.content;l=b(window);if(p)t.actions=[];i.appendTo=b(t.appendTo);i.containment=t.draggable.containment?b(t.draggable.containment).first():null;if(o&&!T(o))o=t.content={url:o};e.find("script").filter(fe).remove();if(!e.parent().is(i.appendTo)&&!i.containment&&(a.top===w||a.left===w)){if(e.is(z)){n=e.offset();f=true}else{h=e.css("visibility");u=e.css("display");e.css({visibility:O,display:""});if(document.body.contains(e[0]))n=e.offset();else n={top:0,left:0};e.css({visibility:h,display:u})}if(a.top===w)a.top=n.top;if(a.left===w)a.left=n.left}if(!ue(t.visible)||t.visible===null)t.visible=e.is(z);r=i.wrapper=e.closest(A);if(!e.is(".k-window-content")||!r[0]){e.addClass("k-window-content");i._createWindow(e,t);r=i.wrapper=e.closest(A);i.title(i.options.title);i._dimensions()}i.minTop=i.minLeft=-Infinity;i.maxTop=i.maxLeft=Infinity;i._position();if(o)i.refresh(o);if(t.visible)i.toFront(null,!t.modal);s=r.children(_);if(t.visible&&t.modal)i._overlay(r.is(z)).css({opacity:.5});r.on("mouseenter"+g,ae,v(i._buttonEnter,i)).on("mouseleave"+g,ae,v(i._buttonLeave,i)).on("click"+g,"> "+ae,v(i._windowActionHandler,i)).on("keydown"+g,i,v(i._keydown,i)).on("focus"+g,v(i._focus,i)).on("blur"+g,v(i._blur,i));s.on("keydown"+g,i,v(i._keydownContent,i));d=s.find("."+E)[0];if(d&&!l.data(se)){l.on("blur"+g,function(){var e=b(document.activeElement).parent(_);if(e.length){var t=x.widgetInstance(e);t._focus()}});l.on("focus"+g,function(){b(_).not(D).each(function(e,t){x.widgetInstance(b(t))._blur()})});l.data(se,true)}this._resizable();this._draggable();if(t.pinned&&this.wrapper.is(":visible"))i.pin();c=e.attr("id");if(c){c=c+"_wnd_title";r.attr({role:"dialog","aria-labelledby":c}).children(m).children(M).attr("id",c)}r.add(r.children(".k-resize-handle,"+m)).on(x.support.mousedown+g,v(i.toFront,i));i.touchScroller=x.touchScroller(e);i._resizeHandler=v(i._onDocumentResize,i);i._marker=x.guid().substring(0,8);b(window).on("resize"+g+i._marker,i._resizeHandler);if(t.visible){i.trigger(R);i.trigger(F)}x.notify(i);if(this.options.modal){this._tabKeyTrap=new S(r);this._tabKeyTrap.trap();this._tabKeyTrap.shouldTrap=function(){return r.data("isFront")}}},_buttonEnter:function(e){b(e.currentTarget).addClass(c)},_buttonLeave:function(e){b(e.currentTarget).removeClass(c)},_focus:function(){this.wrapper.addClass(P)},_blur:function(){this.wrapper.removeClass(P)},_dimensions:function(){var e=this.wrapper;var t=this.options;var i=t.width;var r=t.height;var n=t.maxHeight;var a=t.size;var o=["minWidth","minHeight","maxWidth","maxHeight"];var s=e.css("box-sizing")=="content-box";var h=s?y(e,"border-left-width")+y(e,"border-right-width"):0;var u=s?y(e,"border-top-width")+y(e,"border-bottom-width"):0;var f=s?y(e,"padding-top"):0;if(this.containment&&!this._isPinned){this._updateBoundaries();t.maxHeight=Math.min(this.containment.height-(u+f),n);t.maxWidth=Math.min(this.containment.width-h,t.maxWidth)}for(var l=0;l<o.length;l++){var c=t[o[l]]||"";if(c!=Infinity)e.css(o[l],c)}if(n!=Infinity)this.element.css("maxHeight",n);if(i)e.outerWidth(k(i,t.minWidth,t.maxWidth));else e.outerWidth("");if(r)e.outerHeight(k(r,t.minHeight,t.maxHeight));else e.outerHeight("");if(!t.visible)e.removeClass(B).hide();if(a&&he[a])e.addClass(he[a])},_position:function(){var e=this.wrapper,t=this.options.position,i,r;this._updateBoundaries();if(this.containment){t.top=t.top||0;t.left=t.left||0;i=t.top.toString().indexOf("%")>0?parseInt(this.containment.height*(parseFloat(t.top)/100),10):t.top;r=t.left.toString().indexOf("%")>0?parseInt(this.containment.width*(parseFloat(t.left)/100),10):t.left;t.top=k(i,this.minTop,this.maxTop);t.left=k(r,this.minLeft,this.maxLeft)}if(t.top&&t.top.toString().indexOf("px")>0)t.top=Number(t.top.replace("px",""));if(t.left&&t.left.toString().indexOf("px")>0)t.left=Number(t.left.replace("px",""));if(t.top===0)t.top=t.top.toString();if(t.left===0)t.left=t.left.toString();e.css({top:t.top||"",left:t.left||""})},_updateBoundaries:function(){var e=this.containment;if(!e)return null;e.width=e.innerWidth();e.height=e.innerHeight();if(parseInt(e.width,10)>e[0].clientWidth)e.width-=x.support.scrollbar();if(parseInt(e.height,10)>e[0].clientHeight)e.height-=x.support.scrollbar();e.position=de(e[0]);if(this._isPinned){this.minTop=this.minLeft=-Infinity;this.maxTop=this.maxLeft=Infinity}else{this.minTop=e.scrollTop();this.minLeft=e.scrollLeft();this.maxLeft=this.minLeft+e.width-o(this.wrapper,true);this.maxTop=this.minTop+e.height-t(this.wrapper,true)}},_animationOptions:function(e){var t=this.options.animation;var i={open:{effects:{}},close:{hide:true,effects:{}}};return t&&t[e]||i[e]},_resize:function(){x.resize(this.element.children())},_resizable:function(){var e=this.options.resizable;var i=this.wrapper;if(this.resizing){i.off("dblclick"+g).children(d).remove();this.resizing.destroy();this.resizing=null}if(e){i.on("dblclick"+g,m,v(function(e){if(!b(e.target).closest(".k-window-action").length)this.toggleMaximization()},this));a("n e s w se sw ne nw".split(" "),function(e,t){i.append(f.resizeHandle(t))});this.resizing=new ve(this)}i=null},_draggable:function(){var e=this.options.draggable;if(this.dragging){this.dragging.destroy();this.dragging=null}if(e)this.dragging=new ge(this,e.dragHandle||m)},_actions:function(){var e=this.options;var t=e.actions;var i=e.pinned;var r=this.wrapper.children(m);var n=r.find(".k-window-actions");var a=["maximize","minimize"];t=b.map(t,function(e){e=i&&e.toLowerCase()==="pin"?"unpin":e;return{name:a.indexOf(e.toLowerCase())>-1?"window-"+e:e}});n.html(x.render(f.action,t))},setOptions:function(e){var t=this;var i=t.options.size;var r=this.containment&&!t._isPinned?this.containment:b(document);var n=JSON.parse(JSON.stringify(e));l(e.position,t.options.position);l(e.position,n.position);t._containerScrollTop=r.scrollTop();t._containerScrollLeft=r.scrollLeft();C.fn.setOptions.call(t,e);var a=t.options.scrollable!==false;t.restore();if(typeof e.title!=="undefined")t.title(e.title);t.wrapper.removeClass(he[i]);t._dimensions();t._position();t._resizable();t._draggable();t._actions();if(typeof e.modal!=="undefined"){var o=t.options.visible!==false;t._enableDocumentScrolling();t._overlay(e.modal&&o)}t.element.css(Z,a?"":"hidden")},events:[R,F,V,N,"minimize","maximize",H,X,G,"resize",q,Y,$,"kendoKeydown",Q],options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:.7}},fade:{direction:"out"}},duration:350,hide:true}},title:"",actions:["Close"],autoFocus:true,modal:false,size:"auto",resizable:true,draggable:true,minWidth:90,minHeight:50,maxWidth:Infinity,maxHeight:Infinity,pinned:false,scrollable:true,position:{},content:null,visible:null,height:null,width:null,appendTo:"body",isMaximized:false,isMinimized:false},_closable:function(){return b.inArray("close",b.map(this.options.actions,function(e){return e.toLowerCase()}))>-1},_keydownContent:function(e){var t=this,i=x.keys,r=e.keyCode;if(r==i.ESC&&t._closable()){e.stopPropagation();t._close(false)}},_keydown:function(e){var t=this,i=t.options,r=x.keys,n=e.keyCode,a=t.wrapper,o,s,l=10,c=i.isMaximized,h=i.isMinimized,u,f,d,p;if(n==r.ESC&&t._closable()){e.stopPropagation();t._close(false)}if(e.target!=e.currentTarget||t._closing)return;if(e.altKey&&n==82)t.refresh();if(e.altKey&&n==80)if(t.options.pinned)t.unpin();else t.pin();if(e.altKey&&n==r.UP){if(h){t.restore();t.wrapper.trigger("focus")}else if(!c){t.maximize();t.wrapper.trigger("focus")}}else if(e.altKey&&n==r.DOWN)if(!h&&!c){t.minimize();t.wrapper.trigger("focus")}else if(c)t.restore();o=x.getOffset(a);if(t.containment&&!t._isPinned)o=t.options.position;if(i.draggable&&!e.ctrlKey&&!e.altKey&&!c){t._updateBoundaries();if(n==r.UP){o.top=k(o.top-l,t.minTop,t.maxTop);s=a.css("top",o.top)}else if(n==r.DOWN){o.top=k(o.top+l,t.minTop,t.maxTop);s=a.css("top",o.top)}else if(n==r.LEFT){o.left=k(o.left-l,t.minLeft,t.maxLeft);s=a.css("left",o.left)}else if(n==r.RIGHT){o.left=k(o.left+l,t.minLeft,t.maxLeft);s=a.css("left",o.left)}}if(i.resizable&&e.ctrlKey&&!c&&!h){if(n==r.UP){s=true;f=a.outerHeight()-l}else if(n==r.DOWN){s=true;if(t.containment&&!t._isPinned)f=Math.min(a.outerHeight()+l,t.containment.height-o.top-y(a,"padding-top")-y(a,"borderBottomWidth")-y(a,"borderTopWidth"));else f=a.outerHeight()+l}if(n==r.LEFT){s=true;u=a.outerWidth()-l}else if(n==r.RIGHT){s=true;if(t.containment&&!t._isPinned)u=Math.min(a.outerWidth()+l,t.containment.width-o.left-y(a,"borderLeftWidth")-y(a,"borderRightWidth"));else u=a.outerWidth()+l}if(s){d=k(u,i.minWidth,i.maxWidth);p=k(f,i.minHeight,i.maxHeight);if(!isNaN(d)){a.outerWidth(d);t.options.width=d+"px"}if(!isNaN(p)){a.outerHeight(p);t.options.height=p+"px"}t.resize()}}if(s)e.preventDefault()},_overlay:function(e){var t=this.containment?this.containment.children(p):this.appendTo.children(p),i=this.wrapper,r=e?"block":"none",n=parseInt(i.css(ee),10)-1;if(!t.length)t=b("<div class='k-overlay' />");t.insertBefore(i[0]).css({zIndex:n,display:r});if(this.options.modal.preventScroll&&!this.containment)this._stopDocumentScrolling();return t},_actionForIcon:function(e){var t=/\bk-i(-\w+)+\b/.exec(e[0].className)[0];return{"k-i-close":"_close","k-i-window-maximize":"maximize","k-i-window-minimize":"minimize","k-i-window-restore":"restore","k-i-refresh":"refresh","k-i-pin":"pin","k-i-unpin":"unpin"}[t]},_windowActionHandler:function(e){if(this._closing)return;var t=b(e.target).closest(".k-window-action").find(".k-icon");var i=this._actionForIcon(t);if(i){e.preventDefault();this[i]();return false}},_modals:function(){var e=this,t=b(A+z),i,r=[];for(var n=0;n<t.length;n+=1){i=e._object(b(t[n]));if(i&&i.options&&i.options.modal&&i.options.visible&&i.options.appendTo===e.options.appendTo&&(!i.containment||e.containment&&i.containment[0]===e.containment[0]))r.push(i.wrapper[0])}r.sort(function(e,t){return e.style.zIndex-t.style.zIndex});e=null;return b(r)},_object:function(e){var t=e.children(_);var i=x.widgetInstance(t);if(i)return i;return w},center:function(){var e=this,t=e.options.position,i=e.wrapper,r=b(window),n=0,a=0,o,s;if(e.options.isMaximized)return e;if(e.options.pinned&&!e._isPinned)e.pin();if(!e.options.pinned){n=r.scrollTop();a=r.scrollLeft()}if(this.containment&&!e.options.pinned){o=this.minTop+(this.maxTop-this.minTop)/2;s=this.minLeft+(this.maxLeft-this.minLeft)/2}else{e._scrollIsAppended=true;s=a+Math.max(0,(r.width()-i.outerWidth())/2);o=n+Math.max(0,(r.height()-i.outerHeight()-y(i,"paddingTop"))/2)}i.css({left:s,top:o});t.top=o;t.left=s;return e},title:function(e){var t=this,i,r=true,n=t.wrapper,a=n.children(m),o=a.children(M);if(!arguments.length)return o.html();if(b.isPlainObject(e)){i=typeof e.text!=="undefined"?e.text:"";r=e.encoded!==false}else i=e;if(i===false){n.addClass("k-window-titleless");n.css("padding-top",0);a.remove()}else if(!a.length){n.prepend(f.titlebar({title:r?x.htmlEncode(i):i}));t._actions();a=n.children(m)}else o.html(r?x.htmlEncode(i):i);t.options.title=i;return t},content:function(e,i){var r=this.wrapper.children(_),t=r.children(".km-scroll-container");r=t[0]?t:r;if(!ue(e))return r.html();this.angular("cleanup",function(){return{elements:r.children()}});x.destroy(this.element.children());r.empty().html(e);this.angular("compile",function(){var e=[];for(var t=r.length;--t>=0;)e.push({dataItem:i});return{elements:r.children(),data:e}});return this},open:function(){var e=this,t=e.wrapper,i=e.options,r=this._animationOptions("open"),n=t.children(_),a,o,s=this.containment&&!e._isPinned,l=s?this.containment:b(document);if(!e.trigger(R)){if(e._closing)t.kendoStop(true,true);e._closing=false;e.toFront();if(i.autoFocus)e.wrapper.trigger("focus");i.visible=true;if(i.modal){o=!!e._modals().length;a=e._overlay(o);a.kendoStop(true,true);if(r.duration&&x.effects.Fade&&!o){var c=x.fx(a).fadeIn();c.duration(r.duration||0);c.endValue(.5);c.play()}else a.css("opacity",.5);a.show();b(window).on("focus"+h,function(){if(t.data("isFront")&&!b(document.activeElement).closest(t).length)e.wrapper.trigger("focus")})}if(!t.is(z)){n.css(Z,O);e.wrapper.find(ae).addClass("k-button-flat");t.addClass(B).kendoStop().kendoAnimate({effects:r.effects,duration:r.duration,complete:v(this._activate,this)})}}if(i.isMaximized){e._containerScrollTop=l.scrollTop();e._containerScrollLeft=l.scrollLeft();e._stopDocumentScrolling()}if(this.options.pinned&&!this._isPinned)this.pin();return e},_activate:function(){var e=this.options.scrollable!==false;if(this.options.autoFocus)this.wrapper.trigger("focus");this.element.css(Z,e?"":"hidden");x.resize(this.element.children());this.trigger(F)},_removeOverlay:function(e){var t=this._modals();var i=this.options;var r=i.modal&&!t.length;var n=this._animationOptions("close");if(r){if(!e&&n.duration&&x.effects.Fade){var a=x.fx(i.modal?this._overlay(true):b(w)).fadeOut();a.duration(n.duration||0);a.startValue(.5);a.play()}else this._overlay(false).remove();if(i.modal.preventScroll)this._enableDocumentScrolling()}else if(t.length){this._object(t.last())._overlay(true);if(i.modal.preventScroll)this._stopDocumentScrolling()}},_close:function(e){var t=this,r=t.wrapper,i=t.options,n=this._animationOptions("open"),a=this._animationOptions("close"),o=this.containment&&!t._isPinned,s=o?this.containment:b(document),l;if(t._closing)return;l=t.trigger(N,{userTriggered:!e});t._closing=!l;if(r.is(z)&&!l){i.visible=false;b(A).each(function(e,t){var i=b(t).children(_);if(t!=r&&i.find("> ."+E).length>0)i.children(p).remove()});this._removeOverlay();t.wrapper.find(ae).removeClass("k-button-flat");r.kendoStop().kendoAnimate({effects:a.effects||n.effects,reverse:a.reverse===true,duration:a.duration,complete:v(this._deactivate,this)});b(window).off(h)}if(t.options.isMaximized){t._enableDocumentScrolling();if(t._containerScrollTop&&t._containerScrollTop>0)s.scrollTop(t._containerScrollTop);if(t._containerScrollLeft&&t._containerScrollLeft>0)s.scrollLeft(t._containerScrollLeft)}if(t.options.iframe)t.wrapper.trigger("blur")},_deactivate:function(){var e=this;e.wrapper.removeClass(B).hide().css("opacity","");e.trigger(V);if(e.options.modal){var t=e._object(e._modals().last());if(t)t.toFront()}},close:function(){this._close(true);return this},_actionable:function(e){return b(e).is(ae+","+ae+" .k-icon, :input, a, .k-input, .k-icon, [role='gridcell']")},_shouldFocus:function(e){var t=n(),i=this.wrapper;return this.options.autoFocus&&!b(t).is(i)&&!this._actionable(e)&&(!i.find(t).length||!i.find(e).length)},toFront:function(e,t){var i=this,a=i.wrapper,o=a[0],r=i.containment&&!i._isPinned,n=this._animationOptions("open"),s=+a.css(ee),h=s,u=e&&e.target||null;b(A).each(function(e,t){var i=b(t),r=i.css(ee),n=i.children(_);if(!isNaN(r))s=Math.max(+r,s);a.data("isFront",t==o);if(t!=o&&n.find("."+E).length&&!n.find(p).length)n.append(f.overlay)});if(!a[0].style.zIndex||h<s)a.css(ee,s+2);i.element.find("> .k-overlay").remove();if(i._shouldFocus(u)){if(!t)setTimeout(function(){i.wrapper.focus()},n?n.duration:0);var l=r?i.containment.scrollTop():b(window).scrollTop(),c=parseInt(a.position().top,10);if(!i.options.pinned&&c>0&&c<l)if(l>0)b(window).scrollTop(c);else a.css("top",l)}a=null;return i},toggleMaximization:function(){if(this._closing)return this;return this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var e=this;var t=e.options;var i=t.minHeight;var r=e.restoreOptions;var n;var a=e.containment&&!e._isPinned?e.containment:b(document);if(!t.isMaximized&&!t.isMinimized)return e;if(i&&i!=Infinity)e.wrapper.css("min-height",i);if(r&&!t.isMaximized){r.height=k(r.height,e.options.minHeight,e.options.maxHeight);n=t.position.top+parseInt(r.height,10)>e.maxTop;if(n){t.position.top=k(t.position.top,e.minTop,e.maxTop-parseInt(r.height,10));l(r,{left:t.position.left,top:t.position.top})}}e.wrapper.css({position:t.pinned?"fixed":"absolute",left:r.left,top:r.top,width:r.width,height:r.height}).removeClass(I).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-window-restore").parent().remove().end().end().find(te).parent().show().end().end().find(ne).parent().show();if(t.isMaximized)e.wrapper.find(".k-i-window-maximize").parent().trigger("focus");else if(t.isMinimized)e.wrapper.find(".k-i-window-minimize").parent().trigger("focus");e.options.width=r.width;e.options.height=r.height;if(!e.options.modal.preventScroll)e._enableDocumentScrolling();if(e._containerScrollTop&&e._containerScrollTop>0)a.scrollTop(e._containerScrollTop);if(e._containerScrollLeft&&e._containerScrollLeft>0)a.scrollLeft(e._containerScrollLeft);t.isMaximized=t.isMinimized=false;e.wrapper.removeAttr("aria-labelled-by");e.resize();e.trigger(X);return e},_sizingAction:function(e,t){var i=this,r=i.wrapper,n=r[0].style,a=i.options;if(a.isMaximized||a.isMinimized)return i;i.restoreOptions={width:n.width,height:n.height};r.children(d).hide().end().children(m).find(te).parent().hide().eq(0).before(f.action({name:"window-restore"}));t.call(i);i.wrapper.children(m).find(ne).parent().toggle(e!=="maximize");i.trigger(e);r.find(".k-i-window-restore").parent().trigger("focus");return i},maximize:function(){this._sizingAction("maximize",function(){var e=this,t=e.wrapper,i=this.containment&&!e._isPinned,r=t.position(),n=b(document);l(e.restoreOptions,{left:r.left+(i?this.containment.scrollLeft():0),top:r.top+(i?this.containment.scrollTop():0)});this._containerScrollTop=i?this.containment.scrollTop():n.scrollTop();this._containerScrollLeft=i?this.containment.scrollLeft():n.scrollLeft();e._stopDocumentScrolling();t.css({top:i?this.containment.scrollTop():0,left:i?this.containment.scrollLeft():0,position:i?"absolute":"fixed"}).addClass(I);e.options.isMaximized=true;e._onDocumentResize()});return this},_stopDocumentScrolling:function(){var e=this;var t=e.containment;if(t&&!e._isPinned){e._storeOverflowRule(t);t.css(Z,O);e.wrapper.css({maxWidth:t.innerWidth(),maxHeight:t.innerHeight()});return}var i=b("body");e._storeOverflowRule(i);i.css(Z,O);var r=b("html");e._storeOverflowRule(r);r.css(Z,O)},_enableDocumentScrolling:function(){var e=this;var t=e.containment;if(t&&!e._isPinned){e._restoreOverflowRule(t);e.wrapper.css({maxWidth:t.width,maxHeight:t.height});return}e._restoreOverflowRule(b(document.body));e._restoreOverflowRule(b("html"))},_storeOverflowRule:function(e){if(this._isOverflowStored(e))return;var t=e.get(0).style.overflow;if(typeof t==="string")e.data(J,t)},_isOverflowStored:function(e){return typeof e.data(J)==="string"},_restoreOverflowRule:function(e){var t=e.data(J);if(t!==null&&t!==w){e.css(Z,t);e.removeData(J)}else e.css(Z,"")},isMaximized:function(){return this.options.isMaximized},minimize:function(){this._sizingAction("minimize",function(){var e=this;e.wrapper.css({height:"",minHeight:""});e.element.hide();e.options.isMinimized=true});this.wrapper.attr("aria-labelled-by",this.element.attr("aria-labelled-by"));this._updateBoundaries();return this},isMinimized:function(){return this.options.isMinimized},pin:function(){var e=this,t=b(window),i=e.wrapper,r=e.options,n=r.position,a=this.containment?de(i[0]).top+y(this.containment,"borderTopWidth"):y(i,"top"),o=this.containment?de(i[0]).left+y(this.containment,"borderLeftWidth"):y(i,"left");if(!e.options.isMaximized){n.top=a;n.left=o;if(e._scrollIsAppended&&(!this.containment||this.containment.css("position")!=="fixed")){n.top-=t.scrollTop();n.left-=t.scrollLeft();e._scrollIsAppended=false}i.css(l(n,{position:"fixed"}));i.children(m).find(ie).addClass("k-i-unpin").removeClass("k-i-pin");e._isPinned=true;e.options.pinned=true;if(this.containment){r.maxWidth=r.maxHeight=Infinity;i.css({maxWidth:"",maxHeight:""})}}},unpin:function(){var e=this,t=b(window),i=e.wrapper,r=e.options,n=e.options.position,a=e.containment,o=parseInt(i.css("top"),10)+t.scrollTop(),s=parseInt(i.css("left"),10)+t.scrollLeft();if(!e.options.isMaximized){e._isPinned=false;e._scrollIsAppended=true;e.options.pinned=false;if(a){e._updateBoundaries();r.maxWidth=Math.min(a.width,r.maxWidth);r.maxHeight=Math.min(a.height-y(i,"padding-top"),r.maxHeight);i.css({maxWidth:r.maxWidth,maxHeight:r.maxHeight});if(o<a.position.top)o=e.minTop;else if(o>a.position.top+a.height)o=e.maxTop;else o=o+a.scrollTop()-(a.position.top+y(a,"border-top-width"));if(s<a.position.left)s=e.minLeft;else if(s>a.position.left+a.width)s=e.maxLeft;else s=s+a.scrollLeft()-(a.position.left+y(a,"border-left-width"))}n.top=k(o,e.minTop,e.maxTop);n.left=k(s,e.minLeft,e.maxLeft);i.css(l(n,{position:""}));i.children(m).find(re).addClass("k-i-pin").removeClass("k-i-unpin")}},_onDocumentResize:function(){var e=this,t=e.wrapper,i=b(window),r=x.support.zoomLevel(),n=t.css("box-sizing")=="content-box",a,o;if(!e.options.isMaximized)return;var s=n?y(t,"border-left-width")+y(t,"border-right-width"):0;var l=n?y(t,"border-top-width")+y(t,"border-bottom-width"):0;var c=n?y(t,"padding-top"):0;if(e.containment&&!e._isPinned){a=e.containment.innerWidth()-s;o=e.containment.innerHeight()-(l+c)}else{a=i.width()/r-s;o=i.height()/r-(l+c)}t.css({width:a,height:o});e.options.width=a;e.options.height=o;e.resize()},refresh:function(e){var t=this,i=t.options,r=b(t.element),n,a,o;if(!T(e))e={url:e};e=l(i.content,e);a=ue(i.iframe)?i.iframe:e.iframe;o=e.url;if(o){if(!ue(a))a=!ce(o);if(!a)t._ajaxRequest(e);else{n=r.find("."+E)[0];if(n)n.src=o||n.src;else r.html(f.contentFrame(l({},i,{content:e})));r.find("."+E).off("load"+g).on("load"+g,v(this._triggerRefresh,this))}}else{if(e.template)t.content(s(e.template)({}));t.trigger(H)}r.toggleClass("k-window-iframecontent",!!a);return t},_triggerRefresh:function(){this.trigger(H)},_ajaxComplete:function(){clearTimeout(this._loadingIconTimeout);this.wrapper.find(oe).removeClass(i)},_ajaxError:function(e,t){this.trigger(Q,{status:t,xhr:e})},_ajaxSuccess:function(i){return function(e){var t=e;if(i)t=s(i)(e||{});this.content(t,e);this.element.prop("scrollTop",0);this.trigger(H)}},_showLoading:function(){this.wrapper.find(oe).addClass(i)},_ajaxRequest:function(e){this._loadingIconTimeout=setTimeout(v(this._showLoading,this),100);b.ajax(l({type:"GET",dataType:"html",cache:false,error:v(this._ajaxError,this),complete:v(this._ajaxComplete,this),success:v(this._ajaxSuccess(e.template),this)},e))},_destroy:function(){if(this.resizing)this.resizing.destroy();if(this.dragging)this.dragging.destroy();this.wrapper.off(g).children(_).off(g).end().find(".k-resize-handle,.k-window-titlebar").off(g);b(window).off("resize"+g+this._marker);b(window).off(h);b(window).off(g);clearTimeout(this._loadingIconTimeout);C.fn.destroy.call(this);this.unbind(w);x.destroy(this.wrapper)},destroy:function(){this._destroy();if(this.options.modal)this._removeOverlay(true);this.wrapper.empty().remove();this.wrapper=this.appendTo=this.element=b()},_createWindow:function(){var e=this.element,t=this.options,i,r,n=x.support.isRtl(e);if(t.scrollable===false)e.css("overflow","hidden");r=b(f.wrapper(t));i=e.find("iframe:not(.k-content-frame)").map(function(){var e=this.getAttribute("src");this.src="";return e});r.toggleClass("k-rtl",n).attr("tabindex",0).append(e).find("iframe:not(.k-content-frame)").each(function(e){this.src=i[e]});if(this.containment)this.containment.prepend(r);else if(this.appendTo)r.appendTo(this.appendTo);r.find(".k-window-title").css(n?"left":"right",o(r.find(".k-window-actions"))+10);e.css("visibility","").show();e.find("[data-role=editor]").each(function(){var e=b(this).data("kendoEditor");if(e)e.refresh()});r=e=null}});function ve(e){var t=this;t.owner=e;t._preventDragging=false;t._draggable=new r(e.wrapper,{filter:">"+d,group:e.wrapper.id+"-resizing",dragstart:v(t.dragstart,t),drag:v(t.drag,t),dragend:v(t.dragend,t)});t._draggable.userEvents.bind("press",v(t.addOverlay,t));t._draggable.userEvents.bind("release",v(t.removeOverlay,t))}function ge(e,t){var i=this;i.owner=e;i._preventDragging=false;i._draggable=new r(e.wrapper,{filter:t,group:e.wrapper.id+"-moving",dragstart:v(i.dragstart,i),drag:v(i.drag,i),dragend:v(i.dragend,i),dragcancel:v(i.dragcancel,i)});i._draggable.userEvents.stopPropagation=false}return f={wrapper:s("<div class='k-widget k-window'></div>"),action:s("<a role='button' href='\\#' class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button k-window-action' aria-label='#= name #'>"+"<span class='k-button-icon k-icon k-i-#= name.toLowerCase() #'></span>"+"</a>"),titlebar:s("<div class='k-window-titlebar k-hstack'>"+"<span class='k-window-title'>#= title #</span>"+"<div class='k-window-actions k-hstack'></div>"+"</div>"),overlay:"<div class='k-overlay'></div>",contentFrame:s("<iframe frameborder='0' title='#= title #' class='"+E+"' "+"src='#= content.url #'>"+"This page requires frames in order to show content"+"</iframe>"),resizeHandle:s("<div class='k-resize-handle k-resize-#= data #'></div>")},ve.prototype={addOverlay:function(){this.owner.wrapper.append(f.overlay)},removeOverlay:function(){this.owner.wrapper.find(p).remove()},dragstart:function(e){var t=this;var i=t.owner;var r=i.wrapper;t._preventDragging=i.trigger(G);if(t._preventDragging)return;t.elementPadding=parseInt(r.css("padding-top"),10);t.initialPosition=x.getOffset(r,"position");t.resizeDirection=e.currentTarget.prop("className").replace("k-resize-handle k-resize-","");t.initialSize={width:r.outerWidth(),height:r.outerHeight()};i._updateBoundaries();t.containerOffset=i.containment?i.containment.position:x.getOffset(i.appendTo);var n=r.offsetParent();if(n.is("html"))t.containerOffset.top=t.containerOffset.left=0;else{var a=n.css("margin-top");var o=n.css("margin-left");var h=!le.test(a)||!le.test(o);if(h){var s=de(r[0]);var l=s.left-t.containerOffset.left-t.initialPosition.left;var c=s.top-t.containerOffset.top-t.initialPosition.top;t._relativeElMarginLeft=l>1?l:0;t._relativeElMarginTop=c>1?c:0;t.initialPosition.left+=t._relativeElMarginLeft;t.initialPosition.top+=t._relativeElMarginTop}}r.children(d).not(e.currentTarget).hide();b(u).css(L,e.currentTarget.css(L))},drag:function(h){if(this._preventDragging)return;var e=this,t=e.owner,u=t.wrapper,i=t.options,r=i.position,f=e.resizeDirection,n=e.containerOffset,a=e.initialPosition,o=e.initialSize,d=t.containment&&!t._isPinned,p=x.support.isRtl(t.containment),v=d&&p&&t.containment.innerWidth()>t.containment.width?x.support.scrollbar():0,s=d?{top:t.containment.scrollTop(),left:t.containment.scrollLeft()}:{top:0,left:0},l,c,g,m,_=Math.max(h.x.location,0),y=Math.max(h.y.location,0);if(f.indexOf("e")>=0){if(t.containment&&_-o.width>=t.maxLeft-s.left+n.left+v)l=t.maxLeft+v-a.left+o.width-s.left;else l=_-a.left-n.left;u.outerWidth(k(l,i.minWidth,i.maxWidth))}else if(f.indexOf("w")>=0){m=a.left+o.width+n.left;l=k(m-_,i.minWidth,i.maxWidth);r.left=m-l-n.left-v-(e._relativeElMarginLeft||0)+s.left;if(t.containment&&r.left<=t.minLeft){r.left=t.minLeft;l=k(m-v-r.left-n.left+s.left,i.minWidth,i.maxWidth)}u.css({left:r.left,width:l})}var w=y;if(t.options.pinned)w-=b(window).scrollTop();if(f.indexOf("s")>=0){c=w-a.top-e.elementPadding-n.top;if(w-o.height-e.elementPadding>=t.maxTop+n.top-s.top)c=t.maxTop-a.top+o.height-s.top;u.outerHeight(k(c,i.minHeight,i.maxHeight))}else if(f.indexOf("n")>=0){g=a.top+o.height+n.top;c=k(g-w,i.minHeight,i.maxHeight);r.top=g-c-n.top-(e._relativeElMarginTop||0)+s.top;if(r.top<=t.minTop&&t.containment){r.top=t.minTop;c=k(g-r.top-n.top+s.top,i.minHeight,i.maxHeight)}u.css({top:r.top,height:c})}if(l)t.options.width=l+"px";if(c)t.options.height=c+"px";t.resize()},dragend:function(e){if(this._preventDragging)return;var t=this,i=t.owner,r=i.wrapper;r.children(d).not(e.currentTarget).show();b(u).css(L,"");if(i.touchScroller)i.touchScroller.reset();if(e.keyCode==27)r.css(t.initialPosition).css(t.initialSize);i.trigger(q);return false},destroy:function(){if(this._draggable)this._draggable.destroy();this._draggable=this.owner=null}},ge.prototype={dragstart:function(e){var t=this.owner,i=t.options.draggable,r=t.element,n=r.find(".k-window-actions"),a=x.getOffset(t.appendTo);this._preventDragging=t.trigger(Y)||!i;if(this._preventDragging||t.isMaximized())return;t.initialWindowPosition=x.getOffset(t.wrapper,"position");t.initialPointerPosition={left:t.options.position.left,top:t.options.position.top};t.startPosition={left:e.x.client-t.initialWindowPosition.left,top:e.y.client-t.initialWindowPosition.top};t._updateBoundaries();if(!t.containment){if(n.length>0)t.minLeft=o(n)+parseInt(n.css("right"),10)-o(r);else t.minLeft=20-o(r);t.minLeft-=a.left;t.minTop=-a.top}b(f.overlay).appendTo(t.wrapper).css({opacity:0});t.wrapper.children(d).hide();b(u).css(L,e.currentTarget.css(L))},drag:function(e){var t=this.owner;var i=t.options.position;var r=t.options.draggable.axis;var n;var a;if(this._preventDragging||t.isMaximized())return;if(!r||r.toLowerCase()==="x"){n=e.x.client-t.startPosition.left;if(t.containment&&!t._isPinned)n+=t.containment.scrollLeft();i.left=k(n,t.minLeft,t.maxLeft)}if(!r||r.toLowerCase()==="y"){a=e.y.client-t.startPosition.top;if(t.containment&&!t._isPinned)a+=t.containment.scrollTop();i.top=k(a,t.minTop,t.maxTop)}if(x.support.transforms)b(t.wrapper).css("transform","translate("+(i.left-t.initialPointerPosition.left)+"px, "+(i.top-t.initialPointerPosition.top)+"px)");else b(t.wrapper).css(i)},_finishDrag:function(){var e=this.owner;e.wrapper.children(d).toggle(!e.options.isMinimized).end().find(p).remove();b(u).css(L,"")},dragcancel:function(e){if(this._preventDragging)return;this._finishDrag();e.currentTarget.closest(A).css(this.owner.initialWindowPosition)},dragend:function(){var e=this.owner;if(this._preventDragging||e.isMaximized())return;b(e.wrapper).css(e.options.position).css("transform","");this._finishDrag();e.trigger($);return false},destroy:function(){if(this._draggable)this._draggable.destroy();this._draggable=this.owner=null}},x.ui.plugin(pe),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("dataviz/diagram/dom.min",["../../kendo.data.min","../../kendo.draganddrop.min","../../kendo.toolbar.min","../../kendo.editable.min","../../kendo.window.min","../../kendo.dropdownlist.min","../../kendo.dataviz.core.min","../../kendo.dataviz.themes.min","./svg.min","./services.min","./layout.min"],function(){var n=window.kendo.jQuery,p=void 0,v=kendo.dataviz,_=kendo.drawing,s=kendo.geometry,l=v.diagram,r=kendo.ui.Widget,e=kendo.Class,u=n.proxy,c=kendo.deepExtend,y=kendo._outerWidth,w=kendo._outerHeight,i=n.extend,a=kendo.data.HierarchicalDataSource,b=l.Canvas,x=l.Group,k=l.Rectangle,C=l.Circle,S=l.CompositeTransform,f=l.Rect,T=l.Path,A=l.DeleteShapeUnit,M=l.DeleteConnectionUnit,D=l.TextBlock,E=l.Image,g=l.Point,P=l.Intersect,I=l.ConnectionEditAdorner,t=l.UndoRedoService,B=l.ToolService,z=l.Selector,O=l.ResizingAdorner,L=l.ConnectorsAdorner,R=l.Cursors,h=l.Utils,F=kendo.Observable,V=l.ToBackUnit,N=l.ToFrontUnit,H=l.PolylineRouter,U=l.CascadingRouter,j=h.isUndefined,G=h.isDefined,o=_.util.defined,W=Array.isArray,q=kendo.isFunction,Y=h.isString,$=n.isPlainObject,m=Math,X=".kendoDiagram",K="cascading",Q="itemBoundsChange",Z="change",J="click",ee="drag",te="dragEnd",ie="dragStart",re="mouseEnter",ne="mouseLeave",ae="error",oe="Auto",se,le,ce,he,ue=9007199254740992,fe="select",de="itemRotate",pe="pan",ve="zoomStart",ge="zoomEnd",me="none",_e=600,ye=600,we="rectangle",be=100,xe=100,ke=20,Ce=20,Se=0,Te="Yellow",Ae=Number.MAX_VALUE,Me=-Number.MAX_VALUE,De="absolute",Ee="transformed",Pe="rotated",Ie="transparent",Be="width",ze="height",Oe="x",Le="y",Re="DOMMouseScroll"+X+" mousewheel"+X,Fe=.05,Ve=5,Ne='<a class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base #=className#" href="\\#">'+'<span class="k-button-icon #=iconClass# #=imageClass#"></span>'+'<span class="k-button-text">#=text#</span>'+"</a>",He=5,Ue=(l.DefaultConnectors=[{name:"Top"},{name:"Bottom"},{name:"Left"},{name:"Right"},{name:oe,position:function(e){return e.getPosition("center")}}],{cancel:{text:"Cancel",imageClass:"k-i-cancel",className:"k-diagram-cancel",iconClass:"k-icon"},update:{text:"Update",imageClass:"k-i-checkmark",className:"k-diagram-update",iconClass:"k-icon"}});function je(e){var t=e.originalEvent,i=0;if(t.wheelDelta){i=-t.wheelDelta/40;i=i>0?m.ceil(i):m.floor(i)}else if(t.detail)i=t.detail;return i}function Ge(e){return e.options.name.toLowerCase()===oe.toLowerCase()}function We(e,t){var i=ue,r,n;for(var a=0;a<t.length;a++){n=t[a];if(!Ge(n)){var o=e.distanceTo(n.position());if(o<i){i=o;r=n}}}return r}function qe(e,t){var i,r=[],n;var a=e.drawingContainer().children;var o=a.length;for(i=0;i<t.length;i++){n=t[i];for(var s=0;s<o;s++)if(a[s]==n.drawingContainer()){r.push(s);break}}return r}l.shapeDefaults=function(e){var t={type:we,path:"",autoSize:true,visual:null,x:Se,y:Se,minWidth:ke,minHeight:Ce,width:be,height:xe,hover:{},editable:{connect:true,tools:[]},connectors:l.DefaultConnectors,rotation:{angle:0}};h.simpleExtend(t,e);return t};var Ye=F.extend({init:function(e){var t=this;t.dataItem=(e||{}).dataItem;F.fn.init.call(t);t.options=c({id:l.randomId()},t.options,e);t.isSelected=false;t.visual=new x({id:t.options.id,autoSize:t.options.autoSize});t.id=t.options.id;t._template()},options:{hover:{},cursor:R.grip,content:{align:"center middle"},selectable:true,serializable:true,enable:true},_getCursor:function(e){if(this.adorner)return this.adorner._getCursor(e);return this.options.cursor},visible:function(e){if(j(e))return this.visual.visible();else this.visual.visible(e)},bounds:function(){},refresh:function(){this.visual.redraw()},position:function(e){this.options.x=e.x;this.options.y=e.y;this.visual.position(e)},toString:function(){return this.options.id},serialize:function(){var e=c({},{options:this.options});if(this.dataItem)e.dataItem=this.dataItem.toString();return e},_content:function(e){if(e!==p){var t=this.options;if(l.Utils.isString(e))t.content.text=e;else c(t.content,e);var i=t.content;var r=this._contentVisual;if(!r)this._createContentVisual(i);else this._updateContentVisual(i)}return this.options.content.text},_createContentVisual:function(e){if(e.text){this._contentVisual=new D(e);this._contentVisual._includeInBBox=false;this.visual.append(this._contentVisual)}},_updateContentVisual:function(e){this._contentVisual.redraw(e)},_hitTest:function(e){var t=this.bounds();return this.visible()&&t.contains(e)&&this.options.enable},_template:function(){var e=this;if(e.options.content.template){var t=e.dataItem||{},i=kendo.template(e.options.content.template,{paramName:"dataItem"});e.options.content.text=i(t)}},_canSelect:function(){return this.options.selectable!==false},toJSON:function(){return{id:this.options.id}}}),$e=e.extend({init:function(e,t){this.options=c({},this.options,t);this.connections=[];this.shape=e},options:{width:7,height:7,fill:{color:Te},hover:{}},position:function(){if(this.options.position)return this.options.position(this.shape);else return this.shape.getPosition(this.options.name)},toJSON:function(){return{shapeId:this.shape.toString(),connector:this.options.name}}}),d=($e.parse=function(e,t){var i=t.split(":"),r=i[0],n=i[1]||oe;for(var a=0;a<e.shapes.length;a++){var o=e.shapes[a];if(o.options.id==r)return o.getConnector(n.trim())}},Ye.extend({init:function(e,t){var i=this;Ye.fn.init.call(i,e);this.diagram=t;this.updateOptionsFromModel();e=i.options;i.connectors=[];i.type=e.type;i.createShapeVisual();i.updateBounds();i.content(i.content());i._createConnectors()},options:l.shapeDefaults(),_setOptionsFromModel:function(e){var t=Qe(e||this.dataItem);this.options=c({},this.options,t);this.redrawVisual()},updateOptionsFromModel:function(e,t){if(this.diagram&&this.diagram._isEditable){var i=Qe(e||this.dataItem);if(e&&t)if(!v.inArray(t,["x","y","width","height"])){if(this.options.visual)this._redrawVisual();else if(i.type){this.options=c({},this.options,i);this._redrawVisual()}if(this.options.content){this._template();this.content(this.options.content)}}else{var r=this.bounds();r[t]=e[t];this.bounds(r)}else this.options=c({},this.options,i)}},_redrawVisual:function(){this.visual.clear();this._contentVisual=null;this.options.dataItem=this.dataItem;this.createShapeVisual();this.updateBounds()},redrawVisual:function(){this._redrawVisual();if(this.options.content){this._template();this.content(this.options.content)}},updateModel:function(e){var t=this.diagram;if(t&&t._isEditable){var i=this._bounds;var r=this.dataItem;if(r){t._suspendModelRefresh();if(o(r.x)&&i.x!==r.x)r.set("x",i.x);if(o(r.y)&&i.y!==r.y)r.set("y",i.y);if(o(r.width)&&i.width!==r.width)r.set("width",i.width);if(o(r.height)&&i.height!==r.height)r.set("height",i.height);this.dataItem=r;t._resumeModelRefresh();if(e)t._syncShapeChanges()}}},updateBounds:function(){var e=this.visual._measure(true);var t=this.options;this.bounds(new f(t.x,t.y,e.width,e.height));this._rotate();this._alignContent()},content:function(e){var t=this._content(e);this._alignContent();return t},_alignContent:function(){var e=this.options.content||{};var t=this._contentVisual;if(t&&e.align){var i=this.visual._measure();var r=new l.RectAlign(i);var n=t.drawingElement.bbox(null);var a=new f(0,0,n.width(),n.height());var o=r.align(a,e.align);t.position(o.topLeft())}},_createConnectors:function(){var e=this.options,t=e.connectors.length,i=e.connectorDefaults,r,n;for(n=0;n<t;n++){r=new $e(this,c({},i,e.connectors[n]));this.connectors.push(r)}},bounds:function(e){var t;if(e)if(Y(e))switch(e){case Ee:t=this._transformedBounds();break;case De:t=this._transformedBounds();var i=this.diagram._pan;t.x+=i.x;t.y+=i.y;break;case Pe:t=this._rotatedBounds();break;default:t=this._bounds}else{this._setBounds(e);this._triggerBoundsChange();if(!(this.diagram&&this.diagram._layouting))this.refreshConnections()}else t=this._bounds;return t},_setBounds:function(e){var t=this.options;var i=e.topLeft();var r=t.x=i.x;var n=t.y=i.y;var a=t.width=m.max(e.width,t.minWidth);var o=t.height=m.max(e.height,t.minHeight);this._bounds=new f(r,n,a,o);this.visual.redraw({x:r,y:n,width:a,height:o})},position:function(e){if(e)this.bounds(new f(e.x,e.y,this._bounds.width,this._bounds.height));else return this._bounds.topLeft()},clone:function(){var e=this.serialize();e.options.id=l.randomId();if(this.diagram&&this.diagram._isEditable&&o(this.dataItem))e.options.dataItem=lt(this.dataItem);return new d(e.options)},select:function(e){var t=this.diagram,i,r;if(j(e))e=true;if(this._canSelect())if(this.isSelected!=e){i=[];r=[];this.isSelected=e;if(this.isSelected){t._selectedItems.push(this);i.push(this)}else{h.remove(t._selectedItems,this);r.push(this)}if(!t._internalSelection)t._selectionChanged(i,r);return true}},rotate:function(e,t,i){var r=this.visual.rotate();if(e!==p){if(i!==false&&this.diagram&&this.diagram.undoRedoService&&e!==r.angle)this.diagram.undoRedoService.add(new l.RotateUnit(this.diagram._resizingAdorner,[this],[r.angle]),false);var n=this.bounds(),a=new g(n.width/2,n.height/2),o,s;if(t){o=e-r.angle;s=n.center().rotate(t,360-o).minus(a);this._rotationOffset=this._rotationOffset.plus(s.minus(n.topLeft()));this.position(s)}this.visual.rotate(e,a);this.options.rotation.angle=e;if(this.diagram&&this.diagram._connectorsAdorner)this.diagram._connectorsAdorner.refresh();this.refreshConnections();if(this.diagram)this.diagram.trigger(de,{item:this})}return r},connections:function(e){var t=[],i,r,n,a,o;for(i=0;i<this.connectors.length;i++){o=this.connectors[i];a=o.connections;for(r=0,a;r<a.length;r++){n=a[r];if(e=="out"){var s=n.source();if(s.shape&&s.shape==this)t.push(n)}else if(e=="in"){var l=n.target();if(l.shape&&l.shape==this)t.push(n)}else t.push(n)}}return t},refreshConnections:function(){n.each(this.connections(),function(){this.refresh()})},getConnector:function(e){var t,i;if(Y(e)){e=e.toLocaleLowerCase();for(t=0;t<this.connectors.length;t++){i=this.connectors[t];if(i.options.name.toLocaleLowerCase()==e)return i}}else if(e instanceof g)return We(e,this.connectors);else return this.connectors.length?this.connectors[0]:null},getPosition:function(e){var t=this.bounds(),i=e.charAt(0).toLowerCase()+e.slice(1);if(q(t[i]))return this._transformPoint(t[i]());return t.center()},redraw:function(e){if(e){var t=this.options;var i;this.shapeVisual.redraw(this._visualOptions(e));if(this._diffNumericOptions(e,[Be,ze,Oe,Le])){this.bounds(new f(t.x,t.y,t.width,t.height));i=true}if(e.connectors){t.connectors=e.connectors;this._updateConnectors()}t=c(t,e);if(e.rotation||i)this._rotate();if(t.content)this.content(t.content)}},_updateConnectors:function(){var e=this.connections();this.connectors=[];this._createConnectors();var t;var i;var r;for(var n=0;n<e.length;n++){t=e[n];i=t.source();r=t.target();if(i.shape&&i.shape===this)t.source(this.getConnector(i.options.name)||null);else if(r.shape&&r.shape===this)t.target(this.getConnector(r.options.name)||null);t.updateModel()}},_diffNumericOptions:l.diffNumericOptions,_visualOptions:function(e){return{data:e.path,source:e.source,hover:e.hover,fill:e.fill,stroke:e.stroke}},_triggerBoundsChange:function(){if(this.diagram)this.diagram.trigger(Q,{item:this,bounds:this._bounds.clone()})},_transformPoint:function(e){var t=this.rotate(),i=this.bounds(),r=i.topLeft();if(t.angle)e.rotate(t.center().plus(r),360-t.angle);return e},_transformedBounds:function(){var e=this.bounds(),t=e.topLeft(),i=e.bottomRight();return f.fromPoints(this.diagram.modelToView(t),this.diagram.modelToView(i))},_rotatedBounds:function(){var e=this.bounds().rotatedBounds(this.rotate().angle),t=e.topLeft(),i=e.bottomRight();return f.fromPoints(t,i)},_rotate:function(){var e=this.options.rotation;if(e&&e.angle)this.rotate(e.angle);this._rotationOffset=new g},_hover:function(e){var t=this.options,i=t.hover,r=t.stroke,n=t.fill;if(e&&G(i.stroke))r=c({},r,i.stroke);if(e&&G(i.fill))n=i.fill;this.shapeVisual.redraw({stroke:r,fill:n});if(t.editable&&t.editable.connect)this.diagram._showConnectors(this,e)},_hitTest:function(e){if(this.visible()){var t=this.bounds(),i,r=this.rotate().angle;if(e.isEmpty&&!e.isEmpty())return P.rects(e,t,r?r:0);else{i=e.clone().rotate(t.center(),r);if(t.contains(i))return this}}},toJSON:function(){return{shapeId:this.options.id}},createShapeVisual:function(){var e=this.options;var t=this._visualOptions(e);var i=e.visual;var r=(e.type+"").toLocaleLowerCase();var n;t.width=e.width;t.height=e.height;if(q(i))n=i.call(this,e);else if(t.data){n=new T(t);dt(n)}else if(r=="rectangle")n=new k(t);else if(r=="circle")n=new C(t);else if(r=="text")n=new D(t);else if(r=="image")n=new E(t);else n=new T(t);this.shapeVisual=n;this.visual.append(this.shapeVisual)}})),Xe=Ye.extend({init:function(e,t,i){var r=this;Ye.fn.init.call(r,i);this.updateOptionsFromModel();this._initRouter();r.path=new l.Polyline(r.options);r.path.fill(Ie);r.visual.append(r.path);r._sourcePoint=r._targetPoint=new g;r._setSource(e);r._setTarget(t);r.content(r.options.content);r.definers=[];if(o(i)&&i.points)r.points(i.points)},options:{hover:{stroke:{}},startCap:me,endCap:me,points:[],selectable:true,fromConnector:oe,toConnector:oe},_setOptionsFromModel:function(e){this.updateOptionsFromModel(e||this.dataItem)},updateOptionsFromModel:function(e){if(this.diagram&&this.diagram._isEditable){var t=this.diagram._dataMap;var i=Ze(e||this.dataItem);if(e){if(o(i.from)){var r=t[i.from];if(r&&o(i.fromConnector))r=r.getConnector(i.fromConnector);this.source(r)}else if(o(i.fromX)&&o(i.fromY))this.source(new g(i.fromX,i.fromY));if(o(i.to)){var n=t[i.to];if(n&&o(i.toConnector))n=n.getConnector(i.toConnector);this.target(n)}else if(o(i.toX)&&o(i.toY))this.target(new g(i.toX,i.toY));if(o(i.type)&&this.type()!==i.type){this.points([]);this.type(i.type)}this.dataItem=e;this._template();this.redraw(this.options)}else this.options=c({},i,this.options)}},updateModel:function(e){if(this.diagram&&this.diagram._isEditable)if(this.diagram.connectionsDataSource){var t=this.diagram.connectionsDataSource.getByUid(this.dataItem.uid);if(t){this.diagram._suspendModelRefresh();if(o(this.options.fromX)&&this.options.fromX!==null){ut("from",t);ut("fromConnector",t);t.set("fromX",this.options.fromX);t.set("fromY",this.options.fromY)}else{t.set("from",this.options.from);if(o(t.fromConnector))t.set("fromConnector",this.sourceConnector?this.sourceConnector.options.name:null);ut("fromX",t);ut("fromY",t)}if(o(this.options.toX)&&this.options.toX!==null){ut("to",t);ut("toConnector",t);t.set("toX",this.options.toX);t.set("toY",this.options.toY)}else{t.set("to",this.options.to);if(o(t.toConnector))t.set("toConnector",this.targetConnector?this.targetConnector.options.name:null);ut("toX",t);ut("toY",t)}if(o(this.options.type)&&o(t.type))t.set("type",this.options.type);this.dataItem=t;this.diagram._resumeModelRefresh();if(e)this.diagram._syncConnectionChanges()}}},sourcePoint:function(){return this._resolvedSourceConnector?this._resolvedSourceConnector.position():this._sourcePoint},_setSource:function(e){var t=e instanceof d;var i=this.options.fromConnector||oe;var r;if(t&&!e.getConnector(i))return;if(e!==p)this.from=e;this._removeFromSourceConnector();if(e===null){if(this.sourceConnector){this._sourcePoint=(this._resolvedSourceConnector||this.sourceConnector).position();this._clearSourceConnector();this._setFromOptions(null,this._sourcePoint)}}else if(e instanceof $e){r=e.shape.dataItem;if(r)this._setFromOptions(r.id);this.sourceConnector=e;this.sourceConnector.connections.push(this)}else if(e instanceof g){this._setFromOptions(null,e);this._sourcePoint=e;if(this.sourceConnector)this._clearSourceConnector()}else if(t){r=e.dataItem;if(r)this._setFromOptions(r.id);this.sourceConnector=e.getConnector(i);this.sourceConnector.connections.push(this)}},source:function(e,t){if(G(e)){if(t&&this.diagram)this.diagram.undoRedoService.addCompositeItem(new l.ConnectionEditUnit(this,e));this._setSource(e);this.refresh()}return this.sourceConnector?this.sourceConnector:this._sourcePoint},_setFromOptions:function(e,t){this.options.from=e;if(t){this.options.fromX=t.x;this.options.fromY=t.y}else{this.options.fromX=null;this.options.fromY=null}},sourceDefiner:function(e){if(e)if(e instanceof l.PathDefiner){e.left=null;this._sourceDefiner=e;this.source(e.point)}else throw"The sourceDefiner needs to be a PathDefiner.";else{if(!this._sourceDefiner)this._sourceDefiner=new l.PathDefiner(this.sourcePoint(),null,null);return this._sourceDefiner}},targetPoint:function(){return this._resolvedTargetConnector?this._resolvedTargetConnector.position():this._targetPoint},_setTarget:function(e){var t=e instanceof d;var i=this.options.toConnector||oe;var r;if(t&&!e.getConnector(i))return;if(e!==p)this.to=e;this._removeFromTargetConnector();if(e===null){if(this.targetConnector){this._targetPoint=(this._resolvedTargetConnector||this.targetConnector).position();this._clearTargetConnector();this._setToOptions(null,this._targetPoint)}}else if(e instanceof $e){r=e.shape.dataItem;if(r)this._setToOptions(r.id);this.targetConnector=e;this.targetConnector.connections.push(this)}else if(e instanceof g){this._setToOptions(null,e);this._targetPoint=e;if(this.targetConnector)this._clearTargetConnector()}else if(t){r=e.dataItem;if(r)this._setToOptions(r.id);this.targetConnector=e.getConnector(i);this.targetConnector.connections.push(this)}},target:function(e,t){if(G(e)){if(t&&this.diagram)this.diagram.undoRedoService.addCompositeItem(new l.ConnectionEditUnit(this,p,e));this._setTarget(e);this.refresh()}return this.targetConnector?this.targetConnector:this._targetPoint},_setToOptions:function(e,t){this.options.to=e;if(t){this.options.toX=t.x;this.options.toY=t.y}else{this.options.toX=null;this.options.toY=null}},targetDefiner:function(e){if(e)if(e instanceof l.PathDefiner){e.right=null;this._targetDefiner=e;this.target(e.point)}else throw"The sourceDefiner needs to be a PathDefiner.";else{if(!this._targetDefiner)this._targetDefiner=new l.PathDefiner(this.targetPoint(),null,null);return this._targetDefiner}},_updateConnectors:function(){this._updateConnector(this.source(),"source");this._updateConnector(this.target(),"target")},_updateConnector:function(t,i){var r=this;var n=r.diagram;if(t instanceof $e&&!n.getShapeById(t.shape.id)){var a=t.shape.dataItem;var o=t.options.name;var e=function(){var e=n._dataMap[a.id];t=e.getConnector(o);r[i](t,false);r.updateModel()};if(n._dataMap[a.id])e();else{var s=n._inactiveShapeItems.getByUid(a.uid);if(s)n._deferredConnectionUpdates.push(s.onActivate(e))}}else r[i](t,false)},content:function(e){var t=this._content(e);if(o(e))this._alignContent();return t},_createContentVisual:function(e){var t;if(q(e.visual))t=e.visual.call(this,e);else if(e.text)t=new D(e);if(t){this._contentVisual=t;t._includeInBBox=false;this.visual.append(t)}return t},_updateContentVisual:function(e){if(q(e.visual)){this.visual.remove(this._contentVisual);this._createContentVisual(e)}else this._contentVisual.redraw(e)},_alignContent:function(){if(this._contentVisual){var e=He;var t=this.allPoints();var i=m.floor(t.length/2);var r=i-1;while(r>0&&t[r].equals(t[i])){r--;i++}var n=t[i];var a=t[r];var o=this._contentVisual._measure();var h=o.width;var s=o.height;var u=t.length%2===0;var f=a.distanceTo(n);if(u&&t.length>2&&f>0&&(a.y===n.y&&f<h||a.x===n.x&&f<s)){u=false;e=0}var l;if(u){var c=_.util.deg(m.atan2(n.y-a.y,n.x-a.x));l=new g((n.x-a.x)/2+a.x,(n.y-a.y)/2+a.y);if(m.abs(c)===90){l.x+=e;l.y-=s/2}else if(c%180===0){l.x-=h/2;l.y-=s+e}else if(c<-90||0<c&&c<90)l.y-=s;else if(c<0||c>90){l.x-=h;l.y-=s}}else{var d=m.floor(t.length/2);l=t[d].clone();a=t[d-1];n=t[d+1];var p=a.x<=l.x&&n.x<=l.x?e:-o.width-e;var v=a.y<=l.y&&n.y<=l.y?e:-o.height-e;l.x+=p;l.y+=v}this._contentVisual.position(l)}},select:function(e){var t=this.diagram,i,r;if(this._canSelect())if(this.isSelected!==e){this.isSelected=e;i=[];r=[];if(this.isSelected){this.adorner=new I(this,this.options.selection);t._adorn(this.adorner,true);t._selectedItems.push(this);i.push(this)}else if(this.adorner){t._adorn(this.adorner,false);h.remove(t._selectedItems,this);this.adorner=p;r.push(this)}if(this.adorner)this.adorner.refresh();if(!t._internalSelection)t._selectionChanged(i,r);return true}},bounds:function(e){if(e&&!Y(e))this._bounds=e;else return this._bounds},type:function(e){var t=this.options;if(e){if(e!==t.type){t.type=e;this._initRouter();this.refresh()}}else return t.type},_initRouter:function(){var e=(this.options.type||"").toLowerCase();if(e==K)this._router=new U(this);else this._router=new H(this)},points:function(e){if(e){this.definers=[];for(var t=0;t<e.length;t++){var i=e[t];if(i instanceof l.Point)this.definers.push(new l.PathDefiner(i));else if(i.hasOwnProperty("x")&&i.hasOwnProperty("y"))this.definers.push(new l.PathDefiner(new g(i.x,i.y)));else throw"A Connection point needs to be a Point or an object with x and y properties."}}else{var r=[];if(G(this.definers))for(var n=0;n<this.definers.length;n++)r.push(this.definers[n].point);return r}},allPoints:function(){var e=[this.sourcePoint()];if(this.definers)for(var t=0;t<this.definers.length;t++)e.push(this.definers[t].point);e.push(this.targetPoint());return e},refresh:function(){this._resolveConnectors();this._refreshPath();this._alignContent();if(this.adorner)this.adorner.refresh()},_resolveConnectors:function(){var e=this,t,i,r,n,a=e.source(),o=e.target();if(a instanceof g)t=a;else if(a instanceof $e)if(Ge(a))r=a.shape.connectors;else r=[a];if(o instanceof g)i=o;else if(o instanceof $e)if(Ge(o))n=o.shape.connectors;else n=[o];if(t){if(n)e._resolvedTargetConnector=We(t,n)}else if(r)if(i)e._resolvedSourceConnector=We(i,r);else if(n)this._resolveAutoConnectors(r,n)},_resolveAutoConnectors:function(h,u){var f=ue;var d=ue;var e,p;var t,i;var r,n;var a,o;var s,l;var c;for(s=0;s<h.length;s++){a=h[s];if(!Ge(a)){t=a.position();for(l=0;l<u.length;l++){o=u[l];if(!Ge(o)){i=o.position();c=m.round(t.distanceTo(i));if(c<f&&this.diagram&&this._testRoutePoints(t,i,a,o)){f=c;e=a;p=o}if(c<d){r=a;n=o;d=c}}}}}if(e){r=e;n=p}this._resolvedSourceConnector=r;this._resolvedTargetConnector=n},_testRoutePoints:function(e,t,i,r){var n=this._router;var h=true;if(n instanceof U){var a=n.routePoints(e,t,i,r),o,s,l,u;u=this._getRouteExclude(e,t,i.shape,r.shape);a.unshift(e);a.push(t);for(var c=1;c<a.length;c++){o=a[c-1];s=a[c];l=new f(m.min(o.x,s.x),m.min(o.y,s.y),m.abs(o.x-s.x),m.abs(o.y-s.y));if(l.width>0){l.x++;l.width-=2}if(l.height>0){l.y++;l.height-=2}if(!l.isEmpty()&&this.diagram._shapesQuadTree.hitTestRect(l,u)){h=false;break}}}return h},_getRouteExclude:function(e,t,i,r){var n=[];if(this._isPointInsideShape(e,i))n.push(i);if(this._isPointInsideShape(t,r))n.push(r);return n},_isPointInsideShape:function(e,t){var i=t.bounds(),r,n=t.rotate().angle,a,o,s=i.x,l=i.y;r=e.clone().rotate(i.center(),n);a=r.x;o=r.y;return a>s&&a<s+i.width&&o>l&&o<l+i.height},redraw:function(e){if(e){this.options=c({},this.options,e);var t=this.options.points;if(o(t)&&t.length>0){this.points(t);this._refreshPath()}if(e&&e.content||e.text)this.content(e.content);this.path.redraw({fill:e.fill,stroke:e.stroke,startCap:e.startCap,endCap:e.endCap})}},clone:function(){var e=this.serialize();if(this.diagram&&this.diagram._isEditable&&o(this.dataItem))e.options.dataItem=lt(this.dataItem);return new Xe(this.from,this.to,e.options)},serialize:function(){var e=this.from.toJSON?this.from.toJSON:this.from.toString(),t=this.to.toJSON?this.to.toJSON:this.to.toString();var i=c({},{options:this.options,from:e,to:t});if(o(this.dataItem))i.dataItem=this.dataItem.toString();i.options.points=this.points();return i},_hitTest:function(e){if(this.visible()){var t=new g(e.x,e.y),i=this.sourcePoint(),r=this.targetPoint();if(e.isEmpty&&!e.isEmpty()&&e.contains(i)&&e.contains(r))return this;if(this._router.hitTest(t))return this}},_hover:function(e){var t=(this.options.stroke||{}).color;if(e&&G(this.options.hover.stroke.color))t=this.options.hover.stroke.color;this.path.redraw({stroke:{color:t}})},_refreshPath:function(){if(!o(this.path))return;this._drawPath();this.bounds(this._router.getBounds())},_drawPath:function(){if(this._router)this._router.route();var e=this.sourcePoint();var t=this.targetPoint();var i=this.points();this.path.redraw({points:[e].concat(i,[t])})},_clearSourceConnector:function(){this.sourceConnector=p;this._resolvedSourceConnector=p},_clearTargetConnector:function(){this.targetConnector=p;this._resolvedTargetConnector=p},_removeFromSourceConnector:function(){if(this.sourceConnector)h.remove(this.sourceConnector.connections,this)},_removeFromTargetConnector:function(){if(this.targetConnector)h.remove(this.targetConnector.connections,this)},toJSON:function(){var e=this;var t,i,r;if(e.from&&e.from.toJSON)t=e.from.toJSON();else{r=e._sourcePoint;t={x:r.x,y:r.y}}if(e.to&&e.to.toJSON)i=e.to.toJSON();else{r=e._targetPoint;i={x:r.x,y:r.y}}return{from:t,to:i}}}),Ke=r.extend({init:function(e,t){var i=this;kendo.destroy(e);r.fn.init.call(i,e,t);i._initTheme();i._initElements();i._extendLayoutOptions(i.options);i._initDefaults(t);i._interactionDefaults();i._initCanvas();i.mainLayer=new x({id:"main-layer"});i.canvas.append(i.mainLayer);i._shapesQuadTree=new st(i);i._pan=new g;i._adorners=[];i.adornerLayer=new x({id:"adorner-layer"});i.canvas.append(i.adornerLayer);i._createHandlers();i._initialize();i._resizingAdorner=new O(i,{editable:i.options.editable});i._connectorsAdorner=new L(i);i._adorn(i._resizingAdorner,true);i._adorn(i._connectorsAdorner,true);i.selector=new z(i);i._clipboard=[];i.pauseMouseHandlers=false;i._fetchFreshData();i._createGlobalToolBar();i._createOptionElements();i.zoom(i.options.zoom);i.canvas.draw()},options:{name:"Diagram",theme:"default",layout:"",zoomRate:.1,zoom:1,zoomMin:0,zoomMax:2,dataSource:{},draggable:true,template:"",autoBind:true,editable:{rotate:{},resize:{},text:true,tools:[],drag:{snap:{size:10,angle:10}},remove:true},pannable:{},selectable:{key:"none"},tooltip:{enabled:true,format:"{0}"},copy:{enabled:true,offsetX:20,offsetY:20},shapeDefaults:l.shapeDefaults({undoable:true}),connectionDefaults:{editable:{tools:[]},type:K},shapes:[],connections:[]},events:[ge,ve,pe,fe,de,Q,Z,J,re,ne,"toolBarClick","save","cancel","edit","remove","add","dataBound",ie,ee,te],items:function(){return n()},_createGlobalToolBar:function(){var e=this.options.editable;if(e){var t=e.tools;if(this._isEditable&&t!==false&&(!t||t.length===0))t=["createShape","undo","redo","rotateClockwise","rotateAnticlockwise"];if(t&&t.length){this.toolBar=new Je(this,{tools:t||{},click:u(this._toolBarClick,this),modal:false});this.toolBar.element.css({textAlign:"left"});this.element.prepend(this.toolBar.element);this._resize()}}},createShape:function(){if(this.editor&&this.editor.end()||!this.editor){var e=this.dataSource;var t=e.view()||[];var i=t.length;var r=ht(e,{});var n=this._createShape(r,{});if(!this.trigger("add",{shape:n})){e.insert(i,r);var a=this._inactiveShapeItems.getByUid(r.uid);a.element=n;this.edit(n)}}},_createShape:function(e,t){t=c({},this.options.shapeDefaults,t);t.dataItem=e;var i=new d(t,this);return i},createConnection:function(){if(this.editor&&this.editor.end()||!this.editor){var e=this.connectionsDataSource;var t=e.view()||[];var i=t.length;var r=ht(e,{});var n=this._createConnection(r);if(!this.trigger("add",{connection:n})){this._connectionsDataMap[r.uid]=n;e.insert(i,r);this.addConnection(n,false);this.edit(n)}}},_createConnection:function(e,t,i){var r=c({},this.options.connectionDefaults);r.dataItem=e;var n=new Xe(t||new g,i||new g,r);return n},editModel:function(e,t){this.cancelEdit();var i,r;var n=this.options.editable;if(t=="shape"){i=n.shapeEditors;r=n.shapeTemplate}else if(t=="connection"){var a=u(it,this);i=c({},{from:a,to:a},n.connectionEditors);r=n.connectionTemplate}else return;this.editor=new tt(this.element,{update:u(this._update,this),cancel:u(this._cancel,this),model:e,type:t,target:this,editors:i,template:r});this.trigger("edit",this._editArgs())},edit:function(e){if(e.dataItem){var t=e instanceof d?"shape":"connection";this.editModel(e.dataItem,t)}},cancelEdit:function(){if(this.editor){this._getEditDataSource().cancelChanges(this.editor.model);this._destroyEditor()}},saveEdit:function(){if(this.editor&&this.editor.end()&&!this.trigger("save",this._editArgs()))this._getEditDataSource().sync()},_update:function(){if(this.editor&&this.editor.end()&&!this.trigger("save",this._editArgs())){this._getEditDataSource().sync();this._destroyEditor()}},_cancel:function(){if(this.editor&&!this.trigger("cancel",this._editArgs())){var e=this.editor.model;this._getEditDataSource().cancelChanges(e);var t=this._connectionsDataMap[e.uid]||this._dataMap[e.id];if(t)t._setOptionsFromModel(e);this._destroyEditor()}},_getEditDataSource:function(){return this.editor.options.type==="shape"?this.dataSource:this.connectionsDataSource},_editArgs:function(){var e={container:this.editor.wrapper};e[this.editor.options.type]=this.editor.model;return e},_destroyEditor:function(){if(this.editor){this.editor.close();this.editor=null}},_initElements:function(){this.wrapper=this.element.empty().css("position","relative").attr("tabindex",0).addClass("k-widget k-diagram");this.scrollable=n("<div />").appendTo(this.element)},_initDefaults:function(e){var t=this.options;var i=t.editable;var r=t.shapeDefaults;var n=t.connectionDefaults;var a=(e||{}).shapeDefaults;if(i===false){r.editable=false;n.editable=false}else{ft(i,r.editable,["drag","remove","connect"]);ft(i,n.editable,["drag","remove"])}if(a&&a.connectors)t.shapeDefaults.connectors=a.connectors},_interactionDefaults:function(){var e=this.options;var t=e.selectable;var i=e.pannable;var r=kendo.support.mobileOS;if(t&&!o(t.multiple))e.selectable=c({multiple:r?false:true},e.selectable);if(i&&!o(i.key))e.pannable=c({key:r?"none":"ctrl"},e.pannable)},_initCanvas:function(){var e=n("<div class='k-layer'></div>").appendTo(this.scrollable)[0];var t=this.viewport();this.canvas=new b(e,{width:t.width||_e,height:t.height||ye})},_createHandlers:function(){var e=this;var t=e.element;t.on(Re,u(e._wheel,e)).on("keydown"+X,u(e._keydown,e));e._userEvents=new kendo.UserEvents(this.scrollable,{multiTouch:true,fastTap:true,tap:u(e._tap,e),start:u(e._dragStart,e),move:u(e._drag,e),end:u(e._dragEnd,e),gesturestart:u(e._gestureStart,e),gesturechange:u(e._gestureChange,e),gestureend:u(e._gestureEnd,e),doubleTap:u(e._doubleTap,e),supportDoubleTap:true});e.toolService=new B(e);this.scrollable.on("mouseover"+X,u(e._mouseover,e)).on("mouseout"+X,u(e._mouseout,e)).on("mousemove"+X,u(e._mouseMove,e)).on("mousedown"+X,u(e._mouseDown,e)).on("mouseup"+X,u(e._mouseUp,e));this._syncHandler=u(e._syncChanges,e);e._resizeHandler=u(e.resize,e,false);kendo.onResize(e._resizeHandler);this.bind(ve,u(e._destroyToolBar,e));this.bind(pe,u(e._destroyToolBar,e))},_dragStart:function(e){this._pauseMouseHandlers=true;var t=this._eventPositions(e,true);var i=e.event;if(this.toolService.start(t,this._meta(i))){this._destroyToolBar();i.preventDefault()}},_drag:function(e){var t=this._eventPositions(e);var i=e.event;if(this.toolService.move(t,this._meta(i)))i.preventDefault()},_dragEnd:function(e){this._pauseMouseHandlers=false;var t=this._eventPositions(e);var i=e.event;if(this.toolService.end(t,this._meta(i))){this._createToolBar();i.preventDefault()}},_mouseMove:function(e){if(!this._pauseMouseHandlers){var t=this._eventPositions(e);this.toolService._updateHoveredItem(t);this.toolService._updateCursor(t)}},_mouseDown:function(){this._pauseMouseHandlers=true},_mouseUp:function(){this._pauseMouseHandlers=false},_tap:function(e){var t=this.toolService;var i=this.options.selectable;var r=this._eventPositions(e);var n=this.focus();t._updateHoveredItem(r);if(t.hoveredItem){var a=t.hoveredItem;this.trigger("click",{item:a,point:r,meta:this._meta(e.event)});if(i&&a.options.selectable!==false){var o=i.multiple!==false;var s=kendo.support.mobileOS||this._meta(e.event).ctrlKey;if(a.isSelected)if(s){this._destroyToolBar();a.select(false)}else this._createToolBar(n);else{this._destroyToolBar();this.select(a,{addToSelection:o&&s});this._createToolBar(n)}}}else if(i){this._destroyToolBar();this.deselect()}},_keydown:function(e){if(this.toolService.keyDown(e.keyCode,this._meta(e)))e.preventDefault()},_wheel:function(e){var t=je(e),i=this._eventPositions(e),r=c(this._meta(e),{delta:t});if(this.toolService.wheel(i,r))e.preventDefault()},_meta:function(e){return{ctrlKey:e.ctrlKey,metaKey:e.metaKey,altKey:e.altKey,shiftKey:e.shiftKey,type:e.type}},_eventPositions:function(e,t){var i;if(e.touch){var r=t?"startLocation":"location";i=new g(e.x[r],e.y[r])}else{var n=e.originalEvent;i=new g(n.pageX,n.pageY)}return this.documentToModel(i)},_gestureStart:function(e){this._destroyToolBar();this.scroller.disable();var t=this.documentToModel(new g(e.center.x,e.center.y));var i={point:t,zoom:this.zoom()};if(this.trigger(ve,i))return;this._gesture=e;this._initialCenter=t},_gestureChange:function(e){var t=this._gesture;var i=this._initialCenter;var r=this.documentToView(new g(e.center.x,e.center.y));var n=e.distance/t.distance;var a=this._zoom;var o=false;if(m.abs(n-1)>=Fe){this._zoom=a=this._getValidZoom(a*n);this.options.zoom=a;this._gesture=e;o=true}var s=i.times(a);var l=r.minus(s);if(o||this._pan.distanceTo(l)>=Ve){this._panTransform(l);this._updateAdorners()}e.preventDefault()},_doubleTap:function(e){var t=this;var i=this._eventPositions(e);var r=t.options;var n=r.zoomRate;var a=t.zoom()+n;var o=this._meta(e);var s={point:i,meta:o,zoom:a};if(t.trigger(ve,s))return;a=kendo.dataviz.round(Math.max(r.zoomMin,Math.min(r.zoomMax,a)),2);s.zoom=a;t.zoom(a,s);t.trigger(ge,s)},_gestureEnd:function(){if(this.options.pannable!==false)this.scroller.enable();this.trigger(ge,{point:this._initialCenter,zoom:this.zoom()})},_resize:function(){var e=this.viewport();if(this.canvas)this.canvas.size(e);if(this.scrollable&&this.toolBar)this.scrollable.height(e.height)},_mouseover:function(e){var t=e.target._kendoNode;if(t&&t.srcElement._hover)t.srcElement._hover(true,t.srcElement)},_mouseout:function(e){var t=e.target._kendoNode;if(t&&t.srcElement._hover)t.srcElement._hover(false,t.srcElement)},_initTheme:function(){var e=this;var t=((e.options||{}).theme||"").toLowerCase();var i=v.ui.themes||{};var r;if(v.SASS_THEMES.indexOf(t)!=-1)r=v.autoTheme().diagram;else r=(i[t]||{}).diagram;e.options=c({},r,e.options);if(e.options.editable===true)c(e.options,{editable:(r||{}).editable})},_createOptionElements:function(){var e=this.options;var t=e.shapes.length;if(t)this._createShapes();if(e.connections.length)this._createConnections();if(t&&e.layout)this.layout(e.layout)},_createShapes:function(){var e=this,t=e.options,i=t.shapes,r,n;for(n=0;n<i.length;n++){r=i[n];e.addShape(r)}},_createConnections:function(){var e=this,t=e.options,i=t.connectionDefaults,r=t.connections,n,a,o,s;for(s=0;s<r.length;s++){n=r[s];a=e._findConnectionTarget(n.from);o=e._findConnectionTarget(n.to);e.connect(a,o,c({},i,n))}},_findConnectionTarget:function(e){e=e||{};var t=this;var i=Y(e)?e:e.shapeId||e.id;var r;if(i){r=t.getShapeById(i);if(e.connector)r=r.getConnector(e.connector)}else r=new g(e.x||0,e.y||0);return r},destroy:function(){var e=this;r.fn.destroy.call(e);if(this._userEvents)this._userEvents.destroy();kendo.unbindResize(e._resizeHandler);e.clear();e.element.off(X);e.scroller.wrapper.off(X);e.canvas.destroy(true);e.canvas=p;e._destroyEditor();e.destroyScroller();e._destroyGlobalToolBar();e._destroyToolBar()},destroyScroller:function(){var e=this.scroller;if(!e)return;e.destroy();e.element.remove();this.scroller=null},save:function(){var e={shapes:[],connections:[]};var t,i,r;for(t=0;t<this.shapes.length;t++){r=this.shapes[t];if(r.options.serializable)e.shapes.push(r.options)}for(t=0;t<this.connections.length;t++){i=this.connections[t];e.connections.push(c({},i.options,i.toJSON()))}return e},focus:function(){if(!this.element.is(kendo._activeElement())){var e=this.element,t=e[0],i=[],r=[],n=document.documentElement,a;do{t=t.parentNode;if(t.scrollHeight>t.clientHeight){i.push(t);r.push(t.scrollTop)}}while(t!=n);e.trigger("focus");for(a=0;a<i.length;a++)i[a].scrollTop=r[a];return true}},load:function(e){this.clear();this.setOptions(e);this._createShapes();this._createConnections()},setOptions:function(e){c(this.options,e)},clear:function(){var e=this;e.select(false);e.mainLayer.clear();e._shapesQuadTree.clear();e._initialize()},connect:function(e,t,i){var r;if(this.connectionsDataSource&&this._isEditable){var n=this.connectionsDataSource.add({});r=this._connectionsDataMap[n.uid];r.source(e);r.target(t);r.redraw(i);r.updateModel()}else{r=new Xe(e,t,c({},this.options.connectionDefaults,i));this.addConnection(r)}return r},connected:function(e,t){for(var i=0;i<this.connections.length;i++){var r=this.connections[i];if(r.from==e&&r.to==t)return true}return false},addConnection:function(e,t){if(t!==false)this.undoRedoService.add(new l.AddConnectionUnit(e,this),false);e.diagram=this;e._setOptionsFromModel();e.refresh();this.mainLayer.append(e.visual);this.connections.push(e);this.trigger(Z,{added:[e],removed:[]});return e},_addConnection:function(e,t){var i=this.connectionsDataSource;var r;if(i&&this._isEditable){r=ht(i,lt(e.dataItem));e.dataItem=r;e.updateModel();if(!this.trigger("add",{connection:e})){this._connectionsDataMap[r.uid]=e;i.add(r);this.addConnection(e,t);e._updateConnectors();return e}}else if(!this.trigger("add",{connection:e})){this.addConnection(e,t);e._updateConnectors();return e}},addShape:function(e,t){var i,r=this.options.shapeDefaults;if(e instanceof d){i=e;this._parseBounds(i.bounds())}else if(!(e instanceof kendo.Class)){r=c({},r,e||{});i=new d(r,this);this._parseBounds(i.bounds())}else return;if(t!==false)this.undoRedoService.add(new l.AddShapeUnit(i,this),false);this.shapes.push(i);if(i.diagram!==this){this._shapesQuadTree.insert(i);i.diagram=this}this.mainLayer.append(i.visual);this.trigger(Z,{added:[i],removed:[]});return i},_addShape:function(e,t){var i=this;var r=i.dataSource;var n;if(r&&this._isEditable){n=ht(r,lt(e.dataItem));e.dataItem=n;e.updateModel();if(!this.trigger("add",{shape:e})){this.dataSource.add(n);var a=this._inactiveShapeItems.getByUid(n.uid);a.element=e;a.undoable=t;return e}}else if(!this.trigger("add",{shape:e}))return this.addShape(e,t)},_parseBounds:function(e){e.x=typeof e.x=="string"?parseFloat(e.x):e.x;e.y=typeof e.y=="string"?parseFloat(e.y):e.y},remove:function(e,t){e=W(e)?e.slice(0):[e];var i=ct(e);var r=i.shapes;var n=i.connections;var a;if(!o(t))t=true;if(t)this.undoRedoService.begin();this._suspendModelRefresh();for(a=r.length-1;a>=0;a--)this._removeItem(r[a],t,n);for(a=n.length-1;a>=0;a--)this._removeItem(n[a],t);this._resumeModelRefresh();if(t)this.undoRedoService.commit(false);this.trigger(Z,{added:[],removed:e})},_removeShapeDataItem:function(e){if(this._isEditable){this.dataSource.remove(e.dataItem);delete this._dataMap[e.dataItem.id]}},_removeConnectionDataItem:function(e){if(this._isEditable){this.connectionsDataSource.remove(e.dataItem);delete this._connectionsDataMap[e.dataItem.uid]}},_triggerRemove:function(e){var t=[];var i,r,n;for(var a=0;a<e.length;a++){i=e[a];n=i.options.editable;if(i instanceof d)r={shape:i};else r={connection:i};if(n&&n.remove!==false&&!this.trigger("remove",r))t.push(i)}return t},undo:function(){this.undoRedoService.undo()},redo:function(){this.undoRedoService.redo()},select:function(e,t){if(G(e)){t=c({addToSelection:false},t);var i=t.addToSelection,r=[],n=[],a,o;if(!i)this.deselect();this._internalSelection=true;if(e instanceof Array)r=e;else if(e instanceof Ye)r=[e];for(a=0;a<r.length;a++){o=r[a];if(o.select(true))n.push(o)}this._selectionChanged(n,[]);this._internalSelection=false}else return this._selectedItems},selectAll:function(){this.select(this.shapes.concat(this.connections))},selectArea:function(e){var t,i,r;this._internalSelection=true;var n=[];if(e instanceof f){i=this.shapes.concat(this.connections);for(t=0;t<i.length;t++){r=i[t];if((!e||r._hitTest(e))&&r.options.enable)if(r.select(true))n.push(r)}}this._selectionChanged(n,[]);this._internalSelection=false},deselect:function(e){this._internalSelection=true;var t=[],i=[],r,n;if(e instanceof Array)i=e;else if(e instanceof Ye)i.push(e);else if(!G(e))i=this._selectedItems.slice(0);for(n=0;n<i.length;n++){r=i[n];if(r.select(false))t.push(r)}this._selectionChanged([],t);this._internalSelection=false},toFront:function(e,t){if(!e)e=this._selectedItems.slice();var i=this._getDiagramItems(e),r;if(!o(t)||t){r=qe(this.mainLayer,i.visuals);var n=new N(this,e,r);this.undoRedoService.add(n)}else{this.mainLayer.toFront(i.visuals);this._fixOrdering(i,true)}},toBack:function(e,t){if(!e)e=this._selectedItems.slice();var i=this._getDiagramItems(e),r;if(!o(t)||t){r=qe(this.mainLayer,i.visuals);var n=new V(this,e,r);this.undoRedoService.add(n)}else{this.mainLayer.toBack(i.visuals);this._fixOrdering(i,false)}},bringIntoView:function(e,t){var i=this.viewport();var r=new l.RectAlign(i);var n,a,o,s;if(i.width===0||i.height===0)return;t=c({animate:false,align:"center middle"},t);if(t.align=="none")t.align="center middle";if(e instanceof Ye)a=e.bounds(Ee);else if(W(e))a=this.boundingBox(e);else if(e instanceof f)a=e.clone();o=a.clone();a.zoom(this._zoom);if(a.width>i.width||a.height>i.height){this._zoom=this._getValidZoom(m.min(i.width/o.width,i.height/o.height));a=o.clone().zoom(this._zoom)}this._zoomMainLayer();n=a.clone();r.align(a,t.align);s=a.topLeft().minus(n.topLeft());this.pan(s.times(-1),t.animate)},alignShapes:function(e){if(j(e))e="Left";var t=this.select(),i,r,n;if(t.length===0)return;switch(e.toLowerCase()){case"left":case"top":i=Ae;break;case"right":case"bottom":i=Me;break}for(n=0;n<t.length;n++){r=t[n];if(r instanceof d)switch(e.toLowerCase()){case"left":i=m.min(i,r.options.x);break;case"top":i=m.min(i,r.options.y);break;case"right":i=m.max(i,r.options.x);break;case"bottom":i=m.max(i,r.options.y);break}}var a=[];var o=[];for(n=0;n<t.length;n++){r=t[n];if(r instanceof d){o.push(r);a.push(r.bounds());switch(e.toLowerCase()){case"left":case"right":r.position(new g(i,r.options.y));break;case"top":case"bottom":r.position(new g(r.options.x,i));break}}}var s=new l.TransformUnit(o,a);this.undoRedoService.add(s,false)},zoom:function(e,t){if(e){var i=t?t.point:new l.Point(0,0);e=this._zoom=this._getValidZoom(e);if(!j(i)){i=new l.Point(m.round(i.x),m.round(i.y));var r=i.times(e);var n=this.modelToView(i);var a=n.minus(r);this._storePan(new l.Point(m.round(a.x),m.round(a.y)))}if(t)t.zoom=e;this._panTransform();this.canvas.surface.hideTooltip();this._updateAdorners()}return this._zoom},_getPan:function(e){var t=this.canvas;if(!t.translate)e=e.plus(this._pan);return e},pan:function(e,t){if(e instanceof g){var i=this;var r=i.scroller;e=i._getPan(e);e=e.times(-1);if(t)r.animatedScrollTo(e.x,e.y,function(){i._updateAdorners()});else{r.scrollTo(e.x,e.y);i._updateAdorners()}}else return this._pan.times(-1)},viewport:function(){var e=this.element;var t=e.width();var i=e.height();if(this.toolBar)i-=w(this.toolBar.element);return new f(0,0,t,i)},copy:function(){if(this.options.copy.enabled){this._clipboard=[];this._copyOffset=1;for(var e=0;e<this._selectedItems.length;e++){var t=this._selectedItems[e];this._clipboard.push(t)}}},cut:function(){if(this.options.copy.enabled){this._clipboard=[];this._copyOffset=0;for(var e=0;e<this._selectedItems.length;e++){var t=this._selectedItems[e];this._clipboard.push(t)}this.remove(this._clipboard,true)}},paste:function(){if(this._clipboard.length>0){var e,t,i;var r={};var n=ct(this._clipboard);var a=n.connections;var o=n.shapes;var s={x:this._copyOffset*this.options.copy.offsetX,y:this._copyOffset*this.options.copy.offsetY};this.deselect();for(i=0;i<o.length;i++){e=o[i];t=e.clone();r[e.id]=t;t.position(new g(e.options.x+s.x,e.options.y+s.y));t.diagram=this;t=this._addShape(t);if(t)t.select()}for(i=0;i<a.length;i++){e=a[i];t=this._addConnection(e.clone());if(t){this._updateCopiedConnection(t,e,"source",r,s);this._updateCopiedConnection(t,e,"target",r,s);t.select(true);t.updateModel()}}this._syncChanges();this._copyOffset+=1}},_updateCopiedConnection:function(t,e,i,r,n){var a,o,s;var l=e[i]();var c=this;if(l instanceof $e&&r[l.shape.id]){s=r[l.shape.id];if(c.getShapeById(s.id))t[i](s.getConnector(l.options.name));else{o=c._inactiveShapeItems.getByUid(s.dataItem.uid);if(o){a=function(e){s=c._dataMap[e.id];t[i](s.getConnector(l.options.name));t.updateModel()};c._deferredConnectionUpdates.push(o.onActivate(a))}}}else t[i](new g(e[i+"Point"]().x+n.x,e[i+"Point"]().y+n.y))},boundingBox:function(e,t){var i=f.empty(),r,n=G(e)?this._getDiagramItems(e):{shapes:this.shapes};if(n.shapes.length>0){var a=n.shapes[0];i=a.bounds(Pe);for(var o=1;o<n.shapes.length;o++){a=n.shapes[o];r=a.bounds(Pe);if(t===true){r.x-=a._rotationOffset.x;r.y-=a._rotationOffset.y}i=i.union(r)}}return i},_containerOffset:function(){var e=this.element.offset();if(this.toolBar)e.top+=w(this.toolBar.element);return e},documentToView:function(e){var t=this._containerOffset();return new g(e.x-t.left,e.y-t.top)},viewToDocument:function(e){var t=this._containerOffset();return new g(e.x+t.left,e.y+t.top)},viewToModel:function(e){return this._transformWithMatrix(e,this._matrixInvert)},modelToView:function(e){return this._transformWithMatrix(e,this._matrix)},modelToLayer:function(e){return this._transformWithMatrix(e,this._layerMatrix)},layerToModel:function(e){return this._transformWithMatrix(e,this._layerMatrixInvert)},documentToModel:function(e){var t=this.documentToView(e);if(!this.canvas.translate){t.x=t.x+this.scroller.scrollLeft;t.y=t.y+this.scroller.scrollTop}return this.viewToModel(t)},modelToDocument:function(e){return this.viewToDocument(this.modelToView(e))},_transformWithMatrix:function(e,t){var i=e;if(e instanceof g){if(t)i=t.apply(e)}else{var r=this._transformWithMatrix(e.topLeft(),t),n=this._transformWithMatrix(e.bottomRight(),t);i=f.fromPoints(r,n)}return i},setDataSource:function(e){this.options.dataSource=e;this._dataSource();if(this.options.autoBind)this.dataSource.fetch()},setConnectionsDataSource:function(e){this.options.connectionsDataSource=e;this._connectionDataSource();if(this.options.autoBind)this.connectionsDataSource.fetch()},layout:function(e){this._layouting=true;var t;if(j(e))e=this.options.layout;if(j(e)||j(e.type))t="Tree";else t=e.type;var i;switch(t.toLowerCase()){case"tree":i=new l.TreeLayout(this);break;case"layered":i=new l.LayeredLayout(this);break;case"forcedirected":case"force":case"spring":case"springembedder":i=new l.SpringLayout(this);break;default:throw"Layout algorithm '"+t+"' is not supported."}var r=new l.LayoutState(this);var n=i.layout(e);if(n){var a=new l.LayoutUndoUnit(r,n,e?e.animate:null);this.undoRedoService.add(a)}this._layouting=false;this._redrawConnections()},getShapeById:function(t){var e;e=h.first(this.shapes,function(e){return e.visual.id===t});if(e)return e;e=h.first(this.connections,function(e){return e.visual.id===t});return e},getShapeByModelId:function(t){var e;if(this._isEditable)e=this._dataMap[t];else e=h.first(this.shapes,function(e){return(e.dataItem||{}).id===t});return e},getShapeByModelUid:function(t){var e;if(this._isEditable)e=h.first(this.shapes,function(e){return(e.dataItem||{}).uid===t});else e=this._dataMap[t];return e},getConnectionByModelId:function(t){var e;if(this.connectionsDataSource)e=h.first(this.connections,function(e){return(e.dataItem||{}).id===t});return e},getConnectionByModelUid:function(e){var t;if(this.connectionsDataSource)t=this._connectionsDataMap[e];return t},_extendLayoutOptions:function(e){if(e.layout)e.layout=c({},l.LayoutBase.fn.defaultOptions||{},e.layout)},_selectionChanged:function(e,t){if(e.length||t.length)this.trigger(fe,{selected:e,deselected:t})},_getValidZoom:function(e){return m.min(m.max(e,this.options.zoomMin),this.options.zoomMax)},_panTransform:function(e){var t=this,i=e||t._pan;if(t.canvas.translate){t.scroller.scrollTo(i.x,i.y);t._zoomMainLayer()}else{t._storePan(i);t._transformMainLayer()}},_finishPan:function(){this.trigger(pe,{total:this._pan,delta:Number.NaN})},_storePan:function(e){this._pan=e;this._storeViewMatrix()},_zoomMainLayer:function(){var e=this._zoom;var t=new S(0,0,e,e);t.render(this.mainLayer);this._storeLayerMatrix(t);this._storeViewMatrix()},_transformMainLayer:function(){var e=this._pan,t=this._zoom;var i=new S(e.x,e.y,t,t);i.render(this.mainLayer);this._storeLayerMatrix(i);this._storeViewMatrix()},_storeLayerMatrix:function(e){this._layerMatrix=e.toMatrix();this._layerMatrixInvert=e.invert().toMatrix()},_storeViewMatrix:function(){var e=this._pan,t=this._zoom;var i=new S(e.x,e.y,t,t);this._matrix=i.toMatrix();this._matrixInvert=i.invert().toMatrix()},_toIndex:function(e,t){var i=this._getDiagramItems(e);this.mainLayer.toIndex(i.visuals,t);this._fixOrdering(i,false)},_fixOrdering:function(e,t){var i=t?this.shapes.length-1:0,r=t?this.connections.length-1:0,n,a;for(n=0;n<e.shapes.length;n++){a=e.shapes[n];h.remove(this.shapes,a);h.insert(this.shapes,a,i)}for(n=0;n<e.cons.length;n++){a=e.cons[n];h.remove(this.connections,a);h.insert(this.connections,a,r)}},_getDiagramItems:function(e){var t,i={},r=e;i.visuals=[];i.shapes=[];i.cons=[];if(!e)r=this._selectedItems.slice();else if(!W(e))r=[e];for(t=0;t<r.length;t++){var n=r[t];if(n instanceof d){i.shapes.push(n);i.visuals.push(n.visual)}else if(n instanceof Xe){i.cons.push(n);i.visuals.push(n.visual)}}return i},_removeItem:function(e,t,i){e.select(false);if(e instanceof d){this._removeShapeDataItem(e);this._removeShape(e,t,i)}else if(e instanceof Xe){this._removeConnectionDataItem(e);this._removeConnection(e,t)}this.mainLayer.remove(e.visual)},_removeShape:function(e,t,i){var r,n,a,o=[],s=[];this.toolService._removeHover();if(t)this.undoRedoService.addCompositeItem(new A(e));h.remove(this.shapes,e);this._shapesQuadTree.remove(e);for(r=0;r<e.connectors.length;r++){a=e.connectors[r];for(var l=0;l<a.connections.length;l++){n=a.connections[l];if(!i||!v.inArray(n,i))if(n.sourceConnector==a)o.push(n);else if(n.targetConnector==a)s.push(n)}}for(r=0;r<o.length;r++){o[r].source(null,t);o[r].updateModel()}for(r=0;r<s.length;r++){s[r].target(null,t);s[r].updateModel()}},_removeConnection:function(e,t){if(e.sourceConnector)h.remove(e.sourceConnector.connections,e);if(e.targetConnector)h.remove(e.targetConnector.connections,e);if(t)this.undoRedoService.addCompositeItem(new M(e));h.remove(this.connections,e)},_removeDataItems:function(e,t){var i,r,n,a;e=W(e)?e:[e];while(e.length){i=e.shift();n=this._dataMap[i.uid];if(n){this._removeShapeConnections(n);this._removeItem(n,false);delete this._dataMap[i.uid];if(t&&i.hasChildren&&i.loaded()){r=i.children.data();for(a=0;a<r.length;a++)e.push(r[a])}}}},_removeShapeConnections:function(e){var t=e.connections();var i;if(t)for(i=0;i<t.length;i++)this._removeItem(t[i],false)},_addDataItem:function(e,t){if(!o(e))return;var i=this._dataMap[e.id];if(i)return i;var r=c({},this.options.shapeDefaults);r.dataItem=e;i=new d(r,this);this.addShape(i,t!==false);this._dataMap[e.id]=i;return i},_addDataItemByUid:function(e){if(!o(e))return;var t=this._dataMap[e.uid];if(t)return t;var i=c({},this.options.shapeDefaults);i.dataItem=e;t=new d(i,this);this.addShape(t);this._dataMap[e.uid]=t;return t},_addDataItems:function(e,t){var i,r,n,a,o;for(r=0;r<e.length;r++){i=e[r];n=this._addDataItemByUid(i);a=this._addDataItemByUid(t);if(a&&!this.connected(a,n))o=this.connect(a,n)}},_refreshSource:function(e){var t=this,i=e.node,r=e.action,n=e.items,a=t.options,o,s;if(e.field){for(o=0;o<n.length;o++)if(this._dataMap[n[o].uid])this._dataMap[n[o].uid].redrawVisual();return}if(r=="remove")this._removeDataItems(e.items,true);else{if((!r||r==="itemloaded")&&!this._bindingRoots){this._bindingRoots=true;s=true}if(!r&&!i)t.clear();this._addDataItems(n,i);for(o=0;o<n.length;o++)n[o].load()}if(a.layout&&(s||r=="remove"||r=="add"))t.layout(a.layout);if(s){this.trigger("dataBound");this._bindingRoots=false}},_addItem:function(e){if(e instanceof d)this.addShape(e);else if(e instanceof Xe)this.addConnection(e)},_createToolBar:function(h){var e=this.toolService.diagram;if(!this.singleToolBar&&e.select().length===1){var t=e.select()[0];if(t&&t.options.editable!==false){var i=t.options.editable;var r=i.tools;if(this._isEditable&&r.length===0){if(t instanceof d)r=["edit","rotateClockwise","rotateAnticlockwise"];else if(t instanceof Xe)r=["edit"];if(i&&i.remove!==false)r.push("delete")}if(r&&r.length){var n=20;var a;this.singleToolBar=new Je(e,{tools:r,click:u(this._toolBarClick,this),modal:true,popupZIndex:parseInt(e.element.closest(".k-window").css("zIndex"),10)+10});var o=y(this.singleToolBar._popup.element);var s=w(this.singleToolBar._popup.element);if(t instanceof d){var l=this.modelToView(t.bounds(Pe));a=new g(l.x,l.y).minus(new g((o-l.width)/2,s+n))}else if(t instanceof Xe){var c=this.modelToView(t.bounds());a=new g(c.x,c.y).minus(new g((o-c.width-20)/2,s+n))}if(a){if(!this.canvas.translate)a=a.minus(new g(this.scroller.scrollLeft,this.scroller.scrollTop));a=this.viewToDocument(a);a=new g(m.max(a.x,0),m.max(a.y,0));this.singleToolBar.showAt(a);if(h)this.singleToolBar._popup.one("close",pt)}else this._destroyToolBar()}}}},_toolBarClick:function(e){this.trigger("toolBarClick",e);this._destroyToolBar()},_normalizePointZoom:function(e){return e.times(1/this.zoom())},_initialize:function(){this.shapes=[];this._selectedItems=[];this.connections=[];this._dataMap={};this._connectionsDataMap={};this._inactiveShapeItems=new nt;this._deferredConnectionUpdates=[];this.undoRedoService=new t({undone:this._syncHandler,redone:this._syncHandler});this.id=l.randomId()},_fetchFreshData:function(){var e=this;e._dataSource();if(e._isEditable)e._connectionDataSource();if(e.options.autoBind)if(e._isEditable){this._loadingShapes=true;this._loadingConnections=true;e.dataSource.fetch();e.connectionsDataSource.fetch()}else e.dataSource.fetch()},_dataSource:function(){if(o(this.options.connectionsDataSource)){this._isEditable=true;var e=this.options.dataSource||{};var t=W(e)?{data:e}:e;if(this.dataSource&&this._shapesRefreshHandler)this.dataSource.unbind("change",this._shapesRefreshHandler).unbind("requestStart",this._shapesRequestStartHandler).unbind("error",this._shapesErrorHandler);else{this._shapesRefreshHandler=u(this._refreshShapes,this);this._shapesRequestStartHandler=u(this._shapesRequestStart,this);this._shapesErrorHandler=u(this._error,this)}this.dataSource=kendo.data.DataSource.create(t).bind("change",this._shapesRefreshHandler).bind("requestStart",this._shapesRequestStartHandler).bind("error",this._shapesErrorHandler)}else{this._treeDataSource();this._isEditable=false}},_connectionDataSource:function(){var e=this.options.connectionsDataSource;if(e){var t=W(e)?{data:e}:e;if(this.connectionsDataSource&&this._connectionsRefreshHandler)this.connectionsDataSource.unbind("change",this._connectionsRefreshHandler).unbind("requestStart",this._connectionsRequestStartHandler).unbind("error",this._connectionsErrorHandler);else{this._connectionsRefreshHandler=u(this._refreshConnections,this);this._connectionsRequestStartHandler=u(this._connectionsRequestStart,this);this._connectionsErrorHandler=u(this._connectionsError,this)}this.connectionsDataSource=kendo.data.DataSource.create(t).bind("change",this._connectionsRefreshHandler).bind("requestStart",this._connectionsRequestStartHandler).bind("error",this._connectionsErrorHandler)}},_shapesRequestStart:function(e){if(e.type=="read")this._loadingShapes=true},_connectionsRequestStart:function(e){if(e.type=="read")this._loadingConnections=true},_error:function(){this._loadingShapes=false},_connectionsError:function(){this._loadingConnections=false},_refreshShapes:function(e){if(e.action==="remove"){if(this._shouldRefresh())this._removeShapes(e.items)}else if(e.action==="itemchange"){if(this._shouldRefresh())this._updateShapes(e.items,e.field)}else if(e.action==="add")this._inactiveShapeItems.add(e.items);else if(e.action==="sync")this._syncShapes(e.items);else this.refresh()},_shouldRefresh:function(){return!this._suspended},_suspendModelRefresh:function(){this._suspended=(this._suspended||0)+1},_resumeModelRefresh:function(){this._suspended=m.max((this._suspended||0)-1,0)},refresh:function(){this._loadingShapes=false;if(!this._loadingConnections)this._rebindShapesAndConnections()},_rebindShapesAndConnections:function(){this.clear();this._addShapes(this.dataSource.view());if(this.connectionsDataSource)this._addConnections(this.connectionsDataSource.view(),false);if(this.options.layout)this.layout(this.options.layout);else this._redrawConnections();this.trigger("dataBound")},refreshConnections:function(){this._loadingConnections=false;if(!this._loadingShapes)this._rebindShapesAndConnections()},_redrawConnections:function(){var e=this.connections;for(var t=0;t<e.length;t++)e[t].refresh()},_removeShapes:function(e){var t=this._dataMap;var i,r;for(r=0;r<e.length;r++){i=e[r];if(t[i.id]){this.remove(t[i.id],false);t[i.id]=null}}},_syncShapes:function(){var r=this;var n=r._inactiveShapeItems;n.forEach(function(e){var t=e.dataItem;var i=e.element;if(!t.isNew()){if(i){i._setOptionsFromModel();r.addShape(i,e.undoable);r._dataMap[t.id]=i}else r._addDataItem(t);e.activate();n.remove(t)}})},_updateShapes:function(e,t){for(var i=0;i<e.length;i++){var r=e[i];var n=this._dataMap[r.id];if(n)n.updateOptionsFromModel(r,t)}},_addShapes:function(e){for(var t=0;t<e.length;t++)this._addDataItem(e[t],false)},_refreshConnections:function(e){if(e.action==="remove"){if(this._shouldRefresh())this._removeConnections(e.items)}else if(e.action==="add")this._addConnections(e.items);else if(e.action==="sync");else if(e.action==="itemchange"){if(this._shouldRefresh())this._updateConnections(e.items)}else this.refreshConnections()},_removeConnections:function(e){for(var t=0;t<e.length;t++){this.remove(this._connectionsDataMap[e[t].uid],false);this._connectionsDataMap[e[t].uid]=null}},_updateConnections:function(e){for(var t=0;t<e.length;t++){var i=e[t];var r=this._connectionsDataMap[i.uid];r.updateOptionsFromModel(i)}},_addConnections:function(e,t){var i=e.length;for(var r=0;r<i;r++){var n=e[r];this._addConnectionDataItem(n,t)}},_addConnectionDataItem:function(e,t){if(!this._connectionsDataMap[e.uid]){var i=this._validateConnector(e.from);if(!o(i)||i===null)i=new g(e.fromX,e.fromY);var r=this._validateConnector(e.to);if(!o(r)||r===null)r=new g(e.toX,e.toY);if(o(i)&&o(r)){var n=c({},this.options.connectionDefaults);n.dataItem=e;var a=new Xe(i,r,n);this._connectionsDataMap[e.uid]=a;this.addConnection(a,t)}}},_validateConnector:function(e){var t;if(o(e)&&e!==null)t=this._dataMap[e];return t},_treeDataSource:function(){var e=this,t=e.options,i=t.dataSource;i=W(i)?{data:i}:i;if(i instanceof kendo.data.DataSource&&!(i instanceof kendo.data.HierarchicalDataSource))throw new Error("Incorrect DataSource type. If a single dataSource instance is set to the diagram then it should be a HierarchicalDataSource. You should set only the options instead of an instance or a HierarchicalDataSource instance or supply connectionsDataSource as well.");if(!i.fields)i.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}];if(e.dataSource&&e._refreshHandler)e._unbindDataSource();e._refreshHandler=u(e._refreshSource,e);e._errorHandler=u(e._error,e);e.dataSource=a.create(i).bind(Z,e._refreshHandler).bind(ae,e._errorHandler)},_unbindDataSource:function(){var e=this;e.dataSource.unbind(Z,e._refreshHandler).unbind(ae,e._errorHandler)},_adorn:function(e,t){if(t!==p&&e)if(t){this._adorners.push(e);this.adornerLayer.append(e.visual)}else{h.remove(this._adorners,e);this.adornerLayer.remove(e.visual)}},_showConnectors:function(e,t){if(t)this._connectorsAdorner.show(e);else this._connectorsAdorner.destroy()},_updateAdorners:function(){var e=this._adorners;for(var t=0;t<e.length;t++){var i=e[t];if(i.refreshBounds)i.refreshBounds();i.refresh()}},_refresh:function(){for(var e=0;e<this.connections.length;e++)this.connections[e].refresh()},_destroyToolBar:function(){if(this.singleToolBar){this.singleToolBar.hide();this.singleToolBar.destroy();this.singleToolBar=null}},_destroyGlobalToolBar:function(){if(this.toolBar){this.toolBar.hide();this.toolBar.destroy();this.toolBar=null}},exportDOMVisual:function(){var e=this.canvas._viewBox;var t=s.transform().translate(-e.x,-e.y);var i=new s.Rect([0,0],[e.width,e.height]);var r=_.Path.fromRect(i);var n=new _.Group({transform:t});var a=new _.Group({clip:r});var o=this.canvas.drawingElement.children[0];a.append(n);n.children.push(o);return a},exportVisual:function(){var e=s.transform().scale(1/this._zoom);var t=new _.Group({transform:e});var i=this.mainLayer.drawingElement;t.children.push(i);return t},_syncChanges:function(){this._syncShapeChanges();this._syncConnectionChanges()},_syncShapeChanges:function(){if(this.dataSource&&this._isEditable)this.dataSource.sync()},_syncConnectionChanges:function(){var e=this;if(e.connectionsDataSource&&e._isEditable){n.when.apply(n,e._deferredConnectionUpdates).then(function(){e.connectionsDataSource.sync()});e.deferredConnectionUpdates=[]}}});if(v.ExportMixin.extend(Ke.fn,true),kendo.PDFMixin)kendo.PDFMixin.extend(Ke.fn);function Qe(e){var t={};e=e||{};if(o(e.text)&&e.text!==null)t.text=e.text;if(o(e.x)&&e.x!==null)t.x=e.x;if(o(e.y)&&e.y!==null)t.y=e.y;if(o(e.width)&&e.width!==null)t.width=e.width;if(o(e.height)&&e.height!==null)t.height=e.height;if(o(e.type)&&e.type!==null)t.type=e.type;return t}function Ze(e){var t={};e=e||{};if(o(e.text)&&e.text!==null)t.content=e.text;if(o(e.type)&&e.type!==null)t.type=e.type;if(o(e.from)&&e.from!==null)t.from=e.from;if(o(e.fromConnector)&&e.fromConnector!==null)t.fromConnector=e.fromConnector;if(o(e.fromX)&&e.fromX!==null)t.fromX=e.fromX;if(o(e.fromY)&&e.fromY!==null)t.fromY=e.fromY;if(o(e.to)&&e.to!==null)t.to=e.to;if(o(e.toConnector)&&e.toConnector!==null)t.toConnector=e.toConnector;if(o(e.toX)&&e.toX!==null)t.toX=e.toX;if(o(e.toY)&&e.toY!==null)t.toY=e.toY;return t}var Je=kendo.Observable.extend({init:function(e,t){kendo.Observable.fn.init.call(this);this.diagram=e;this.options=c({},this.options,t);this._tools=[];this.createToolBar();this.createTools();this.appendTools();if(this.options.modal)this.createPopup();this.bind(this.events,t)},events:["click"],createPopup:function(){this.container=n("<div/>").append(this.element);this._popup=this.container.kendoPopup({}).getKendoPopup()},appendTools:function(){for(var e=0;e<this._tools.length;e++){var t=this._tools[e];if(t.buttons&&t.buttons.length||!o(t.buttons))this._toolBar.add(t)}},createToolBar:function(){this.element=n("<div/>");this._toolBar=this.element.kendoToolBar({click:u(this.click,this),resizable:false}).getKendoToolBar();this.element.css("border","none")},createTools:function(){for(var e=0;e<this.options.tools.length;e++)this.createTool(this.options.tools[e])},createTool:function(e){if(!$(e))e={name:e};var t=e.name+"Tool";if(this[t])this[t](e);else this._tools.push(c({},e,{attributes:this._setAttributes({action:e.name})}))},showAt:function(e){var t=parseInt(this.options.popupZIndex,10);if(this._popup){this._popup.open(e.x,e.y);if(t)this._popup.wrapper.css("zIndex",t)}},hide:function(){if(this._popup)this._popup.close()},newGroup:function(){return{type:"buttonGroup",buttons:[]}},editTool:function(){this._tools.push({icon:"edit",showText:"overflow",type:"button",text:"Edit",attributes:this._setAttributes({action:"edit"})})},deleteTool:function(){this._tools.push({icon:"close",showText:"overflow",type:"button",text:"Delete",attributes:this._setAttributes({action:"delete"})})},rotateAnticlockwiseTool:function(e){this._appendGroup("rotate");this._rotateGroup.buttons.push({icon:"rotate-left",showText:"overflow",text:"RotateAnticlockwise",group:"rotate",attributes:this._setAttributes({action:"rotateAnticlockwise",step:e.step})})},rotateClockwiseTool:function(e){this._appendGroup("rotate");this._rotateGroup.buttons.push({icon:"rotate-right",attributes:this._setAttributes({action:"rotateClockwise",step:e.step}),showText:"overflow",text:"RotateClockwise",group:"rotate"})},createShapeTool:function(){this._appendGroup("create");this._createGroup.buttons.push({icon:"shape",showText:"overflow",text:"CreateShape",group:"create",attributes:this._setAttributes({action:"createShape"})})},createConnectionTool:function(){this._appendGroup("create");this._createGroup.buttons.push({icon:"connector",showText:"overflow",text:"CreateConnection",group:"create",attributes:this._setAttributes({action:"createConnection"})})},undoTool:function(){this._appendGroup("history");this._historyGroup.buttons.push({icon:"undo",showText:"overflow",text:"Undo",group:"history",attributes:this._setAttributes({action:"undo"})})},redoTool:function(){this._appendGroup("history");this._historyGroup.buttons.push({icon:"redo",showText:"overflow",text:"Redo",group:"history",attributes:this._setAttributes({action:"redo"})})},_appendGroup:function(e){var t="_"+e+"Group";if(!this[t]){this[t]=this.newGroup();this._tools.push(this[t])}},_setAttributes:function(e){var t={};if(e.action)t[kendo.attr("action")]=e.action;if(e.step)t[kendo.attr("step")]=e.step;return t},_getAttributes:function(e){var t={};var i=e.attr(kendo.attr("action"));if(i)t.action=i;var r=e.attr(kendo.attr("step"));if(r)t.step=r;return t},click:function(e){var t=this._getAttributes(n(e.target));var i=t.action;if(i&&this[i])this[i](t);this.trigger("click",this.eventData(i,e.target))},eventData:function(e,t){var i=this.selectedElements(),r=i.length,n=[],a=[],o;for(var s=0;s<r;s++){o=i[s];if(o instanceof d)n.push(o);else a.push(o)}return{shapes:n,connections:a,action:e,target:t}},delete:function(){var e=this.diagram;var t=e._triggerRemove(this.selectedElements());if(t.length){this.diagram.remove(t,true);this.diagram._syncChanges()}},edit:function(){var e=this.selectedElements();if(e.length===1)this.diagram.edit(e[0])},rotateClockwise:function(e){var t=parseFloat(e.step||90);this._rotate(t)},rotateAnticlockwise:function(e){var t=parseFloat(e.step||90);this._rotate(-t)},_rotate:function(e){var t=this.diagram._resizingAdorner;t.angle(t.angle()+e);t.rotate()},selectedElements:function(){return this.diagram.select()},createShape:function(){this.diagram.createShape()},createConnection:function(){this.diagram.createConnection()},undo:function(){this.diagram.undo()},redo:function(){this.diagram.redo()},destroy:function(){this.diagram=null;this.element=null;this.options=null;if(this._toolBar)this._toolBar.destroy();if(this._popup)this._popup.destroy()}}),et=kendo.Observable.extend({init:function(e,t){kendo.Observable.fn.init.call(this);this.options=i(true,{},this.options,t);this.element=e;this.model=this.options.model;this.fields=this._getFields();this._initContainer();this.createEditable()},options:{editors:{}},_initContainer:function(){this.wrapper=this.element},createEditable:function(){var e=this.options;this.editable=new kendo.ui.Editable(this.wrapper,{fields:this.fields,target:e.target,clearContainer:false,model:this.model})},_isEditable:function(e){return this.model.editable&&this.model.editable(e)},_getFields:function(){var e=[];var t=this.model.fields;for(var i in t){var r={};if(this._isEditable(i)){var n=this.options.editors[i];if(n)r.editor=n;r.field=i;e.push(r)}}return e},end:function(){return this.editable.end()},destroy:function(){this.editable.destroy();this.editable.element.find("["+kendo.attr("container-for")+"]").empty();this.model=this.wrapper=this.element=this.columns=this.editable=null}}),tt=et.extend({init:function(e,t){et.fn.init.call(this,e,t);this.bind(this.events,this.options);this.open()},events:["update","cancel"],options:{window:{modal:true,resizable:false,draggable:true,title:"Edit",visible:false}},_initContainer:function(){var t=this;this.wrapper=n('<div class="k-popup-edit-form"/>').attr(kendo.attr("uid"),this.model.uid);var e="";if(this.options.template){e+=this._renderTemplate();this.fields=[]}else e+=this._renderFields();e+=this._renderButtons();this.wrapper.append(n('<div class="k-edit-form-container"/>').append(e));this.window=new kendo.ui.Window(this.wrapper.appendTo(this.element),this.options.window);this.window.bind("close",function(e){if(e.userTriggered){e.sender.element.trigger("focus");t._cancelClick(e)}});this._attachButtonEvents()},_renderTemplate:function(){var e=this.options.template;if(typeof e==="string")e=kendo.unescape(e);e=kendo.template(e)(this.model);return e},_renderFields:function(){var e="";for(var t=0;t<this.fields.length;t++){var i=this.fields[t];e+='<div class="k-edit-label"><label for="'+i.field+'">'+(i.field||"")+"</label></div>";if(this._isEditable(i.field))e+="<div "+kendo.attr("container-for")+'="'+i.field+'" class="k-edit-field"></div>'}return e},_renderButtons:function(){var e='<div class="k-edit-buttons">';e+=this._createButton("update");e+=this._createButton("cancel");e+="</div>";return e},_createButton:function(e){return kendo.template(Ne)(Ue[e])},_attachButtonEvents:function(){this._cancelClickHandler=u(this._cancelClick,this);this.window.element.on(J+X,"a.k-diagram-cancel",this._cancelClickHandler);this._updateClickHandler=u(this._updateClick,this);this.window.element.on(J+X,"a.k-diagram-update",this._updateClickHandler)},_updateClick:function(e){e.preventDefault();this.trigger("update")},_cancelClick:function(e){e.preventDefault();this.trigger("cancel")},open:function(){this.window.center().open()},close:function(){this.window.bind("deactivate",u(this.destroy,this)).close()},destroy:function(){this.window.close().destroy();this.window.element.off(J+X,"a.k-diagram-cancel",this._cancelClickHandler);this.window.element.off(J+X,"a.k-diagram-update",this._updateClickHandler);this._cancelClickHandler=null;this._editUpdateClickHandler=null;this.window=null;et.fn.destroy.call(this)}});function it(e,t){var i=this.dataSource.reader.model;if(i){var r=i.fn.fields.text?"text":i.idField;n("<input name='"+t.field+"' />").appendTo(e).kendoDropDownList({dataValueField:i.idField,dataTextField:r,dataSource:this.dataSource.data().toJSON(),optionLabel:" ",valuePrimitive:true})}}function rt(e){this.dataItem=e;this.callbacks=[]}function nt(){this.items={}}rt.fn=rt.prototype={onActivate:function(e){var t=n.Deferred();this.callbacks.push({callback:e,deferred:t});return t},activate:function(){var e=this.callbacks;var t;for(var i=0;i<e.length;i++){t=this.callbacks[i];t.callback(this.dataItem);t.deferred.resolve()}this.callbacks=[]}},nt.fn=nt.prototype={add:function(e){for(var t=0;t<e.length;t++)this.items[e[t].uid]=new rt(e[t])},forEach:function(e){for(var t in this.items)e(this.items[t])},getByUid:function(e){return this.items[e]},remove:function(e){delete this.items[e.uid]}};var at=e.extend({init:function(){this.shapes=[]},_add:function(e,t){this.shapes.push({bounds:t,shape:e});e._quadNode=this},insert:function(e,t){this._add(e,t)},remove:function(e){var t=this.shapes;var i=t.length;for(var r=0;r<i;r++)if(t[r].shape===e){t.splice(r,1);break}},hitTestRect:function(e,t){var i=this.shapes;var r=i.length;for(var n=0;n<r;n++)if(this._testRect(i[n].shape,e)&&!v.inArray(i[n].shape,t))return true},_testRect:function(e,t){var i=e.rotate().angle;var r=e.bounds();var n;if(!i)n=r.overlaps(t);else n=P.rects(t,r,-i);return n}}),ot=at.extend({init:function(e){at.fn.init.call(this);this.children=[];this.rect=e},inBounds:function(e){var t=this.rect;var i=t.bottomRight();var r=e.bottomRight();var n=t.x<=e.x&&t.y<=e.y&&r.x<=i.x&&r.y<=i.y;return n},overlapsBounds:function(e){return this.rect.overlaps(e)},insert:function(e,t){var i=false;var r=this.children;var n=r.length;if(this.inBounds(t)){if(!n&&this.shapes.length<4)this._add(e,t);else{if(!n)this._initChildren();for(var a=0;a<r.length;a++)if(r[a].insert(e,t)){i=true;break}if(!i)this._add(e,t)}i=true}return i},_initChildren:function(){var e=this.rect,t=this.children,i=this.shapes,r=e.center(),n=e.width/2,a=e.height/2,o,s;t.push(new ot(new f(e.x,e.y,n,a)),new ot(new f(r.x,e.y,n,a)),new ot(new f(e.x,r.y,n,a)),new ot(new f(r.x,r.y,n,a)));for(s=i.length-1;s>=0;s--)for(o=0;o<t.length;o++)if(t[o].insert(i[s].shape,i[s].bounds)){i.splice(s,1);break}},hitTestRect:function(e,t){var i;var r=this.children;var n=r.length;var a=false;if(this.overlapsBounds(e))if(at.fn.hitTestRect.call(this,e,t))a=true;else for(i=0;i<n;i++)if(r[i].hitTestRect(e,t)){a=true;break}return a}}),st=e.extend({ROOT_SIZE:1e3,init:function(e){var t=u(this._boundsChange,this);e.bind(Q,t);e.bind(de,t);this.initRoots()},initRoots:function(){this.rootMap={};this.root=new at},clear:function(){this.initRoots()},_boundsChange:function(e){if(e.item._quadNode)e.item._quadNode.remove(e.item);this.insert(e.item)},insert:function(e){var t=e.bounds(Pe);var i=this.ROOT_SIZE;var r=this.getSectors(t);var n=r[0][0];var a=r[1][0];if(this.inRoot(r))this.root.insert(e,t);else{if(!this.rootMap[n])this.rootMap[n]={};if(!this.rootMap[n][a])this.rootMap[n][a]=new ot(new f(n*i,a*i,i,i));this.rootMap[n][a].insert(e,t)}},remove:function(e){if(e._quadNode)e._quadNode.remove(e)},inRoot:function(e){return e[0].length>1||e[1].length>1},getSectors:function(e){var t=this.ROOT_SIZE;var i=e.bottomRight();var r=m.floor(i.x/t);var n=m.floor(i.y/t);var a=[[],[]];for(var o=m.floor(e.x/t);o<=r;o++)a[0].push(o);for(var s=m.floor(e.y/t);s<=n;s++)a[1].push(s);return a},hitTestRect:function(e,t){var i=this.getSectors(e);var r,n,a,o;var s;if(this.root.hitTestRect(e,t))return true;for(r=0;r<i[0].length;r++){a=i[0][r];for(n=0;n<i[1].length;n++){o=i[1][n];s=(this.rootMap[a]||{})[o];if(s&&s.hitTestRect(e,t))return true}}return false}});function lt(e){var t=e;if(e instanceof kendo.data.Model){t=e.toJSON();t[e.idField]=e._defaultId}return t}function ct(e){var t=[];var i=[];var r,n;for(n=0;n<e.length;n++){r=e[n];if(r instanceof d)i.push(r);else t.push(r)}return{shapes:i,connections:t}}function ht(e,t){if(e.reader.model)return new e.reader.model(t);return new kendo.data.ObservableObject(t)}function ut(e,t){if(o(t[e]))t.set(e,null)}function ft(e,t,i){var r;for(var n=0;n<i.length;n++){r=i[n];if(t&&!o(t[r]))t[r]=e[r]}}function dt(e){var t=e.drawingContainer().clippedBBox(null);if(t.origin.x!==0||t.origin.y!==0)e.position(-t.origin.x,-t.origin.y)}function pt(e){e.preventDefault()}v.ui.plugin(Ke),c(l,{Shape:d,Connection:Xe,Connector:$e,DiagramToolBar:Je,QuadNode:ot,QuadRoot:at,ShapesQuadTree:st,PopupEditor:tt})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.dataviz.diagram.min",["./kendo.data.min","./kendo.draganddrop.min","./kendo.userevents.min","./kendo.mobile.scroller.min","./kendo.drawing.min","./dataviz/diagram/utils.min","./dataviz/diagram/math.min","./dataviz/diagram/svg.min","./dataviz/diagram/services.min","./dataviz/diagram/layout.min","./dataviz/diagram/dom.min"],function(){var e={id:"dataviz.diagram",name:"Diagram",category:"dataviz",description:"The Kendo DataViz Diagram ",depends:["data","userevents","mobile.scroller","draganddrop","drawing","dataviz.core","dataviz.themes","toolbar"],features:[{id:"dataviz.diagram-pdf-export",name:"PDF export",description:"Export Diagram as PDF",depends:["pdf"]},{id:"dataviz.diagram-editing",name:"Editing",description:"Support for model editing",depends:["editable","window","dropdownlist"]}]};return window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.dataviz.treemap.min",["./kendo.data.min","./kendo.userevents.min","./kendo.dataviz.themes.min"],function(){var e={id:"dataviz.treeMap",name:"TreeMap",category:"dataviz",description:"The Kendo DataViz TreeMap",depends:["data","userevents","dataviz.themes"]},r=window.kendo.jQuery,s=void 0,h=Math,n=r.proxy,d=Array.isArray,l=window.kendo,p=l._outerHeight,c=l._outerWidth,t=l.Class,i=l.ui.Widget,v=l.template,a=l.deepExtend,g=l.data.HierarchicalDataSource,m=l.getter,_=l.dataviz,y=".kendoTreeMap",o="change",w="dataBound",b="itemCreated",x=Number.MAX_VALUE,k="mouseover"+y,C="mouseleave"+y,S="undefined",T=i.extend({init:function(e,t){l.destroy(e);r(e).empty();i.fn.init.call(this,e,t);this.wrapper=this.element;this._initTheme(this.options);this.element.addClass("k-widget k-treemap");this._setLayout();this._originalOptions=a({},this.options);this._initDataSource();this._attachEvents();l.notify(this,_.ui)},options:{name:"TreeMap",theme:"default",autoBind:true,textField:"text",valueField:"value",colorField:"color"},events:[w,b],_initTheme:function(e){var t=this,i=_.ui.themes||{},r=((e||{}).theme||"").toLowerCase(),n=(i[r]||{}).treeMap;t.options=a({},n,e)},_attachEvents:function(){this.element.on(k,n(this._mouseover,this)).on(C,n(this._mouseleave,this));this._resizeHandler=n(this.resize,this,false);l.onResize(this._resizeHandler)},_setLayout:function(){if(this.options.type==="horizontal"){this._layout=new D(false);this._view=new E(this,this.options)}else if(this.options.type==="vertical"){this._layout=new D(true);this._view=new E(this,this.options)}else{this._layout=new A;this._view=new M(this,this.options)}},_initDataSource:function(){var e=this,t=e.options,i=t.dataSource;e._dataChangeHandler=n(e._onDataChange,e);e.dataSource=g.create(i).bind(o,e._dataChangeHandler);if(i)if(e.options.autoBind)e.dataSource.fetch()},setDataSource:function(e){var t=this;t.dataSource.unbind(o,t._dataChangeHandler);t.dataSource=e.bind(o,t._dataChangeHandler);if(e)if(t.options.autoBind)t.dataSource.fetch()},_onDataChange:function(e){var t=e.node;var i=e.items;var r=this.options;var n,a;if(!t){this._cleanItems();this.element.empty();n=this._wrapItem(i[0]);this._layout.createRoot(n,c(this.element),p(this.element),this.options.type==="vertical");this._view.createRoot(n);this._root=n;this._colorIdx=0}else if(i.length){var o=this._getByUid(t.uid);o.children=[];i=new l.data.Query(i)._sortForGrouping(r.valueField,"desc");for(a=0;a<i.length;a++){n=i[a];o.children.push(this._wrapItem(n))}var s=this._view.htmlSize(o);this._layout.compute(o.children,o.coord,s);this._setColors(o.children);this._view.render(o)}for(a=0;a<i.length;a++)i[a].load();if(t)this.trigger(w,{node:t})},_cleanItems:function(){var e=this;e.angular("cleanup",function(){return{elements:e.element.find(".k-leaf div,.k-treemap-title,.k-treemap-title-vertical")}})},_setColors:function(e){var t=this.options.colors;var i=this._colorIdx;var r=t[i%t.length];var n,a;if(d(r))n=I(r[0],r[1],e.length);var o=false;for(var s=0;s<e.length;s++){a=e[s];if(!u(a.color))if(n)a.color=n[s];else a.color=r;if(!a.dataItem.hasChildren)o=true}if(o)this._colorIdx++},_contentSize:function(e){this.view.renderHeight(e)},_wrapItem:function(e){var t={};if(u(this.options.valueField))t.value=P(this.options.valueField,e);if(u(this.options.colorField))t.color=P(this.options.colorField,e);if(u(this.options.textField))t.text=P(this.options.textField,e);t.level=e.level();t.dataItem=e;return t},_getByUid:function(e){var t=[this._root];var i;while(t.length){i=t.pop();if(i.dataItem.uid===e)return i;if(i.children)t=t.concat(i.children)}},dataItem:function(e){var t=r(e).attr(l.attr("uid")),i=this.dataSource;return i&&i.getByUid(t)},findByUid:function(e){return this.element.find(".k-treemap-tile["+l.attr("uid")+"='"+e+"']")},_mouseover:function(e){var t=r(e.target);if(t.hasClass("k-leaf")){this._removeActiveState();t.removeClass("k-state-hover").addClass("k-state-hover")}},_removeActiveState:function(){this.element.find(".k-state-hover").removeClass("k-state-hover")},_mouseleave:function(){this._removeActiveState()},destroy:function(){i.fn.destroy.call(this);this.element.off(y);if(this.dataSource)this.dataSource.unbind(o,this._dataChangeHandler);this._root=null;l.unbindResize(this._resizeHandler);l.destroy(this.element)},items:function(){return r()},getSize:function(){return l.dimensions(this.element)},_resize:function(){var e=this._root;if(e){var t=this.element;var i=t.children();e.coord.width=c(t);e.coord.height=p(t);i.css({width:e.coord.width,height:e.coord.height});this._resizeItems(e,i)}},_resizeItems:function(e,t){if(e.children&&e.children.length){var i=t.children(".k-treemap-wrap").children();var r,n;this._layout.compute(e.children,e.coord,{text:this._view.titleSize(e,t)});for(var a=0;a<e.children.length;a++){r=e.children[a];n=i.filter("["+l.attr("uid")+"='"+r.dataItem.uid+"']");this._view.setItemSize(r,n);this._resizeItems(r,n)}}},setOptions:function(e){var t=e.dataSource;e.dataSource=s;this._originalOptions=a(this._originalOptions,e);this.options=a({},this._originalOptions);this._setLayout();this._initTheme(this.options);i.fn._setEvents.call(this,e);if(t)this.setDataSource(g.create(t));if(this.options.autoBind)this.dataSource.fetch()}}),A=t.extend({createRoot:function(e,t,i){e.coord={width:t,height:i,top:0,left:0}},leaf:function(e){return!e.children},layoutChildren:function(e,t){var i=t.width*t.height;var r=0,n=[],a;for(a=0;a<e.length;a++){n[a]=parseFloat(e[a].value);r+=n[a]}for(a=0;a<n.length;a++)e[a].area=i*n[a]/r;var o=this.layoutHorizontal()?t.height:t.width;var s=[e[0]];var l=e.slice(1);this.squarify(l,s,o,t)},squarify:function(e,t,i,r){this.computeDim(e,t,i,r)},computeDim:function(e,t,i,r){if(e.length+t.length==1){var n=e.length==1?e:t;this.layoutLast(n,i,r);return}if(e.length>=2&&t.length===0){t=[e[0]];e=e.slice(1)}if(e.length===0){if(t.length>0)this.layoutRow(t,i,r);return}var a=e[0];if(this.worstAspectRatio(t,i)>=this.worstAspectRatio([a].concat(t),i))this.computeDim(e.slice(1),t.concat([a]),i,r);else{var o=this.layoutRow(t,i,r);this.computeDim(e,[],o.dim,o)}},layoutLast:function(e,t,i){e[0].coord=i},layoutRow:function(e,t,i){if(this.layoutHorizontal())return this.layoutV(e,t,i);else return this.layoutH(e,t,i)},orientation:"h",layoutVertical:function(){return this.orientation==="v"},layoutHorizontal:function(){return this.orientation==="h"},layoutChange:function(){this.orientation=this.layoutVertical()?"h":"v"},worstAspectRatio:function(e,t){if(!e||e.length===0)return x;var i=0,r=0,n=x;for(var a=0;a<e.length;a++){var o=e[a].area;i+=o;n=n<o?n:o;r=r>o?r:o}return h.max(t*t*r/(i*i),i*i/(t*t*n))},compute:function(e,t,i){if(!(t.width>=t.height&&this.layoutHorizontal()))this.layoutChange();if(e&&e.length>0){var r={width:t.width,height:t.height-i.text,top:0,left:0};this.layoutChildren(e,r)}},layoutV:function(e,t,i){var r=this._totalArea(e),n=0;t=f(r/t);for(var a=0;a<e.length;a++){var o=f(e[a].area/t);e[a].coord={height:o,width:t,top:i.top+n,left:i.left};n+=o}var s={height:i.height,width:i.width-t,top:i.top,left:i.left+t};s.dim=h.min(s.width,s.height);if(s.dim!=s.height)this.layoutChange();return s},layoutH:function(e,t,i){var r=this._totalArea(e);var n=f(r/t),a=i.top,o=0;for(var s=0;s<e.length;s++){e[s].coord={height:n,width:f(e[s].area/n),top:a,left:i.left+o};o+=e[s].coord.width}var l={height:i.height-n,width:i.width,top:i.top+n,left:i.left};l.dim=h.min(l.width,l.height);if(l.dim!=l.width)this.layoutChange();return l},_totalArea:function(e){var t=0;for(var i=0;i<e.length;i++)t+=e[i].area;return t}}),M=t.extend({init:function(e,t){this.options=a({},this.options,t);this.treeMap=e;this.element=r(e.element);this.offset=0},titleSize:function(e,t){var i=t.children(".k-treemap-title");return i.height()||0},htmlSize:function(e){var t=this._getByUid(e.dataItem.uid);var i={text:0};if(e.children){this._clean(t);var r=this._getText(e);if(r){var n=this._createTitle(e);t.append(n);this._compile(n,e.dataItem);i.text=n.height()}t.append(this._createWrap());this.offset=(c(t)-t.innerWidth())/2}return i},_compile:function(e,t){this.treeMap.angular("compile",function(){return{elements:e,data:[{dataItem:t}]}})},_getByUid:function(e){return this.element.find(".k-treemap-tile["+l.attr("uid")+"='"+e+"']")},render:function(e){var t=this._getByUid(e.dataItem.uid);var i=e.children;if(i){var r=t.find(".k-treemap-wrap");for(var n=0;n<i.length;n++){var a=i[n];var o=this._createLeaf(a);r.append(o);this._compile(o.children(),a.dataItem);this.treeMap.trigger(b,{element:o})}}},createRoot:function(e){var t=this._createLeaf(e);this.element.append(t);this._compile(t.children(),e.dataItem);this.treeMap.trigger(b,{element:t})},_clean:function(e){this.treeMap.angular("cleanup",function(){return{elements:e.children(":not(.k-treemap-wrap)")}});e.css("background-color","");e.removeClass("k-leaf");e.removeClass("k-inverse");e.empty()},_createLeaf:function(e){return this._createTile(e).css("background-color",e.color).addClass("k-leaf").toggleClass("k-inverse",this._tileColorBrightness(e)>180).toggle(e.value!==0).append(r("<div></div>").html(this._getText(e)))},_createTile:function(e){var t=r("<div class='k-treemap-tile'></div>");this.setItemSize(e,t);if(u(e.dataItem)&&u(e.dataItem.uid))t.attr(l.attr("uid"),e.dataItem.uid);return t},_itemCoordinates:function(e){var t={width:e.coord.width,height:e.coord.height,left:e.coord.left,top:e.coord.top};if(t.left&&this.offset)t.width+=this.offset*2;else t.width+=this.offset;if(t.top)t.height+=this.offset*2;else t.height+=this.offset;return t},setItemSize:function(e,t){var i=this._itemCoordinates(e);t.css({width:i.width,height:i.height,left:i.left,top:i.top})},_getText:function(e){var t=e.text;if(this.options.template)t=this._renderTemplate(e);return t},_renderTemplate:function(e){var t=v(this.options.template);return t({dataItem:e.dataItem,text:e.text})},_createTitle:function(e){return r("<div class='k-treemap-title'></div>").append(r("<div></div>").html(this._getText(e)))},_createWrap:function(){return r("<div class='k-treemap-wrap'></div>")},_tileColorBrightness:function(e){return V(e.color)}}),D=t.extend({createRoot:function(e,t,i,r){e.coord={width:t,height:i,top:0,left:0};e.vertical=r},init:function(e){this.vertical=e;this.quotient=e?1:0},compute:function(e,t,i){if(e.length>0){var r=t.width;var n=t.height;if(this.vertical)n-=i.text;else r-=i.text;var a={width:r,height:n,top:0,left:0};this.layoutChildren(e,a)}},layoutChildren:function(e,t){var i=t.width*t.height;var r=0;var n=[];var a;for(a=0;a<e.length;a++){var o=e[a];n[a]=parseFloat(e[a].value);r+=n[a];o.vertical=this.vertical}for(a=0;a<n.length;a++)e[a].area=i*n[a]/r;this.sliceAndDice(e,t)},sliceAndDice:function(e,t){var i=this._totalArea(e);if(e[0].level%2===this.quotient)this.layoutHorizontal(e,t,i);else this.layoutVertical(e,t,i)},layoutHorizontal:function(e,t,i){var r=0;for(var n=0;n<e.length;n++){var a=e[n];var o=a.area/(i/t.width);a.coord={height:t.height,width:o,top:t.top,left:t.left+r};r+=o}},layoutVertical:function(e,t,i){var r=0;for(var n=0;n<e.length;n++){var a=e[n];var o=a.area/(i/t.height);a.coord={height:o,width:t.width,top:t.top+r,left:t.left};r+=o}},_totalArea:function(e){var t=0;for(var i=0;i<e.length;i++)t+=e[i].area;return t}}),E=M.extend({htmlSize:function(e){var t=this._getByUid(e.dataItem.uid);var i={text:0,offset:0};if(e.children){this._clean(t);var r=this._getText(e);if(r){var n=this._createTitle(e);t.append(n);this._compile(n,e.dataItem);if(e.vertical)i.text=n.height();else i.text=n.width()}t.append(this._createWrap());this.offset=(c(t)-t.innerWidth())/2}return i},titleSize:function(e,t){var i;if(e.vertical)i=t.children(".k-treemap-title").height();else i=t.children(".k-treemap-title-vertical").width();return i||0},_createTitle:function(e){var t;if(e.vertical)t=r("<div class='k-treemap-title'></div>");else t=r("<div class='k-treemap-title-vertical'></div>");return t.append(r("<div></div>").html(this._getText(e)))}});function P(e,t){if(t===null)return t;var i=m(e,true);return i(t)}function u(e){return typeof e!==S}function I(e,t,i){var r=O(e);var n=O(t);var a=V(e)-V(t)<0;var o=[];o.push(e);for(var s=0;s<i;s++){var l={r:B(r.r,n.r,s,i,a),g:B(r.g,n.g,s,i,a),b:B(r.b,n.b,s,i,a)};o.push(z(l))}o.push(t);return o}function B(e,t,i,r,n){var a=h.min(h.abs(e),h.abs(t));var o=h.max(h.abs(e),h.abs(t));var s=(o-a)/(r+1);var l=s*(i+1);var c;if(n)c=a+l;else c=o-l;return c}function z(e){return"#"+L(e.r)+L(e.g)+L(e.b)}function O(e){e=e.replace("#","");var t=R(e);return{r:F(t.r),g:F(t.g),b:F(t.b)}}function L(e){var t=h.round(e).toString(16).toUpperCase();if(t.length===1)t="0"+t;return t}function R(e){var t=e.length;var i={};if(t===3){i.r=e[0];i.g=e[1];i.b=e[2]}else{i.r=e.substring(0,2);i.g=e.substring(2,4);i.b=e.substring(4,6)}return i}function F(e){return parseInt(e.toString(16),16)}function V(e){var t=0;if(e){e=O(e);t=h.sqrt(.241*e.r*e.r+.691*e.g*e.g+.068*e.b*e.b)}return t}function f(e){var t=h.pow(10,4);return h.round(e*t)/t}return _.ui.plugin(T),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.angular.min",["./kendo.core.min"],function(){var e={id:"angular",name:"AngularJS Directives",category:"framework",description:"Adds Kendo UI for AngularJS directives",depends:["core"],defer:true};return function(b,v,x){"use strict";if(!v||!v.injector)return;var c=v.module("kendo.directives",[]),e=v.injector(["ng"]),g=e.get("$parse"),k=e.get("$timeout"),f,m=e.get("$log");function t(e){var t=k;try{k=function(e){return e()};return e()}finally{k=t}}var C;var p=function(){var s={TreeList:"TreeListDataSource",TreeView:"HierarchicalDataSource",Scheduler:"SchedulerDataSource",PivotGrid:"PivotDataSource",PivotConfigurator:"PivotDataSource",PanelBar:"HierarchicalDataSource",Menu:"$PLAIN",ContextMenu:"$PLAIN"};var l=function(e,t){if(t=="$PLAIN")return e;return kendo.data[t].create(e)};return function(e,r,t,i){var n=s[t]||"DataSource";var a=e.$eval(i);var o=l(a,n);e.$watch(i,function(e){var t=L(r);if(t&&typeof t.setDataSource=="function")if(e!==a&&e!==t.dataSource){var i=l(e,n);t.setDataSource(i);a=e}});return o}}();var y={kDataSource:true,kOptions:true,kRebind:true,kNgModel:true,kNgDelay:true};var w={name:true,title:true,style:true};function u(s,l,c,h,f,e){if(!(l instanceof jQuery))throw new Error("The Kendo UI directives require jQuery to be available before AngularJS. Please include jquery before angular in the document.");var i=c.kNgDelay,a=s.$eval(i);e=e||[];var d=e[0],p=e[1];var u=b(l)[h];if(!u){window.console.error("Could not find: "+h);return null}var t=S(s,l,c,h,u);var v=t.options;if(t.unresolved.length){var o=[];for(var r=0,g=t.unresolved.length;r<g;r++){var m=t.unresolved[r];var _=b.Deferred(function(t){var i=s.$watch(m.path,function(e){if(e!==x){i();t.resolve()}})}).promise();o.push(_)}b.when.apply(null,o).then(n);return}if(i&&!a){var y=s.$root||s;var w=function(){var t=s.$watch(i,function(e){if(e!==x){t();l.removeAttr(c.$attr.kNgDelay);i=null;k(n)}})};if(/^\$(digest|apply)$/.test(y.$$phase))w();else s.$apply(w);return}else return n();function n(){var e;if(c.kRebind)e=b(b(l)[0].cloneNode(true));v=S(s,l,c,h,u).options;if(l.is("select"))(function(e){if(e.length>0){var t=b(e[0]);if(!/\S/.test(t.text())&&/^\?/.test(t.val()))t.remove();for(var i=0;i<e.length;i++)b(e[i]).off("$destroy")}})(l[0].options);var t=u.call(l,C=v).data(h);M(t,s,c,h,f);s.$emit("kendoWidgetCreated",t);var i=P(s,t);if(c.kRebind)B(t,s,l,e,c.kRebind,i,c);if(c.kNgDisabled){var r=c.kNgDisabled;var n=s.$eval(r);if(n)t.enable(!n);T(t,s,l,r)}if(c.kNgReadonly){var a=c.kNgReadonly;var o=s.$eval(a);if(o)t.readonly(o);A(t,s,l,a)}if(c.kNgModel)E(t,s,c.kNgModel);if(d)D(t,s,l,d,p);if(t)I(t,l);return t}}function S(r,h,e,u,t){var f=u.replace(/^kendo/,"");var n=[];var i=e.kOptions||e.options;var a=r.$eval(i);if(i&&a===x)n.push({option:"options",path:i});var o=v.extend({},e.defaultOptions,a);function s(e,t){var i=v.copy(r.$eval(t));if(i===x)n.push({option:e,path:t});else o[e]=i}var l=t.widget.prototype.options;var d=t.widget.prototype.events;b.each(e,function(e,t){if(e==="source"||e==="kDataSource"||e==="kScopeField"||e==="scopeField")return;var i="data"+e.charAt(0).toUpperCase()+e.slice(1);if(e.indexOf("on")===0){var r=e.replace(/^on./,function(e){return e.charAt(2).toLowerCase()});if(d.indexOf(r)>-1)o[r]=t}if(l.hasOwnProperty(i))s(i,t);else if(l.hasOwnProperty(e)&&!w[e])s(e,t);else if(!y[e]){var n=e.match(/^k(On)?([A-Z].*)/);if(n){var a=n[2].charAt(0).toLowerCase()+n[2].slice(1);if(n[1]&&e!="kOnLabel")o[a]=t;else{if(e=="kOnLabel")a="onLabel";s(a,t)}}}});var c=e.kDataSource||e.source;if(c)o.dataSource=p(r,h,f,c);o.$angular=[r];return{options:o,unresolved:n}}function T(i,e,t,r){if(kendo.ui.PanelBar&&i instanceof kendo.ui.PanelBar||kendo.ui.Menu&&i instanceof kendo.ui.Menu){m.warn("k-ng-disabled specified on a widget that does not have the enable() method: "+i.options.name);return}e.$watch(r,function(e,t){if(e!=t)i.enable(!e)})}function A(i,e,t,r){if(typeof i.readonly!="function"){m.warn("k-ng-readonly specified on a widget that does not have the readonly() method: "+i.options.name);return}e.$watch(r,function(e,t){if(e!=t)i.readonly(e)})}function M(e,t,i,r,n){if(i[n]){var a=g(i[n]).assign;if(a)a(t,e);else throw new Error(n+" attribute used but expression in it is not assignable: "+i[r])}}function h(e){if(/checkbox|radio/i.test(e.attr("type")))return e.prop("checked");return e.val()}var i=/^(input|select|textarea)$/i;function d(e){return i.test(e[0].tagName)}function D(i,r,n,a,o){if(!i.value)return;var s;var l=false;if(d(n))s=function(){return h(n)};else s=function(){return i.value()};var e=function(){var t=a.$viewValue;if(t===x)t=a.$modelValue;if(t===x)t=null;l=true;setTimeout(function(){l=false;if(i){var e=r[i.element.attr("k-ng-model")];if(e)t=e;if(i.options.autoBind===false&&!i.listView.bound()){if(t)i.value(t)}else i.value(t)}},0)};a.$render=e;setTimeout(function(){if(a.$render!==e){a.$render=e;a.$render()}});if(d(n))n.on("change",function(){l=true});var t=function(t){return function(){var e;if(l&&!n.is("select"))return;if(t&&o)e=o.$pristine;a.$setViewValue(s());if(t){a.$setPristine();if(e)o.$setPristine()}_(r)}};i.first("change",t(false));i.first("spin",t(false));if(!(kendo.ui.AutoComplete&&i instanceof kendo.ui.AutoComplete))i.first("dataBound",t(true));var c=s();if(!isNaN(a.$viewValue)&&c!=a.$viewValue)if(!a.$isEmpty(a.$viewValue))i.value(a.$viewValue);else if(c!=null&&c!==""&&c!=a.$viewValue)a.$setViewValue(c);a.$setPristine()}function E(i,e,t){if(kendo.ui.DateRangePicker&&i instanceof kendo.ui.DateRangePicker){var r=t.split(",");var n=r[0].trim();var a;E(i._startDateInput,e,n);if(r[1]){a=r[1].trim();E(i._endDateInput,e,a);i.range({start:e[n],end:e[a]})}else i.range({start:e[n],end:null});return}if(typeof i.value!="function"){m.warn("k-ng-model specified on a widget that does not have the value() method: "+i.options.name);return}var h=b(i.element).parents("ng-form, form").first();var o=kendo.getter(h.attr("name"),true)(e);var s=g(t);var u=s.assign;var l=false;var f=kendo.ui.MultiSelect&&i instanceof kendo.ui.MultiSelect||kendo.ui.RangeSlider&&i instanceof kendo.ui.RangeSlider;var c=function(e){return e&&f?e.length:0};var d=c(s(e));i.$angular_setLogicValue(s(e));var p=function(e,t){if(e===x)e=null;if(l||e==t&&c(e)==d)return;d=c(e);i.$angular_setLogicValue(e)};if(f)e.$watchCollection(t,p);else e.$watch(t,p);var v=function(){l=true;if(o&&o.$pristine)o.$setDirty();_(e,function(){u(e,i.$angular_getLogicValue());d=c(s(e))});l=false};i.first("change",v);i.first("spin",v)}function P(e,t){var i=e.$on("$destroy",function(){i();if(t){kendo.destroy(t.element);t=null}});return i}function I(r,e){if(!(window.MutationObserver&&r.wrapper))return;var n=[].slice.call(b(e)[0].classList);var t=new MutationObserver(function(e){i();if(!r)return;e.forEach(function(e){var t=b(r.wrapper)[0];switch(e.attributeName){case"class":var i=[].slice.call(e.target.classList);i.forEach(function(e){if(n.indexOf(e)<0){t.classList.add(e);if(kendo.ui.ComboBox&&r instanceof kendo.ui.ComboBox)r.input[0].classList.add(e)}});n.forEach(function(e){if(i.indexOf(e)<0){t.classList.remove(e);if(kendo.ui.ComboBox&&r instanceof kendo.ui.ComboBox)r.input[0].classList.remove(e)}});n=i;break;case"disabled":if(typeof r.enable=="function"&&!r.element.attr("readonly"))r.enable(!b(e.target).attr("disabled"));break;case"readonly":if(typeof r.readonly=="function"&&!r.element.attr("disabled"))r.readonly(!!b(e.target).attr("readonly"));break}});a()});function i(){t.disconnect()}function a(){t.observe(b(e)[0],{attributes:true})}a();r.first("destroy",i)}function B(s,l,c,h,e,u,f){var d=l.$watch(e,function(e,t){if(!s._muteRebind&&e!==t){d();if(f._cleanUp)f._cleanUp();var i=j[s.options.name];if(i)i.forEach(function(e){var t=l.$eval(f["k"+e]);if(t)h.append(b(t).attr(kendo.toHyphens("k"+e),""))});var r=b(s.wrapper)[0];var n=b(s.element)[0];var a=s.options.name==="Upload";if(a)c=b(n);var o=c.injector().get("$compile");s._destroy();if(u)u();s=null;if(n){if(r)r.parentNode.replaceChild(n,r);b(c).replaceWith(h)}o(h)(l)}},true);_(l)}function r(i,r){return function(e,t){return i.call(r,e,t)}}function n(e,t){this[e]=kendo.stringify(t)}c.factory("directiveFactory",["$compile",function(e){var c;var h=false;f=e;var t=function(s,l){return{restrict:"AC",require:["?ngModel","^?form"],scope:false,controller:["$scope","$attrs","$element",function(e,t){this.template=r(n,t);t._cleanUp=r(function(){this.template=null;t._cleanUp=null},this)}],link:function(e,t,i,r){var n=b(t);var a=s.replace(/([A-Z])/g,"-$1");n.attr(a,n.attr("data-"+a));n[0].removeAttribute("data-"+a);var o=u(e,t,i,s,l,r);if(!o)return;if(c)clearTimeout(c);c=setTimeout(function(){e.$emit("kendoRendered");if(!h){h=true;b("form").each(function(){var e=b(this).controller("form");if(e)e.$setPristine()})}})}}};return{create:t}}]);var l={Editor:"textarea",NumericTextBox:"input",DatePicker:"input",DateTimePicker:"input",TimePicker:"input",AutoComplete:"input",ColorPicker:"input",MaskedTextBox:"input",MultiSelect:"input",Upload:"input",Validator:"form",Button:"button",MobileButton:"a",MobileBackButton:"a",MobileDetailButton:"a",ListView:"ul",MobileListView:"ul",ScrollView:"div",PanelBar:"ul",TreeView:"ul",Menu:"ul",ContextMenu:"ul",ActionSheet:"ul",Switch:"input"};var z=["MobileView","MobileDrawer","MobileLayout","MobileSplitView","MobilePane","MobileModalView"];var O=["MobileApplication","MobileView","MobileModalView","MobileLayout","MobileActionSheet","MobileDrawer","MobileSplitView","MobilePane","MobileScrollView","MobilePopOver"];v.forEach(["MobileNavBar","MobileButton","MobileBackButton","MobileDetailButton","MobileTabStrip","MobileScrollView","MobileScroller"],function(r){O.push(r);r="kendo"+r;c.directive(r,function(){return{restrict:"A",link:function(e,t,i){u(e,t,i,r,r)}}})});function a(e,t){function i(t,i){c.directive(t,["directiveFactory",function(e){return e.create(i,t)}])}var r=t?"Mobile":"";r+=e.fn.options.name;var n=r;var a="kendo"+r.charAt(0)+r.substr(1).toLowerCase();r="kendo"+r;var o=r.replace(/([A-Z])/g,"-$1");if(z.indexOf(r.replace("kendo",""))==-1){var s=r===a?[r]:[r,a];v.forEach(s,function(e){c.directive(e,function(){return{restrict:"E",replace:true,template:function(e,t){var i=l[n]||"div";var r=t.kScopeField||t.scopeField;return"<"+i+" "+o+(r?'="'+r+'"':"")+">"+e.html()+"</"+i+">"}}})})}if(O.indexOf(r.replace("kendo",""))>-1)return;i(r,r);if(a!=r)i(a,r)}function L(e){e=b(e);return kendo.widgetInstance(e,kendo.ui)||kendo.widgetInstance(e,kendo.mobile.ui)||kendo.widgetInstance(e,kendo.dataviz.ui)}function _(e,t){var i=e.$root||e;var r=/^\$(digest|apply)$/.test(i.$$phase);if(t)if(r)t();else i.$apply(t);else if(!r)i.$digest()}function R(e,t){e.$destroy();if(t)b(t).removeData("$scope").removeData("$$kendoScope").removeData("$isolateScope").removeData("$isolateScopeNoTemplate").removeClass("ng-scope")}var s=kendo.htmlEncode;var F=/{{/g;var V=/}}/g;var N="{&#8203;{";var H="}&#8203;}";kendo.htmlEncode=function(e){return s(e).replace(F,N).replace(V,H)};var U=[];function o(e,t,i){if(Array.isArray(e))return v.forEach(e,function(e){o(e,t,i)});if(typeof e=="string"){var r=e.split(".");var n=kendo;while(n&&r.length>0)n=n[r.shift()];if(!n){U.push([e,t,i]);return false}e=n.prototype}var a=e[t];e[t]=function(){var e=this,t=arguments;return i.apply({self:e,next:function(){return a.apply(e,arguments.length>0?arguments:t)}},t)};return true}kendo.onWidgetRegistered(function(e){U=b.grep(U,function(e){return!o.apply(null,e)});a(e.widget,e.prefix=="Mobile")});o(["ui.Widget","mobile.ui.Widget"],"angular",function(i,r){var s=this.self;if(i=="init"){if(!r&&C)r=C;C=null;if(r&&r.$angular){s.$angular_scope=r.$angular[0];s.$angular_init(s.element,r)}return}var l=s.$angular_scope;if(l)t(function(){var n=r(),e=n.elements,a=n.data;if(e.length>0)switch(i){case"cleanup":v.forEach(e,function(e){var t=b(e).data("$$kendoScope");if(t&&t!==l&&t.$$kendoScope)R(t,e)});break;case"compile":var t=s.element.injector();var o=t?t.get("$compile"):f;v.forEach(e,function(e,t){var i;if(n.scopeFrom)i=n.scopeFrom;else{var r=a&&a[t];if(r!==x){i=b.extend(l.$new(),r);i.$$kendoScope=true}else i=l}b(e).data("$$kendoScope",i);o(e)(i)});_(l);break}})});o("ui.Widget","$angular_getLogicValue",function(){return this.self.value()});o("ui.Widget","$angular_setLogicValue",function(e){this.self.value(e)});o("ui.Select","$angular_getLogicValue",function(){var e=this.self.dataItem(),t=this.self.options.dataValueField;if(e)if(this.self.options.valuePrimitive)if(!!t)return e[t];else return e;else return e.toJSON();else return null});o("ui.Select","$angular_setLogicValue",function(e){var t=this.self;var i=t.options;var r=i.dataValueField;var n=i.text||"";if(e===x)e="";if(r&&!i.valuePrimitive&&e){n=e[i.dataTextField]||"";e=e[r||i.dataTextField]}if(t.options.autoBind===false&&!t.listView.bound())if(!n&&e&&i.valuePrimitive)t.value(e);else t._preselect(e,n);else t.value(e)});o("ui.MultiSelect","$angular_getLogicValue",function(){var e=this.self.dataItems().slice(0);var t=this.self.options.dataValueField;if(t&&this.self.options.valuePrimitive)e=b.map(e,function(e){return e[t]});return e});o("ui.MultiSelect","$angular_setLogicValue",function(e){if(e==null)e=[];var t=this.self;var i=t.options;var r=i.dataValueField;var n=e;if(r&&!i.valuePrimitive)e=b.map(e,function(e){return e[r]});if(i.autoBind===false&&!i.valuePrimitive&&!t.listView.bound())t._preselect(n,e);else t.value(e)});o("ui.Widget","$angular_init",function(e,t){var i=this.self;if(t&&!Array.isArray(t)){var r=i.$angular_scope;for(var n=i.events.length;--n>=0;){var a=i.events[n];var o=t[a];if(o&&typeof o=="string")t[a]=i.$angular_makeEventHandler(a,r,o)}}});o("ui.Widget","$angular_makeEventHandler",function(e,t,i){i=g(i);return function(e){_(t,function(){i(t,{kendoEvent:e})})}});o(["ui.Grid","ui.ListView","ui.TreeView","ui.PanelBar"],"$angular_makeEventHandler",function(e,d,p){if(e!="change")return this.next();p=g(p);return function(h){var e=h.sender;var t=e.options;var i,r,n={kendoEvent:h},a,o,s,l;if(v.isString(t.selectable)){i=t.selectable.indexOf("cell")!==-1;r=t.selectable.indexOf("multiple")!==-1}if(e._checkBoxSelection)r=true;a=n.selected=this.select();o=n.data=[];s=n.columns=[];for(var c=0;c<a.length;c++){var u=i?a[c].parentNode:a[c];var f=e.dataItem(u);if(i){if(v.element.inArray(f,o)<0)o.push(f);l=v.element(a[c]).index();if(v.element.inArray(l,s)<0)s.push(l)}else o.push(f)}if(!r){n.dataItem=n.data=o[0];n.angularDataItem=kendo.proxyModelSetters(n.dataItem);n.selected=a[0]}_(d,function(){p(d,n)})}});o("ui.Grid","$angular_init",function(e,t){this.next();if(t.columns){var i=b.extend({},kendo.Template,t.templateSettings);v.forEach(t.columns,function(e){if(e.field&&!e.template&&!e.format&&!e.values&&(e.encoded===x||e.encoded))e.template="<span ng-bind='"+kendo.expr(e.field,"dataItem")+"'>#: "+kendo.expr(e.field,i.paramName)+"#</span>"})}});{o("mobile.ui.ButtonGroup","value",function(e){var t=this.self;if(e!=null){t.select(t.element.children("li.km-button").eq(e));t.trigger("change");t.trigger("select",{index:t.selectedIndex})}return t.selectedIndex});o("mobile.ui.ButtonGroup","_select",function(){this.next();this.self.trigger("change")})}c.directive("kendoMobileApplication",function(){return{terminal:true,link:function(e,t,i){u(e,t,i,"kendoMobileApplication","kendoMobileApplication")}}}).directive("kendoMobileView",function(){return{scope:true,link:{pre:function(e,t,i){i.defaultOptions=e.viewOptions;i._instance=u(e,t,i,"kendoMobileView","kendoMobileView")},post:function(e,t,i){i._instance._layout();i._instance._scroller()}}}}).directive("kendoMobileDrawer",function(){return{scope:true,link:{pre:function(e,t,i){i.defaultOptions=e.viewOptions;i._instance=u(e,t,i,"kendoMobileDrawer","kendoMobileDrawer")},post:function(e,t,i){i._instance._layout();i._instance._scroller()}}}}).directive("kendoMobileModalView",function(){return{scope:true,link:{pre:function(e,t,i){i.defaultOptions=e.viewOptions;i._instance=u(e,t,i,"kendoMobileModalView","kendoMobileModalView")},post:function(e,t,i){i._instance._layout();i._instance._scroller()}}}}).directive("kendoMobileSplitView",function(){return{terminal:true,link:{pre:function(e,t,i){i.defaultOptions=e.viewOptions;i._instance=u(e,t,i,"kendoMobileSplitView","kendoMobileSplitView")},post:function(e,t,i){i._instance._layout()}}}}).directive("kendoMobilePane",function(){return{terminal:true,link:{pre:function(e,t,i){i.defaultOptions=e.viewOptions;u(e,t,i,"kendoMobilePane","kendoMobilePane")}}}}).directive("kendoMobileLayout",function(){return{link:{pre:function(e,t,i){u(e,t,i,"kendoMobileLayout","kendoMobileLayout")}}}}).directive("kendoMobileActionSheet",function(){return{restrict:"A",link:function(e,t,i){t.find("a[k-action]").each(function(){b(this).attr("data-"+kendo.ns+"action",b(this).attr("k-action"))});u(e,t,i,"kendoMobileActionSheet","kendoMobileActionSheet")}}}).directive("kendoMobilePopOver",function(){return{terminal:true,link:{pre:function(e,t,i){i.defaultOptions=e.viewOptions;u(e,t,i,"kendoMobilePopOver","kendoMobilePopOver")}}}}).directive("kendoViewTitle",function(){return{restrict:"E",replace:true,template:function(e){return"<span data-"+kendo.ns+"role='view-title'>"+e.html()+"</span>"}}}).directive("kendoMobileHeader",function(){return{restrict:"E",link:function(e,t){t.addClass("km-header").attr("data-role","header")}}}).directive("kendoMobileFooter",function(){return{restrict:"E",link:function(e,t){t.addClass("km-footer").attr("data-role","footer")}}}).directive("kendoMobileScrollViewPage",function(){return{restrict:"E",replace:true,template:function(e){return"<div data-"+kendo.ns+"role='page'>"+e.html()+"</div>"}}});v.forEach(["align","icon","rel","transition","actionsheetContext"],function(r){var n="k"+r.slice(0,1).toUpperCase()+r.slice(1);c.directive(n,function(){return{restrict:"A",priority:2,link:function(e,t,i){t.attr(kendo.attr(kendo.toHyphens(r)),e.$eval(i[n]))}}})});var j={TreeMap:["Template"],MobileListView:["HeaderTemplate","Template"],MobileScrollView:["EmptyTemplate","Template"],Grid:["AltRowTemplate","DetailTemplate","RowTemplate"],ListView:["EditTemplate","Template","AltTemplate"],Pager:["SelectTemplate","LinkTemplate"],PivotGrid:["ColumnHeaderTemplate","DataCellTemplate","RowHeaderTemplate"],Scheduler:["AllDayEventTemplate","DateHeaderTemplate","EventTemplate","MajorTimeHeaderTemplate","MinorTimeHeaderTemplate"],ScrollView:["Template"],PanelBar:["Template"],TreeView:["Template"],Validator:["ErrorTemplate"]};(function(){var i={};v.forEach(j,function(e,t){v.forEach(e,function(e){if(!i[e])i[e]=[];i[e].push("?^^kendo"+t)})});v.forEach(i,function(o,e){var s="k"+e;var l=kendo.toHyphens(s);c.directive(s,function(){return{restrict:"A",require:o,terminal:true,compile:function(e,t){if(t[s]!=="")return;e.removeAttr(l);var a=e[0].outerHTML;return function(e,t,i,r){var n;while(!n&&r.length)n=r.shift();if(!n)m.warn(l+" without a matching parent widget found. It can be one of the following: "+o.join(", "));else{n.template(s,a);t.remove()}}}}})})})()}(window.kendo.jQuery,window.angular),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.dataviz.min",["./kendo.core.min","./kendo.fx.min","./kendo.router.min","./kendo.view.min","./kendo.data.odata.min","./kendo.data.xml.min","./kendo.data.min","./kendo.data.signalr.min","./kendo.binder.min","./kendo.userevents.min","./kendo.draganddrop.min","./kendo.mobile.scroller.min","./kendo.popup.min","./kendo.tooltip.min","./kendo.drawing.min","./kendo.dataviz.core.min","./kendo.dataviz.themes.min","./kendo.dataviz.chart.min","./kendo.dataviz.gauge.min","./kendo.dataviz.barcode.min","./kendo.dataviz.qrcode.min","./kendo.dataviz.stock.min","./kendo.dataviz.sparkline.min","./kendo.dataviz.map.min","./kendo.dataviz.diagram.min","./kendo.dataviz.treemap.min","./kendo.angular.min"],function(){"bundle all";return window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()});
//# sourceMappingURL=kendo.dataviz.min.js.map
