{"version":3,"file":"kendo.daterangepicker.min.js","sources":["kendo.daterangepicker.js"],"sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function(f, define){\n    define('kendo.daterangepicker',[ \"./kendo.core\", \"./kendo.multiviewcalendar\",  \"./kendo.datepicker\"], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"daterangepicker\",\n    name: \"DateRangePicker\",\n    category: \"web\",\n    description: \"Date range picker.\",\n    depends: [ \"core\", \"multiviewcalendar\", \"datepicker\"]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        keys = kendo.keys,\n        Widget = ui.Widget,\n        MONTH = \"month\",\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        CHANGE = \"change\",\n        DIV = \"<div />\",\n        MIN = \"min\",\n        MAX = \"max\",\n        template = kendo.template,\n        extend = $.extend,\n        ID = \"id\",\n        support = kendo.support,\n        mobileOS = support.mobileOS,\n        SELECTED = \"k-state-selected\",\n        ARIA_EXPANDED = \"aria-expanded\",\n        ARIA_DISABLED = \"aria-disabled\",\n        STATEDISABLED = \"k-disabled\",\n        DISABLED = \"disabled\",\n        READONLY = \"readonly\",\n        ARIA_HIDDEN = \"aria-hidden\",\n        ns = \".kendoDateRangePicker\",\n        CLICK = \"click\" + ns,\n        MOUSEDOWN = \"mousedown\" + ns,\n        UP = support.mouseAndTouchPresent ? kendo.applyEventMap(\"up\", ns.slice(1)) : CLICK,\n        proxy = $.proxy,\n        parse = kendo.parseDate;\n\n    var DateRangeView = function(options) {\n        kendo.DateView.call(this, options);\n    };\n\n    DateRangeView.prototype = Object.create(kendo.DateView.prototype);\n\n    function preventDefault(e) {\n        e.preventDefault();\n    }\n\n    DateRangeView.prototype._calendar = function() {\n        var that = this;\n        var calendar = that.calendar;\n        var options = that.options;\n        var div;\n\n        if (!calendar) {\n            div = $(DIV).attr(ID, kendo.guid())\n                        .appendTo(that.popup.element);\n\n            that.calendar = calendar = new ui.MultiViewCalendar(div);\n            that._setOptions(options);\n\n            calendar.navigate(that._value || that._current, options.start);\n\n            that._range = that._range || options.range || {};\n\n            div.on(MOUSEDOWN, preventDefault)\n               .on(CLICK, \"td:has(.k-link)\", proxy(that._click, that));\n\n            that.calendar.selectRange(that._range);\n        }\n    };\n\n    DateRangeView.prototype._setOptions =  function(options) {\n        this.calendar.setOptions({\n            focusOnNav: false,\n            change: options.change,\n            culture: options.culture,\n            dates: options.dates,\n            depth: options.depth,\n            footer: options.footer,\n            format: options.format,\n            selectable: options.selectable,\n            max: options.max,\n            min: options.min,\n            month: options.month,\n            weekNumber: options.weekNumber,\n            start: options.start,\n            disableDates: options.disableDates,\n            range: options.range\n        });\n    };\n\n    DateRangeView.prototype.range = function (range) {\n        this._range = range;\n\n        if (this.calendar) {\n            if (!range.start && !range.end) {\n                this.calendar.selectRange(range);\n                this.calendar.rangeSelectable.clear(true);\n            } else {\n                this.calendar.selectRange(range);\n            }\n        }\n    };\n\n    DateRangeView.prototype.move = function(e) {\n        var that = this;\n        var key = e.keyCode;\n        var calendar = that.calendar;\n        var selectIsClicked = e.ctrlKey && key == keys.DOWN || key == keys.ENTER;\n        var handled = false;\n\n        if (e.altKey) {\n            if (key == keys.DOWN) {\n                that.open();\n                e.preventDefault();\n                handled = true;\n            } else if (key == keys.UP) {\n                that.close();\n                e.preventDefault();\n                handled = true;\n            }\n\n        } else if (that.popup.visible()) {\n\n            if (key == keys.ESC || (selectIsClicked && calendar._cell.hasClass(SELECTED))) {\n                that.close();\n                e.preventDefault();\n                return true;\n            }\n\n            that._current = calendar._move(e, true);\n\n            handled = true;\n        }\n\n        return handled;\n    };\n\n    DateRangeView.prototype._click = function(e) {\n\n        if (mobileOS.ios || (mobileOS.android && (mobileOS.browser == \"firefox\" || mobileOS.browser == \"chrome\"))) {\n            if (this._range && this._range.end) {\n                this.close();\n            }\n        }\n        else if (this._range && this._range.end && e.currentTarget.className.indexOf(\"k-range-end\") !== -1) {\n            this.close();\n        }\n    };\n\n    kendo.DateRangeView = DateRangeView;\n\n    var DateRangePicker = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n            var div;\n            var disabled;\n\n            Widget.fn.init.call(that, element, options);\n            element = that.element;\n            options = that.options;\n            options.disableDates = kendo.calendar.disabled(options.disableDates);\n\n            options.min = parse(element.attr(\"min\")) || parse(options.min);\n            options.max = parse(element.attr(\"max\")) || parse(options.max);\n\n            that._initialOptions = extend({}, options);\n\n            that._buildHTML();\n\n            that._range = that.options.range;\n            that._changeTriggered = false;\n\n            that.dateView = new DateRangeView(extend({}, options, {\n                id: element.attr(ID),\n                anchor: that.wrapper,\n                views: 2,\n                selectable: \"range\",\n                range: that._range,\n                change: function() {\n                    var range = this.selectRange();\n                    that.range(range);\n                    that.trigger(CHANGE);\n                    that._changeTriggered = true;\n                    that._startDateInput.trigger(CHANGE);\n                    that._endDateInput.trigger(CHANGE);\n                    that._changeTriggered = false;\n                },\n                close: function(e) {\n                    if (that.trigger(CLOSE)) {\n                        e.preventDefault();\n                    } else {\n                        that.wrapper.attr(ARIA_EXPANDED, false);\n                        div.attr(ARIA_HIDDEN, true);\n                    }\n                },\n                open: function(e) {\n                    if (that.trigger(OPEN)) {\n                        e.preventDefault();\n                    } else {\n                        that.wrapper.attr(ARIA_EXPANDED, true);\n                        div.attr(ARIA_HIDDEN, false);\n                        that._updateARIA();\n                    }\n                }\n            }));\n            div = that.dateView.div;\n            that._ariaTemplate = proxy(template(this.options.ARIATemplate), that);\n            that._reset();\n            that.wrapper\n                .attr({\n                    role: \"combobox\",\n                    \"aria-expanded\": false,\n                    \"aria-owns\": that.dateView._dateViewID,\n                    \"autocomplete\": \"off\"\n                });\n\n            that._inputs\n                .on(UP + ns, proxy(that._click, that))\n                .on(\"keydown\" + ns, proxy(that._keydown, that));\n\n            that._initializeDateInputs();\n\n            disabled = element.is(\"[disabled]\");\n            if (disabled) {\n                that.enable(false);\n            } else {\n                that.readonly(element.is(\"[readonly]\"));\n            }\n        },\n\n        options: {\n            name: \"DateRangePicker\",\n            labels: true,\n            footer: \"\",\n            format: \"\",\n            culture: \"\",\n            min: new Date(1900, 0, 1),\n            max: new Date(2099, 11, 31),\n            start: MONTH,\n            depth: MONTH,\n            animation: {},\n            month: {},\n            startField: \"\",\n            endField: \"\",\n            dates: [],\n            disableDates: null,\n            range: null,\n            ARIATemplate: 'Current focused #=data.valueType# is #=data.text#',\n            weekNumber: false,\n            messages: {\n                startLabel: \"Start\",\n                endLabel: \"End\"\n            },\n            size: \"medium\",\n            fillMode: \"solid\",\n            rounded: \"medium\"\n        },\n\n        events: [\n            OPEN,\n            CLOSE,\n            CHANGE\n        ],\n\n        setOptions: function(options) {\n            var that = this;\n\n            Widget.fn.setOptions.call(that, options);\n\n            options = that.options;\n\n            options.min = parse(options.min);\n            options.max = parse(options.max);\n            that._inputs.off(ns);\n\n            this._initializeDateInputs();\n            that.dateView.setOptions(options);\n            that._range = options.range;\n        },\n\n        _click: function() {\n            var that = this;\n\n            if (!that._preventInputAction && !that.dateView.popup.visible()) {\n                that.dateView.open();\n            }\n        },\n\n        _keydown: function(e) {\n            var that = this,\n                dateView = that.dateView,\n                handled = false;\n\n            if (that._preventInputAction) {\n                e.stopImmediatePropagation();\n                return;\n            }\n\n            handled = dateView.move(e);\n            that._updateARIA(dateView._current);\n\n            if (handled && e.stopImmediatePropagation) {\n                e.stopImmediatePropagation();\n            }\n        },\n\n        _updateARIA: function(date) {\n            var that = this;\n            var calendar = that.dateView.calendar;\n\n            if(that.element && that.element.length) {\n                that._inputs.removeAttr(\"aria-describedby\");\n            }\n\n            if (calendar) {\n                if (date && !calendar._dateInViews(date)) {\n                    calendar.navigate(date);\n                }\n\n                if ($.contains(that.element[0], document.activeElement)) {\n                    $(document.activeElement).attr(\"aria-describedby\", calendar._updateAria(that._ariaTemplate, date));\n                }\n            }\n        },\n\n        _startChange: function (e) {\n            var that = this;\n            var input = e.sender;\n            var startValue = input.value();\n            var endValue = that._endDateInput.value();\n\n            if (that.options.disableDates(startValue)) {\n                e.sender.value(null);\n                startValue = null;\n            }\n\n            that.range({ start: startValue, end: endValue });\n\n            if (!that._changeTriggered) {\n                that.trigger(CHANGE);\n            }\n        },\n\n        _endChange: function (e) {\n            var that = this;\n            var input = e.sender;\n            var endValue = input.value();\n            var startValue = that._startDateInput.value();\n\n            if (that.options.disableDates(endValue)) {\n                e.sender.value(null);\n                endValue = null;\n            }\n\n            that.range({ start: startValue, end: endValue });\n\n            if (!that._changeTriggered) {\n                that.trigger(CHANGE);\n            }\n        },\n\n        _initializeDateInputs: function () {\n            var that = this;\n            var options = that.options;\n            var range = options.range || {};\n            var inputOptions = {\n                footer: options.footer,\n                format: options.format,\n                culture: options.culture,\n                min: options.min,\n                max: options.max,\n                start: options.start,\n                startField: options.startField,\n                endField: options.endField,\n                depth: options.depth,\n                animation: options.animation,\n                month: options.month,\n                dates: options.dates,\n                disableDates: options.disableDates,\n                ARIATemplate: options.ARIATemplate,\n                weekNumber: options.weekNumber,\n                size: options.size,\n                fillMode: options.fillMode,\n                rounded: options.rounded\n            };\n\n            if (that._startDateInput) {\n                that._startDateInput.destroy();\n                that._endDateInput.destroy();\n                that.wrapper.empty();\n                that._buildHTML();\n                that._inputs\n                    .on(UP + ns, proxy(that._click, that))\n                    .on(\"keydown\" + ns, proxy(that._keydown, that));\n            }\n            that._startDateInput = that._startInput.kendoDateInput(extend(true, inputOptions, { value: range.start })).getKendoDateInput();\n            that._endDateInput = that._endInput.kendoDateInput(extend(true, inputOptions, { value: range.end })).getKendoDateInput();\n\n            that._startChangeHandler = proxy(that._startChange, that);\n            that._startDateInput.bind(CHANGE, that._startChangeHandler);\n\n            that._endChangeHandler = proxy(that._endChange, that);\n            that._endDateInput.bind(CHANGE, that._endChangeHandler);\n\n        },\n\n        _buildHTML: function() {\n            var that = this;\n            var element = that.element;\n            var id;\n\n            if (!that.wrapper) {\n                that.wrapper = element.addClass(\"k-daterangepicker\");\n            }\n\n            if (that.options.labels) {\n                id = kendo.guid();\n                $('<span class=\"k-floating-label-container\"><input id=\"'+ id + '\"/><label for=\"'+ id +'\" class=\"k-label\">'+ that.options.messages.startLabel + '</label></span>').appendTo(that.wrapper);\n                id = kendo.guid();\n                $('<span>&nbsp;</span><span class=\"k-floating-label-container\"><input id=\"'+ id + '\"/><label for=\"'+ id +'\" class=\"k-label\">'+ that.options.messages.endLabel + '</label></span>').appendTo(that.wrapper);\n            } else {\n                $('<input/><span>&nbsp;</span><input/>').appendTo(that.wrapper);\n            }\n\n            that._startInput = that.wrapper.find(\"input\").eq(0);\n            that._endInput = that.wrapper.find(\"input\").eq(1);\n\n            if (that.options.startField !== \"\"){\n                that._startInput.attr(kendo.attr(\"bind\"), \"value: \" + that.options.startField);\n\t\t\t\tthat._startInput.attr(\"name\", that.options.startField);\n            }\n\n            if (that.options.endField !== \"\"){\n                that._endInput.attr(kendo.attr(\"bind\"), \"value: \" + that.options.endField);\n\t\t\t\tthat._endInput.attr(\"name\", that.options.endField);\n            }\n\n            that._inputs = that._startInput.add(that._endInput);\n        },\n\n        _option: function(option, value) {\n            var that = this,\n                options = that.options;\n\n            if (value === undefined) {\n                return options[option];\n            }\n\n            value = parse(value, options.parseFormats, options.culture);\n\n            if (!value) {\n                return;\n            }\n\n            options[option] = new Date(+value);\n            that.dateView[option](value);\n        },\n\n        _reset: function() {\n            var that = this,\n                element = that.element,\n                formId = element.attr(\"form\"),\n                form = formId ? $(\"#\" + formId) : element.closest(\"form\");\n\n            if (form[0]) {\n                that._resetHandler = function() {\n                    that.max(that._initialOptions.max);\n                    that.min(that._initialOptions.min);\n                };\n\n                that._form = form.on(\"reset\", that._resetHandler);\n            }\n        },\n\n        _editable: function(options) {\n            var that = this,\n                inputs = that._inputs,\n                readonly = options.readonly,\n                disable = options.disable;\n\n            if (!readonly && !disable) {\n                that.wrapper\n                    .removeClass(STATEDISABLED);\n\n                $.each(inputs, function(key, item) {\n                    item.removeAttribute(DISABLED);\n                    item.removeAttribute(READONLY);\n                });\n\n                inputs.attr(ARIA_DISABLED, false);\n                that._preventInputAction = false;\n            } else {\n                that.wrapper\n                    .addClass(disable ? STATEDISABLED : \"\")\n                    .removeClass(disable ? \"\" : STATEDISABLED);\n\n                    inputs.attr(DISABLED, disable)\n                       .attr(READONLY, readonly)\n                       .attr(ARIA_DISABLED, disable);\n\n                that._preventInputAction = true;\n            }\n        },\n\n        destroy: function() {\n            var that = this;\n\n            if (that._startDateInput) {\n                that._startDateInput.unbind(CHANGE, that._startChangeHandler);\n                that._startDateInput.destroy();\n                that._startChangeHandler = null;\n            }\n\n            if (that._endDateInput) {\n                that._endDateInput.unbind(CHANGE, that._endChangeHandler);\n                that._endDateInput.destroy();\n                that._endChangeHandler = null;\n            }\n\n            if (that._form) {\n                that._form.off(\"reset\", that._resetHandler);\n            }\n\n            that._inputs.off(ns);\n            that._inputs = null;\n\n            that.dateView.destroy();\n\n            that.element.off(ns);\n\n            Widget.fn.destroy.call(that);\n        },\n\n        range: function(range) {\n            var that = this;\n\n            if (range === undefined) {\n                return that._range;\n            }\n\n            that._range = range;\n            that.dateView.range({ start: null, end: null });\n            if (!range) {\n                that._startDateInput.value(null);\n                that._endDateInput.value(null);\n            }\n\n            that._startDateInput.value(range.start ? range.start : null);\n            that._endDateInput.value(range.end ? range.end : null);\n\n            if (range.start && !range.end) {\n                that.dateView.range({ start: range.start, end: null });\n            } else if (range.start && range.end && +range.start <= +range.end) {\n                that.dateView.range({ start: range.start, end: range.end });\n            }\n        },\n\n        open: function() {\n            this.dateView.open();\n        },\n\n        close: function() {\n            this.dateView.close();\n        },\n\n        min: function(value) {\n            return this._option(MIN, value);\n        },\n\n        max: function(value) {\n            return this._option(MAX, value);\n        },\n\n        readonly: function(readonly) {\n            this._startDateInput.readonly(readonly);\n            this._endDateInput.readonly(readonly);\n\n            this._editable({\n                readonly: readonly === undefined ? true : readonly,\n                disable: false\n            });\n        },\n\n        enable: function(enable) {\n            this._startDateInput.enable(enable);\n            this._endDateInput.enable(enable);\n\n            if (!enable) {\n                this.close();\n            }\n\n            this._editable({\n                readonly: false,\n                disable: !(enable = enable === undefined ? true : enable)\n            });\n        }\n    });\n\n    kendo.ui.plugin(DateRangePicker);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n"],"names":["define","__meta__","id","name","category","description","depends","$","window","kendo","jQuery","undefined","ui","keys","Widget","MONTH","OPEN","CLOSE","CHANGE","DIV","MIN","MAX","template","extend","ID","support","mobileOS","SELECTED","ARIA_EXPANDED","ARIA_DISABLED","STATEDISABLED","DISABLED","READONLY","ARIA_HIDDEN","ns","CLICK","MOUSEDOWN","UP","mouseAndTouchPresent","applyEventMap","slice","proxy","parse","parseDate","DateRangeView","options","DateView","call","this","preventDefault","e","prototype","Object","create","_calendar","that","calendar","div","attr","guid","appendTo","popup","element","MultiViewCalendar","_setOptions","navigate","_value","_current","start","_range","range","on","_click","selectRange","setOptions","focusOnNav","change","culture","dates","depth","footer","format","selectable","max","min","month","weekNumber","disableDates","end","rangeSelectable","clear","move","key","keyCode","selectIsClicked","ctrlKey","DOWN","ENTER","handled","altKey","open","close","visible","ESC","_cell","hasClass","_move","ios","android","browser","currentTarget","className","indexOf","DateRangePicker","init","disabled","fn","_initialOptions","_buildHTML","_changeTriggered","dateView","anchor","wrapper","views","trigger","_startDateInput","_endDateInput","_updateARIA","_ariaTemplate","ARIATemplate","_reset","role","aria-expanded","aria-owns","_dateViewID","autocomplete","_inputs","_keydown","_initializeDateInputs","is","enable","readonly","labels","Date","animation","startField","endField","messages","startLabel","endLabel","size","fillMode","rounded","events","off","_preventInputAction","stopImmediatePropagation","date","length","removeAttr","_dateInViews","contains","document","activeElement","_updateAria","_startChange","input","sender","startValue","value","endValue","_endChange","inputOptions","destroy","empty","_startInput","kendoDateInput","getKendoDateInput","_endInput","_startChangeHandler","bind","_endChangeHandler","addClass","find","eq","add","_option","option","parseFormats","formId","form","closest","_resetHandler","_form","_editable","inputs","disable","removeClass","each","item","removeAttribute","unbind","plugin","amd","a1","a2","a3"],"mappings":"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"}