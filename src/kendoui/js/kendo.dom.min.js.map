{"version":3,"file":"kendo.dom.min.js","sources":["kendo.dom.js"],"sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function(f, define){\r\n    define('kendo.dom',[ \"./kendo.core\" ], f);\r\n})(function(){\r\n\r\nvar __meta__ = { // jshint ignore:line\r\n    id: \"dom\",\r\n    name: \"Virtual DOM\",\r\n    category: \"framework\",\r\n    depends: [ \"core\" ],\r\n    advanced: true\r\n};\r\n\r\n(function(kendo) {\r\n    function Node() {\r\n        this.node = null;\r\n    }\r\n\r\n    Node.prototype = {\r\n        remove: function() {\r\n            if (this.node.parentNode) {\r\n                this.node.parentNode.removeChild(this.node);\r\n            }\r\n            this.attr = {};\r\n        },\r\n        attr: {},\r\n        text: function() {\r\n            return \"\";\r\n        }\r\n    };\r\n\r\n    function NullNode() {\r\n    }\r\n\r\n    NullNode.prototype = {\r\n        nodeName: \"#null\",\r\n        attr: { style: {} },\r\n        children: [],\r\n        remove: function() {\r\n        }\r\n    };\r\n\r\n    var NULL_NODE = new NullNode();\r\n\r\n    function Element(nodeName, attr, children) {\r\n        this.nodeName = nodeName;\r\n\r\n        this.attr = attr || {};\r\n\r\n        this.children = children || [];\r\n    }\r\n\r\n    Element.prototype = new Node();\r\n\r\n    Element.prototype.appendTo = function(parent) {\r\n        var node = document.createElement(this.nodeName);\r\n\r\n        var children = this.children;\r\n\r\n        for (var index = 0; index < children.length; index++) {\r\n            children[index].render(node, NULL_NODE);\r\n        }\r\n\r\n        parent.appendChild(node);\r\n\r\n        return node;\r\n    };\r\n\r\n    Element.prototype.render = function(parent, cached) {\r\n        var node;\r\n\r\n        if (cached.nodeName !== this.nodeName) {\r\n            cached.remove();\r\n\r\n            node = this.appendTo(parent);\r\n        } else {\r\n            node = cached.node;\r\n\r\n            var index;\r\n\r\n            var children = this.children;\r\n\r\n            var length = children.length;\r\n\r\n            var cachedChildren = cached.children;\r\n\r\n            var cachedLength = cachedChildren.length;\r\n\r\n            if (Math.abs(cachedLength - length) > 2) {\r\n                this.render({\r\n                    appendChild: function(node) {\r\n                        parent.replaceChild(node, cached.node);\r\n                    }\r\n                }, NULL_NODE);\r\n\r\n                return;\r\n            }\r\n\r\n            for (index = 0; index < length; index++) {\r\n                children[index].render(node, cachedChildren[index] || NULL_NODE);\r\n            }\r\n\r\n            for (index = length; index < cachedLength; index++) {\r\n                cachedChildren[index].remove();\r\n            }\r\n        }\r\n\r\n        this.node = node;\r\n\r\n        this.syncAttributes(cached.attr);\r\n\r\n        this.removeAttributes(cached.attr);\r\n    };\r\n\r\n    Element.prototype.syncAttributes = function(cachedAttr) {\r\n        var attr = this.attr;\r\n\r\n        for (var name in attr) {\r\n            var value = attr[name];\r\n\r\n            var cachedValue = cachedAttr[name];\r\n\r\n            if (name === \"style\") {\r\n                this.setStyle(value, cachedValue);\r\n            } else if (value !== cachedValue) {\r\n                this.setAttribute(name, value, cachedValue);\r\n            }\r\n        }\r\n    };\r\n\r\n    Element.prototype.setStyle = function(style, cachedValue) {\r\n        var node = this.node;\r\n        var key;\r\n\r\n        if (cachedValue) {\r\n            for (key in style) {\r\n                if (style[key] !== cachedValue[key]) {\r\n                    node.style[key] = style[key];\r\n                }\r\n            }\r\n        } else {\r\n            for (key in style) {\r\n                node.style[key] = style[key];\r\n            }\r\n        }\r\n    };\r\n\r\n    Element.prototype.removeStyle = function(cachedStyle) {\r\n        var style = this.attr.style || {};\r\n        var node = this.node;\r\n\r\n        for (var key in cachedStyle) {\r\n            if (style[key] === undefined) {\r\n                node.style[key] = \"\";\r\n            }\r\n        }\r\n    };\r\n\r\n    Element.prototype.removeAttributes = function(cachedAttr) {\r\n        var attr = this.attr;\r\n\r\n        for (var name in cachedAttr) {\r\n            if (name === \"style\") {\r\n                this.removeStyle(cachedAttr.style);\r\n            } else if (attr[name] === undefined) {\r\n                this.removeAttribute(name);\r\n            }\r\n        }\r\n    };\r\n\r\n    Element.prototype.removeAttribute = function(name) {\r\n        var node = this.node;\r\n\r\n        if (name === \"style\") {\r\n            node.style.cssText = \"\";\r\n        } else if (name === \"className\") {\r\n            node.className = \"\";\r\n        } else {\r\n            node.removeAttribute(name);\r\n        }\r\n    };\r\n\r\n    Element.prototype.setAttribute = function(name, value) {\r\n        var node = this.node;\r\n\r\n        if (node[name] !== undefined) {\r\n            node[name] = value;\r\n        } else {\r\n            node.setAttribute(name, value);\r\n        }\r\n    };\r\n\r\n    Element.prototype.text = function() {\r\n        var str = \"\";\r\n        for (var i = 0; i < this.children.length; ++i) {\r\n            str += this.children[i].text();\r\n        }\r\n        return str;\r\n    };\r\n\r\n    function TextNode(nodeValue) {\r\n        this.nodeValue = String(nodeValue);\r\n    }\r\n\r\n    TextNode.prototype = new Node();\r\n\r\n    TextNode.prototype.nodeName = \"#text\";\r\n\r\n    TextNode.prototype.render = function(parent, cached) {\r\n        var node;\r\n\r\n        if (cached.nodeName !== this.nodeName) {\r\n            cached.remove();\r\n\r\n            node = document.createTextNode(this.nodeValue);\r\n\r\n            parent.appendChild(node);\r\n        } else {\r\n            node = cached.node;\r\n\r\n            if (this.nodeValue !== cached.nodeValue) {\r\n                if (node.parentNode) {\r\n                    // sometimes in IE parentNode is null (reason unknown),\r\n                    // and IE throws an error when you try to set a\r\n                    // parentless' nodeValue, because why not.\r\n                    node.nodeValue = this.nodeValue;\r\n                }\r\n            }\r\n        }\r\n\r\n        this.node = node;\r\n    };\r\n\r\n    TextNode.prototype.text = function() {\r\n        return this.nodeValue;\r\n    };\r\n\r\n    function HtmlNode(html) {\r\n        this.html = html;\r\n    }\r\n\r\n    HtmlNode.prototype = {\r\n       nodeName: \"#html\",\r\n       attr: {},\r\n       remove: function() {\r\n           for (var index = 0; index < this.nodes.length; index++) {\r\n               var el = this.nodes[index];\r\n               if (el.parentNode) {\r\n                   el.parentNode.removeChild(el);\r\n               }\r\n           }\r\n       },\r\n       render: function(parent, cached) {\r\n           if (cached.nodeName !== this.nodeName || cached.html !== this.html) {\r\n               cached.remove();\r\n\r\n               var lastChild = parent.lastChild;\r\n\r\n               insertHtml(parent, this.html);\r\n\r\n               this.nodes = [];\r\n\r\n               for (var child = lastChild ? lastChild.nextSibling : parent.firstChild; child; child = child.nextSibling) {\r\n                   this.nodes.push(child);\r\n               }\r\n           } else {\r\n               this.nodes = cached.nodes.slice(0);\r\n           }\r\n       }\r\n    };\r\n\r\n    var HTML_CONTAINER = document.createElement(\"div\");\r\n\r\n    function insertHtml(node, html) {\r\n        HTML_CONTAINER.innerHTML = html;\r\n\r\n        while (HTML_CONTAINER.firstChild) {\r\n            node.appendChild(HTML_CONTAINER.firstChild);\r\n        }\r\n    }\r\n\r\n    function html(value) {\r\n        return new HtmlNode(value);\r\n    }\r\n\r\n    function element(nodeName, attrs, children) {\r\n        return new Element(nodeName, attrs, children);\r\n    }\r\n\r\n    function text(value) {\r\n        return new TextNode(value);\r\n    }\r\n\r\n    function Tree(root) {\r\n       this.root = root;\r\n       this.children = [];\r\n    }\r\n\r\n    Tree.prototype = {\r\n        html: html,\r\n        element: element,\r\n        text: text,\r\n        render: function(children) {\r\n            var cachedChildren = this.children;\r\n\r\n            var index;\r\n\r\n            var length;\r\n\r\n            for (index = 0, length = children.length; index < length; index++) {\r\n                var cached = cachedChildren[index];\r\n                if (!cached) {\r\n                    cached = NULL_NODE;\r\n                } else if (!cached.node || !cached.node.parentNode) {\r\n                    cached.remove();\r\n                    cached = NULL_NODE;\r\n                }\r\n                children[index].render(this.root, cached);\r\n            }\r\n\r\n            for (index = length; index < cachedChildren.length; index++) {\r\n                cachedChildren[index].remove();\r\n            }\r\n\r\n            this.children = children;\r\n        }\r\n    };\r\n\r\n    kendo.dom = {\r\n        html: html,\r\n        text: text,\r\n        element: element,\r\n        Tree: Tree,\r\n        Node: Node\r\n    };\r\n})(window.kendo);\r\n\r\nreturn window.kendo;\r\n\r\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\r\n\n"],"names":["define","__meta__","id","name","category","depends","advanced","kendo","window","Node","this","node","NullNode","prototype","remove","parentNode","removeChild","attr","text","nodeName","style","children","NULL_NODE","Element","TextNode","nodeValue","String","HtmlNode","html","appendTo","parent","document","createElement","index","length","render","appendChild","cached","cachedChildren","cachedLength","Math","abs","replaceChild","syncAttributes","removeAttributes","cachedAttr","value","cachedValue","setStyle","setAttribute","key","removeStyle","cachedStyle","undefined","removeAttribute","cssText","className","str","i","createTextNode","nodes","el","lastChild","insertHtml","child","nextSibling","firstChild","push","slice","HTML_CONTAINER","innerHTML","element","attrs","Tree","root","dom","amd","a1","a2","a3"],"mappings":"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"}