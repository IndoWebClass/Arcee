{"version":3,"file":"kendo.list.min.js","sources":["kendo.list.js"],"sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function(f, define) {\n    define('kendo.list',[ \"./kendo.data\", \"./kendo.popup\" ], f);\n})(function() {\n\nvar __meta__ = { // jshint ignore:line\n    id: \"list\",\n    name: \"List\",\n    category: \"framework\",\n    depends: [ \"data\", \"popup\" ],\n    hidden: true\n};\n\n/*jshint evil: true*/\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        outerHeight = kendo._outerHeight,\n        percentageUnitsRegex = /^\\d+(\\.\\d+)?%$/i,\n        Widget = ui.Widget,\n        keys = kendo.keys,\n        support = kendo.support,\n        htmlEncode = kendo.htmlEncode,\n        activeElement = kendo._activeElement,\n        outerWidth = kendo._outerWidth,\n        ObservableArray = kendo.data.ObservableArray,\n        ID = \"id\",\n        CHANGE = \"change\",\n        FOCUSED = \"k-focus\",\n        HOVER = \"k-hover\",\n        KSELECTED = \"k-selected\",\n        LOADING = \"k-i-loading\",\n        LIST = \"k-list\",\n        TABLE = \"k-table\",\n        DATA_TABLE = \"k-data-table\",\n        TABLE_MD = \"k-table-md\",\n        LIST_UL = \"k-list-ul\",\n        TABLE_LIST = \"k-table-list\",\n        FIXED_GROUP_HEADER = \".k-list-group-sticky-header\",\n        GROUP_LABEL = \".k-list-item-group-label\",\n        ITEMSELECTOR = \".k-list-item\",\n        LABELIDPART = \"_label\",\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        CASCADE = \"cascade\",\n        SELECT = \"select\",\n        CLICK = \"click\",\n        MOUSELEAVE = \"mouseleave\",\n        MOUSEENTER = \"mouseenter\",\n        ACTIVATE = \"activate\",\n        DEACTIVATE = \"deactivate\",\n        DATA_BINDING = \"dataBinding\",\n        DATA_BOUND = \"dataBound\",\n        SELECTED_ITEM_CHANGE = \"selectedItemChange\",\n        SELECTED = \"selected\",\n        REQUESTSTART = \"requestStart\",\n        REQUESTEND = \"requestEnd\",\n        BLUR = \"blur\",\n        FOCUS = \"focus\",\n        FOCUSOUT = \"focusout\",\n        extend = $.extend,\n        proxy = $.proxy,\n        isArray = Array.isArray,\n        browser = support.browser,\n        HIDDENCLASS = \"k-hidden\",\n        WIDTH = \"width\",\n        TEXT = \"text\",\n        VALUE = \"value\",\n        isIE = browser.msie,\n        quotRegExp = /\"/g,\n        alternativeNames = {\n            \"ComboBox\": [ \"DropDownList\", \"MultiColumnComboBox\" ],\n            \"DropDownList\": [ \"ComboBox\", \"MultiColumnComboBox\" ],\n            \"MultiColumnComboBox\": [ \"ComboBox\", \"DropDownList\" ]\n        },\n\n        UL_EL = '<ul unselectable=\"on\"/>',\n        LIST_EL = \"<div class='k-list'/>\",\n        NO_DATA_EL = '<div class=\"k-no-data\" style=\"display: none;\"></div>',\n        LIST_FOOTER_EL = '<div class=\"k-list-footer\"></div>',\n        TABLE_FOOTER_EL = '<div class=\"k-table-footer\">' +\n                '<span class=\"k-table-td\"></span>' +\n            '</div>',\n        MOUSEDOWN = \"mousedown\",\n        LIST_SUFFIX = \"-list\",\n        LISTBOX_SUFFIX = \"_listbox\",\n        ARIA_LABELLEDBY = \"aria-labelledby\",\n        ARIA_LABEL = \"aria-label\",\n        ARIA_ACTIVEDESCENDANT = \"aria-activedescendant\",\n        ARIA_AUTOCOMPLETE = \"aria-autocomplete\",\n        ARIA_CONTROLS = \"aria-controls\",\n        ARIA_LIVE = \"aria-live\",\n        ARIA_EXPANDED = \"aria-expanded\",\n        ARIA_HIDDEN = \"aria-hidden\",\n        ARIA_BUSY = \"aria-busy\",\n        ARIA_MULTISELECTABLE = \"aria-multiselectable\",\n        ARIA_SELECTED = \"aria-selected\",\n        GROUP_ROW_SEL = \".k-table-group-row\";\n\n    var List = kendo.ui.DataBoundWidget.extend({\n        init: function(element, options) {\n            var that = this,\n                id;\n\n            Widget.fn.init.call(that, element, options);\n            element = that.element;\n            options = that.options;\n\n            that._isSelect = element.is(SELECT);\n\n            if (that._isSelect && that.element[0].length) {\n                if (!options.dataSource) {\n                    options.dataTextField = options.dataTextField || TEXT;\n                    options.dataValueField = options.dataValueField || VALUE;\n                }\n            }\n\n            that._listSize = kendo.cssProperties.getValidClass({\n                widget: \"List\",\n                propName: \"size\",\n                value: options.size\n            });\n\n            that.ul = $(UL_EL).attr({\n                tabIndex: -1,\n                \"aria-hidden\": true\n            });\n\n            that.list = $(LIST_EL)\n                .addClass(that._listSize)\n                .append(that.ul);\n\n            id = element.attr(ID);\n\n            if (!id) {\n                id = kendo.guid();\n            }\n\n            that.list.attr(ID, id + LIST_SUFFIX);\n            that.ul.attr(ID, id + LISTBOX_SUFFIX);\n\n            if (options.columns && options.columns.length) {\n                that.list.removeClass(LIST).addClass(DATA_TABLE);\n                that.list.removeClass(that._listSize).addClass(TABLE_MD);\n\n                that.ul.removeClass(LIST_UL).addClass(TABLE);\n\n                that._columnsHeader();\n            }\n\n            that._header();\n            that._noData();\n            that._footer();\n            that._accessors();\n            that._initValue();\n        },\n\n        options: {\n            valuePrimitive: false,\n            footerTemplate: \"\",\n            headerTemplate: \"\",\n            noDataTemplate: true,\n            size: \"medium\",\n            messages: {\n                \"noData\": \"No data found.\",\n                \"clear\": \"clear\"\n            }\n        },\n\n        setOptions: function(options) {\n            Widget.fn.setOptions.call(this, options);\n\n            if (options && options.enable !== undefined) {\n                options.enabled = options.enable;\n            }\n\n            if (options.columns && options.columns.length) {\n                this._columnsHeader();\n            }\n\n            this._header();\n            this._noData();\n            this._footer();\n\n            this._renderFooter();\n            this._renderNoData();\n        },\n\n        focus: function() {\n            this._focused.trigger(FOCUS);\n        },\n\n        readonly: function(readonly) {\n            this._editable({\n                readonly: readonly === undefined ? true : readonly,\n                disable: false\n            });\n        },\n\n        enable: function(enable) {\n            this._editable({\n                readonly: false,\n                disable: !(enable = enable === undefined ? true : enable)\n            });\n        },\n\n        _header: function() {\n            var list = this;\n            var header = $(list.header);\n            var template = list.options.headerTemplate;\n\n            this._angularElement(header, \"cleanup\");\n            kendo.destroy(header);\n            header.remove();\n\n            if (!template) {\n                list.header = null;\n                return;\n            }\n\n            var headerTemplate = typeof template !== \"function\" ? kendo.template(template) : template;\n            header = $(headerTemplate({}));\n\n            list.header = header[0] ? header : null;\n\n            if (list.list.parent.length > 0) {\n                list.list.before(header);\n            }\n\n            this._angularElement(list.header, \"compile\");\n        },\n\n        _columnsHeader: function() {\n            var list = this;\n            var columnsHeader = $(list.columnsHeader);\n\n            this._angularElement(columnsHeader, \"cleanup\");\n            kendo.destroy(columnsHeader);\n            columnsHeader.remove();\n\n            var header = \"<div class='k-table-header'><div class='k-table-header-wrap'><table class='k-table' role='presentation'>\";\n            var colGroup = \"<colgroup>\";\n            var row = \"<tr class='k-table-row'>\";\n\n            for (var idx = 0; idx < this.options.columns.length; idx++) {\n                var currentColumn = this.options.columns[idx];\n                var title = currentColumn.title || currentColumn.field || \"\";\n                var template = currentColumn.headerTemplate || title;\n                var columnsHeaderTemplate = typeof template !== \"function\" ? kendo.template(template) : template;\n                var currentWidth = currentColumn.width;\n                var currentWidthInt = parseInt(currentWidth, 10);\n                var widthStyle = '';\n\n                if (currentWidth && !isNaN(currentWidthInt)) {\n                    widthStyle += \"style='width:\";\n                    widthStyle += currentWidthInt;\n                    widthStyle += percentageUnitsRegex.test(currentWidth) ? \"%\" : \"px\";\n                    widthStyle += \";'\";\n                }\n\n                colGroup += \"<col \" + widthStyle + \"/>\";\n\n                row += \"<th class='k-table-th'>\";\n                row += columnsHeaderTemplate(currentColumn);\n                row += \"</th>\";\n            }\n            colGroup += \"</colgroup>\";\n            row += \"</tr>\";\n            header += colGroup;\n            header += \"<thead class='k-table-thead'>\";\n            header += row;\n            header += \"</thead></table></div></div>\";\n\n            list.columnsHeader = columnsHeader = $(header);\n            list.list.prepend(columnsHeader);\n\n            this._angularElement(list.columnsHeader, \"compile\");\n        },\n\n        _noData: function() {\n            var list = this;\n            var noData = $(list.noData);\n            var template = list.options.noDataTemplate === true ? list.options.messages.noData : list.options.noDataTemplate;\n\n            list.angular(\"cleanup\", function() { return { elements: noData }; });\n            kendo.destroy(noData);\n            noData.remove();\n\n            if (!template) {\n                list.noData = null;\n                return;\n            }\n\n            list.noData = $(NO_DATA_EL).appendTo(list.list);\n            list.noDataTemplate = typeof template !== \"function\" ? kendo.template(template) : template;\n        },\n\n        _footer: function() {\n            var list = this;\n            var footer = $(list.footer);\n            var template = list.options.footerTemplate;\n            var footerEl = this.options.columns && this.options.columns.length ? TABLE_FOOTER_EL : LIST_FOOTER_EL;\n\n            this._angularElement(footer, \"cleanup\");\n            kendo.destroy(footer);\n            footer.remove();\n\n            if (!template) {\n                list.footer = null;\n                return;\n            }\n\n            list.footer = $(footerEl).appendTo(list.list);\n            list.footerTemplate = typeof template !== \"function\" ? kendo.template(template) : template;\n        },\n\n        _listOptions: function(options) {\n            var that = this;\n            var currentOptions = that.options;\n            var virtual = currentOptions.virtual;\n            var changeEventOption = { change: proxy(that._listChange, that) };\n            var listBoundHandler = proxy(that._listBound, that);\n            var focusedElm = that._focused;\n            var inputId = that.element.attr(\"id\");\n            var labelElm = $(\"label[for=\\\"\" + that.element.attr(\"id\") + \"\\\"]\");\n            var labelledBy = focusedElm.attr(ARIA_LABELLEDBY);\n\n            if (!labelledBy && labelElm.length) {\n                labelledBy = labelElm.attr(\"id\") || that._generateLabelId(labelElm, inputId || kendo.guid());\n            }\n\n            virtual = typeof virtual === \"object\" ? virtual : {};\n\n            options = $.extend({\n                autoBind: false,\n                selectable: true,\n                dataSource: that.dataSource,\n                click: proxy(that._click, that),\n                activate: proxy(that._activateItem, that),\n                columns: currentOptions.columns,\n                deactivate: proxy(that._deactivateItem, that),\n                dataBinding: function() {\n                    that.trigger(DATA_BINDING);\n                },\n                dataBound: listBoundHandler,\n                height: currentOptions.height,\n                dataValueField: currentOptions.dataValueField,\n                dataTextField: currentOptions.dataTextField,\n                groupTemplate: currentOptions.groupTemplate,\n                fixedGroupTemplate: currentOptions.fixedGroupTemplate,\n                template: currentOptions.template,\n                ariaLabel: focusedElm.attr(ARIA_LABEL),\n                ariaLabelledBy: labelledBy,\n                listSize: that._listSize\n            }, options, virtual, changeEventOption);\n\n            if (!options.template) {\n                options.template = \"#:\" + kendo.expr(options.dataTextField, \"data\") + \"#\";\n            }\n\n            if (currentOptions.$angular) {\n                options.$angular = currentOptions.$angular;\n            }\n\n            return options;\n        },\n\n        _initList: function() {\n            var that = this;\n            var listOptions = that._listOptions({\n                selectedItemChange: proxy(that._listChange, that)\n            });\n\n            if (!that.options.virtual) {\n                that.listView = new kendo.ui.StaticList(that.ul, listOptions);\n            } else {\n                that.listView = new kendo.ui.VirtualList(that.ul, listOptions);\n                that.list.addClass(\"k-virtual-list\");\n            }\n\n            that.listView.bind(\"listBound\", proxy(that._listBound, that));\n            that._setListValue();\n        },\n\n        _setListValue: function(value) {\n            value = value || this.options.value;\n\n            if (value !== undefined) {\n                this.listView.value(value)\n                    .done(proxy(this._updateSelectionState, this));\n            }\n        },\n\n        _updateSelectionState: $.noop,\n\n        _listMousedown: function(e) {\n            if (!this.filterInput || this.filterInput[0] !== e.target) {\n                e.preventDefault();\n            }\n        },\n\n        _isFilterEnabled: function() {\n            var filter = this.options.filter;\n            return filter && filter !== \"none\";\n        },\n\n        _hideClear: function() {\n            var list = this;\n\n            if (list._clear) {\n                list._clear.addClass(HIDDENCLASS);\n            }\n        },\n\n        _showClear: function() {\n            if (this._clear) {\n                this._clear.removeClass(HIDDENCLASS);\n            }\n        },\n\n        _clearValue: function() {\n            this._clearText();\n            this._accessor(\"\");\n            this.listView.value([]);\n\n            if (this._isSelect) {\n                this._customOption = undefined;\n            }\n\n            if (this._isFilterEnabled() && !this.options.enforceMinLength) {\n                this._filter({ word: \"\", open: false });\n\n                if (this.options.highlightFirst) {\n                    this.listView.focus(0);\n                }\n            }\n            this._change();\n        },\n\n        _clearText: function() {\n            this.text(\"\");\n        },\n\n        _clearFilter: function() {\n            if (!this.options.virtual) {\n                this.listView.bound(false);\n            }\n\n            this._filterSource();\n        },\n\n        _filterSource: function(filter, force) {\n            var that = this;\n            var options = that.options;\n            var isMultiColumnFiltering = options.filterFields && filter && filter.logic && filter.filters && filter.filters.length;\n            var dataSource = that.dataSource;\n            var expression = extend({}, dataSource.filter() || {});\n            var resetPageSettings = filter || (expression.filters && expression.filters.length && !filter);\n\n            var removed = removeFiltersForField(expression, options.dataTextField);\n\n            this._clearFilterExpressions(expression);\n\n            if ((filter || removed) && that.trigger(\"filtering\", { filter: filter })) {\n                return $.Deferred().reject().promise();\n            }\n\n            var newExpression = {\n                filters: [],\n                logic: \"and\"\n            };\n\n            if (isMultiColumnFiltering) {\n                newExpression.filters.push(filter);\n            } else {\n                this._pushFilterExpression(newExpression, filter);\n            }\n\n            if (isValidFilterExpr(expression)) {\n                if (newExpression.logic === expression.logic) {\n                    newExpression.filters = newExpression.filters.concat(expression.filters);\n                } else {\n                    newExpression.filters.push(expression);\n                }\n            }\n\n            if (that._cascading) {\n                this.listView.setDSFilter(newExpression);\n            }\n\n            var dataSourceState = extend({}, {\n                page: resetPageSettings ? 1 : dataSource.page(),\n                pageSize: resetPageSettings ? dataSource.options.pageSize : dataSource.pageSize(),\n                sort: dataSource.sort(),\n                filter: dataSource.filter(),\n                group: dataSource.group(),\n                aggregate: dataSource.aggregate()\n            }, { filter: newExpression });\n\n            return dataSource[force ? \"read\" : \"query\"](dataSource._mergeState(dataSourceState));\n        },\n\n        _pushFilterExpression: function(newExpression, filter) {\n            if (isValidFilterExpr(filter) && filter.value !== \"\") {\n                newExpression.filters.push(filter);\n            }\n        },\n\n        _clearFilterExpressions: function(expression) {\n            if (!expression.filters) {\n                return;\n            }\n\n            var filtersToRemove;\n\n            for (var i = 0; i < expression.filters.length; i++) {\n                if (\"fromFilter\" in expression.filters[i]) {\n                    filtersToRemove = i;\n                }\n            }\n\n            if (!isNaN(filtersToRemove)) {\n                expression.filters.splice(filtersToRemove, 1);\n            }\n        },\n\n        _angularElement: function(element, action) {\n            if (!element) {\n                return;\n            }\n\n            this.angular(action, function() {\n                return { elements: element };\n            });\n        },\n\n        _renderNoData: function() {\n            var list = this;\n            var noData = list.noData;\n\n            if (!noData) {\n                return;\n            }\n\n            this._angularElement(noData, \"cleanup\");\n            noData.html(list.noDataTemplate({ instance: list }));\n            this._angularElement(noData, \"compile\");\n        },\n\n        _toggleNoData: function(show) {\n            $(this.noData).toggle(show);\n        },\n\n        _toggleHeader: function(show) {\n            var groupHeader = this.listView.content.prev(FIXED_GROUP_HEADER);\n            groupHeader.toggle(show);\n        },\n\n        _renderFooter: function() {\n            var list = this,\n                footer = list.footer ? this.options.columns && this.options.columns.length ? list.footer.children().first() : list.footer : null;\n\n            if (!footer) {\n                return;\n            }\n\n            this._angularElement(footer, \"cleanup\");\n            footer.html(list.footerTemplate({ instance: list }));\n            this._angularElement(footer, \"compile\");\n        },\n\n        _allowOpening: function() {\n            return this.options.noDataTemplate || this.dataSource.flatView().length;\n        },\n\n        _initValue: function() {\n            var that = this,\n                value = that.options.value;\n\n            if (value !== null) {\n                that.element.val(value);\n            } else {\n                value = that._accessor();\n                that.options.value = value;\n            }\n\n            that._old = value;\n        },\n\n        _ignoreCase: function() {\n            var that = this,\n                model = that.dataSource.reader.model,\n                field;\n\n            if (model && model.fields) {\n                field = model.fields[that.options.dataTextField];\n\n                if (field && field.type && field.type !== \"string\") {\n                    that.options.ignoreCase = false;\n                }\n            }\n        },\n\n        _focus: function(candidate) {\n            return this.listView.focus(candidate);\n        },\n\n        _filter: function(options) {\n            var that = this;\n            var widgetOptions = that.options;\n            var word = options.word;\n            var filterFields = widgetOptions.filterFields;\n            var field = widgetOptions.dataTextField;\n            var expression;\n\n            if (filterFields && filterFields.length) {\n                expression = {\n                    logic: \"or\",\n                    filters: [],\n                    fromFilter: true\n                };\n                for (var i = 0; i < filterFields.length; i++) {\n                    this._pushFilterExpression(expression, that._buildExpression(word, filterFields[i]));\n                }\n            } else {\n                expression = that._buildExpression(word, field);\n            }\n\n            that._open = options.open;\n            that._filterSource(expression);\n        },\n\n        _buildExpression: function(value, field) {\n            var that = this;\n            var widgetOptions = that.options;\n            var ignoreCase = widgetOptions.ignoreCase;\n            var accentFoldingFiltering = that.dataSource.options.accentFoldingFiltering;\n\n            return {\n                value: ignoreCase ? (accentFoldingFiltering ? value.toLocaleLowerCase(accentFoldingFiltering) : value.toLowerCase()) : value,\n                field: field,\n                operator: widgetOptions.filter,\n                ignoreCase: ignoreCase\n            };\n        },\n\n        _clearButton: function() {\n            var list = this;\n            var clearTitle = list.options.messages.clear;\n\n            if (!list._clear) {\n                list._clear = $('<span unselectable=\"on\" class=\"k-clear-value\" title=\"' + clearTitle + '\"><span class=\"k-icon k-i-x\"></span></span>').attr({\n                    \"role\": \"button\",\n                    \"tabIndex\": -1\n                });\n            }\n\n            if (!list.options.clearButton) {\n                list._clear.remove();\n            }\n            this._hideClear();\n        },\n\n        search: function(word) {\n            var options = this.options;\n\n            word = typeof word === \"string\" ? word : this._inputValue();\n\n            clearTimeout(this._typingTimeout);\n\n            if ((!options.enforceMinLength && !word.length) || word.length >= options.minLength) {\n                this._state = \"filter\";\n                if (this.listView) {\n                    this.listView._emptySearch = !kendo.trim(word).length;\n                }\n\n                if (!this._isFilterEnabled()) {\n                    this._searchByWord(word);\n                } else {\n                    this._filter({ word: word, open: true });\n                }\n            }\n        },\n\n        current: function(candidate) {\n            return this._focus(candidate);\n        },\n\n        items: function() {\n            return this.ul[0].children;\n        },\n\n        destroy: function() {\n            var that = this;\n            var ns = that.ns;\n\n            Widget.fn.destroy.call(that);\n\n            that._unbindDataSource();\n\n            that.listView.destroy();\n            that.list.off(ns);\n\n            that.popup.destroy();\n\n            if (that._form) {\n                that._form.off(\"reset\", that._resetHandler);\n            }\n        },\n\n        dataItem: function(index) {\n            var that = this;\n\n            if (index === undefined) {\n                return that.listView.selectedDataItems()[0];\n            }\n\n            if (typeof index !== \"number\") {\n                if (that.options.virtual) {\n                    return that.dataSource.getByUid($(index).data(\"uid\"));\n                }\n\n                index = $(that.items()).index(index);\n            }\n\n            return that.dataSource.flatView()[index];\n        },\n\n        _activateItem: function() {\n            var current = this.listView.focus();\n            if (current) {\n                this._focused.add(this.filterInput).attr(ARIA_ACTIVEDESCENDANT, current.attr(\"id\"));\n            }\n        },\n\n        _deactivateItem: function() {\n            this._focused.add(this.filterInput).removeAttr(ARIA_ACTIVEDESCENDANT);\n        },\n\n        _accessors: function() {\n            var that = this;\n            var element = that.element;\n            var options = that.options;\n            var getter = kendo.getter;\n            var textField = element.attr(kendo.attr(\"text-field\"));\n            var valueField = element.attr(kendo.attr(\"value-field\"));\n\n            if (!options.dataTextField && textField) {\n                options.dataTextField = textField;\n            }\n\n            if (!options.dataValueField && valueField) {\n                options.dataValueField = valueField;\n            }\n\n            that._text = getter(options.dataTextField);\n            that._value = getter(options.dataValueField);\n        },\n\n        _aria: function(id) {\n            var that = this,\n                options = that.options,\n                element = that._focused,\n                autocomplete;\n\n            if (options.suggest !== undefined) {\n                if (options.filter === \"none\") {\n                    if (options.suggest === true) {\n                        autocomplete = \"inline\";\n                    } else {\n                        autocomplete = \"none\";\n                    }\n                } else {\n                    if (options.suggest === true) {\n                        autocomplete = \"both\";\n                    } else {\n                        autocomplete = \"list\";\n                    }\n                }\n\n                element.attr(ARIA_AUTOCOMPLETE, autocomplete);\n            }\n\n            id = id ? id + \" \" + that.ul[0].id : that.ul[0].id;\n\n            element.attr({\n                \"aria-owns\": id,\n                \"aria-controls\": id\n            });\n\n            if (that.filterInput && that.filterInput.length > 0) {\n                that.filterInput.attr(ARIA_CONTROLS, id);\n            }\n\n            that.ul.attr(ARIA_LIVE, !that._isFilterEnabled() ? \"off\" : \"polite\");\n\n            that._ariaLabel();\n        },\n\n        _ariaLabel: function() {\n            var that = this;\n            var focusedElm = that._focused;\n            var inputElm = that.element;\n            var inputId = inputElm.attr(\"id\");\n            var labelElm = $(\"label[for=\\\"\" + inputId + \"\\\"]\");\n            var ariaLabel = inputElm.attr(ARIA_LABEL);\n            var ariaLabelledBy = inputElm.attr(ARIA_LABELLEDBY);\n\n            if (focusedElm === inputElm) {\n                return;\n            }\n\n            if (ariaLabel) {\n                focusedElm.attr(ARIA_LABEL, ariaLabel);\n            } else if (ariaLabelledBy) {\n                focusedElm.attr(ARIA_LABELLEDBY, ariaLabelledBy);\n            } else if (labelElm.length) {\n                var labelId = labelElm.attr(\"id\") || that._generateLabelId(labelElm, inputId || kendo.guid());\n                focusedElm.attr(ARIA_LABELLEDBY, labelId);\n            }\n        },\n\n        _generateLabelId: function(label, inputId) {\n            var labelId = inputId + LABELIDPART;\n            label.attr(\"id\", labelId);\n\n            return labelId;\n        },\n\n        _blur: function() {\n            var that = this;\n\n            that._change();\n            that.close();\n            that._userTriggered = false;\n        },\n\n        _isValueChanged: function(value) {\n            return value !== unifyType(this._old, typeof value);\n        },\n\n        _change: function() {\n            var that = this;\n            var index = that.selectedIndex;\n            var optionValue = that.options.value;\n            var value = that.value();\n            var trigger;\n\n            if (that._isSelect && !that.listView.bound() && optionValue) {\n                value = optionValue;\n            }\n\n            if (that._isValueChanged(value)) {\n                trigger = true;\n            } else if (that._valueBeforeCascade !== undefined && that._valueBeforeCascade !== unifyType(that._old, typeof that._valueBeforeCascade) && that._userTriggered) {\n                trigger = true;\n            } else if (index !== undefined && index !== that._oldIndex && !that.listView.isFiltered()) {\n                trigger = true;\n            }\n\n            if (trigger) {\n\n                if (that._old === null || that._old === \"\" || value === \"\") {\n                    that._valueBeforeCascade = that._old = value;\n                } else {\n                    if (that.dataItem()) {\n                        that._valueBeforeCascade = that._old = that.options.dataValueField ? that.dataItem()[that.options.dataValueField] : that.dataItem();\n                    } else {\n                        that._valueBeforeCascade = that._old = null;\n                    }\n                }\n                that._oldIndex = index;\n\n                if (!that._typing) {\n                    // trigger the DOM change event so any subscriber gets notified\n                    that.element.trigger(CHANGE);\n                }\n\n                that.trigger(CHANGE);\n            }\n\n            that.typing = false;\n        },\n\n        _data: function() {\n            return this.dataSource.view();\n        },\n\n        _enable: function() {\n            var that = this,\n                options = that.options,\n                disabled = that.element.is(\"[disabled]\");\n\n            if (options.enable !== undefined) {\n                options.enabled = options.enable;\n            }\n\n            if (!options.enabled || disabled) {\n                that.enable(false);\n            } else {\n                that.readonly(that.element.is(\"[readonly]\"));\n            }\n        },\n\n        _dataValue: function(dataItem) {\n            var value = this._value(dataItem);\n\n            if (value === undefined) {\n                value = this._text(dataItem);\n            }\n\n            return value;\n        },\n\n        _offsetHeight: function() {\n            var offsetHeight = 0;\n            var siblings = this.listView.content.parent().prevAll(\":visible\");\n\n            siblings.each(function() {\n                var element = $(this);\n\n                offsetHeight += outerHeight(element, true);\n            });\n\n            return offsetHeight;\n        },\n\n        _height: function(length) {\n            var that = this;\n            var list = that.list;\n            var height = that.options.height;\n            var visible = that.popup.visible();\n            var isMccb = this.options.columns && this.options.columns.length;\n            var offsetTop, popups;\n\n            if (length || that.options.noDataTemplate) {\n                // Check where animation container stays\n                popups = list.parent().add(list.closest(\".k-animation-container\")).show();\n\n                if (!list.parent().is(\":visible\")) {\n                    popups.hide();\n                    return;\n                }\n\n                height = that.listView.content[0].scrollHeight > height ? height : \"auto\";\n\n                popups.height(height);\n\n                if (height !== \"auto\") {\n                    offsetTop = that._offsetHeight();\n\n                    height = height - offsetTop;\n\n                    if (isMccb) {\n                        height = height - (outerHeight($(that.footer)) || 0) - (outerHeight($(that.columnsHeader)) || 0);\n                    }\n                }\n\n                if (isMccb) {\n                    that.listView.content.outerHeight(height);\n                } else {\n                    that.listView.content.parent().outerHeight(height);\n                }\n\n                if (!visible) {\n                    popups.hide();\n                }\n            }\n\n            return height;\n        },\n\n        _openHandler: function(e) {\n            this._adjustListWidth();\n\n            if (this.trigger(OPEN)) {\n                e.preventDefault();\n            } else {\n                this._focused.attr(ARIA_EXPANDED, true);\n                this.ul.attr(ARIA_HIDDEN, false);\n            }\n        },\n\n        _adjustListWidth: function() {\n            var that = this,\n                list = that.list.parent(),\n                width = list[0].style.width,\n                wrapper = that.wrapper,\n                computedStyle, computedWidth;\n\n            if (!list.data(WIDTH) && width) {\n                return;\n            }\n\n            computedStyle = window.getComputedStyle ? window.getComputedStyle(wrapper[0], null) : 0;\n            computedWidth = parseFloat(computedStyle && computedStyle.width) || outerWidth(wrapper);\n\n            if (computedStyle && browser.msie) { // getComputedStyle returns different box in IE.\n                computedWidth += parseFloat(computedStyle.paddingLeft) + parseFloat(computedStyle.paddingRight) + parseFloat(computedStyle.borderLeftWidth) + parseFloat(computedStyle.borderRightWidth);\n            }\n\n            if (list.css(\"box-sizing\") !== \"border-box\") {\n                width = computedWidth - (outerWidth(list) - list.width());\n            } else {\n                width = computedWidth;\n            }\n\n            list.css({\n                fontFamily: wrapper.css(\"font-family\"),\n                width: that.options.autoWidth ? \"auto\" : width,\n                minWidth: width,\n                whiteSpace: that.options.autoWidth ? \"nowrap\" : \"normal\"\n            })\n            .data(WIDTH, width);\n\n            return true;\n        },\n\n        _closeHandler: function(e) {\n            if (this.trigger(CLOSE)) {\n                e.preventDefault();\n            } else {\n                this._focused.attr(ARIA_EXPANDED, false);\n                this.ul.attr(ARIA_HIDDEN, true);\n            }\n        },\n\n        _focusItem: function() {\n            var listView = this.listView;\n            var noFocusedItem = !listView.focus();\n            var index = last(listView.select());\n\n            if (index === undefined && this.options.highlightFirst && noFocusedItem) {\n                index = 0;\n            }\n\n            if (index !== undefined) {\n                listView.focus(index);\n            } else if (noFocusedItem) {\n                listView.scrollToIndex(0);\n            }\n        },\n\n        _calculateGroupPadding: function(height) {\n            var li = this.ul.children(\".k-first\").first();\n            var groupHeader = this.listView.content.prev(FIXED_GROUP_HEADER);\n            var padding = 0;\n            var direction = 'right';\n\n            if (groupHeader[0] && groupHeader[0].style.display !== \"none\") {\n                if (height !== \"auto\") {\n                    padding = kendo.support.scrollbar();\n                }\n\n                if (this.element.parents('.k-rtl').length) {\n                    direction = 'left';\n                }\n\n                padding += parseFloat(li.css(\"border-\" + direction + \"-width\"), 10) + parseFloat(li.children(GROUP_LABEL).css(\"padding-\" + direction), 10);\n                groupHeader.css(\"padding-\" + direction, padding);\n            }\n        },\n\n        _calculatePopupHeight: function(force) {\n            var height = this._height(this.dataSource.flatView().length || force);\n            this._calculateGroupPadding(height);\n            this._calculateColumnsHeaderPadding(height);\n        },\n\n        _calculateColumnsHeaderPadding: function(height) {\n            if (this.options.columns && this.options.columns.length) {\n                var list = this;\n                var isRtl = support.isRtl(list.wrapper);\n                var scrollbar = kendo.support.scrollbar();\n\n                list.columnsHeader.css((isRtl ? \"padding-left\" : \"padding-right\"), height !== \"auto\" ? scrollbar : 0);\n            }\n        },\n\n        _refreshScroll: function() {\n            var listView = this.listView;\n            var enableYScroll = listView.element.height() > listView.content.height();\n\n            if (this.options.autoWidth) {\n                listView.content.css({\n                    overflowX: \"hidden\",\n                    overflowY: enableYScroll ? \"scroll\" : \"auto\"\n                });\n            }\n        },\n\n        _resizePopup: function(force) {\n            if (this.options.virtual) {\n                return;\n            }\n\n            if (!this.popup.element.is(\":visible\")) {\n                this.popup.one(\"open\", (function(force) {\n                    return proxy(function() {\n                        this._calculatePopupHeight(force);\n                    }, this);\n                }).call(this, force));\n\n                this.popup.one(ACTIVATE, proxy(this._refreshScroll, this));\n            } else {\n                this._calculatePopupHeight(force);\n            }\n        },\n\n        _popup: function() {\n            var list = this;\n\n            list.list.wrap(\"<div>\");\n\n            list.popup = new ui.Popup(list.list.parent(), extend({}, list.options.popup, {\n                anchor: list.wrapper,\n                open: proxy(list._openHandler, list),\n                close: proxy(list._closeHandler, list),\n                animation: list.options.animation,\n                isRtl: support.isRtl(list.wrapper),\n                autosize: list.options.autoWidth\n            }));\n\n            list.popup.element.prepend(list.header)\n                .on(MOUSEDOWN + this.ns, proxy(this._listMousedown, this));\n        },\n\n        _toggleHover: function(e) {\n            $(e.currentTarget).toggleClass(HOVER, e.type === MOUSEENTER);\n        },\n\n        _toggle: function(open, preventFocus) {\n            var that = this;\n            var touchEnabled = support.mobileOS && (support.touch || support.MSPointers || support.pointers);\n\n            open = open !== undefined ? open : !that.popup.visible();\n\n            if (!preventFocus && !touchEnabled && that._focused[0] !== activeElement()) {\n                that._prevent = true;\n                that._focused.trigger(FOCUS);\n                that._prevent = false;\n            }\n\n            that[open ? OPEN : CLOSE]();\n        },\n\n        _triggerCascade: function() {\n            var that = this;\n\n            if (!that._cascadeTriggered || that.value() !== unifyType(that._cascadedValue, typeof that.value())) {\n                that._cascadedValue = that.value();\n                that._cascadeTriggered = true;\n                that.trigger(CASCADE, { userTriggered: that._userTriggered });\n            }\n        },\n\n        _triggerChange: function() {\n            if (this._valueBeforeCascade !== this.value()) {\n                this.trigger(CHANGE);\n            }\n        },\n\n        _unbindDataSource: function() {\n            var that = this;\n\n            that.dataSource.unbind(REQUESTSTART, that._requestStartHandler)\n                           .unbind(REQUESTEND, that._requestEndHandler)\n                           .unbind(\"error\", that._errorHandler);\n        },\n\n        requireValueMapper: function(options, value) {\n            var hasValue = (options.value instanceof Array ? options.value.length : options.value) || (value instanceof Array ? value.length : value);\n            if (hasValue && options.virtual && typeof options.virtual.valueMapper !== \"function\") {\n                throw new Error(\"ValueMapper is not provided while the value is being set. See http://docs.telerik.com/kendo-ui/controls/editors/combobox/virtualization#the-valuemapper-function\");\n            }\n        }\n    });\n\n    function unifyType(value, type) {\n        if (value !== undefined && value !== \"\" && value !== null) {\n            if (type === \"boolean\") {\n                if (typeof value !== \"boolean\") {\n                    value = value.toString().toLowerCase() === \"true\";\n                }\n                value = Boolean(value);\n            } else if (type === \"number\") {\n                value = Number(value);\n            } else if (type === \"string\") {\n                value = value.toString();\n            }\n        }\n\n        return value;\n    }\n\n    extend(List, {\n        inArray: function(node, parentNode) {\n            var idx, length, siblings = parentNode.children;\n\n            if (!node || node.parentNode !== parentNode) {\n                return -1;\n            }\n\n            for (idx = 0, length = siblings.length; idx < length; idx++) {\n                if (node === siblings[idx]) {\n                    return idx;\n                }\n            }\n\n            return -1;\n        },\n        unifyType: unifyType\n    });\n\n    kendo.ui.List = List;\n\n    ui.Select = List.extend({\n        init: function(element, options) {\n            List.fn.init.call(this, element, options);\n            this._initial = this.element.val();\n        },\n\n        setDataSource: function(dataSource) {\n            var that = this;\n            var parent;\n\n            that.options.dataSource = dataSource;\n\n            that._dataSource();\n\n            if (that.listView.bound()) {\n                that._initialIndex = null;\n                that.listView._current = null;\n            }\n\n            that.listView.setDataSource(that.dataSource);\n\n            if (that.options.autoBind) {\n                that.dataSource.fetch();\n            }\n\n            parent = that._parentWidget();\n\n            if (parent) {\n                that._cascadeSelect(parent);\n            }\n        },\n\n        close: function() {\n            this.popup.close();\n        },\n\n        select: function(candidate) {\n            var that = this;\n\n            if (candidate === undefined) {\n                return that.selectedIndex;\n            } else {\n                return that._select(candidate).done(function() {\n                    that._cascadeValue = that._old = that._accessor();\n                    that._oldIndex = that.selectedIndex;\n                });\n            }\n        },\n\n        _accessor: function(value, idx) {\n            return this[this._isSelect ? \"_accessorSelect\" : \"_accessorInput\"](value, idx);\n        },\n\n        _accessorInput: function(value) {\n            var element = this.element[0];\n\n            if (value === undefined) {\n                return element.value;\n            } else {\n                if (value === null) {\n                    value = \"\";\n                }\n                element.value = value;\n            }\n        },\n\n        _accessorSelect: function(value, idx) {\n            var element = this.element[0];\n            var hasValue;\n\n            if (value === undefined) {\n                return getSelectedOption(element).value || \"\";\n            }\n\n            getSelectedOption(element).selected = false;\n\n            if (idx === undefined) {\n                idx = -1;\n            }\n\n            hasValue = (value !== null && value !== \"\");\n\n            if (hasValue && idx == -1) {\n                this._custom(value);\n            } else {\n                if (value) {\n                    element.value = value;\n                } else {\n                    element.selectedIndex = idx;\n                }\n            }\n        },\n\n        _syncValueAndText: function() {\n            return true;\n        },\n\n        _custom: function(value) {\n            var that = this;\n            var element = that.element;\n            var custom = that._customOption;\n\n            if (!custom) {\n                custom = $(\"<option/>\");\n                that._customOption = custom;\n\n                element.append(custom);\n            }\n\n            custom.text(value);\n            custom[0].selected = true;\n        },\n\n        _hideBusy: function() {\n            var that = this;\n            clearTimeout(that._busy);\n            that._arrowIcon.removeClass(LOADING);\n            that._focused.attr(ARIA_BUSY, false);\n            that._busy = null;\n            that._showClear();\n        },\n\n        _showBusy: function(e) {\n            var that = this;\n\n            if (e.isDefaultPrevented()) {\n                return;\n            }\n\n            that._request = true;\n\n            if (that._busy) {\n                return;\n            }\n\n            that._busy = setTimeout(function() {\n                if (that._arrowIcon) { //destroyed after request start\n                    that._focused.attr(ARIA_BUSY, true);\n                    that._arrowIcon.addClass(LOADING);\n                    that._hideClear();\n                }\n            }, 100);\n        },\n\n        _requestEnd: function() {\n            this._request = false;\n            this._hideBusy();\n        },\n\n        _dataSource: function() {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                dataSource = options.dataSource || {},\n                idx;\n\n            dataSource = Array.isArray(dataSource) ? { data: dataSource } : dataSource;\n\n            if (that._isSelect) {\n                idx = element[0].selectedIndex;\n                if (idx > -1) {\n                    options.index = idx;\n                }\n\n                dataSource.select = element;\n                dataSource.fields = [{ field: options.dataTextField },\n                                     { field: options.dataValueField }];\n            }\n\n            if (that.dataSource) {\n                that._unbindDataSource();\n            } else {\n                that._requestStartHandler = proxy(that._showBusy, that);\n                that._requestEndHandler = proxy(that._requestEnd, that);\n                that._errorHandler = proxy(that._hideBusy, that);\n            }\n\n            that.dataSource = kendo.data.DataSource.create(dataSource)\n                                   .bind(REQUESTSTART, that._requestStartHandler)\n                                   .bind(REQUESTEND, that._requestEndHandler)\n                                   .bind(\"error\", that._errorHandler);\n        },\n\n        _firstItem: function() {\n            this.listView.focusFirst();\n        },\n\n        _lastItem: function() {\n            this.listView.focusLast();\n        },\n\n        _nextItem: function() {\n            return this.listView.focusNext();\n        },\n\n        _prevItem: function() {\n            return this.listView.focusPrev();\n        },\n\n        _getNormalizedDataItem: function(candidate) {\n            var that = this,\n                listView = that.listView,\n                isIndex = typeof candidate === \"number\",\n                hasOptionLabel = that.optionLabel && that.optionLabel.length,\n                index;\n\n            if (isIndex) {\n                index = hasOptionLabel ? --candidate : candidate;\n            } else {\n                index = listView.getElementIndex(candidate);\n            }\n\n            return listView.dataItemByIndex(index);\n        },\n\n        _getNormalizedSelectCandidate: function(candidate) {\n            var that = this,\n                hasOptionLabel = that.optionLabel && that.optionLabel.length,\n                isIndex = typeof candidate === \"number\",\n                normalizedCandidate = candidate;\n\n            if (hasOptionLabel && isIndex) {\n                normalizedCandidate++;\n            }\n\n            return normalizedCandidate;\n        },\n\n        _move: function(e) {\n            var that = this;\n            var listView = that.listView;\n            var key = e.keyCode;\n            var down = key === keys.DOWN;\n            var isVirtual = that.options.virtual;\n            var dataItem;\n            var pressed;\n            var current;\n            var moveIndex;\n            var selectCandidate;\n\n            if (key === keys.UP || down) {\n                if (e.altKey) {\n                    that.toggle(down);\n                } else {\n                    if (!listView.bound() && !that.ul[0].firstChild) {\n                        if (!that._fetch) {\n                            that.dataSource.one(CHANGE, function() {\n                                that._fetch = false;\n                                that._move(e);\n                            });\n\n                            that._fetch = true;\n                            that._filterSource();\n                        }\n\n                        e.preventDefault();\n\n                        return true; //pressed\n                    }\n\n                    current = that._focus();\n\n                    if (!that._fetch && (!current || current.hasClass(KSELECTED))) {\n                        if (down) {\n                            moveIndex = that._nextItem();\n\n                            if ((isVirtual && moveIndex <= 0) || (!that._focus() && !moveIndex) ) {\n                                that._lastItem();\n                            }\n                        } else {\n                            moveIndex = that._prevItem();\n\n                            if ((isVirtual && moveIndex >= listView.dataSource.total() - 1) || (!that._focus() && !moveIndex)) {\n                                that._firstItem();\n                            }\n                        }\n                    }\n\n                    selectCandidate = that._getNormalizedSelectCandidate(that._get(that._focus()) || moveIndex || 0);\n\n                    that._select(selectCandidate, true).done(function() {\n                        var done = function() {\n                            if (!that.popup.visible()) {\n                                that._blur();\n                            }\n\n                            if (that._cascadedValue === null) {\n                                that._cascadedValue = that.value();\n                            } else {\n                                that._cascadedValue = that.dataItem() ? that.dataItem()[that.options.dataValueField] || that.dataItem() : null;\n                            }\n                        };\n\n                        if (that.trigger(SELECT, { dataItem: that._getNormalizedDataItem(selectCandidate), item: that._focus() })) {\n                            that._select(current).done(done);\n                        } else {\n                            done();\n                        }\n                    });\n                }\n\n                e.preventDefault();\n                pressed = true;\n            } else if (key === keys.ENTER || key === keys.TAB) {\n                if (that.popup.visible()) {\n                    e.preventDefault();\n                }\n\n                current = that._focus();\n                dataItem = that.dataItem();\n\n                if (!that.popup.visible() && (!dataItem || that.text() !== that._text(dataItem))) {\n                    current = null;\n                }\n\n                var activeFilter = that.filterInput && that.filterInput[0] === activeElement();\n                var selection;\n\n                if (current) {\n                    dataItem = listView.dataItemByIndex(listView.getElementIndex(current));\n                    var shouldTrigger = true;\n\n                    if (dataItem) {\n                        shouldTrigger = that._value(dataItem) !== List.unifyType(that.value(), typeof that._value(dataItem));\n                    }\n\n                    if (shouldTrigger && that.trigger(SELECT, { dataItem: dataItem, item: current })) {\n                        return;\n                    }\n\n                    selection = that._select(current);\n                } else if (that.input) {\n                    if (that._syncValueAndText() || that._isSelect) {\n                        that._accessor(that.input.val());\n                    }\n                    that.listView.value(that.input.val());\n                }\n\n                if (that._focusElement) {\n                    that._focusElement(that.wrapper);\n                }\n\n                if (activeFilter && key === keys.TAB) {\n                    that.wrapper.focusout();\n                } else {\n                    if (selection && typeof selection.done === \"function\") {\n                        selection.done(function() {\n                            that._blur();\n                        });\n                    } else {\n                        that._blur();\n                    }\n                }\n\n                that.close();\n                pressed = true;\n            } else if (key === keys.ESC) {\n                if (that.popup.visible()) {\n                    e.preventDefault();\n                }\n                that.close();\n                pressed = true;\n            } else if (that.popup.visible() && (key === keys.PAGEDOWN || key === keys.PAGEUP)) {\n                e.preventDefault();\n\n                var direction = key === keys.PAGEDOWN ? 1 : -1;\n                listView.scrollWith(direction * listView.screenHeight());\n\n                pressed = true;\n            }\n\n            return pressed;\n        },\n\n        _fetchData: function() {\n            var that = this;\n            var hasItems = !!that.dataSource.view().length;\n\n            if (that._request || that.options.cascadeFrom) {\n                return;\n            }\n\n            if (!that.listView.bound() && !that._fetch && !hasItems) {\n                that._fetch = true;\n                that.dataSource.fetch().done(function() {\n                    that._fetch = false;\n                });\n            }\n        },\n\n        _options: function(data, optionLabel, value) {\n            var that = this,\n                element = that.element,\n                htmlElement = element[0],\n                length = data.length,\n                options = \"\",\n                option,\n                dataItem,\n                dataText,\n                dataValue,\n                idx = 0;\n\n            if (optionLabel) {\n                options = optionLabel;\n            }\n\n            for (; idx < length; idx++) {\n                option = \"<option\";\n                dataItem = data[idx];\n                dataText = that._text(dataItem);\n                dataValue = that._value(dataItem);\n\n                if (dataValue !== undefined) {\n                    dataValue += \"\";\n\n                    if (dataValue.indexOf('\"') !== -1) {\n                        dataValue = dataValue.replace(quotRegExp, \"&quot;\");\n                    }\n\n                    option += ' value=\"' + dataValue + '\"';\n                }\n\n                option += \">\";\n\n                if (dataText !== undefined) {\n                    option += htmlEncode(dataText);\n                }\n\n                option += \"</option>\";\n                options += option;\n            }\n\n            element.html(options);\n\n            if (value !== undefined) {\n                htmlElement.value = value;\n                if (htmlElement.value && !value) {\n                    htmlElement.selectedIndex = -1;\n                }\n            }\n\n            if (htmlElement.selectedIndex !== -1) {\n                option = getSelectedOption(htmlElement);\n\n                if (option) {\n                    option.setAttribute(SELECTED, SELECTED);\n                }\n            }\n        },\n\n        _reset: function() {\n            var that = this,\n                element = that.element,\n                formId = element.attr(\"form\"),\n                form = formId ? $(\"#\" + formId) : element.closest(\"form\");\n\n            if (form[0]) {\n                that._resetHandler = function() {\n                    setTimeout(function() {\n                        that.value(that._initial);\n                    });\n                };\n\n                that._form = form.on(\"reset\", that._resetHandler);\n            }\n        },\n\n        _parentWidget: function() {\n            var name = this.options.name;\n\n            if (!this.options.cascadeFrom) {\n                return;\n            }\n\n            var parentElement = $(\"#\" + this.options.cascadeFrom);\n            var parent = parentElement.data(\"kendo\" + name);\n\n            if (!parent) {\n                for (var i = 0; i < alternativeNames[name].length; i += 1) {\n                    parent = parentElement.data(\"kendo\" + alternativeNames[name][i]);\n\n                    if (!!parent) {\n                        break;\n                    }\n                }\n            }\n\n            return parent;\n        },\n\n        _cascade: function() {\n            var that = this;\n            var options = that.options;\n            var cascade = options.cascadeFrom;\n            var parent;\n\n            if (cascade) {\n                parent = that._parentWidget();\n\n                if (!parent) {\n                    return;\n                }\n\n                that._cascadeHandlerProxy = proxy(that._cascadeHandler, that);\n                that._cascadeFilterRequests = [];\n\n                options.autoBind = false;\n\n                parent.bind(\"set\", function() { //will cascade\n                    that.one(\"set\", function(e) { //get your value\n                        that._selectedValue = e.value || that._accessor();\n                    });\n                });\n\n                parent.first(CASCADE, that._cascadeHandlerProxy);\n\n                //refresh was called\n                if (parent.listView.bound()) {\n                    that._toggleCascadeOnFocus();\n                    that._cascadeSelect(parent);\n                } else {\n                    parent.one(DATA_BOUND, function() {\n                        that._toggleCascadeOnFocus();\n                        if (parent.popup.visible()) {\n                            parent._focused.trigger(FOCUS);\n                        }\n                    });\n\n                    if (!parent.value()) {\n                        that.enable(false);\n                    }\n                }\n            }\n        },\n\n        _toggleCascadeOnFocus: function() {\n            var that = this;\n            var parent = that._parentWidget();\n            var focusout = isIE && parent instanceof ui.DropDownList ? BLUR : FOCUSOUT;\n\n            parent._focused.add(parent.filterInput).on(FOCUS, function() {\n                parent.unbind(CASCADE, that._cascadeHandlerProxy);\n                parent.unbind(CHANGE, that._cascadeHandlerProxy);\n                parent.first(CHANGE, that._cascadeHandlerProxy);\n            });\n\n            parent._focused.add(parent.filterInput).on(focusout, function() {\n                parent.unbind(CHANGE, that._cascadeHandlerProxy);\n                parent.unbind(CASCADE, that._cascadeHandlerProxy);\n                parent.first(CASCADE, that._cascadeHandlerProxy);\n            });\n        },\n\n        _cascadeHandler: function(e) {\n            var parent = this._parentWidget();\n            var valueBeforeCascade = this.value();\n\n            this._userTriggered = e.userTriggered || parent._userTriggered;\n\n            if (this.listView.bound()) {\n                this._clearSelection(parent, true);\n            }\n\n            this._cascadeSelect(parent, valueBeforeCascade);\n        },\n\n        _cascadeChange: function(parent) {\n            var that = this;\n            var value = that._accessor() || that._selectedValue;\n\n            if (!that._cascadeFilterRequests.length) {\n                that._selectedValue = null;\n            }\n\n            if (that._userTriggered) {\n                that._clearSelection(parent, true);\n            } else if (value) {\n                if (value !== unifyType(that.listView.value()[0], typeof value)) {\n                    that.value(value);\n                }\n\n                if (!that.dataSource.view()[0] || that.selectedIndex === -1) {\n                    that._clearSelection(parent, true);\n                }\n            } else if (that.dataSource.flatView().length) {\n                that.select(that.options.index);\n            }\n\n            that.enable();\n            that._triggerCascade();\n            that._triggerChange();\n            that._userTriggered = false;\n        },\n\n        _cascadeSelect: function(parent, valueBeforeCascade) {\n            var that = this;\n            var dataItem = parent.dataItem();\n            var filterValue = dataItem ? dataItem[that.options.cascadeFromParentField] || parent._value(dataItem) : null;\n            var valueField = that.options.cascadeFromField || parent.options.dataValueField;\n            var expressions;\n\n            that._valueBeforeCascade = valueBeforeCascade !== undefined ? valueBeforeCascade : that.value();\n\n            if (filterValue || filterValue === 0) {\n                expressions = that.dataSource.filter() || {};\n                removeFiltersForField(expressions, valueField);\n\n                var handler = function() {\n                    var currentHandler = that._cascadeFilterRequests.shift();\n                    if (currentHandler) {\n                        that.unbind('dataBound', currentHandler);\n                    }\n\n                    currentHandler = that._cascadeFilterRequests[0];\n                    if (currentHandler) {\n                        that.first('dataBound', currentHandler);\n                    }\n\n                    that._cascadeChange(parent);\n                };\n\n                that._cascadeFilterRequests.push(handler);\n\n                if (that._cascadeFilterRequests.length === 1) {\n                    that.first('dataBound', handler);\n                }\n\n                that._cascading = true;\n                that._filterSource({\n                    field: valueField,\n                    operator: \"eq\",\n                    value: filterValue\n                });\n                that._cascading = false;\n            } else {\n                that.enable(false);\n                that._clearSelection(parent);\n                that._triggerCascade();\n                that._triggerChange();\n                that._userTriggered = false;\n            }\n        }\n    });\n\n    var STATIC_LIST_NS = \".StaticList\";\n\n    var StaticList = kendo.ui.DataBoundWidget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n\n            this.element.attr(\"role\", \"listbox\")\n                        .on(CLICK + STATIC_LIST_NS, \"li\", proxy(this._click, this))\n                        .on(MOUSEENTER + STATIC_LIST_NS, \"li\", function() { $(this).addClass(HOVER); })\n                        .on(MOUSELEAVE + STATIC_LIST_NS, \"li\", function() { $(this).removeClass(HOVER); });\n\n            if (options && options.ariaLabel) {\n                this.element.attr(ARIA_LABEL, options.ariaLabel);\n            } else if (options && options.ariaLabelledBy) {\n                this.element.attr(ARIA_LABELLEDBY, options.ariaLabelledBy);\n            }\n\n            if (support.touch) {\n                this._touchHandlers();\n            }\n\n            if (this.options.selectable === \"multiple\") {\n                this.element.attr(ARIA_MULTISELECTABLE, true);\n            }\n\n            if (this.options.columns && this.options.columns.length) {\n                var thead = this.element.parent().find('.k-table-thead');\n                var row = $('<tr class=\"k-table-group-row\">' +\n                    '<th class=\"k-table-th\" colspan=\"' + this.options.columns.length + '\"></th>' +\n                '</tr>');\n\n                thead.append(row);\n\n                this.header = row.find(\".k-table-th\");\n\n                this.content = this.element.wrap(\"<div class='k-table-body k-table-scroller' unselectable='on'></div>\").parent();\n\n                this.element.addClass(TABLE_LIST);\n            } else {\n                this.content = this.element.wrap(\"<div class='k-list-content k-list-scroller' unselectable='on'></div>\").parent();\n                this.header = this.content.before('<div class=\"k-list-group-sticky-header\" style=\"display:none\"></div>').prev();\n                this.element.addClass(LIST_UL);\n            }\n\n            this.bound(false);\n\n            this._optionID = kendo.guid();\n\n            this._selectedIndices = [];\n\n            this._view = [];\n            this._dataItems = [];\n            this._values = [];\n\n            var value = this.options.value;\n\n            if (value) {\n                this._values = Array.isArray(value) ? value.slice(0) : [value];\n            }\n\n            this._getter();\n            this._templates();\n\n            this.setDataSource(this.options.dataSource);\n\n            this._onScroll = proxy(function() {\n                var that = this;\n                clearTimeout(that._scrollId);\n\n                that._scrollId = setTimeout(function() {\n                    that._renderHeader();\n                }, 50);\n            }, this);\n        },\n\n        options: {\n            name: \"StaticList\",\n            dataValueField: null,\n            valuePrimitive: false,\n            selectable: true,\n            template: null,\n            groupTemplate: null,\n            fixedGroupTemplate: null,\n            ariaLabel: null,\n            ariaLabelledBy: null\n        },\n\n        events: [\n           CLICK,\n            CHANGE,\n           ACTIVATE,\n           DEACTIVATE,\n           DATA_BINDING,\n           DATA_BOUND,\n           SELECTED_ITEM_CHANGE\n        ],\n\n        setDataSource: function(source) {\n            var that = this;\n            var dataSource = source || {};\n            var value;\n\n            dataSource = Array.isArray(dataSource) ? { data: dataSource } : dataSource;\n            dataSource = kendo.data.DataSource.create(dataSource);\n\n            if (that.dataSource) {\n                that.dataSource.unbind(CHANGE, that._refreshHandler);\n\n                value = that.value();\n\n                that.value([]);\n                that.bound(false);\n\n                that.value(value);\n            } else {\n                that._refreshHandler = proxy(that.refresh, that);\n            }\n\n            that.setDSFilter(dataSource.filter());\n\n            that.dataSource = dataSource.bind(CHANGE, that._refreshHandler);\n            that._fixedHeader();\n        },\n\n        _touchHandlers: function() {\n            var that = this;\n            var startY;\n            var endY;\n            var tapPosition = function(event) {\n                return (event.originalEvent || event).changedTouches[0].pageY;\n            };\n\n            that.element.on(\"touchstart\" + STATIC_LIST_NS, function(e) {\n                startY = tapPosition(e);\n            });\n\n            that.element.on(\"touchend\" + STATIC_LIST_NS, function(e) {\n                if (e.isDefaultPrevented()) {\n                    return;\n                }\n\n                endY = tapPosition(e);\n\n                if (Math.abs(endY - startY) < 10) {\n                    that._touchTriggered = true;\n                    that._triggerClick($(e.target).closest(ITEMSELECTOR).get(0));\n                }\n            });\n        },\n\n        skip: function() {\n            return this.dataSource.skip();\n        },\n\n        setOptions: function(options) {\n            Widget.fn.setOptions.call(this, options);\n\n            this._getter();\n            this._templates();\n            this._render();\n        },\n\n        destroy: function() {\n            this.element.off(STATIC_LIST_NS);\n\n            if (this._refreshHandler) {\n                this.dataSource.unbind(CHANGE, this._refreshHandler);\n            }\n\n            clearTimeout(this._scrollId);\n\n            Widget.fn.destroy.call(this);\n        },\n\n        dataItemByIndex: function(index) {\n            return this.dataSource.flatView()[index];\n        },\n\n        screenHeight: function() {\n            return this.content[0].clientHeight;\n        },\n\n        scrollToIndex: function(index) {\n            var item = this.element[0].children[index];\n\n            if (item) {\n                this.scroll(item);\n            }\n        },\n\n        scrollWith: function(value) {\n            this.content.scrollTop(this.content.scrollTop() + value);\n        },\n\n        scroll: function(item) {\n            if (!item) {\n                return;\n            }\n\n            if (item[0]) {\n                item = item[0];\n            }\n\n            var content = this.content[0],\n                itemOffsetTop = item.offsetTop,\n                itemOffsetHeight = item.offsetHeight,\n                contentScrollTop = content.scrollTop,\n                contentOffsetHeight = content.clientHeight,\n                bottomDistance = itemOffsetTop + itemOffsetHeight;\n\n                if (contentScrollTop > itemOffsetTop) {\n                    contentScrollTop = itemOffsetTop;\n                } else if (bottomDistance > (contentScrollTop + contentOffsetHeight)) {\n                    contentScrollTop = (bottomDistance - contentOffsetHeight);\n                }\n\n                content.scrollTop = contentScrollTop;\n        },\n\n        selectedDataItems: function(dataItems) {\n            if (dataItems === undefined) {\n                return this._dataItems.slice();\n            }\n\n            this._dataItems = dataItems;\n            this._values = this._getValues(dataItems);\n        },\n\n        _getValues: function(dataItems) {\n            var getter = this._valueGetter;\n\n            return $.map(dataItems, function(dataItem) {\n                return getter(dataItem);\n            });\n        },\n\n        focusNext: function() {\n            var current = this.focus();\n\n            if (!current) {\n                current = 0;\n            } else {\n                current = current.next();\n            }\n\n            this.focus(current);\n        },\n\n        focusPrev: function() {\n            var current = this.focus();\n\n            if (!current) {\n                current = this.element[0].children.length - 1;\n            } else {\n                current = current.prev();\n            }\n\n            this.focus(current);\n        },\n\n        focusFirst: function() {\n            this.focus(this.element[0].children[0]);\n        },\n\n        focusLast: function() {\n            this.focus(last(this.element[0].children));\n        },\n\n        focus: function(candidate) {\n            var that = this;\n            var id = that._optionID;\n            var hasCandidate;\n\n            if (candidate === undefined) {\n                return that._current;\n            }\n\n            candidate = last(that._get(candidate));\n            candidate = $(this.element[0].children[candidate]);\n\n            if (that._current) {\n                that._current\n                    .removeClass(FOCUSED)\n                    .removeAttr(ID);\n\n                that.trigger(DEACTIVATE);\n            }\n\n            hasCandidate = !!candidate[0];\n\n            if (hasCandidate) {\n                candidate.addClass(FOCUSED);\n                that.scroll(candidate);\n\n                candidate.attr(\"id\", id);\n            }\n\n            that._current = hasCandidate ? candidate : null;\n            that.trigger(ACTIVATE);\n        },\n\n        focusIndex: function() {\n            return this.focus() ? this.focus().index() : undefined;\n        },\n\n        skipUpdate: function(skipUpdate) {\n            this._skipUpdate = skipUpdate;\n        },\n\n        select: function(indices) {\n            var that = this;\n            var selectable = that.options.selectable;\n            var singleSelection = selectable !== \"multiple\" && selectable !== false;\n            var selectedIndices = that._selectedIndices;\n            var uiSelectedIndices = [this.element.find(\".k-selected\").index()];\n\n            var added = [];\n            var removed = [];\n            var result;\n\n            if (indices === undefined) {\n                return selectedIndices.slice();\n            }\n\n            indices = that._get(indices);\n\n            if (indices.length === 1 && indices[0] === -1) {\n                indices = [];\n            }\n\n            var deferred = $.Deferred().resolve();\n            var filtered = that.isFiltered();\n\n            if (filtered && !singleSelection && that._deselectFiltered(indices)) {\n                return deferred;\n            }\n\n            if (singleSelection && !filtered &&\n                $.inArray(last(indices), selectedIndices) !== -1 && $.inArray(last(indices), uiSelectedIndices) !== -1) {\n\n                if (that._dataItems.length && that._view.length) {\n                    that._dataItems = [that._view[selectedIndices[0]].item];\n                }\n\n                return deferred;\n            }\n\n            result = that._deselect(indices);\n\n            removed = result.removed;\n            indices = result.indices;\n\n            if (indices.length) {\n                if (singleSelection) {\n                    indices = [last(indices)];\n                }\n\n                added = that._select(indices);\n            }\n\n            if (added.length || removed.length) {\n                that._valueComparer = null;\n                that.trigger(CHANGE, {\n                    added: added,\n                    removed: removed\n                });\n            }\n\n            return deferred;\n        },\n\n        removeAt: function(position) {\n            this._selectedIndices.splice(position, 1);\n            this._values.splice(position, 1);\n            this._valueComparer = null;\n\n            return {\n                position: position,\n                dataItem: this._dataItems.splice(position, 1)[0]\n            };\n        },\n\n        setValue: function(value) {\n            value = Array.isArray(value) || value instanceof ObservableArray ? value.slice(0) : [value];\n\n            this._values = value;\n\n            this._valueComparer = null;\n        },\n\n        value: function(value) {\n            var that = this;\n            var deferred = that._valueDeferred;\n            var indices;\n\n            if (value === undefined) {\n                return that._values.slice();\n            }\n\n            that.setValue(value);\n\n            if (!deferred || deferred.state() === \"resolved\") {\n                that._valueDeferred = deferred = $.Deferred();\n            }\n\n            if (that.bound()) {\n                indices = that._valueIndices(that._values);\n\n                if (that.options.selectable === \"multiple\") {\n                    that.select(-1);\n                }\n\n                that.select(indices);\n\n                deferred.resolve();\n            }\n\n            that._skipUpdate = false;\n\n            return deferred;\n        },\n\n        items: function() {\n            return this.element.children(ITEMSELECTOR);\n        },\n\n        _click: function(e) {\n            if (this._touchTriggered)\n            {\n                this._touchTriggered = false;\n                return;\n            }\n\n            if (!e.isDefaultPrevented()) {\n                this._triggerClick(e.currentTarget);\n            }\n        },\n\n        _triggerClick: function(item) {\n            if (!this.trigger(CLICK, { item: $(item) })) {\n                this.select(item);\n            }\n        },\n\n        _valueExpr: function(type, values) {\n            var that = this;\n            var idx = 0;\n\n            var body;\n            var comparer;\n            var normalized = [];\n\n            if (!that._valueComparer || that._valueType !== type) {\n                that._valueType = type;\n\n                for (; idx < values.length; idx++) {\n                    normalized.push(unifyType(values[idx], type));\n                }\n\n                body = \"for (var idx = 0; idx < \" + normalized.length + \"; idx++) {\" +\n                        \" if (current === values[idx]) {\" +\n                        \"   return idx;\" +\n                        \" }\" +\n                        \"} \" +\n                        \"return -1;\";\n\n                comparer = new Function(\"current\", \"values\", body);\n\n                that._valueComparer = function(current) {\n                    return comparer(current, normalized);\n                };\n            }\n\n            return that._valueComparer;\n        },\n\n        _dataItemPosition: function(dataItem, values) {\n            var value = this._valueGetter(dataItem);\n\n            var valueExpr = this._valueExpr(typeof value, values);\n\n            return valueExpr(value);\n        },\n\n        _getter: function() {\n            this._valueGetter = kendo.getter(this.options.dataValueField);\n        },\n\n        _deselect: function(indices) {\n            var that = this;\n            var children = that.element[0].children;\n            var selectable = that.options.selectable;\n            var selectedIndices = that._selectedIndices;\n            var dataItems = that._dataItems;\n            var values = that._values;\n            var removed = [];\n            var i = 0;\n            var j;\n\n            var index, selectedIndex;\n            var removedIndices = 0;\n\n            indices = indices.slice();\n\n            if (selectable === true || !indices.length) {\n                for (; i < selectedIndices.length; i++) {\n                    $(children[selectedIndices[i]]).removeClass(KSELECTED).attr(ARIA_SELECTED, false);\n\n                    removed.push({\n                        position: i,\n                        dataItem: dataItems[i]\n                    });\n                }\n\n                that._values = [];\n                that._dataItems = [];\n                that._selectedIndices = [];\n            } else if (selectable === \"multiple\") {\n                for (; i < indices.length; i++) {\n                    index = indices[i];\n\n                    if (!$(children[index]).hasClass(KSELECTED)) {\n                        continue;\n                    }\n\n                    for (j = 0; j < selectedIndices.length; j++) {\n                        selectedIndex = selectedIndices[j];\n\n                        if (selectedIndex === index) {\n                            $(children[selectedIndex]).removeClass(KSELECTED).attr(ARIA_SELECTED, false);\n                            var dataItem = this._view[index].item;\n                            var position = this._dataItemPosition(dataItem, this._values);\n\n                            removed.push({\n                                position: position,\n                                dataItem: dataItem\n                            });\n\n                            dataItems.splice(j, 1);\n                            selectedIndices.splice(j, 1);\n                            indices.splice(i, 1);\n                            values.splice(j, 1);\n\n                            removedIndices += 1;\n                            i -= 1;\n                            j -= 1;\n                            break;\n                        }\n                    }\n                }\n            }\n\n            return {\n                indices: indices,\n                removed: removed\n            };\n        },\n\n        _deselectFiltered: function(indices) {\n            var children = this.element[0].children;\n            var dataItem, index, position;\n            var removed = [];\n            var idx = 0;\n\n            for (; idx < indices.length; idx++) {\n                index = indices[idx];\n\n                dataItem = this._view[index].item;\n                position = this._dataItemPosition(dataItem, this._values);\n\n                if (position > -1) {\n                    removed.push(this.removeAt(position));\n                    $(children[index]).removeClass(KSELECTED);\n                }\n            }\n\n            if (removed.length) {\n                this.trigger(CHANGE, {\n                    added: [],\n                    removed: removed\n                });\n\n                return true;\n            }\n\n            return false;\n        },\n\n        _select: function(indices) {\n            var that = this;\n            var children = that.element[0].children;\n            var data = that._view;\n            var dataItem, index;\n            var added = [];\n            var idx = 0;\n\n            if (last(indices) !== -1) {\n                that.focus(indices);\n            }\n\n            for (; idx < indices.length; idx++) {\n                index = indices[idx];\n                dataItem = data[index];\n\n                if (index === -1 || !dataItem) {\n                    continue;\n                }\n\n                dataItem = dataItem.item;\n\n                that._selectedIndices.push(index);\n                that._dataItems.push(dataItem);\n                that._values.push(that._valueGetter(dataItem));\n\n                $(children[index]).addClass(KSELECTED).attr(ARIA_SELECTED, true);\n\n                added.push({\n                    dataItem: dataItem\n                });\n            }\n\n            return added;\n        },\n\n        getElementIndex: function(element) {\n            return $(element).data(\"offset-index\");\n        },\n\n        _get: function(candidate) {\n            if (typeof candidate === \"number\") {\n                candidate = [candidate];\n            } else if (!isArray(candidate)) {\n                candidate = this.getElementIndex(candidate);\n                candidate = [candidate !== undefined ? candidate : -1];\n            }\n\n            return candidate;\n        },\n\n        _template: function() {\n            var that = this;\n            var options = that.options;\n            var template = options.template;\n\n            if (!template) {\n                template = kendo.template('<li tabindex=\"-1\" role=\"option\" unselectable=\"on\" class=\"k-list-item\"><span class=\"k-list-item-text\">${' + kendo.expr(options.dataTextField, \"data\") + \"}</span></li>\", { useWithBlock: false });\n            } else {\n                template = kendo.template(template);\n                template = function(data) {\n                    return '<li tabindex=\"-1\" role=\"option\" unselectable=\"on\" class=\"k-list-item\">' + template(data) + \"</li>\";\n                };\n            }\n\n            return template;\n        },\n\n        _templates: function() {\n            var template;\n            var options = this.options;\n            var templates = {\n                template: options.template,\n                groupTemplate: options.groupTemplate,\n                fixedGroupTemplate: options.fixedGroupTemplate\n            };\n\n            if (options.columns) {\n                for (var i = 0; i < options.columns.length; i++) {\n                    var currentColumn = options.columns[i];\n                    var templateText = currentColumn.field ? currentColumn.field.toString() : TEXT;\n\n                    templates[\"column\" + i] = currentColumn.template || \"#: \" + templateText + \"#\";\n                }\n            }\n\n            for (var key in templates) {\n                template = templates[key];\n                if (template && typeof template !== \"function\") {\n                    templates[key] = kendo.template(template);\n                }\n            }\n\n            this.templates = templates;\n        },\n\n        _normalizeIndices: function(indices) {\n            var newIndices = [];\n            var idx = 0;\n\n            for (; idx < indices.length; idx++) {\n                if (indices[idx] !== undefined) {\n                    newIndices.push(indices[idx]);\n                }\n            }\n\n            return newIndices;\n        },\n\n        _valueIndices: function(values, indices) {\n            var data = this._view;\n            var idx = 0;\n            var index;\n\n            indices = indices ? indices.slice() : [];\n\n            if (!values.length) {\n                return [];\n            }\n\n            for (; idx < data.length; idx++) {\n                index = this._dataItemPosition(data[idx].item, values);\n\n                if (index !== -1) {\n                    indices[index] = idx;\n                }\n            }\n\n            return this._normalizeIndices(indices);\n        },\n\n        _firstVisibleItem: function() {\n            var element = this.element[0];\n            var content = this.content[0];\n            var scrollTop = content.scrollTop;\n            var itemHeight = $(element.children[0]).height();\n            var itemIndex = Math.floor(scrollTop / itemHeight) || 0;\n            var item = element.children[itemIndex] || element.lastChild;\n            var forward = item.offsetTop < scrollTop;\n\n            while (item) {\n                if (forward) {\n                    if ((item.offsetTop + itemHeight) > scrollTop || !item.nextSibling) {\n                        break;\n                    }\n\n                    item = item.nextSibling;\n                } else {\n                    if (item.offsetTop <= scrollTop || !item.previousSibling) {\n                        break;\n                    }\n\n                    item = item.previousSibling;\n                }\n            }\n\n            return this._view[$(item).data(\"offset-index\")];\n        },\n\n        _fixedHeader: function() {\n            if (this.isGrouped() && this.templates.fixedGroupTemplate) {\n                if (this.header.closest(GROUP_ROW_SEL).length) {\n                    this.header.closest(GROUP_ROW_SEL).show();\n                } else {\n                    this.header.show();\n                }\n\n                this.content.scroll(this._onScroll);\n            } else {\n                if (this.header.closest(GROUP_ROW_SEL).length) {\n                    this.header.closest(GROUP_ROW_SEL).hide();\n                } else {\n                    this.header.hide();\n                }\n\n                this.content.off(\"scroll\", this._onScroll);\n            }\n        },\n\n        _renderHeader: function() {\n            var template = this.templates.fixedGroupTemplate;\n            if (!template) {\n                return;\n            }\n\n            var visibleItem = this._firstVisibleItem();\n\n            if (visibleItem && visibleItem.group.toString().length) {\n                this.header.html(template(visibleItem.group));\n            }\n        },\n\n        _renderItem: function(context) {\n            var item = '<li tabindex=\"-1\" role=\"option\" unselectable=\"on\" ';\n\n            var dataItem = context.item;\n            var notFirstItem = context.index !== 0;\n            var selected = context.selected;\n            var isGrouped = this.isGrouped();\n            var hasColumns = this.options.columns && this.options.columns.length;\n            var altRow = context.index % 2 === 1 ? \" k-table-alt-row\" : \"\";\n\n            if (hasColumns) {\n                item += ('class=\"k-table-row' + altRow);\n            } else {\n                item += 'class=\"k-list-item';\n            }\n\n            if (notFirstItem && context.newGroup) {\n                item += ' k-first';\n            }\n\n            if (context.isLastGroupedItem && hasColumns) {\n                item += ' k-last';\n            }\n\n            if (selected) {\n                item += ' k-selected';\n            }\n\n            item += '\" aria-selected=\"' + (selected ? \"true\" : \"false\") + '\" data-offset-index=\"' + context.index + '\">';\n            if (hasColumns) {\n                item += this._renderColumns(dataItem);\n            } else {\n                item += '<span class=\"k-list-item-text\">';\n                item += this.templates.template(dataItem);\n                item += '</span>';\n            }\n\n            if (notFirstItem && context.newGroup) {\n                if (hasColumns) {\n                    item += '<span class=\"k-table-td k-table-group-td\"><span>' + this.templates.groupTemplate(context.group) + '</span></span>';\n                } else {\n                    item += '<div class=\"k-list-item-group-label\">' + this.templates.groupTemplate(context.group) + '</div>';\n                }\n            } else if (isGrouped && hasColumns) {\n                item += '<span class=\"k-table-td k-table-spacer-td\"></span>';\n            }\n\n            return item + \"</li>\";\n        },\n\n        _renderColumns: function(dataItem) {\n            var item = \"\";\n\n            for (var i = 0; i < this.options.columns.length; i++) {\n                var currentWidth = this.options.columns[i].width;\n                var currentWidthInt = parseInt(currentWidth, 10);\n                var widthStyle = '';\n\n                if (currentWidth && !isNaN(currentWidthInt)) {\n                    widthStyle += \"style='width:\";\n                    widthStyle += currentWidthInt;\n                    widthStyle += percentageUnitsRegex.test(currentWidth) ? \"%\" : \"px\";\n                    widthStyle += \";'\";\n                }\n                item += \"<span class='k-table-td' \" + widthStyle + \">\";\n                item += this.templates[\"column\" + i](dataItem);\n                item += \"</span>\";\n            }\n\n            return item;\n        },\n\n        _render: function() {\n            var html = \"\";\n\n            var i = 0;\n            var idx = 0;\n            var context;\n            var dataContext = [];\n            var view = this.dataSource.view();\n            var values = this.value();\n\n            var group, newGroup, j;\n            var isGrouped = this.isGrouped();\n\n            if (isGrouped) {\n                for (i = 0; i < view.length; i++) {\n                    group = view[i];\n                    newGroup = true;\n\n                    for (j = 0; j < group.items.length; j++) {\n                        context = {\n                            selected: this._selected(group.items[j], values),\n                            item: group.items[j],\n                            group: group.value,\n                            newGroup: newGroup,\n                            isLastGroupedItem: j === group.items.length - 1,\n                            index: idx };\n                        dataContext[idx] = context;\n                        idx += 1;\n\n                        html += this._renderItem(context);\n                        newGroup = false;\n                    }\n                }\n            } else {\n                for (i = 0; i < view.length; i++) {\n                    context = { selected: this._selected(view[i], values), item: view[i], index: i };\n\n                    dataContext[i] = context;\n\n                    html += this._renderItem(context);\n                }\n            }\n\n            this._view = dataContext;\n\n            this.element[0].innerHTML = html;\n\n            if (isGrouped && dataContext.length) {\n                this._renderHeader();\n            }\n        },\n\n        _selected: function(dataItem, values) {\n            var select = !this.isFiltered() || this.options.selectable === \"multiple\";\n            return select && this._dataItemPosition(dataItem, values) !== -1;\n        },\n\n        setDSFilter: function(filter) {\n            this._lastDSFilter = extend({}, filter);\n        },\n\n        isFiltered: function() {\n            if (!this._lastDSFilter) {\n                this.setDSFilter(this.dataSource.filter());\n            }\n\n            return !kendo.data.Query.compareFilters(this.dataSource.filter(), this._lastDSFilter);\n        },\n\n        refresh: function(e) {\n            var that = this;\n            var action = e && e.action;\n            var skipUpdateOnBind = that.options.skipUpdateOnBind;\n            var isItemChange = action === \"itemchange\";\n            var result;\n\n            that.trigger(DATA_BINDING);\n            that._angularItems(\"cleanup\");\n\n            that._fixedHeader();\n\n            that._render();\n\n            that.bound(true);\n\n            if (isItemChange || action === \"remove\") {\n                result = mapChangedItems(that._dataItems, e.items);\n\n                if (result.changed.length) {\n                    if (isItemChange) {\n                        that.trigger(SELECTED_ITEM_CHANGE, {\n                            items: result.changed\n                        });\n                    } else {\n                        that.value(that._getValues(result.unchanged));\n                    }\n                }\n            } else if (that.isFiltered() || that._skipUpdate || that._emptySearch) {\n                that.focus(0);\n                if (that._skipUpdate) {\n                    that._skipUpdate = false;\n                    that._selectedIndices = that._valueIndices(that._values, that._selectedIndices);\n                }\n            } else if (!skipUpdateOnBind && (!action || action === \"add\")) {\n                that.value(that._values);\n            }\n\n            if (that._valueDeferred) {\n                that._valueDeferred.resolve();\n            }\n\n            that._angularItems(\"compile\");\n            that.trigger(DATA_BOUND);\n        },\n\n        bound: function(bound) {\n            if (bound === undefined) {\n                return this._bound;\n            }\n\n            this._bound = bound;\n        },\n\n        isGrouped: function() {\n            return (this.dataSource.group() || []).length;\n        }\n    });\n\n    ui.plugin(StaticList);\n\n    function last(list) {\n        return list[list.length - 1];\n    }\n\n    function getSelectedOption(select) {\n        var index = select.selectedIndex;\n        return index > -1 ? select.options[index] : {};\n    }\n\n    function mapChangedItems(selected, itemsToMatch) {\n        var itemsLength = itemsToMatch.length;\n        var selectedLength = selected.length;\n        var dataItem;\n        var found;\n        var i, j;\n\n        var changed = [];\n        var unchanged = [];\n\n        if (selectedLength) {\n            for (i = 0; i < selectedLength; i++) {\n                dataItem = selected[i];\n                found = false;\n\n                for (j = 0; j < itemsLength; j++) {\n                    if (dataItem === itemsToMatch[j]) {\n                        found = true;\n                        changed.push({ index: i, item: dataItem });\n                        break;\n                    }\n                }\n\n                if (!found) {\n                    unchanged.push(dataItem);\n                }\n            }\n        }\n\n        return {\n            changed: changed,\n            unchanged: unchanged\n        };\n    }\n\n    function isValidFilterExpr(expression) {\n        if (!expression || $.isEmptyObject(expression)) {\n            return false;\n        }\n\n        if (expression.filters && !expression.filters.length) {\n            return false;\n        }\n\n        return true;\n    }\n\n    function removeFiltersForField(expression, field) {\n        var filters;\n        var found = false;\n\n        if (expression.filters) {\n            filters = $.grep(expression.filters, function(filter) {\n                found = removeFiltersForField(filter, field);\n                if (filter.filters) {\n                    return filter.filters.length;\n                } else {\n                    return filter.field != field;\n                }\n            });\n\n            if (!found && expression.filters.length !== filters.length) {\n                found = true;\n            }\n\n            expression.filters = filters;\n        }\n\n        return found;\n    }\n\n    kendo.cssProperties.registerPrefix(\"List\", \"k-list-\");\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n"],"names":["define","__meta__","id","name","category","depends","hidden","$","window","kendo","jQuery","undefined","ui","outerHeight","_outerHeight","percentageUnitsRegex","Widget","keys","support","htmlEncode","activeElement","_activeElement","outerWidth","_outerWidth","ObservableArray","data","ID","CHANGE","FOCUSED","HOVER","KSELECTED","LOADING","LIST","TABLE","DATA_TABLE","TABLE_MD","LIST_UL","TABLE_LIST","FIXED_GROUP_HEADER","GROUP_LABEL","ITEMSELECTOR","LABELIDPART","OPEN","CLOSE","CASCADE","SELECT","CLICK","MOUSELEAVE","MOUSEENTER","ACTIVATE","DEACTIVATE","DATA_BINDING","DATA_BOUND","SELECTED_ITEM_CHANGE","SELECTED","REQUESTSTART","REQUESTEND","BLUR","FOCUS","FOCUSOUT","extend","proxy","isArray","Array","browser","HIDDENCLASS","WIDTH","TEXT","VALUE","isIE","msie","quotRegExp","alternativeNames","ComboBox","DropDownList","MultiColumnComboBox","UL_EL","LIST_EL","NO_DATA_EL","LIST_FOOTER_EL","TABLE_FOOTER_EL","MOUSEDOWN","LIST_SUFFIX","LISTBOX_SUFFIX","ARIA_LABELLEDBY","ARIA_LABEL","ARIA_ACTIVEDESCENDANT","ARIA_AUTOCOMPLETE","ARIA_CONTROLS","ARIA_LIVE","ARIA_EXPANDED","ARIA_HIDDEN","ARIA_BUSY","ARIA_MULTISELECTABLE","ARIA_SELECTED","GROUP_ROW_SEL","List","DataBoundWidget","init","element","options","that","this","fn","call","_isSelect","is","length","dataSource","dataTextField","dataValueField","_listSize","cssProperties","getValidClass","widget","propName","value","size","ul","attr","tabIndex","aria-hidden","list","addClass","append","guid","columns","removeClass","_columnsHeader","_header","_noData","_footer","_accessors","_initValue","valuePrimitive","footerTemplate","headerTemplate","noDataTemplate","messages","noData","clear","setOptions","enable","enabled","_renderFooter","_renderNoData","focus","_focused","trigger","readonly","_editable","disable","header","template","_angularElement","destroy","remove","parent","before","columnsHeader","colGroup","row","idx","currentColumn","title","field","columnsHeaderTemplate","currentWidth","width","currentWidthInt","parseInt","widthStyle","isNaN","test","prepend","angular","elements","appendTo","footer","footerEl","_listOptions","currentOptions","virtual","changeEventOption","change","_listChange","listBoundHandler","_listBound","focusedElm","inputId","labelElm","labelledBy","_generateLabelId","autoBind","selectable","click","_click","activate","_activateItem","deactivate","_deactivateItem","dataBinding","dataBound","height","groupTemplate","fixedGroupTemplate","ariaLabel","ariaLabelledBy","listSize","expr","$angular","_initList","listOptions","selectedItemChange","listView","StaticList","VirtualList","bind","_setListValue","done","_updateSelectionState","noop","_listMousedown","e","filterInput","target","preventDefault","_isFilterEnabled","filter","_hideClear","_clear","_showClear","_clearValue","_clearText","_accessor","_customOption","enforceMinLength","_filter","word","open","highlightFirst","_change","text","_clearFilter","bound","_filterSource","force","isMultiColumnFiltering","filterFields","logic","filters","expression","resetPageSettings","removed","removeFiltersForField","_clearFilterExpressions","Deferred","reject","promise","newExpression","push","_pushFilterExpression","isValidFilterExpr","concat","_cascading","setDSFilter","dataSourceState","page","pageSize","sort","group","aggregate","_mergeState","filtersToRemove","i","splice","action","html","instance","_toggleNoData","show","toggle","_toggleHeader","groupHeader","content","prev","children","first","_allowOpening","flatView","val","_old","_ignoreCase","model","reader","fields","type","ignoreCase","_focus","candidate","widgetOptions","fromFilter","_buildExpression","_open","accentFoldingFiltering","toLocaleLowerCase","toLowerCase","operator","_clearButton","clearTitle","role","clearButton","search","_inputValue","clearTimeout","_typingTimeout","minLength","_state","_emptySearch","trim","_searchByWord","current","items","ns","_unbindDataSource","off","popup","_form","_resetHandler","dataItem","index","selectedDataItems","getByUid","add","removeAttr","getter","textField","valueField","_text","_value","_aria","autocomplete","suggest","aria-owns","aria-controls","_ariaLabel","inputElm","labelId","label","_blur","close","_userTriggered","_isValueChanged","unifyType","selectedIndex","optionValue","_valueBeforeCascade","_oldIndex","isFiltered","_typing","typing","_data","view","_enable","disabled","_dataValue","_offsetHeight","offsetHeight","siblings","prevAll","each","_height","visible","isMccb","offsetTop","popups","closest","hide","scrollHeight","_openHandler","_adjustListWidth","style","wrapper","computedStyle","computedWidth","getComputedStyle","parseFloat","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","css","fontFamily","autoWidth","minWidth","whiteSpace","_closeHandler","_focusItem","noFocusedItem","last","select","scrollToIndex","_calculateGroupPadding","li","padding","direction","display","scrollbar","parents","_calculatePopupHeight","_calculateColumnsHeaderPadding","isRtl","_refreshScroll","enableYScroll","overflowX","overflowY","_resizePopup","one","_popup","wrap","Popup","anchor","animation","autosize","on","_toggleHover","currentTarget","toggleClass","_toggle","preventFocus","touchEnabled","mobileOS","touch","MSPointers","pointers","_prevent","_triggerCascade","_cascadeTriggered","_cascadedValue","userTriggered","_triggerChange","unbind","_requestStartHandler","_requestEndHandler","_errorHandler","requireValueMapper","hasValue","valueMapper","Error","toString","Boolean","Number","inArray","node","parentNode","Select","_initial","setDataSource","_dataSource","_initialIndex","_current","fetch","_parentWidget","_cascadeSelect","_select","_cascadeValue","_accessorInput","_accessorSelect","getSelectedOption","selected","_custom","_syncValueAndText","custom","_hideBusy","_busy","_arrowIcon","_showBusy","isDefaultPrevented","_request","setTimeout","_requestEnd","DataSource","create","_firstItem","focusFirst","_lastItem","focusLast","_nextItem","focusNext","_prevItem","focusPrev","_getNormalizedDataItem","isIndex","hasOptionLabel","optionLabel","getElementIndex","dataItemByIndex","_getNormalizedSelectCandidate","normalizedCandidate","_move","key","keyCode","down","DOWN","isVirtual","pressed","moveIndex","selectCandidate","UP","altKey","firstChild","_fetch","hasClass","total","_get","item","ENTER","TAB","activeFilter","selection","shouldTrigger","input","_focusElement","focusout","ESC","PAGEDOWN","PAGEUP","scrollWith","screenHeight","_fetchData","hasItems","cascadeFrom","_options","htmlElement","option","dataText","dataValue","indexOf","replace","setAttribute","_reset","formId","form","parentElement","_cascade","cascade","_cascadeHandlerProxy","_cascadeHandler","_cascadeFilterRequests","_selectedValue","_toggleCascadeOnFocus","valueBeforeCascade","_clearSelection","_cascadeChange","filterValue","cascadeFromParentField","cascadeFromField","expressions","handler","currentHandler","shift","STATIC_LIST_NS","_touchHandlers","thead","find","_optionID","_selectedIndices","_view","_dataItems","_values","slice","_getter","_templates","_onScroll","_scrollId","_renderHeader","events","source","_refreshHandler","refresh","_fixedHeader","startY","endY","tapPosition","event","originalEvent","changedTouches","pageY","Math","abs","_touchTriggered","_triggerClick","get","skip","_render","clientHeight","scroll","scrollTop","itemOffsetTop","itemOffsetHeight","contentScrollTop","contentOffsetHeight","bottomDistance","dataItems","_getValues","_valueGetter","map","next","hasCandidate","focusIndex","skipUpdate","_skipUpdate","indices","singleSelection","selectedIndices","uiSelectedIndices","added","result","deferred","resolve","filtered","_deselectFiltered","_deselect","_valueComparer","removeAt","position","setValue","_valueDeferred","state","_valueIndices","_valueExpr","values","body","comparer","normalized","_valueType","Function","_dataItemPosition","valueExpr","j","removedIndices","_template","useWithBlock","templates","templateText","_normalizeIndices","newIndices","_firstVisibleItem","itemHeight","itemIndex","floor","lastChild","forward","nextSibling","previousSibling","isGrouped","visibleItem","_renderItem","context","notFirstItem","hasColumns","altRow","newGroup","isLastGroupedItem","_renderColumns","dataContext","_selected","innerHTML","_lastDSFilter","Query","compareFilters","skipUpdateOnBind","isItemChange","_angularItems","mapChangedItems","changed","unchanged","_bound","itemsToMatch","itemsLength","selectedLength","found","isEmptyObject","grep","plugin","registerPrefix","amd","a1","a2","a3"],"mappings":"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"}