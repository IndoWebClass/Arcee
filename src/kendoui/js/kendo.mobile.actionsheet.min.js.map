{"version":3,"file":"kendo.mobile.actionsheet.min.js","sources":["kendo.mobile.actionsheet.js"],"sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function(f, define){\n    define('kendo.mobile.actionsheet',[ \"./kendo.mobile.popover\", \"./kendo.mobile.shim\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.actionsheet\",\n    name: \"ActionSheet\",\n    category: \"mobile\",\n    description: \"The mobile ActionSheet widget displays a set of choices related to a task the user initiates.\",\n    depends: [ \"mobile.popover\", \"mobile.shim\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        support = kendo.support,\n        ui = kendo.mobile.ui,\n        Shim = ui.Shim,\n        Popup = ui.Popup,\n        Widget = ui.Widget,\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        COMMAND = \"command\",\n        BUTTONS = \"li>a\",\n        CONTEXT_DATA = \"actionsheetContext\",\n        WRAP = '<div class=\"km-actionsheet-wrapper\"></div>',\n        cancelTemplate = kendo.template('<li class=\"km-actionsheet-cancel\"><a href=\"\\\\#\">#:cancel#</a></li>');\n\n    var ActionSheet = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                ShimClass,\n                tablet,\n                type,\n                os = support.mobileOS;\n\n            Widget.fn.init.call(that, element, options);\n\n            options = that.options;\n            type = options.type;\n            element = that.element;\n\n            if (type === \"auto\") {\n                tablet = os && os.tablet;\n            } else {\n                tablet = type === \"tablet\";\n            }\n\n            ShimClass = tablet ? Popup : Shim;\n\n            if (options.cancelTemplate) {\n                cancelTemplate = kendo.template(options.cancelTemplate);\n            }\n\n            element\n                .addClass(\"km-actionsheet\")\n                .append(cancelTemplate({cancel: that.options.cancel}))\n                .wrap(WRAP)\n                .on(\"up\", BUTTONS, \"_click\")\n                .on(\"click\", BUTTONS, kendo.preventDefault);\n\n            that.view().bind(\"destroy\", function() {\n                that.destroy();\n            });\n\n            that.wrapper = element.parent().addClass(type ? \" km-actionsheet-\" + type : \"\");\n\n            that.shim = new ShimClass(that.wrapper, $.extend({modal: os.ios && os.majorVersion < 7, className: \"km-actionsheet-root\"}, that.options.popup) );\n\n            that._closeProxy = $.proxy(that, \"_close\");\n            that._shimHideProxy = $.proxy(that, \"_shimHide\");\n            that.shim.bind(\"hide\", that._shimHideProxy);\n\n            if (tablet) {\n                kendo.onResize(that._closeProxy);\n            }\n\n            kendo.notify(that, ui);\n        },\n\n        events: [\n            OPEN,\n            CLOSE,\n            COMMAND\n        ],\n\n        options: {\n            name: \"ActionSheet\",\n            cancel: \"Cancel\",\n            type: \"auto\",\n            popup: { height: \"auto\" }\n        },\n\n        open: function(target, context) {\n            var that = this;\n            that.target = $(target);\n            that.context = context;\n            that.shim.show(target);\n        },\n\n        close: function() {\n            this.context = this.target = null;\n            this.shim.hide();\n        },\n\n        openFor: function(target) {\n            var that = this,\n                context = target.data(CONTEXT_DATA);\n\n            that.open(target, context);\n            that.trigger(OPEN, { target: target, context: context });\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            kendo.unbindResize(this._closeProxy);\n            this.shim.destroy();\n        },\n\n        _click: function(e) {\n            if (e.isDefaultPrevented()) {\n                return;\n            }\n\n            var currentTarget = $(e.currentTarget);\n            var action = currentTarget.data(\"action\");\n\n            if (action) {\n                var actionData = {\n                    target: this.target,\n                    context: this.context\n                },\n                $angular = this.options.$angular;\n\n                if ($angular) {\n                    this.element.injector().get(\"$parse\")(action)($angular[0])(actionData);\n                } else {\n                    kendo.getter(action)(window)(actionData);\n                }\n            }\n\n            this.trigger(COMMAND, { target: this.target, context: this.context, currentTarget: currentTarget });\n\n            e.preventDefault();\n            this._close();\n        },\n\n        _shimHide: function(e) {\n            if (!this.trigger(CLOSE)) {\n                this.context = this.target = null;\n            } else {\n                e.preventDefault();\n            }\n        },\n\n        _close: function(e) {\n            if (!this.trigger(CLOSE)) {\n                this.close();\n            } else {\n                e.preventDefault();\n            }\n        }\n    });\n\n    ui.plugin(ActionSheet);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n"],"names":["define","__meta__","id","name","category","description","depends","$","window","kendo","jQuery","undefined","support","ui","mobile","Shim","Popup","Widget","OPEN","CLOSE","COMMAND","BUTTONS","CONTEXT_DATA","WRAP","cancelTemplate","template","ActionSheet","extend","init","element","options","that","this","ShimClass","tablet","type","os","mobileOS","fn","call","addClass","append","cancel","wrap","on","preventDefault","view","bind","destroy","wrapper","parent","shim","modal","ios","majorVersion","className","popup","_closeProxy","proxy","_shimHideProxy","onResize","notify","events","height","open","target","context","show","close","hide","openFor","data","trigger","unbindResize","_click","e","isDefaultPrevented","currentTarget","action","actionData","$angular","injector","get","getter","_close","_shimHide","plugin","amd","a1","a2","a3"],"mappings":"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"}