/** 
 * Kendo UI v2022.1.301 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2022 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*/
!function(define){define("pdfviewer/pdfjs.min",["../kendo.core.min"],function(){var e=window.kendo.jQuery,t=void 0,o,n;return(0,e.extend)(kendo,{pdfviewer:{pdfjs:{lib:window.pdfjsLib,isLoaded:function(){if(!window.pdfjsLib){var e=window.console;if(e&&e.error)e.error("PDF.JS required.");return false}kendo.pdfviewer.pdfjs.lib=window.pdfjsLib;return true}}}}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,o){(o||t)()}),function(define){define("pdfviewer/processors/pdfjs-processor.min",["../pdfjs.min"],function(){var e={id:"pdfjs-processor",name:"PDFJS-Processor",category:"framework",depends:["core"]},r=window.kendo.jQuery,t=void 0,i=window.kendo,o=i.Class,n=r.extend,s=window.atob,l,a=o.extend({init:function(e,t){var o=this;if(i.pdfviewer.pdfjs.isLoaded())l=i.pdfviewer.pdfjs.lib;o.file=e.file;o.viewer=t},fetchDocument:function(){var n=this,i=r.Deferred(),a=n.viewer.options.messages.errorMessages;if(!n.file)return i.resolve();if(n._isBase64Data()&&s)n.file.data=s(n.file.data);l.getDocument(this.file).promise.then(function(t){var o=[];n.pdf=t;n.pagePromises=[];n._downloadData=r.Deferred();t.getData().then(function(e){var t=new Blob([e],{type:"application/pdf"});n._downloadData.resolve({file:t})});for(var e=1;e<=t.numPages;e++)n.pagePromises.push(t.getPage(e));Promise.all(n.pagePromises).then(function(e){o=e.map(function(e){var t=e.getViewport({scale:4/3});return{width:t.width,height:t.height}});i.resolve({total:t.numPages,pages:o})}).catch(function(e){n.viewer._triggerError({error:e.message,message:a.parseError})})}).catch(function(e){var t=e.name.includes("Missing");var o=t?a.notFound:a.parseError;n.viewer._triggerError({error:e.message,message:o});if(t)n.viewer._renderBlankPage()});return i},fetchPageData:function(e){return this.pagePromises[e-1]},downloadFile:function(o){var n=this;i.ui.progress(n.viewer.pageContainer,true);n._downloadData.done(function(e){i.ui.progress(n.viewer.pageContainer,false);var t=new FileReader;t.readAsDataURL(e.file);t.onload=function(){i.saveAs({dataURI:t.result,fileName:o+".pdf",proxyURL:function(){return t.result}})}})},_updateDocument:function(e){if(this.pdf&&this.pdf.loadingTask)this.pdf.loadingTask.destroy();this.file=e},_isBase64Data:function(){var e=this.file.data,t=/[^A-Z0-9+\/=]/i,o=e&&e.length,n;if(!o||o%4!==0||t.test(e))return false;n=e.indexOf("=");return n===-1||n===o-1||n===o-2&&e[o-1]==="="},renderTextLayer:function(e){l.renderTextLayer(e)}});return n(i.pdfviewer.pdfjs,{processor:a}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,o){(o||t)()}),function(define){define("pdfviewer/processors/dpl-processor.min",["../../kendo.core.min"],function(){var e={id:"dpl-processor",name:"DPL-Processor",category:"framework",depends:["core"]},a=window.kendo.jQuery,t=void 0,i=window.kendo,o=a.extend,n,r=i.Class.extend({init:function(e,t){var o=this;o.options=e;o.read=e.read;o.upload=e.upload;o.download=e.download;o.viewer=t},fetchDocument:function(){var t=this,o=a.Deferred(),n=t.viewer.options.messages.errorMessages;if(!t.read)return o.resolve();a.ajax({type:t.read.type,url:t.read.url,dataType:t.read.dataType,success:function(e){if(typeof e!="string")e=i.stringify(e);o.resolve(JSON.parse(e))},error:function(e){t.viewer._triggerError({error:e.responseText,message:n.parseError})}});return o},fetchPageData:function(e){var t=this;var o=a.Deferred();var n=t.viewer.document.pages[e-1];var i={};i[t.read.pageField]=e;if(!n.geometries.length)a.ajax({type:t.read.type,url:t.read.url,data:i,success:function(e){o.resolve(JSON.parse(e))},error:function(e){t.viewer._triggerError({error:e.responseText,message:t.viewer.options.messages.errorMessages.parseError})}});else o.resolve(n);return o},downloadFile:function(e){window.location=this.download.url+"?file="+e},fromJSON:function(e){var t=this.viewer;t._clearPages();t.document=e;t.document.total=t.document.pages.length;t._renderPages();t.resize(true);t.activatePage(1)}});return o(i.pdfviewer,{dpl:{processor:r}}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,o){(o||t)()}),function(define){define("pdfviewer/pager.min",["../kendo.core.min"],function(){var l=window.kendo.jQuery,t=void 0,r=".kendoPDFViewer",n=kendo.ui.Widget,o="change",i="keydown",p=kendo.support.click,u=480,a=kendo.attr,s=l.proxy,h=l.extend,e=".",d="aria-disabled",c={wrapperClass:"k-pager-wrap k-button-group",iconFirst:"k-i-arrow-end-left",iconLast:"k-i-arrow-end-right",iconPrev:"k-i-arrow-60-left",iconNext:"k-i-arrow-60-right",first:"k-pager-first",last:"k-pager-last",nav:"k-pager-nav",disabled:"k-disabled"},f=n.extend({init:function(e,t){var o=this;n.fn.init.call(o,e,t);o.linkTemplate=kendo.template(o.options.linkTemplate);o.element.addClass(c.wrapperClass);o._renderLinks();o._toggleDisabledClass();o._attachEvents()},options:{linkTemplate:'<a href="\\#" aria-label="#=text#" title="#=text#" class="k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button k-pager-nav #= wrapClass #" data-page="#=pageIdx#"><span class="k-button-icon k-icon #= iconClass #"></span></a>',previousNext:true,input:true,page:1,total:1,messages:{}},events:[o],_pagerLink:function(e,t,o,n){return this.linkTemplate({iconClass:e,text:t,wrapClass:n||"",pageIdx:o})},_renderLinks:function(){var e=this,t=e.options;if(t.previousNext){e.firstLink=l(e._pagerLink(c.iconFirst,t.messages.first,1,c.first));e.prevLink=l(e._pagerLink(c.iconPrev,t.messages.previous,t.page-1));e.nextLink=l(e._pagerLink(c.iconNext,t.messages.next,t.page+1));e.lastLink=l(e._pagerLink(c.iconLast,t.messages.last,t.total,c.last))}e.element.append(e.firstLink);e.element.append(e.prevLink);if(t.input)e._renderInput();e.element.append(e.nextLink);e.element.append(e.lastLink)},_toggleDisabledClass:function(){var e=this,t=e.options,o=!t.total;if(e.nextLink&&e.prevLink){e.prevLink.toggleClass(c.disabled,o||t.page===1);e.nextLink.toggleClass(c.disabled,o||t.page===t.total);e.lastLink.toggleClass(c.disabled,o||t.page===t.total);e.firstLink.toggleClass(c.disabled,o||t.page===1);e.prevLink.attr(d,o||t.page===1);e.firstLink.attr(d,o||t.page===1);e.nextLink.attr(d,t.page===t.total);e.lastLink.attr(d,t.page===t.total)}if(e.input){e.input.toggleClass(c.disabled,t.total<=1);e.input.attr(d,t.total<=1)}},_attachEvents:function(){var t=this;t.element.on(p+r,e+c.nav,s(t._click,t));t.element.on(i+r,e+c.nav,function(e){if(e.keyCode===kendo.keys.ENTER){t._click(e);e.preventDefault()}});if(t.input)t.input.on(i+r,s(t._keydown,t))},_click:function(e){var t=l(e.currentTarget);var o=parseInt(t.attr(a("page")),10);if(e.isDefaultPrevented())return;this._change(o)},_keydown:function(e){var t=e.keyCode,o=kendo.keys,n=l(e.target),i=parseInt(n.val(),10),a=t===o.UP||t===o.DOWN,r=t===o.RIGHT||t===o.LEFT||t===o.BACKSPACE||t===o.DELETE,s=a&&t===o.UP?1:-1;if(a)i+=s;if(t===o.ENTER||a){if(isNaN(i)||i<1||i>this.options.total){i=this.options.page;n.val(i);return}this._change(i);e.preventDefault()}else if(!e.key.match(/^\d+$/)&&!r)e.preventDefault()},_change:function(e){var t=this;if(e>=1&&e<=t.options.total){t.options.page=e;if(t.input)t.input.val(e);t.prevLink.attr(a("page"),e-1);t.nextLink.attr(a("page"),e+1);t._toggleDisabledClass()}t.trigger(o,{page:e})},setOptions:function(e){var t=this,o=t.options.total;e=l.extend(t.options,e);n.fn.setOptions.call(t,e);if(e.input)if(o!=e.total){t._renderInput();t.input.on(i+r,s(t._keydown,t))}else t.input.val(e.total>0?e.page:1);if(e.total>1){t.prevLink.attr(a("page"),e.page-1);t.nextLink.attr(a("page"),e.page+1);t.lastLink.attr(a("page"),e.total)}t._toggleDisabledClass()},_renderInput:function(){var e=this,t,o=e.options,n=e.element.parent().width()<=u,i,a=e.element.find(".k-pager-input");if(e.input)e.input.off(r);t=o.total>0?kendo.format(o.messages.of,o.total):"";if(!n)t+=o.total>1?o.messages.pages:o.messages.page;i='<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input class="k-input-inner" aria-label="'+o.page+t+'"></span>'+t;if(a.length)a.html(i);else e.element.append('<span class="k-pager-input k-label">'+i+"</span>");e.input=e.element.find("input").val(o.total>0?o.page:1)},destroy:function(){this.element.off(r);if(this.input)this.input.off(r);n.fn.destroy.call(this)}});return h(kendo.pdfviewer,{Pager:f}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,o){(o||t)()}),function(define){define("pdfviewer/toolbar.min",["../kendo.toolbar.min","../kendo.combobox.min","./pager.min"],function(){var l=window.kendo.jQuery,e=void 0,d=window.kendo,a=l.extend,n=l.proxy,t="action",i="keydown",o=d.support.click,u="change",h="zoomin",f="zoomout",g=d.toolbar.Item,r=d.ui.ToolBar,s={auto:"auto",actual:"actual",fitToWidth:"fitToWidth",fitToPage:"fitToPage"},c={zoomOutIcon:"k-i-zoom-out",zoomInIcon:"k-i-zoom-in",zoomButtons:"k-button-flat k-button-flat-base",zoomOverflowButtons:"k-button-solid k-button-solid-base k-overflow-button",overflowHidden:"k-overflow-hidden"},m=d.template('<a href="\\#" aria-label="#=text#" title="#=text#" data-command="#=command#" class="k-button k-button-md k-rounded-md # if(!showText) { # k-icon-button # } # #=className#">'+'<span class="k-button-icon k-icon #= iconClass #"></span> '+"# if(showText) { #"+'<span class="k-button-text">#= text #</span> '+"# } #"+"</a>"),v=d.template('<select title="#=zoomLevel#" aria-label="#=zoomLevel#">'+"#for(var zoomIndex in zoomLevels){#"+"# var zoomLevel = zoomLevels[zoomIndex]; #"+'<option value="#= zoomLevel.percent || (zoomLevel + "%") #">${zoomLevel.text ? zoomLevel.text : zoomLevel + "%"}</option>'+"#}#"+"</select>"),p={pager:{type:"pager",overflow:"never",command:"PageChangeCommand"},spacer:{type:"spacer"},zoom:{type:"zoom",command:"ZoomCommand",zoomInOut:true,combobox:{zoomLevels:[50,100,150,200,300,400]},enable:false,attributes:{class:"k-button-group"}},toggleSelection:{type:"buttonGroup",attributes:{class:"k-toggle-selection-group"},buttons:[{togglable:true,text:"Enable Selection",command:"EnableSelectionCommand",icon:"cursor",showText:"overflow",name:"toggleSelection",group:"toggle-pan"},{togglable:true,text:"Enable Panning",command:"EnablePanCommand",icon:"hand",showText:"overflow",name:"togglePan",group:"toggle-pan",selected:true}]},spacer2:{type:"spacer"},search:{type:"button",text:"Search",command:"OpenSearchCommand",icon:"search",name:"search",showText:"overflow",enable:false},open:{type:"button",text:"Open",showText:"overflow",name:"open",icon:"folder-open",command:"OpenCommand"},download:{type:"button",text:"Download",showText:"overflow",name:"download",icon:"download",command:"DownloadCommand",enable:false},print:{type:"button",text:"Print",showText:"overflow",name:"print",icon:"print",command:"PrintCommand",enable:false}},w=a({},p,{exportAs:{type:"button",text:"Export",showText:"overflow",name:"exportAs",icon:"image-export",command:"ExportCommand"}}),b=g.extend({init:function(e,t){var o=l("<div />");this.options=a(true,e,t.options.pager);this.toolbar=t;this.toolbar.pager=new d.pdfviewer.Pager(o,a({},e,{change:n(this._change,this)}));this.element=o;this.element.on(i,n(this._keydown,this));this.attributes();this.addUidAttr();this.addOverflowAttr()},_change:function(e){if(this.options.change&&this.options.change(e.page))return;this.toolbar.action({command:"PageChangeCommand",options:{value:e.page}})},_keydown:function(e){var t=this,o=l(e.target),n=e.keyCode,i=t.element.find(":kendoFocusable"),a=i.index(o),r=e.shiftKey?-1:1,s=d.keys;if(n===s.TAB&&i[a+r]){i[a+r].focus();e.preventDefault();e.stopPropagation()}else if(n===s.RIGHT&&i[a+1]){i[a+1].focus();e.preventDefault();e.stopPropagation()}else if(n===s.LEFT&&i[a-1]){i[a-1].focus();e.preventDefault();e.stopPropagation()}}});function k(e,t,o){var n=o?c.zoomOverflowButtons:c.zoomButtons;e.append(m({text:t.zoomOut,command:f,iconClass:c.zoomOutIcon,showText:o,className:n}));e.append(m({text:t.zoomIn,command:h,iconClass:c.zoomInIcon,showText:o,className:n}))}d.toolbar.registerComponent("pager",b);var _=g.extend({init:function(e,t){this._init(e,t);this.toolbar.zoom=this;if(t.options.scale)this._initValue=t.options.scale*100+"%";this._appendElements();this._click=d.throttle(this._click.bind(this),200);this._keydown=d.throttle(this._keydown.bind(this),200);this.element.on(o,".k-button[data-command='zoomin'], .k-button[data-command='zoomout']",this._click);this.element.on(i,".k-button[data-command='zoomin'], .k-button[data-command='zoomout']",this._keydown);this.attributes();this.addUidAttr();this.addOverflowAttr();this.enable(e.enable)},_init:function(e,t){var o=l("<div />");this.options=a(true,e,{messages:t.options.messages.zoom});this.toolbar=t;this.element=o},_appendElements:function(){var e=this.options;if(e.zoomInOut)k(this.element,e.messages,false);if(e.combobox)this._buildComboBox()},_buildComboBox:function(){var e=this,t,o=e.options.messages,n=e.options.combobox,i=[{percent:s.auto,text:o.autoWidth},{percent:s.actual,text:o.actualWidth},{percent:s.fitToWidth,text:o.fitToWidth},{percent:s.fitToPage,text:o.fitToPage}];i=i.concat(n.zoomLevels);t=l(v({zoomLevels:i,zoomLevel:o.zoomLevel}));if(!d.support.mobileOS){t=t.kendoComboBox(a({autoWidth:true,clearButton:false,value:e._initValue},n)).getKendoComboBox();e.element.append(t.wrapper);e.combobox=t;e._currentValue=t.value()}else e.element.append(t);t.bind(u,d.throttle(e.change.bind(e),300))},change:function(e){var t=e.sender?e.sender.value():e.target.value,o;if(t.toString().match(/^[0-9]+%?$/))o=parseInt(t.replace("%",""),10)/100;else if(!s[t]){if(this.combobox)this.combobox.value(this._currentValue);e.preventDefault();return}this._currentValue=t;this.toolbar.action({command:"ZoomCommand",options:{scale:o||t}})},_buttonCommand:function(e){var t=l(e).closest(".k-button"),o=t.data("command");this.toolbar.action({command:"ZoomCommand",options:{zoomIn:o===h,zoomOut:o===f,updateComboBox:true}})},_click:function(e){this._buttonCommand(e.target)},_keydown:function(e){var t=e.target,o=e.keyCode,n=d.keys,i=this.element.find(":kendoFocusable"),a=i.index(l(t));if(o===n.ENTER){this._buttonCommand(t);e.preventDefault()}else if(o===n.RIGHT&&i[a+1]){i[a+1].focus();e.preventDefault();e.stopPropagation()}else if(o===n.LEFT&&i[a-1]){i[a-1].focus();e.preventDefault();e.stopPropagation()}},enable:function(e){var t=this.element;t.find(".k-button, select").toggleClass("k-disabled",!e);if(this.combobox)this.combobox.enable(e)},destroy:function(){if(this.combobox)this.combobox.destroy()}}),x=_.extend({_init:function(e,t){var o=l("<li></li>");this.options=a(true,e,{messages:t.options.messages.zoom});this.toolbar=t;this.element=o},_appendElements:function(){var e=this.options;if(e.zoomInOut)k(this.element,e.messages,true)},overflowHidden:function(){this.element.addClass(c.overflowHidden)}}),C=(d.toolbar.registerComponent("zoom",_,x),r.extend({init:function(e,t){var o=this;var n=t.items&&t.items.length?t.items:Object.keys(p);o.options=t;t.items=o._updateItems(n);r.fn.init.call(o,e,t);o.bind({click:o._click,toggle:o._click});t.viewer.bind({update:o._update.bind(o)})},events:[t],_updateItems:function(e){var a=this;var r=this.options.messages;return e.map(function(e){var t=l.isPlainObject(e)&&Object.keys(e).length===1&&e.name;e=t?e.name:e;var o=l.isPlainObject(e)?e:w[e];var n;var i=o.name;if(o.type==="buttonGroup")o.buttons=a._updateItems(o.buttons);else if(o.type!=="pager")n={name:i,attributes:{"aria-label":r[i],title:r[i],"data-command":o.command},overflow:o.overflow,fillMode:"flat"};else n={overflow:"never"};if(o.text)n.text=r[o.name]||o.text;d.deepExtend(o,n);return o})},_click:function(e){var t=l(e.target).data("command");if(!t)return;this.action({command:t,options:e.options})},_update:function(e){var t={page:e.page||1,total:e.total||1};if(this.zoom){this.zoom.enable(!e.isBlank);if(e.action==="zoom")this._updateZoomComboBox(e.zoom)}if((e.action==="pagechange"||e.isBlank)&&this.pager)this.pager.setOptions(t);this.enable(this.wrapper.find(".k-toggle-selection-group"),!e.isBlank);this.enable(this.wrapper.find("[data-command='OpenSearchCommand']"),!e.isBlank);this.enable(this.wrapper.find("[data-command='DownloadCommand']"),!e.isBlank);this.enable(this.wrapper.find("[data-command='PrintCommand']"),!e.isBlank)},_updateZoomComboBox:function(e){var t=e===s.auto||e===s.actual;if(!t)e=Math.round(e*100)+"%";if(this.zoom&&this.zoom.combobox){this.zoom._currentValue=e;this.zoom.combobox.value(e)}},action:function(e){this.trigger(t,e)},destroy:function(){if(this.pager)this.pager.destroy();if(this.zoom)this.zoom.destroy();r.fn.destroy.call(this)}}));return a(d.pdfviewer,{Toolbar:C,DefaultTools:p}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,o){(o||t)()}),function(define){define("pdfviewer/page.min",["../kendo.drawing.min"],function(){var i=window.kendo.jQuery,c=void 0,o=i.extend,p,l=kendo.drawing,n=l.Group,a=l.Surface,r="render",e=kendo.Class,s={Path:"path",MultiPath:"multipath",Rect:"rect",Image:"image",Text:"text"},d=e.extend({init:function(e,t){this.viewer=t;this.processor=e.processor;this.options=e;this.pageNumber=e.number;this.element=i("<div class='k-page' />");this.element.attr(kendo.attr("number"),this.pageNumber);this._updatePageSize(e);this.width=e.width;this.height=e.height},resize:function(e){var t=this.element;this._updatePageSize({width:Math.min(t.width()*e,this.width),height:Math.min(t.height()*e,this.height)})},_updatePageSize:function(e){this.element.width(e.width).height(e.height)},destroy:function(){kendo.destroy(this.element)},render:i.noop}),t=d.extend({draw:function(){var e=this,t=e.options.geometries;e.group=new n;e.surface.draw(e.group);e._drawGeometries(t);e.viewer.trigger(r,{page:this});kendo.ui.progress(e.element,false)},load:function(){var t=this;if(t.loaded||!t.processor)return;t.processor.fetchPageData(t.pageNumber).then(function(e){t.options=e;t._initSurface();t.draw()});t.loaded=true},_initSurface:function(){var e={width:this.element.width(),height:this.element.height()};var t=o({width:this.width,height:this.height},this.viewer.options.view);this.surface=new a(this.element,t);this._updatePageSize(e)},_drawGeometries:function(e){var t=this,o;if(!e)return;for(var n=0;n<=e.length;n++){var i=e[n];if(!i)continue;switch(i.type){case s.Path:case s.MultiPath:o=t._drawPath(i);break;case s.Rect:o=t._drawRect(i);break;case s.Image:o=t._drawImage(i);break;case s.Text:o=t._drawText(i);break;default:o=null;break}if(o)t.group.append(o)}},_drawRect:function(e){var t=new kendo.geometry.Rect(e.point,e.size);return new l.Rect(t,{transform:this._getMatrix(e.transform),fill:e.fillOptions,stroke:e.strokeOptions})},_drawImage:function(e){var t=new kendo.geometry.Rect(e.point,e.size);return new l.Image(e.src,t,{transform:this._getMatrix(e.transform)})},_drawText:function(e){var t={transform:this._getMatrix(e.transform),stroke:e.strokeOptions,fill:e.fillOptions,font:e.font};return new kendo.drawing.Text(e.content,e.point,t)},_drawPath:function(e){var t={transform:this._getMatrix(e.transform),stroke:e.strokeOptions,fill:e.fillOptions};var o=new l.MultiPath(t);for(var n=0;n<e.paths.length;n++){var i=e.paths[n];if(!i.segments)return;o.moveTo.apply(o,i.point);for(var a=0;a<i.segments.length;a++){var r=i.segments[a];var s=r.points.length===1?o.lineTo:o.curveTo;s.apply(o,r.points)}if(i.closed)o.close()}return o},_getMatrix:function(e){var t=Object.create(kendo.geometry.Matrix.prototype);kendo.geometry.Matrix.apply(t,e);return t}}),u=d.extend({init:function(e,t){var o=this,n;n=i("<canvas style='width: 100%; height: 100%;' />");o.canvas=n.get(0);d.fn.init.call(o,e,t);o.canvas.width=o.width;o.canvas.height=o.height;o.element.append(n)},load:function(t,e){var o=this,n=i.Deferred();if(o._scale===t&&!e)return;else if(o._scale&&o._scale!==t&&!e){o._scale=t;o.render(t);return n.resolve(o)}if(o.processor)o.processor.fetchPageData(o.pageNumber).then(function(e){o._page=e;o._renderPromise=o.render(t).then(function(){o.viewer.trigger(r,{page:o})});n.resolve(o)});o._scale=t;o.loaded=true;return n},render:function(e){var t=this;var o=this.canvas.getContext("2d"),n=this._page.getViewport({scale:e});this._scale=e;this.canvas.width=n.width;this.canvas.height=n.height;if(this._renderTask){this._renderTask.cancel();this._renderTask=null}this._updatePageSize({width:n.width,height:n.height});this._renderTask=this._page.render({canvasContext:o,viewport:n});this._renderTextLayer(n);return this._renderTask.promise.then(function(){t._renderTask=null}).catch(function(){})},_renderTextLayer:function(o){var n=this;var e=n._page;if(n.textLayer)n.textLayer.remove();n.textLayer=i("<div class='k-text-layer'></div>").get(0);n.element.append(n.textLayer);e.getTextContent({normalizeWhitespace:true}).then(function(e){i(n.textLayer).css({height:o.height,width:o.width}).html("");var t={textContent:e,container:n.textLayer,viewport:o,textDivs:[],enhanceTextSelection:true};n.processor.renderTextLayer(t)})}});return o(kendo.pdfviewer.dpl,{geometryTypes:s,Page:t}),o(kendo.pdfviewer.pdfjs,{Page:u}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,o){(o||t)()}),function(define){define("pdfviewer/search.min",["../kendo.core.min"],function(){var a=window.kendo.jQuery,e=void 0,t=kendo.Class,o=a.extend,n=Array.isArray,i=t.extend({init:function(e){var t=this;t.options=o({},t.options,e);t.processDom()},options:{highlightClass:"k-search-highlight",charClass:"k-text-char"},processDom:function(){var t=this;t.targets=n(t.options.target)?t.options.target:[t.options.target];t.textNodes=[];t.charIndex=0;t.text="";t.targets.forEach(function(e){t.traverseToTextNode(e)});for(var e=0;e<t.textNodes.length;e++)t.processTextNode(t.textNodes[e])},traverseToTextNode:function(e){var t=this;if(e.nodeType===3)t.textNodes.push(e);else for(var o=0;o<e.childNodes.length;o++)t.traverseToTextNode(e.childNodes[o])},processTextNode:function(e){var t=this;var o=e.textContent;var n;t.text=t.text+o;if(o.length>0){n=a(e).wrap("<span>").parent();n.empty();t.splitChars(n.get(0),o);n.children().unwrap()}},splitChars:function(e,t){var o=this;var n="";for(var i=0;i<t.length;i++){n=n+"<span class='"+o.options.charClass+"' "+kendo.attr("char-index")+"="+o.charIndex+">"+t[i]+"</span>";o.charIndex++}e.innerHTML=n},search:function(e,t){var o=this;var n=new RegExp(e,!t?"gi":"g");var i;o.matches=[];o.resetMark();o.resetHighlight();o.resetMatchIndex();if(e==="")return;i=n.exec(o.text);while(i){o.matches.push({startOffset:i.index,endOffset:i.index+i[0].length});i=n.exec(o.text)}o.highlightAll();o.mark()},highlightAll:function(){var i=this;i.matches.forEach(function(e,t){var o=e.startOffset;var n=e.endOffset;i.highlight(o,n,t+1)})},highlight:function(e,t,o){var n=this;for(var i=e;i<t;i++)a(n.targets).find("."+n.options.charClass+"["+kendo.attr("char-index")+"="+i+"]").addClass(n.options.highlightClass).attr(kendo.attr("match-index"),o)},resetHighlight:function(){var e=this;a(e.targets).find("."+e.options.highlightClass).removeClass(e.options.highlightClass)},resetMatchIndex:function(){var e=this;a(e.targets).find("."+e.options.charClass+"["+kendo.attr("match-index")+"]").removeAttr(kendo.attr("match-index"))},mark:function(){var e=this;if(!e.currentIndex&&e.currentIndex!==0)e.currentIndex=0;else if(e.currentIndex>e.matches.length)e.currentIndex=e.matches.length;else e.resetMark();a(e.targets).find("."+e.options.charClass+"["+kendo.attr("match-index")+"="+e.currentIndex+"]").wrapInner("<mark>")},resetMark:function(){var e=this;a(e.targets).find("mark").contents().unwrap()},nextMatch:function(){var e=this;e.currentIndex++;if(e.currentIndex>e.matches.length)e.currentIndex=1;e.mark()},previousMatch:function(){var e=this;e.currentIndex--;if(e.currentIndex<1)e.currentIndex=e.matches.length;e.mark()},getMarkedIndex:function(){return this.matches.length?this.currentIndex:0},getFirstMarked:function(){return a(this.targets).find("mark").eq(0)},destroy:function(){var e=this;e.resetMark();a(e.targets).children("span:not(."+e.options.charClass+")").each(function(e,t){a(t).text(a(t).text())})}});return o(kendo.pdfviewer,{SearchDOM:i}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,o){(o||t)()}),function(define){define("pdfviewer/dialogs.min",["../kendo.dialog.min","../kendo.window.min","../kendo.binder.min","../kendo.numerictextbox.min","../kendo.dropdownlist.min"],function(){var i=window.kendo.jQuery,d=void 0,a=window.kendo,r=i.extend,e=a.Class,t={svg:".svg",png:".png"},s=a.keys,o=e.extend({init:function(e){this.options=r(e,{actions:[{text:e.messages.dialogs.okText}]});this._dialog=i("<div />").kendoDialog(this.options).getKendoDialog()},open:function(){this._dialog.center().open()}}),n=e.extend({init:function(e){this.options=r(e,this.options,{fileFormats:[{description:e.messages.dialogs.exportAsDialog.png,extension:t.png},{description:e.messages.dialogs.exportAsDialog.svg,extension:t.svg}],title:e.messages.dialogs.exportAsDialog.title,open:function(){this.center()}});this._initializeDialog();return this},options:{extension:t.png,autoFocus:true,resizable:false,modal:{preventScroll:true},width:"90%",maxWidth:520,template:"<div class='k-edit-label'><label>#: messages.exportAsDialog.labels.fileName #:</label></div>"+"<div class='k-edit-field'>"+"<span class='k-textbox k-input k-input-md k-rounded-md k-input-solid'><input class='k-input-inner' data-bind='value: name' /></span>"+"</div>"+"<div>"+"<div class='k-edit-label'><label>#: messages.exportAsDialog.labels.saveAsType #:</label></div>"+"<div class='k-edit-field'>"+"<select data-role='dropdownlist' class='k-file-format' "+"data-text-field='description' "+"data-value-field='extension' "+"data-bind='value: extension, source: fileFormats'></select>"+"</div>"+"</div>"+"<div class='k-edit-label'><label>#: messages.exportAsDialog.labels.page #:</label></div>"+"<div class='k-edit-field'>"+"<input data-role='numerictextbox' data-format='n0' data-min='1' data-max='#: total #' data-bind='value: page' />"+"</div>"+"<div class='k-action-buttons'>"+"<button class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary' data-bind='click: apply'><span class='k-button-text'>#: messages.save #</span></button>"+"<button class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base' data-bind='click: close'><span class='k-button-text'>#: messages.cancel #</span></button>"+"</div>"},_updateModel:function(e){if(e.pagesCount)this.viewModel.set("pagesCount",e.pagesCount);if(e.page)this.viewModel.set("page",e.page)},_initializeDialog:function(){var e=this;var t=e.options;var o=t.messages.dialogs;var n=i("<div class='k-pdf-viewer-window k-action-window k-popup-edit-form' />").append(a.template(t.template)({total:t.pagesCount,messages:o})).kendoWindow(t).getKendoWindow();e.viewModel=a.observable({title:o.exportAsDialog.title,name:o.exportAsDialog.defaultFileName,extension:t.extension,fileFormats:t.fileFormats,pagesCount:t.pagesCount,page:1,apply:e.apply.bind(this),close:function(){n.close()}});e._dialog=n;a.bind(n.element,e.viewModel);return n},open:function(){this._dialog.center().open()},apply:function(){this._dialog.close();this.options.apply({fileName:this.viewModel.name+this.viewModel.extension,extension:this.viewModel.extension,page:this.viewModel.page})}}),l=e.extend({init:function(e){var t=this;t.options=r({},e,t.options)},options:{resizable:false,template:"<div class='k-search-container'>"+"<button class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button k-search-dialog-draghandle'><span class='k-button-icon k-icon k-i-handler-drag'></span></button>"+"<span class='k-textbox k-input k-input-md k-rounded-md k-input-solid'>"+"<input class='k-search-dialog-input k-input-inner' data-bind='value: boundValue, events: { keyup: onKeyup, input: onInput }' aria-label='#: messages.inputLabel #' title='#: messages.inputLabel #' />"+"<span class='k-input-suffix'><button class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button k-match-case-button k-match-case-button' data-bind='css: {k-selected: matchCase}, click: matchCaseClick' aria-label='#: messages.matchCase #' title='#: messages.matchCase #'><span class='k-icon k-i-convert-lowercase'></span></button></span>"+"</span>"+"<span class='k-search-matches'><span data-bind='text: matchIndex'></span> #: messages.of # <span data-bind='text: matches'></span></span>"+"<button class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button' data-bind='click: prev' aria-label='#: messages.previous #' title='#: messages.previous #'><span class='k-button-icon k-icon k-i-arrow-up'></span></button>"+"<button class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button' data-bind='click: next' aria-label='#: messages.next #' title='#: messages.next #'><span class='k-button-icon k-icon k-i-arrow-down'></span></button>"+"<button class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button' data-bind='click: close' aria-label='#: messages.close #' title='#: messages.close #'><span class='k-button-icon k-icon k-i-close'></<span></button>"+"</div>"},open:function(){var e=this;if(!e.dialog)e._initializeDialog();e.dialog.open()},_initializeDialog:function(){var e=this;var t=a.template(e.options.template);var o=i("<div class='k-pdf-viewer-search-dialog'></div>").append(t({messages:e.options.messages}));var n={top:e.options.position.top+16,left:e.options.position.left+16};e.dialog=new a.ui.Window(o,r({},e.options,{autoFocus:false,title:false,position:{top:n.top,left:n.left},minHeight:30,draggable:{dragHandle:".k-search-dialog-draghandle"},activate:function(e){e.sender.element.find(".k-search-dialog-input").trigger("focus")}}));e.searchModel=a.observable({boundValue:"",searchText:"",matchCase:false,matchIndex:0,matches:0,matchCaseClick:function(){this.set("matchCase",!this.matchCase)},next:e.options.next,prev:e.options.prev,close:function(){this.set("boundValue","");e.dialog.close()},onKeyup:function(e){var t=e.keyCode;var o=e.shiftKey?this.prev:this.next;if(t===s.ENTER){o();e.preventDefault()}},onInput:function(e){this.set("searchText",e.target.value)}});a.bind(e.dialog.element,e.searchModel)}});return r(a.pdfviewer,{dialogs:{ErrorDialog:o,ExportAsDialog:n,SearchDialog:l}}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,o){(o||t)()}),function(define){define("pdfviewer/commands.min",["../kendo.upload.min"],function(){var s=window.kendo.jQuery,e=void 0,r=window.kendo,o=s.proxy,n=s.extend,i=JSON.parse,a=r.ui.progress,t,l="open",d="zoomStart",c="zoomEnd",p=r.Class.extend({init:function(e){this.options=e;this.viewer=e.viewer;this.errorMessages=this.viewer.options.messages.errorMessages}}),u=p.extend({init:function(e){p.fn.init.call(this,e);this.upload=this.viewer.processor.upload},exec:function(){(this.viewer._upload||this._initUpload()).element.click()},_initUpload:function(){var e={select:o(this._onSelect,this),success:o(this._onSuccess,this),error:o(this._onError,this),complete:o(this._onComplete,this),showFileList:false,multiple:false,validation:{allowedExtensions:[".pdf"]}};if(this.upload)n(e,{async:{saveUrl:this.upload.url,autoUpload:true,saveField:this.upload.saveField}});var t=s('<input name="files" accept=".pdf" type="file" />').kendoUpload(e).getKendoUpload();this.viewer._upload=t;return t},_onComplete:function(){a(this.viewer.pageContainer,false)},_onSuccess:function(e){var t=i(e.response);if(s.isPlainObject(t))this.viewer.processor.fromJSON(t);else this.viewer._triggerError({error:t,message:this.errorMessages.parseError})},_onError:function(e){this.viewer._triggerError({error:e.XMLHttpRequest.responseText,message:this.errorMessages.notSupported})},_onSelect:function(e){var o=this;var t=e.files[0];a(o.viewer.pageContainer,true);if(o.viewer.trigger(l,{file:t})||o.upload)return;else if(t.extension.toLowerCase()!==".pdf"){o.viewer._triggerError({error:t,message:o.errorMessages.notSupported});return}var n=new FileReader;n.onload=function(e){var t=e.target.result;o.viewer.fromFile(t)};n.onerror=function(){o.viewer._triggerError({error:t,message:o.errorMessages.parseError})};n.readAsArrayBuffer(t.rawFile)}}),h=p.extend({exec:function(){var e=this.options.value;this.viewer.activatePage(e)}}),f=p.extend({exec:function(){if(!this.viewer.document){this.viewer._triggerError({message:this.errorMessages.notFound});return}var e=this.viewer.document.info&&this.viewer.document.info.title||this.viewer.options.messages.defaultFileName;this.viewer.processor.downloadFile(e)}}),g=p.extend({init:function(e){e=s.extend(e,this.options);p.fn.init.call(this,e)},exec:function(){var e=this.viewer._saveDialog||this._initDialog();e._updateModel({pagesCount:this.viewer.document&&this.viewer.document.total||1,page:this.viewer.options.page});e.open()},apply:function(e){var t=e.extension;if(t===".png")this.viewer.exportImage(e);else if(t===".svg")this.viewer.exportSVG(e)},_initDialog:function(){this.viewer._saveDialog=new r.pdfviewer.dialogs.ExportAsDialog({apply:this.apply.bind(this),pagesCount:this.viewer.document&&this.viewer.document.total||1,messages:this.viewer.options.messages});return this.viewer._saveDialog}}),m=p.extend({exec:function(){var e=this,t=e.viewer;t._toggleSelection(true)}}),v=p.extend({exec:function(){var e=this,t=e.viewer;t._toggleSelection(false)}}),w=p.extend({init:function(e){var t=this;t.viewer=e.viewer;if(!t.viewer.searchDialog)t.viewer.searchDialog=new r.pdfviewer.dialogs.SearchDialog({position:{top:t.viewer.pageContainer.offset().top,left:t.viewer.pageContainer.offset().left},messages:t.viewer.options.messages.dialogs.search,open:o(t._open,t),next:o(t._next,t),prev:o(t._prev,t),close:o(t._close,t)});p.fn.init.call(t,e)},exec:function(){var e=this;e.viewer.searchDialog.open()},_open:function(){var e=this;e.changeHandler=o(e._change,e);e.zoomStartHandler=o(e._closeDialog,e);e.openFileHandler=o(e._closeDialog,e);if(!e.viewer._searchDOM){e.viewer._initSearchDOM();e.viewer.searchDialog.searchModel.bind("change",e.changeHandler);e.viewer.bind("zoomStart",e.zoomStartHandler);e.viewer.bind("open",e.openFileHandler)}},_close:function(){var e=this;var t=e.viewer._searchDOM;e.viewer.searchDialog.searchModel.unbind("change",e.changeHandler);e.viewer.unbind("zoomStart",e.zoomStartHandler);e.viewer.unbind("open",e.openFileHandler);t.destroy();delete e.viewer._searchDOM;e._updateSearchModel()},_change:function(e){var t=this;var o=t.viewer._searchDOM;var n=e.field;var i=t.viewer.searchDialog.searchModel;var a=i[n];if(!o)return;switch(n){case"searchText":o.search(a,i.matchCase);t._updateSearchModel();break;case"matchCase":o.search(i.searchText,a);t._updateSearchModel();break;default:break}},_next:function(){var e=this;var t=e.viewer._searchDOM;if(t.matches&&t.matches.length){t.nextMatch();e._updateSearchModel()}},_prev:function(){var e=this;var t=e.viewer._searchDOM;if(t.matches&&t.matches.length){t.previousMatch();e._updateSearchModel()}},_updateSearchModel:function(){var e=this;var t=e.viewer._searchDOM;var o=e.viewer.searchDialog.searchModel;if(t){o.set("matches",t.matches.length);o.set("matchIndex",t.getMarkedIndex());e._scrollToMark()}else{o.set("searchText","");o.set("matches",0);o.set("matchIndex",0);o.set("matchCase",false)}},_scrollToMark:function(){var e=this;var t=e.viewer._searchDOM;var o=t.getFirstMarked();var n=e.viewer._scroller;var i;if(!o.length)return;i=o.offset().top-n.scrollElement.offset().top-100;n.scrollTo(n.scrollLeft,i*-1)},_closeDialog:function(){var e=this;e.viewer.searchDialog.dialog.close()}}),b=p.extend({exec:function(){var o=this,e=o.options,n=o.viewer,i=e.scale,a=0,r=o.viewer._pageNum,s=n.pageContainer[0].clientHeight,l=1,d=[];if(n.processingLib==="dpl")return;i=o._calculateZoom();var t=function(){var e=o.viewer._scroller,t=n._scrollingStarted;if(e&&e.scrollTop>e.scrollHeight())e._resize();if(!t){n.activatePage(r);n._scrollingStarted=false}};if(!i)return;n.zoomScale=i;n._scrollingStarted=false;if(n.pages){n.pages.forEach(function(e){var t;if(n._visiblePages.indexOf(e)!==-1&&e.loaded){d.push(e.render(i));t=e._page.getViewport({scale:i}).height}else{e.resize(i);t=e.element.height()}a+=t;if(a<=s)l++});if(n._visiblePagesCount!=l){n._visiblePagesCount=l;n._loadVisiblePages()}}Promise.all(d).then(function(){t();o._triggerZoomEnd(i)}).catch(function(){t();o._triggerZoomEnd(i)})},_calculateZoom:function(){var e=this.options,t=this.viewer,o=t.options,n=t.pageContainer,i=t._visiblePages&&t._visiblePages[0].canvas,a=e.scale,r=a,s;t._allowResize=false;t._autoFit=false;if(e.zoomIn)r=a=t.zoomScale+o.zoomRate;else if(e.zoomOut)r=a=t.zoomScale-o.zoomRate;else if(a==="auto"){t._allowResize=true;r=t._autoZoomScale}else if(a==="actual")r=1;else if(a==="fitToWidth"){t._allowResize=true;t._autoFit="fitToWidth";r=n.width()/(i.width/t.zoomScale)}else if(a==="fitToPage"){t._allowResize=true;t._autoFit="fitToPage";r=n.height()/(i.height/t.zoomScale)}s=a<o.zoomMin||a>o.zoomMax;if(s||t.trigger(d,{scale:a}))return;if(e.updateComboBox&&t.toolbar)t.toolbar._updateZoomComboBox(a);return r},_triggerZoomEnd:function(e){var t=this,o=t.viewer;o.trigger(c,{scale:e})}}),k=p.extend({init:function(e){p.fn.init.call(this,e)},exec:function(){var e=this;if(!e.viewer.document){e.viewer._triggerError({message:this.errorMessages.notFound});return}a(e.viewer.pageContainer,true);e._renderPrintContainer();e._loadAllPages().then(o(e.processAfterRender,e))},_renderPrintContainer:function(){this.printContainer=s("<div></div>")},_loadAllPages:function(){var e=this;var t=e.viewer.pages;var o=[];var n=[];var i=s.Deferred();e._originalScale=e.viewer.zoom();function a(e){n.push(e._renderPromise)}for(var r=0;r<t.length;r++)o.push(t[r].load(3,true).then(a));Promise.all(o).then(function(){i.resolve(n)});return i},processAfterRender:function(e){var t=this;Promise.all(e).then(function(){t._renderPrintPages();setTimeout(function(){t._printDocument();t.viewer.zoom(t._originalScale);a(t.viewer.pageContainer,false);delete t._originalScale},0)})},_renderPrintPages:function(){var e=this.viewer.pages;for(var t=0;t<e.length;t++)this._renderPrintImage(e[t])},_renderPrintImage:function(e){var t=e.canvas;var o=s("<div></div>");var n="<img src='"+t.toDataURL()+"' width='"+e.width+"px' height='"+e.height+"px' />";o.append(n);this.printContainer.append(o)},_printDocument:function(){var e=this;var t=e.viewer.pages;var o=t[0].width;var n=t[0].height;var i=window.open("","","innerWidth="+o+",innerHeight="+n+"location=no,titlebar=no,toolbar=no");var a=r.support.browser;if(!i){e.viewer._triggerError({message:e.errorMessages.popupBlocked});return}i.document.write(e.printContainer.html());i.document.close();i.focus();i.print();if(!a.chrome||a.chromiumEdge)i.close();else s(i.document).find("body").on("mousemove",function(){i.close()})}});return n(r.pdfviewer,{OpenCommand:u,PageChangeCommand:h,DownloadCommand:f,EnableSelectionCommand:m,EnablePanCommand:v,ExportCommand:g,PrintCommand:k,OpenSearchCommand:w,ZoomCommand:b}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,o){(o||t)()}),function(define){define("kendo.pdfviewer.min",["./kendo.mobile.scroller.min","./pdfviewer/processors/pdfjs-processor.min","./pdfviewer/processors/dpl-processor.min","./pdfviewer/toolbar.min","./pdfviewer/page.min","./pdfviewer/search.min","./pdfviewer/dialogs.min","./pdfviewer/commands.min"],function(){var t={id:"pdfviewer",name:"PDFViewer",category:"web",description:"PDFViewer to display pdfs in the browser",depends:["core","window","dialog","toolbar","mobile.scroller","upload","combobox","drawing","binder","dropdownlist","numerictextbox"]},i=window.kendo.jQuery,a=void 0,e=".kendoPDFViewer",r=window.kendo,p=r.ui,u=i.proxy,s=i.extend,h=r.drawing,l=i.extend({PLUS:187,MINUS:189,ZERO:48,NUMPAD_ZERO:96},r.keys),f,n=p.Widget,d=r.ui.progress,g="scroll",m,v,b="error",k="focus"+e,_="keydown"+e,x="DOMMouseScroll"+e+" mousewheel"+e,w="update",c=1.25,C="pagechange",y,P,z="ZoomCommand",D="#ffffff",T="tabindex",S={pdfjs:"pdfjs",dpl:"dpl"},o={viewer:"k-pdf-viewer k-widget",scroller:"k-canvas k-list-scroller",enableTextSelection:"k-enable-text-select",enablePanning:"k-enable-panning",highlightClass:"k-search-highlight",charClass:"k-text-char"},M=n.extend({init:function(e,t){var o=this;n.fn.init.call(o,e,r.deepExtend({},this.options,t));o._wrapper();if(o.options.toolbar)o._renderToolbar();o._initProcessor(t||{});o._renderPageContainer();o._loadDocument();o._tabindex();r.notify(o,r.ui)},events:["render","open",b,"zoomStart","zoomEnd"],options:{name:"PDFViewer",view:{type:"canvas"},pdfjsProcessing:{file:null},dplProcessing:{read:{url:null,type:"GET",dataType:"json",pageField:"pageNumber"},upload:{url:null,saveField:"file"},download:{url:null},loadOnDemand:false},toolbar:{items:[]},width:1e3,height:1200,page:1,defaultPageSize:{width:794,height:1123},scale:null,zoomMin:.5,zoomMax:4,zoomRate:.25,messages:{defaultFileName:"Document",toolbar:{zoom:{zoomLevel:"zoom level",zoomOut:"Zoom Out",zoomIn:"Zoom In",actualWidth:"Actual Width",autoWidth:"Automatic Width",fitToWidth:"Fit to Width",fitToPage:"Fit to Page"},open:"Open",exportAs:"Export",download:"Download",pager:{first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",of:" of {0} ",page:"page",pages:"pages"},print:"Print",toggleSelection:"Enable Selection",togglePan:"Enable Panning",search:"Search"},errorMessages:{notSupported:"Only pdf files allowed.",parseError:"PDF file fails to process.",notFound:"File is not found.",popupBlocked:"Popup is blocked."},dialogs:{exportAsDialog:{title:"Export...",defaultFileName:"Document",pdf:"Portable Document Format (.pdf)",png:"Portable Network Graphics (.png)",svg:"Scalable Vector Graphics (.svg)",labels:{fileName:"File name",saveAsType:"Save as",page:"Page"}},okText:"OK",save:"Save",cancel:"Cancel",search:{inputLabel:"Search Text",matchCase:"Match Case",next:"Next Match",previous:"Previous Match",close:"Close",of:"of"}}}},_wrapper:function(){var e=this,t=e.options;e.wrapper=e.element;e.wrapper.width(t.width).height(t.height).addClass(o.viewer).on(k,u(e._focus,e)).on(_,u(e._keydown,e));e._allowResize=e.options.scale===null;e._autoZoomScale=c;e.zoomScale=e.options.scale||e._autoZoomScale;e._resizeHandler=r.onResize(function(){e.resize()});e._pageNum=e.options.page},_focus:function(e){if(this.toolbar)this.toolbar.wrapper.trigger("focus");else this.pageContainer.trigger("focus");e.preventDefault()},_keydown:function(e){var t=[l.PLUS,l.NUMPAD_PLUS],o=[l.MINUS,l.NUMPAD_MINUS],n=[l.ZERO,l.NUMPAD_ZERO],i=false,a={command:z,options:{updateComboBox:true}};if(!e.ctrlKey||this._blankPage||this.processingLib===S.dpl)return;if(t.includes(e.keyCode)){a.options.zoomIn=true;i=true}else if(o.includes(e.keyCode)){a.options.zoomOut=true;i=true}else if(n.includes(e.keyCode)){a.options.scale=c;i=true}if(i){this.execute(a);e.preventDefault()}},_initProcessor:function(e){var t=this,o;o=e.dplProcessing?t.options.dplProcessing:t.options.pdfjsProcessing;t.processingLib=e.dplProcessing?S.dpl:S.pdfjs;t.processor=new r.pdfviewer[t.processingLib].processor(o,t);f=r.pdfviewer[t.processingLib].Page},_renderToolbar:function(){var e=this,t=e.options;var o={pager:{messages:t.messages.toolbar.pager},scale:t.scale,resizable:true,items:t.toolbar.items,width:t.width,action:e.execute.bind(e),messages:t.messages.toolbar,viewer:this};var n=i("<div />");n.appendTo(e.element);e.toolbar=new r.pdfviewer.Toolbar(n,o)},_initErrorDialog:function(e){var t=this;if(!t._errorDialog){e=s(e,{messages:t.options.messages});var o=new r.pdfviewer.dialogs.ErrorDialog(e);t._errorDialog=o._dialog}return t._errorDialog},_renderPageContainer:function(){var e=this;if(!e.pageContainer){e.pageContainer=i("<div />");e.pageContainer.addClass(o.scroller);e.pageContainer.attr(T,0);e.wrapper.append(e.pageContainer)}},_triggerError:function(e){var t=this._initErrorDialog();s(e,{dialog:t});if(this.pageContainer)d(this.pageContainer,false);if(this.trigger(b,e))return;t.open().content(e.message)},_renderPages:function(){var e=this,t=e.document,o;e.pages=[];if(!t||!t.total){e._renderBlankPage();return}o=t.pages;for(var n=1;n<=t.total;n++){var i,a={processor:e.processor,number:n};if(o&&o.length)a=s(a,o[n-1]);i=new f(a,e);e.pages.push(i);e.pageContainer.append(i.element)}e._attachContainerEvents();e._getVisiblePagesCount()},_renderBlankPage:function(){this._blankPage=new f(this.options.defaultPageSize,this);this.pageContainer.append(this._blankPage.element);this.trigger(w,{isBlank:true})},_resize:function(){var e=this,t,o;if(!e._allowResize)return;if(!e.pages||!e.pages.length){if(e._blankPage){o=t/e._blankPage.element.width();e._blankPage.resize(o)}return}if(e.toolbar)e.toolbar.resize(true);if(e._resizeHandler)clearTimeout(e._resizeHandler);e._resizeHandler=setTimeout(e._resizePages.bind(e),100)},_resizePages:function(){var e=this,o=e.pageContainer[0].clientWidth,n=0;e.pages.forEach(function(e){var t=o/e.element.width();if(t>n)n=t});if(e._autoFit){e.zoom(e._autoFit,true);return}n=Math.min(Math.max(n,e.options.zoomMin),c);if(n!=e.zoomScale){e.zoom(n,true);e.zoomScale=n;e._allowResize=true}},_attachContainerEvents:function(){var t=this;t._wheel=r.throttle(t._wheel.bind(t),300);if(t.processingLib!==S.dpl)t.pageContainer.on(x,function(e){if(!e.ctrlKey)return;if(document.activeElement!==t.pageContainer[0])t.pageContainer.trigger("focus");t._wheel(e);e.preventDefault()});t._scroller=new r.mobile.ui.Scroller(t.pageContainer,{zoom:false,elastic:true});t._scroller.scrollElement.addClass(o.enablePanning);t._scroller.bind(g,u(t._scroll,this))},_scroll:function(c){var e=this,p=e.pageContainer[0].scrollHeight,u=e.pageContainer.height(),t=c.scrollTop,h=e.pageContainer.offset().top,o=e.pages.length,n=e._pageNum,i=n-1,a=n,f,r,s,g,l,m,v,d=t-e._prevScrollTop>0?1:-1;if(e._preventScroll||!o){e._preventScroll=false;return}e._scrollingStarted=true;r=e.pages[i];s=r.element.offset().top-h;g=r.element.height();if(d==-1&&e.pages[i+d]){l=e.pages[i-e._visiblePagesCount]||e.pages[i+d];m=l.element.offset().top-h;v=l.element.height()}if(Math.abs(t-(e._prevScrollTop||0))>u*e.zoomScale)a=Math.floor(t*(1/(p/o)))+1;else if(s<0&&Math.abs(s)>=g/2&&d===1)a++;else if(l&&Math.abs(m)<=v/2)a--;if(n!==a&&a>=1&&a<=o){f=e.pages[a-1].element;if(f.offset().top>u)return;e._pageNum=a;e._loadVisiblePages();e.trigger(w,{action:C,page:a,total:o})}e._prevScrollTop=t},_wheel:function(e){var t=e.originalEvent,o=t.wheelDelta?-t.wheelDelta:t.detail,n=o<0;this.execute({command:z,options:{zoomIn:n,zoomOut:!n,updateComboBox:true}});e.preventDefault()},zoom:function(e,t){var o=this;if(!e)return o.zoomScale;return o.execute({command:z,options:{scale:e,updateComboBox:!t}})},execute:function(e){var t=s({viewer:this},e.options);var o=new r.pdfviewer[e.command](t);return o.exec()},_loadDocument:function(){var t=this;var o=t.options.page;d(t.pageContainer,true);t.processor.fetchDocument().done(function(e){t._clearPages();t.document=e;t._renderPages();t.resize(true);if(e){o=o>=1&&o<=e.total?o:1;t.activatePage(o)}d(t.pageContainer,false)})},loadPage:function(e){var t=this.pages&&this.pages[e-1];if(t)return t.load(this.zoomScale)},activatePage:function(e){var t=this.pages&&this.pages[e-1],o=this._scroller,n,i,a,r;if(!t)return;n=o.scrollTop;i=o.element.offset().top;a=t.element.offset().top;r=!this._autoFit?parseInt(t.element.css("marginTop"),10):0;this._pageNum=e;this._loadVisiblePages();this._preventScroll=true;this._scroller.scrollTo(0,-n-a+i+r);this.trigger(w,{action:C,page:e,total:this.pages.length})},_getVisiblePagesCount:function(){var e=this,t=0,o=0,n=e.pageContainer[0].clientHeight,i=0;while(t<=n&&i<e.pages.length){t+=e.pages[i].element.height();o++;i++}e._visiblePagesCount=o},_loadVisiblePages:function(){var e=this.pages&&this.pages.length,t=Math.max(this._pageNum-this._visiblePagesCount,1),o=Math.min(this._pageNum+this._visiblePagesCount,e);this._visiblePages=this.pages.slice(t-1,o);for(var n=t;n<=o;n++)this.loadPage(n)},_loadAllPages:function(){var e=this.pages&&this.pages.length;var t=[];for(var o=0;o<=e;o++)t.push(this.loadPage(o));return t},fromFile:function(e){this.zoomScale=this.options.scale||c;this.zoom(this.zoomScale,true);this.trigger(w,{action:"zoom",zoom:this.options.scale||"auto"});this.processor._updateDocument(e);this._loadDocument()},exportImage:function(t){var o=this;var e=t.page;var n=o.pages[e-1]||o._blankPage;var i=new h.Group;n.load();var a=r.drawing.Path.fromRect(new r.geometry.Rect([0,0],[n.width,n.height]),{fill:{color:D},stroke:null});d(o.pageContainer,true);i.append(a,n.group);h.exportImage(i).done(function(e){d(o.pageContainer,false);r.saveAs({dataURI:e,fileName:t.fileName,proxyURL:t.proxyURL||"",forceProxy:t.forceProxy,proxyTarget:t.proxyTarget})})},exportSVG:function(t){var o=this;var e=t.page;var n=o.pages[e-1]||o._blankPage;d(o.pageContainer,true);n.load();h.exportSVG(n.group).done(function(e){d(o.pageContainer,false);r.saveAs({dataURI:e,fileName:t.fileName,proxyURL:t.proxyURL||"",forceProxy:t.forceProxy,proxyTarget:t.proxyTarget})})},setOptions:function(e){var t=this;if(e.pdfjsProcessing||e.dplProcessing)t._initProcessor(e||{});e=i.extend(t.options,e);n.fn.setOptions.call(t,e);if(e.page){t._pageNum=e.page;t.activatePage(e.page)}if(e.width)t.element.width(e.width);if(e.height)t.element.height(e.height)},destroy:function(){if(this._resizeHandler)r.unbindResize(this._resizeHandler);if(this._errorDialog)this._errorDialog.destroy();if(this._saveDialog)this._saveDialog.destroy();if(this._upload)this._upload.destroy();if(this.toolbar){this.toolbar.unbind();this.toolbar.destroy();this.toolbar=null}if(this.pages&&this.pages.length){this.pages.forEach(function(e){e.destroy()});this.pages=[]}if(this._scroller){this._scroller.unbind();this._scroller.destroy()}this.pageContainer.off(e);n.fn.destroy.call(this)},_clearPages:function(){this.pages=[];this.document=null;this._pageNum=1;this.pageContainer.off(e);this.pageContainer.empty();if(this._scroller){this._scroller.reset();this._scroller.unbind();this._scroller.destroy()}},_toggleSelection:function(e){var t=this;if(e===a)e=true;t._scroller.userEvents._shouldNotMove=e;t._scroller.scrollElement.toggleClass(o.enableTextSelection,e);t._scroller.scrollElement.toggleClass(o.enablePanning,!e)},_initSearchDOM:function(){var t=this;var e=new Promise(function(e){Promise.all(t._loadAllPages()).then(function(){t._searchDOM=new r.pdfviewer.SearchDOM({target:t._getTextLayers(),highlightClass:o.highlightClass,charClass:o.charClass});e()})});return e},_getTextLayers:function(){return this.pages.map(function(e){return e.textLayer})}});return p.plugin(M),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,o){(o||t)()});
//# sourceMappingURL=kendo.pdfviewer.min.js.map
