{"version":3,"file":"kendo.rating.min.js","sources":["kendo.rating.js"],"sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function(f, define){\n    define('kendo.rating',[ \"./kendo.core\", \"./kendo.dom\" ], f);\n})(function(){\n\n    var __meta__ = { // jshint ignore:line\n        id: \"rating\",\n        name: \"Rating\",\n        category: \"web\",\n        description: \"The Rating component.\",\n        depends: [ \"core\" ]\n    };\n\n    (function($, undefined) {\n        var kendo = window.kendo,\n            ui = kendo.ui,\n            NS = \".kendoRating\",\n            Widget = ui.Widget,\n            extend = $.extend,\n            proxy = $.proxy,\n            keys = kendo.keys,\n            parseFloat = kendo.parseFloat,\n            CHANGE = \"change\",\n            SELECT = \"select\",\n            SELECTED = \"selected\",\n            HOVERED = \"hovered\",\n            DISABLED = \"disabled\",\n            READONLY = \"readonly\",\n            KEYDOWN = \"keydown\" + NS,\n            CLICK = \"click\" + NS,\n            MOUSEENTER = \"mouseenter\" + NS,\n            MOUSELEAVE = \"mouseleave\" + NS,\n            MOUSEMOVE = \"mousemove\" + NS,\n            MOUSEDOWN = \"mousedown\" + NS,\n            FOCUS = \"focus\" + NS,\n            BLUR = \"blur\" + NS,\n            ARIA_LABEL = \"aria-label\",\n            ARIA_LABELLEDBY = \"aria-labelledby\",\n            ARIA_VALUEMIN = \"aria-valuemin\",\n            ARIA_VALUEMAX = \"aria-valuemax\",\n            ARIA_VALUENOW = \"aria-valuenow\",\n            ARIA_DISABLED = \"aria-disabled\",\n            ARIA_READONLY = \"aria-readonly\",\n            PRECISION_PART = \"k-rating-precision-part\",\n            PRECISION_COMPLEMENT = \"k-rating-precision-complement\",\n            PRECISION_HALF_VALUE = 0.5,\n            LABELIDPART = \"_label\",\n            KITEM = \"k-rating-item\",\n            FOCUSED = \"k-state-focused\",\n            TABINDEX = \"tabindex\",\n            DOT = \".\",\n            ROLE = \"role\",\n            MIN = \"min\",\n            MAX = \"max\";\n\n        var ratingSelection = {\n            single: \"single\",\n            continuous: \"continuous\"\n        };\n\n        var ratingPrecision = {\n            item: \"item\",\n            half: \"half\"\n        };\n\n        var ratingItemTemplates = {\n            item: \"itemTemplate\",\n            hovered: \"hoveredTemplate\",\n            selected: \"selectedTemplate\"\n        };\n\n        var ratingItemStates = {\n            selected: \"k-state-selected\",\n            hovered: \"k-state-hover\",\n            hoveredPrecise: \"k-state-hover-precise\"\n        };\n\n        var ratingItemAttributes = {\n            partValue: \"part-value\",\n            dataValue: \"data-value\",\n            value: \"value\",\n            title: \"title\"\n        };\n\n        var ratingStyles = {\n            widget: \"k-rating k-widget\",\n            container: \"k-rating-container\",\n            item: \"k-rating-item\",\n            icon: \"k-icon k-i-star-outline\",\n            iconSelected: \"k-icon k-i-star\",\n            label: \"k-rating-label\",\n            disabled: \"k-state-disabled\",\n            readonly: \"k-state-readonly\",\n            active: \"k-state-active\",\n            hidden: \"k-hidden\"\n        };\n\n        var RATING_TEMPLATE = kendo.template(\n            '<span class=\"#:styles.widget#\"></span>'\n        );\n\n        var RATING_CONTAINER_TEMPLATE = kendo.template(\n            '<span class=\"#:styles.container#\"></span>'\n        );\n\n        var RATING_LABEL_WRAPPER_TEMPLATE = kendo.template(\n            '<span class=\"#:styles.label#\"></span>'\n        );\n\n        var RATING_LABEL_TEMPLATE = kendo.template(\n            '<span>#:value# / #:maxValue#</span>'\n        );\n\n        var RATING_ITEM_WRAPPER_TEMPLATE = kendo.template(\n            '<span class=\"#:styles.item#\" data-value=\"#:value#\"></span>'\n        );\n\n        var RATING_ITEM_TEMPLATE = kendo.template(\n            '<span class=\"#:icon#\"></span>'\n        );\n\n        var Rating = Widget.extend({\n            init: function(element, options) {\n                var that = this;\n\n                Widget.fn.init.call(that, element, options);\n\n                that.options = extend({}, that.options, options);\n\n                that._element();\n\n                that._wrapper();\n\n                that._aria();\n\n                that._initSettings();\n\n                that._renderItems();\n\n                that._renderTooltip();\n\n                that._renderLabel();\n\n                that._selectInitial();\n\n                that._attachEvents();\n\n                kendo.notify(this);\n            },\n\n            events: [\n                SELECT,\n                CHANGE\n            ],\n\n            options: {\n                name: \"Rating\",\n                messages: {},\n                min: 1,\n                max: 5,\n                selection: ratingSelection.continuous,\n                precision: ratingPrecision.item,\n                tooltip: true,\n                label: true,\n                readonly: false,\n                enabled: true,\n                selectValueOnFocus: null,\n                itemTemplate: null,\n                selectedTemplate: null,\n                hoveredTemplate: null\n            },\n\n            _element: function() {\n                var that = this;\n\n                that.element.addClass(ratingStyles.hidden);\n            },\n\n            _wrapper: function() {\n                var that = this;\n\n                that.wrapper = $(RATING_TEMPLATE({\n                    styles: ratingStyles\n                }));\n\n                that.wrapper = that.element.wrap(that.wrapper).parent();\n\n                that.wrapper\n                    .addClass(that.element[0].className.replace(ratingStyles.hidden, \"\"))\n                    .append($(RATING_CONTAINER_TEMPLATE({\n                        styles: ratingStyles\n                    })));\n\n                that.wrapper[0].style.cssText = that.element[0].style.cssText;\n\n                that.container = that.wrapper.find(DOT + ratingStyles.container);\n            },\n\n            _aria: function() {\n                var that = this,\n                    wrapper = that.wrapper,\n                    element = that.element,\n                    id = element.attr(\"id\"),\n                    labelFor = $(\"label[for=\\\"\" + id  + \"\\\"]\"),\n                    ariaLabel = element.attr(ARIA_LABEL),\n                    ariaLabelledBy = element.attr(ARIA_LABELLEDBY),\n                    min = parseFloat(that.element.attr(MIN)) || that.options.min,\n                    max = parseFloat(that.element.attr(MAX)) || that.options.max;\n\n                that.wrapper\n                    .attr(TABINDEX, 0)\n                    .attr(ROLE, \"slider\")\n                    .attr(ARIA_VALUEMIN, min)\n                    .attr(ARIA_VALUEMAX, max)\n                    .attr(ARIA_VALUENOW, that.options.value || (min + max) / 2);\n\n                if (ariaLabel) {\n                    wrapper.attr(ARIA_LABEL, ariaLabel);\n                } else if (ariaLabelledBy){\n                    wrapper.attr(ARIA_LABELLEDBY, ariaLabelledBy);\n                } else if (labelFor.length){\n                    var labelId = labelFor.attr(\"id\");\n\n                    if (!labelId) {\n                        labelId = (id || kendo.guid()) + LABELIDPART;\n                        labelFor.attr(\"id\", labelId);\n                    }\n\n                    wrapper.attr(ARIA_LABELLEDBY, labelId);\n                }\n            },\n\n            _initSettings: function() {\n                var that = this,\n                    isPrecise = that.options.precision != ratingPrecision.item,\n                    options = that.options;\n\n                options.value = parseFloat(options.value);\n                if (options.value === null) {\n                    options.value = parseFloat(that.element.val());\n                }\n\n                options.min = parseFloat(that.element.attr(MIN)) || that.options.min;\n                options.max = parseFloat(that.element.attr(MAX)) || that.options.max;\n                that._valueMin = isPrecise ? that.options.min - PRECISION_HALF_VALUE : that.options.min;\n\n                options.enabled = options.enabled && !that.element.attr(DISABLED);\n                options.readonly = options.readonly || !!that.element.attr(READONLY);\n                that._setState();\n            },\n\n            _renderItems: function() {\n                var that = this,\n                    container = that.container,\n                    min = that.options.min,\n                    max = that.options.max,\n                    itemTemplate = that.options.itemTemplate ?\n                        kendo.template(that.options.itemTemplate) :\n                        RATING_ITEM_TEMPLATE;\n\n                for (var i = min; i <= max; i += 1) {\n                    var itemWrapper = $(RATING_ITEM_WRAPPER_TEMPLATE({\n                        styles: ratingStyles,\n                        value: i\n                    }));\n\n                    itemWrapper.append(itemTemplate({\n                        icon: ratingStyles.icon,\n                        index: i\n                    }));\n\n                    container.append(itemWrapper);\n                }\n            },\n\n            _renderTooltip: function() {\n                var that = this,\n                    items = that.container.find(DOT + KITEM),\n                    enabled = that.options.tooltip === true;\n\n                if (!enabled) {\n                    items.removeAttr(ratingItemAttributes.title);\n                    return;\n                }\n\n                for (var i = 0; i < items.length; i += 1) {\n                    $(items[i]).attr(ratingItemAttributes.title, $(items[i]).data(ratingItemAttributes.value));\n                }\n            },\n\n            _renderLabel: function() {\n                var that = this,\n                    label = that.wrapper.find(DOT + ratingStyles.label),\n                    enabled = that.options.label === true || that.options.label.template !== undefined,\n                    template = that.options.label && that.options.label.template ?\n                        kendo.template(that.options.label.template) :\n                        RATING_LABEL_TEMPLATE;\n\n                if (!enabled || that.value() === null) {\n                    label.remove();\n                    that.label = null;\n                    return;\n                }\n\n                if (!label.length) {\n                    that.label = label = $(RATING_LABEL_WRAPPER_TEMPLATE({\n                        styles: ratingStyles\n                    }));\n\n                    that.wrapper.append(label);\n                }\n\n                label.html(template({\n                    styles: ratingStyles,\n                    value: that.value() % 1 === 0 ? that.value() : that._format(that.value()),\n                    maxValue: that.options.max\n                }));\n            },\n\n            _selectInitial: function() {\n                var that = this;\n\n                if (!isNaN(that.options.value)) {\n                    that.value(that.options.value);\n                }\n            },\n\n            _attachEvents: function() {\n                var that = this,\n                    isHalfPrecision = that.options.precision == ratingPrecision.half;\n\n                that.wrapper\n                    .on(FOCUS, proxy(that._focus, that))\n                    .on(BLUR, proxy(that._blur, that))\n                    .on(KEYDOWN, proxy(that._keydown, that));\n\n                that.container\n                    .on(CLICK, DOT + KITEM, proxy(that._click, that))\n                    .on(MOUSEENTER, DOT + KITEM, proxy(that._mouseenter, that))\n                    .on(MOUSELEAVE, DOT + KITEM, proxy(that._mouseleave, that))\n                    .on(MOUSEDOWN, proxy(that._mousedown, that));\n\n                if (isHalfPrecision) {\n                    that.container.on(MOUSEMOVE, DOT + KITEM,  proxy(that._mousemove, that));\n                }\n            },\n\n            _focus: function() {\n                var that = this,\n                    container = that.container,\n                    wrapper = that.wrapper,\n                    focusedItems = that.container.find(DOT + FOCUSED),\n                    selectValueOnFocus = that.options.selectValueOnFocus,\n                    firstElement = container.children().first(),\n                    selectedElement, hoveredElement, itemToFocus;\n\n                if (!that.options.enabled || that.options.readonly || that.preventFocus) {\n                    if (that.options.readonly) {\n                        that.wrapper.addClass(FOCUSED);\n                    }\n                    return;\n                }\n\n                wrapper.addClass(FOCUSED);\n                focusedItems.removeClass(FOCUSED);\n\n                if (that.value() === null && selectValueOnFocus !== null) {\n                    that.value(selectValueOnFocus);\n                }\n\n                selectedElement = container.find(DOT + ratingItemStates.selected).last();\n                hoveredElement = container.find(DOT + ratingItemStates.hovered).last();\n                itemToFocus = selectedElement.length ? selectedElement : hoveredElement;\n                itemToFocus = itemToFocus.length ? itemToFocus : firstElement;\n\n                itemToFocus.addClass(FOCUSED);\n            },\n\n            _blur: function() {\n                var that = this;\n\n                that.preventFocus = false;\n\n                that.wrapper.removeClass(FOCUSED);\n                that.container.find(DOT + FOCUSED).removeClass(FOCUSED);\n\n                that.element.trigger(\"blur\");\n            },\n\n            _mousedown: function() {\n                var that = this;\n\n                that.preventFocus = true;\n            },\n\n            _keydown: function(e) {\n                var that = this,\n                    container = that.container,\n                    currentValue = that.parsedValue,\n                    isPrecise = that.options.precision != ratingPrecision.item,\n                    step = isPrecise ? PRECISION_HALF_VALUE : 1,\n                    focusableItems = container.find(DOT + KITEM),\n                    focusedElement = container.find(DOT + FOCUSED),\n                    currentIndex = focusableItems.index(focusedElement),\n                    isRtl =  kendo.support.isRtl(that.wrapper),\n                    isEmpty = isNaN(currentValue),\n                    keyCode = e.keyCode,\n                    left, right, itemToFocus, itemValue;\n\n                if (!that.options.enabled || that.options.readonly) {\n                    return;\n                }\n\n                left = (keyCode === keys.RIGHT && isRtl) || (keyCode === keys.LEFT && !isRtl);\n                right = (keyCode === keys.LEFT && isRtl) || (keyCode === keys.RIGHT && !isRtl);\n\n                if (left || keyCode === keys.DOWN) {\n                    itemToFocus = isEmpty ? focusableItems.eq(0) : $(focusableItems[currentIndex - 1]);\n                    itemValue = isEmpty ? that._valueMin : currentValue - step;\n\n                    that._select(itemToFocus, itemValue);\n                    e.preventDefault();\n                } else if (right || keyCode === keys.UP) {\n                    itemToFocus = isEmpty ? focusableItems.eq(0) : $(focusableItems[currentIndex + 1]);\n                    itemValue = isEmpty ? that._valueMin : currentValue + step;\n\n                    that._select(itemToFocus, itemValue);\n                    e.preventDefault();\n                } else if (keyCode === keys.HOME) {\n                    itemToFocus = focusableItems.eq(0);\n\n                    that._select(itemToFocus, that._valueMin);\n                    e.preventDefault();\n                } else if (keyCode === keys.END) {\n                    itemToFocus = focusableItems.eq(focusableItems.length - 1);\n\n                    that._select(itemToFocus);\n                    e.preventDefault();\n                }\n            },\n\n            _getTemplateType: function(type) {\n                var that = this,\n                    template;\n\n                if (that.options[type]) {\n                    template = kendo.template(that.options[type]);\n                }  else {\n                    template = RATING_ITEM_TEMPLATE;\n                }\n\n                return template;\n            },\n\n            _renderTemplate: function(target, type) {\n                var that = this,\n                    template = that._getTemplateType(type),\n                    defaultIcon = ratingStyles.icon;\n\n                if (type == ratingItemTemplates.selected || type == ratingItemTemplates.hovered) {\n                    defaultIcon = ratingStyles.iconSelected;\n                }\n\n                for (var i = 0; i < target.length; i += 1) {\n                    $(target[i]).html(template({ icon: defaultIcon, index: $(target[i]).index() }));\n                }\n            },\n\n            _updateItemTemplates: function(state, target) {\n                var that = this,\n                    isSingle = ratingSelection.single == that.options.selection,\n                    isHalfPrecision = that.options.precision == ratingPrecision.half,\n                    previousSelection = that.container.find(DOT + ratingItemStates.selected),\n                    currentSelection = isSingle ? target : target.prevAll().addBack(),\n                    resetItems = isSingle ? previousSelection : target.nextAll(),\n                    templateType = ratingItemTemplates[state],\n                    stateClass = ratingItemStates[state];\n\n                resetItems.removeClass(stateClass);\n                currentSelection.addClass(stateClass);\n\n                that._renderTemplate(currentSelection, templateType);\n\n                if ((!isSingle) || (isSingle && state == SELECTED && currentSelection.get(0) != previousSelection.get(0))) {\n                    that._renderTemplate(resetItems, ratingItemTemplates.item);\n                }\n\n                if (isHalfPrecision) {\n                    that._renderTemplate(target, ratingItemTemplates.item);\n                }\n            },\n\n            _change: function(target, newValue) {\n                var that = this,\n                    currentValue = that.value();\n\n                that.value(newValue);\n\n                that.trigger(CHANGE, { target: target, oldValue: currentValue, newValue: that.value() });\n            },\n\n            _click: function(e) {\n                var that = this,\n                    target = $(e.target).closest(DOT + KITEM),\n                    valueToSelect = target.attr(ratingItemAttributes.dataValue);\n\n                if (!that.options.enabled || that.options.readonly) {\n                    return;\n                }\n\n                if (target.data(ratingItemAttributes.partValue)) {\n                    valueToSelect = target.data(ratingItemAttributes.partValue);\n                }\n\n                that._select(target, valueToSelect);\n            },\n\n            _select: function(target, newValue) {\n                var that = this,\n                    value = isNaN(newValue) ? target.attr(ratingItemAttributes.dataValue) : newValue;\n\n                if (value == that.value() || value < that._valueMin || value > that.options.max) {\n                   return;\n                }\n\n                that.trigger(SELECT, { target: target });\n\n                that._change(target, value);\n\n                that._focus();\n            },\n\n            _mouseenter: function(e) {\n                var that = this,\n                    target = $(e.target),\n                    item = target.closest(DOT + KITEM);\n\n                if (!that.options.enabled || that.options.readonly) {\n                    return;\n                }\n\n                that.enableMove = true;\n\n                if (target.is(DOT + KITEM)) {\n                    that._updateItemTemplates(HOVERED, item);\n                }\n            },\n\n            _mouseleave: function(e) {\n                var that = this,\n                    selection = that.options.selection,\n                    isHalfPrecision = that.options.precision == ratingPrecision.half,\n                    isSingle = selection == ratingSelection.single,\n                    item = $(e.target).closest(DOT + KITEM),\n                    items = that.container.find(DOT + KITEM),\n                    hasPart,\n                    template;\n\n                that.enableMove = false;\n\n                var setTemplate = function(item) {\n                    hasPart = that.parsedValue % 1 !== 0 && item.is(that.container.find(\"[data-value=\" + Math.ceil(that.parsedValue) + \"]\"));\n                    template = (item.hasClass(ratingItemStates.selected) || item.hasClass(ratingItemStates.hovered)) && !hasPart ?\n                        ratingItemTemplates.selected :\n                        ratingItemTemplates.item;\n\n                    that._renderTemplate(item, template);\n\n                    if (isHalfPrecision && hasPart && item.hasClass(ratingItemStates.selected)) {\n                        that._togglePrecisionElements(item, SELECTED);\n                    }\n                };\n\n                items.removeClass(ratingItemStates.hovered);\n\n                if (isSingle) {\n                    setTemplate(item);\n                } else {\n                    for (var i = 0; i < items.length; i += 1) {\n                        var currentItem = $(items[i]);\n\n                        setTemplate(currentItem);\n                    }\n                }\n            },\n\n            _mousemove: function(e) {\n                var that = this,\n                    item = $(e.target).closest(DOT + KITEM),\n                    mousePosition, itemOffset, partSize;\n\n                if (!that.enableMove) {\n                    return;\n                }\n\n                if (item.length) {\n                    mousePosition = e.clientX;\n                    itemOffset = item.offset().left;\n\n                    partSize = Math.abs(mousePosition - itemOffset);\n\n                    that._togglePrecisionElements(item, HOVERED);\n                    that._updatePrecisionElements(item, partSize);\n                }\n\n                e.preventDefault();\n            },\n\n            _togglePrecisionElements: function(item, templateType) {\n                var that = this,\n                    part = item.find(DOT + PRECISION_PART),\n                    partTemplate = that._getTemplateType(ratingItemTemplates[templateType]),\n                    isFraction, itemSize;\n\n                if (!part.length) {\n                    isFraction = that.parsedValue % 1 !== 0;\n                    itemSize = that._getItemWidth(item);\n                    part = $(\"<span></span>\").addClass(PRECISION_PART);\n\n                    part.append(partTemplate({\n                        icon: ratingStyles.iconSelected\n                    }));\n\n                    part.width(isFraction ? itemSize / 2 : itemSize);\n\n                    item.append(part);\n\n                    item.append($(\"<span></span>\").css({\n                        \"width\": itemSize,\n                        \"height\": itemSize,\n                        \"display\": \"block\"\n                    }));\n\n                    that._createUpdatePrecisionComplement(item, isFraction);\n                } else {\n                    part.html(partTemplate({\n                        icon: ratingStyles.iconSelected\n                    }));\n                }\n            },\n\n            _createUpdatePrecisionComplement: function(item, isHalf) {\n                var that = this,\n                    complement = item.find(DOT + PRECISION_COMPLEMENT),\n                    iconElement = item.children().first(),\n                    isRtl =  kendo.support.isRtl(that.wrapper),\n                    dir = !isRtl ? \"left\" : \"right\";\n\n                if (!complement.length) {\n                    complement = iconElement.wrap($(\"<span></span>\")\n                        .addClass(PRECISION_COMPLEMENT))\n                        .parent();\n                }\n\n                complement.width(isHalf ? that._getItemWidth(item) / 2 : 0);\n\n                complement.css(dir, isHalf || isRtl  ? \"50%\" : 0);\n            },\n\n            _calculateItemWidthFromStyles: function(item) {\n                if (!item) {\n                    return;\n                }\n\n                return parseFloat(item.find(\".k-icon\").css(\"font-size\"));\n            },\n\n            _getItemWidth: function(item) {\n                if (!item) {\n                    return;\n                }\n\n                return item.width() || this._calculateItemWidthFromStyles(item) || 0;\n            },\n\n            _updatePrecisionElements: function(item, partSize) {\n                var that = this,\n                    itemPart = item.find(DOT + PRECISION_PART),\n                    itemValue = kendo.parseFloat(item.data(ratingItemAttributes.value)),\n                    isRtl =  kendo.support.isRtl(this.wrapper),\n                    itemWidth = item.width(),\n                    halfWidth = itemWidth / 2,\n                    halfOffset = parseFloat(item.outerWidth() / 2),\n                    isHalf =  !isRtl ? partSize < halfOffset : partSize > halfOffset;\n\n                if (item.length && itemPart.length) {\n                    itemPart.width(isHalf ? halfWidth : itemWidth);\n\n                    if (this.options.tooltip) {\n                        item.attr(ratingItemAttributes.title, isHalf ?\n                            that._format(itemValue - PRECISION_HALF_VALUE) : itemValue\n                        );\n                    }\n\n                    item.data(ratingItemAttributes.partValue, isHalf ?\n                        itemValue - PRECISION_HALF_VALUE : itemValue\n                    );\n\n                    that._createUpdatePrecisionComplement(item, isHalf);\n                }\n            },\n\n            _updateElement: function(value) {\n                var that = this,\n                    elementValue = value === null ? \"\" : value,\n                    min = parseFloat(that.element.attr(MIN)) || that.options.min,\n                    max = parseFloat(that.element.attr(MAX)) || that.options.max;\n\n                that.element.val(that._format(elementValue));\n                that.wrapper.attr(ARIA_VALUENOW, that._format(value) || (min + max) / 2);\n            },\n\n            _updateItemsRendering: function(value) {\n                var that = this,\n                    isHalfPrecision = that.options.precision == ratingPrecision.half,\n                    updateTemplate = value === null ? \"item\" : SELECTED,\n                    valueItem = value === null ?\n                        that.container.find(DOT + ratingItemStates.selected).last() :\n                        that.container.find(DOT + KITEM + \"[data-value='\"+ Math.ceil(value)  +\"']\");\n\n                if (value === null ) {\n                    that.container.find(DOT + KITEM).removeClass(ratingItemStates.selected);\n                }\n\n                that._updateItemTemplates(updateTemplate, valueItem);\n\n                if (isHalfPrecision && value !== null) {\n                    that._togglePrecisionElements(valueItem, SELECTED);\n                }\n\n                that._renderLabel();\n            },\n\n            _setState: function() {\n                var that = this,\n                    element = that.element,\n                    wrapper = that.wrapper,\n                    readonly = that.options.readonly,\n                    enabled = that.options.enabled;\n\n                if (readonly && enabled) {\n                    element.attr(READONLY, READONLY);\n                    wrapper.attr(ARIA_READONLY, true);\n                } else {\n                    element.prop(READONLY, false);\n                    wrapper.removeAttr(ARIA_READONLY);\n                }\n\n                if (enabled) {\n                    element.prop(DISABLED, false);\n                    wrapper.removeAttr(ARIA_DISABLED);\n                    wrapper.attr(TABINDEX, 0);\n                } else {\n                    element.attr(DISABLED, DISABLED);\n                    wrapper.attr(ARIA_DISABLED, true);\n                    wrapper.removeAttr(TABINDEX);\n                }\n\n                wrapper.toggleClass(ratingStyles.disabled, !enabled);\n                wrapper.toggleClass(ratingStyles.readonly, readonly && enabled);\n            },\n\n            _format: function(value) {\n                return kendo.toString(value, \"n1\", kendo.getCulture().name);\n            },\n\n            value: function(value) {\n                var that = this,\n                    isHalfPrecision = that.options.precision == ratingPrecision.half;\n\n                if (value === null) {\n                    that._updateElement(value);\n                    that._updateItemsRendering(value);\n\n                    return;\n                }\n\n                value = parseFloat(value);\n\n                if (value === null) {\n                    value = parseFloat(that.element.val());\n                    return value;\n                }\n\n                value = Math.max(that._valueMin, Math.min(value, that.options.max));\n\n                if (isHalfPrecision) {\n                    that.parsedValue = parseFloat(that._format(Math.ceil(value * 2) / 2));\n                } else {\n                    that.parsedValue = Math.round(value);\n                }\n\n                that._updateElement(value);\n                that._updateItemsRendering(value);\n            },\n\n            reset: function() {\n                var that = this;\n\n                that.value(null);\n            },\n\n            enable: function(enable) {\n                var that = this;\n\n                if (typeof enable == \"undefined\") {\n                    enable = true;\n                }\n\n                that.options.enabled = enable;\n                that.options.readonly = false;\n\n                that._setState();\n            },\n\n            readonly: function(readonly) {\n                var that = this;\n\n                if (typeof readonly == \"undefined\") {\n                    readonly = true;\n                }\n\n                that.options.readonly = readonly;\n                that.options.enabled = true;\n\n                that._setState();\n            },\n\n            setOptions: function (options) {\n                var that = this;\n\n                that.options = $.extend(that.options, options);\n\n                if (options.enabled !== undefined) {\n                    that.enable(options.enabled);\n                }\n\n                if (options.readonly !== undefined) {\n                    that.readonly(options.readonly);\n                }\n\n                if (options.label !== undefined) {\n                    that._renderLabel();\n                }\n\n                if (options.tooltip !== undefined) {\n                    that._renderTooltip();\n                }\n\n                if (options.value !== undefined) {\n                    that.value(options.value);\n                }\n\n                if (options.min || options.max !== undefined ||\n                    options.itemTemplate !== undefined ||\n                    options.selectedTemplate !== undefined ||\n                    options.hoveredTemplate !== undefined) {\n                        that.container.empty();\n                        that._renderItems();\n                        that._renderLabel();\n                        that._renderTooltip();\n                        that._selectInitial();\n                }\n            },\n\n            destroy: function() {\n                var that = this;\n\n                that.wrapper.off(NS);\n                that.container.off(NS);\n\n                Widget.fn.destroy.call(that);\n            }\n\n        });\n\n        ui.plugin(Rating);\n  })(window.kendo.jQuery);\n\n  return window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n"],"names":["define","__meta__","id","name","category","description","depends","$","window","kendo","jQuery","undefined","ui","NS","Widget","extend","proxy","keys","parseFloat","CHANGE","SELECT","SELECTED","HOVERED","DISABLED","READONLY","KEYDOWN","CLICK","MOUSEENTER","MOUSELEAVE","MOUSEMOVE","MOUSEDOWN","FOCUS","BLUR","ARIA_LABEL","ARIA_LABELLEDBY","ARIA_VALUEMIN","ARIA_VALUEMAX","ARIA_VALUENOW","ARIA_DISABLED","ARIA_READONLY","PRECISION_PART","PRECISION_COMPLEMENT","PRECISION_HALF_VALUE","LABELIDPART","KITEM","FOCUSED","TABINDEX","DOT","ROLE","MIN","MAX","ratingSelection","single","continuous","ratingPrecision","item","half","ratingItemTemplates","hovered","selected","ratingItemStates","hoveredPrecise","ratingItemAttributes","partValue","dataValue","value","title","ratingStyles","widget","container","icon","iconSelected","label","disabled","readonly","active","hidden","RATING_TEMPLATE","template","RATING_CONTAINER_TEMPLATE","RATING_LABEL_WRAPPER_TEMPLATE","RATING_LABEL_TEMPLATE","RATING_ITEM_WRAPPER_TEMPLATE","RATING_ITEM_TEMPLATE","Rating","init","element","options","that","this","fn","call","_element","_wrapper","_aria","_initSettings","_renderItems","_renderTooltip","_renderLabel","_selectInitial","_attachEvents","notify","events","messages","min","max","selection","precision","tooltip","enabled","selectValueOnFocus","itemTemplate","selectedTemplate","hoveredTemplate","addClass","wrapper","styles","wrap","parent","className","replace","append","style","cssText","find","attr","labelFor","ariaLabel","ariaLabelledBy","length","labelId","guid","isPrecise","val","_valueMin","_setState","i","itemWrapper","index","items","removeAttr","data","remove","html","_format","maxValue","isNaN","isHalfPrecision","on","_focus","_blur","_keydown","_click","_mouseenter","_mouseleave","_mousedown","_mousemove","focusedItems","firstElement","children","first","selectedElement","hoveredElement","itemToFocus","preventFocus","removeClass","last","trigger","e","currentValue","parsedValue","step","focusableItems","focusedElement","currentIndex","isRtl","support","isEmpty","keyCode","left","right","itemValue","RIGHT","LEFT","DOWN","eq","_select","preventDefault","UP","HOME","END","_getTemplateType","type","_renderTemplate","target","defaultIcon","_updateItemTemplates","state","isSingle","previousSelection","currentSelection","prevAll","addBack","resetItems","nextAll","templateType","stateClass","get","_change","newValue","oldValue","closest","valueToSelect","enableMove","is","hasPart","setTemplate","Math","ceil","hasClass","_togglePrecisionElements","currentItem","mousePosition","itemOffset","partSize","clientX","offset","abs","_updatePrecisionElements","part","partTemplate","isFraction","itemSize","_getItemWidth","width","css","height","display","_createUpdatePrecisionComplement","isHalf","complement","iconElement","dir","_calculateItemWidthFromStyles","itemPart","itemWidth","halfWidth","halfOffset","outerWidth","_updateElement","elementValue","_updateItemsRendering","updateTemplate","valueItem","prop","toggleClass","toString","getCulture","round","reset","enable","setOptions","empty","destroy","off","plugin","amd","a1","a2","a3"],"mappings":"CAwBA,SAAaA,QACTA,OAAO,eAAe,CAAE,eAAgB,eACzC,WAEC,IAAIC,EAAW,CACXC,GAAI,SACJC,KAAM,SACNC,SAAU,MACVC,YAAa,wBACbC,QAAS,CAAE,SAGLC,EAg2BTC,OAAOC,MAAMC,OAh2BDC,OAAb,EACQF,EAAQD,OAAOC,MACfG,EAAKH,EAAMG,GACXC,EAAK,eACLC,EAASF,EAAGE,OACZC,EAASR,EAAEQ,OACXC,EAAQT,EAAES,MACVC,EAAOR,EAAMQ,KACbC,EAAaT,EAAMS,WACnBC,EAAS,SACTC,EAAS,SACTC,EAAW,WACXC,EAAU,UACVC,EAAW,WACXC,EAAW,WACXC,EAAU,UAAYZ,EACtBa,EAAQ,QAAUb,EAClBc,EAAa,aAAed,EAC5Be,EAAa,aAAef,EAC5BgB,EAAY,YAAchB,EAC1BiB,EAAY,YAAcjB,EAC1BkB,EAAQ,QAAUlB,EAClBmB,EAAO,OAASnB,EAChBoB,EAAa,aACbC,EAAkB,kBAClBC,EAAgB,gBAChBC,EAAgB,gBAChBC,EAAgB,gBAChBC,EAAgB,gBAChBC,EAAgB,gBAChBC,EAAiB,0BACjBC,EAAuB,gCACvBC,EAAuB,GACvBC,EAAc,SACdC,EAAQ,gBACRC,EAAU,kBACVC,EAAW,WACXC,EAAM,IACNC,EAAO,OACPC,EAAM,MACNC,EAAM,MAENC,EAAkB,CAClBC,OAAQ,SACRC,WAAY,cAGZC,EAAkB,CAClBC,KAAM,OACNC,KAAM,QAGNC,EAAsB,CACtBF,KAAM,eACNG,QAAS,kBACTC,SAAU,oBAGVC,EAAmB,CACnBD,SAAU,mBACVD,QAAS,gBACTG,eAAgB,yBAGhBC,EAAuB,CACvBC,UAAW,aACXC,UAAW,aACXC,MAAO,QACPC,MAAO,SAGPC,EAAe,CACfC,OAAQ,oBACRC,UAAW,qBACXd,KAAM,gBACNe,KAAM,0BACNC,aAAc,kBACdC,MAAO,iBACPC,SAAU,mBACVC,SAAU,mBACVC,OAAQ,iBACRC,OAAQ,YAGRC,EAAkBpE,EAAMqE,SACxB,0CAGAC,EAA4BtE,EAAMqE,SAClC,6CAGAE,EAAgCvE,EAAMqE,SACtC,yCAGAG,EAAwBxE,EAAMqE,SAC9B,uCAGAI,EAA+BzE,EAAMqE,SACrC,8DAGAK,GAAuB1E,EAAMqE,SAC7B,iCAGAM,GAAStE,EAAOC,OAAO,CACvBsE,KAAM,SAASC,EAASC,GACpB,IAAIC,EAAOC,KAEX3E,EAAO4E,GAAGL,KAAKM,KAAKH,EAAMF,EAASC,GAEnCC,EAAKD,QAAUxE,EAAO,GAAIyE,EAAKD,QAASA,GAExCC,EAAKI,WAELJ,EAAKK,WAELL,EAAKM,QAELN,EAAKO,gBAELP,EAAKQ,eAELR,EAAKS,iBAELT,EAAKU,eAELV,EAAKW,iBAELX,EAAKY,gBAEL3F,EAAM4F,OAAOZ,OAGjBa,OAAQ,CACJlF,EACAD,GAGJoE,QAAS,CACLpF,KAAM,SACNoG,SAAU,GACVC,IAAK,EACLC,IAAK,EACLC,UAAWvD,EAAgBE,WAC3BsD,UAAWrD,EAAgBC,KAC3BqD,QAAS,KACTpC,MAAO,KACPE,SAAU,MACVmC,QAAS,KACTC,mBAAoB,KACpBC,aAAc,KACdC,iBAAkB,KAClBC,gBAAiB,MAGrBrB,SAAU,WACN,IAAIJ,EAAOC,KAEXD,EAAKF,QAAQ4B,SAAS/C,EAAaS,SAGvCiB,SAAU,WACN,IAAIL,EAAOC,KAEXD,EAAK2B,QAAU5G,EAAEsE,EAAgB,CAC7BuC,OAAQjD,KAGZqB,EAAK2B,QAAU3B,EAAKF,QAAQ+B,KAAK7B,EAAK2B,SAASG,SAE/C9B,EAAK2B,QACAD,SAAS1B,EAAKF,QAAQ,GAAGiC,UAAUC,QAAQrD,EAAaS,OAAQ,KAChE6C,OAAOlH,EAAEwE,EAA0B,CAChCqC,OAAQjD,MAGhBqB,EAAK2B,QAAQ,GAAGO,MAAMC,QAAUnC,EAAKF,QAAQ,GAAGoC,MAAMC,QAEtDnC,EAAKnB,UAAYmB,EAAK2B,QAAQS,KAAK7E,EAAMoB,EAAaE,YAG1DyB,MAAO,WACH,IAAIN,EAAOC,KACP0B,EAAU3B,EAAK2B,QACf7B,EAAUE,EAAKF,QACfpF,EAAKoF,EAAQuC,KAAK,MAClBC,EAAWvH,EAAE,cAAiBL,EAAM,MACpC6H,EAAYzC,EAAQuC,KAAK5F,GACzB+F,EAAiB1C,EAAQuC,KAAK3F,GAC9BsE,EAAMtF,EAAWsE,EAAKF,QAAQuC,KAAK5E,KAASuC,EAAKD,QAAQiB,IACzDC,EAAMvF,EAAWsE,EAAKF,QAAQuC,KAAK3E,KAASsC,EAAKD,QAAQkB,IAE7DjB,EAAK2B,QACAU,KAAK/E,EAAU,GACf+E,KAAK7E,EAAM,UACX6E,KAAK1F,EAAeqE,GACpBqB,KAAKzF,EAAeqE,GACpBoB,KAAKxF,EAAemD,EAAKD,QAAQtB,QAAUuC,EAAMC,GAAO,GAE7D,GAAIsB,EACAZ,EAAQU,KAAK5F,EAAY8F,QACtB,GAAIC,EACPb,EAAQU,KAAK3F,EAAiB8F,QAC3B,GAAIF,EAASG,OAAO,CACvB,IAAIC,EAAUJ,EAASD,KAAK,MAE5B,IAAKK,EAAS,CACVA,GAAWhI,GAAMO,EAAM0H,QAAUxF,EACjCmF,EAASD,KAAK,KAAMK,GAGxBf,EAAQU,KAAK3F,EAAiBgG,KAItCnC,cAAe,WACX,IAAIP,EAAOC,KACP2C,EAAY5C,EAAKD,QAAQoB,WAAarD,EAAgBC,KACtDgC,EAAUC,EAAKD,QAEnBA,EAAQtB,MAAQ/C,EAAWqE,EAAQtB,OACnC,GAAIsB,EAAQtB,QAAU,KAClBsB,EAAQtB,MAAQ/C,EAAWsE,EAAKF,QAAQ+C,OAG5C9C,EAAQiB,IAAMtF,EAAWsE,EAAKF,QAAQuC,KAAK5E,KAASuC,EAAKD,QAAQiB,IACjEjB,EAAQkB,IAAMvF,EAAWsE,EAAKF,QAAQuC,KAAK3E,KAASsC,EAAKD,QAAQkB,IACjEjB,EAAK8C,UAAYF,EAAY5C,EAAKD,QAAQiB,IAAM9D,EAAuB8C,EAAKD,QAAQiB,IAEpFjB,EAAQsB,QAAUtB,EAAQsB,UAAYrB,EAAKF,QAAQuC,KAAKtG,GACxDgE,EAAQb,SAAWa,EAAQb,YAAcc,EAAKF,QAAQuC,KAAKrG,GAC3DgE,EAAK+C,aAGTvC,aAAc,WACV,IAAIR,EAAOC,KACPpB,EAAYmB,EAAKnB,UACjBmC,EAAMhB,EAAKD,QAAQiB,IACnBC,EAAMjB,EAAKD,QAAQkB,IACnBM,EAAevB,EAAKD,QAAQwB,aACxBtG,EAAMqE,SAASU,EAAKD,QAAQwB,cAC5B5B,GAER,IAAK,IAAIqD,EAAIhC,EAAKgC,GAAK/B,EAAK+B,GAAK,EAAG,CAChC,IAAIC,EAAclI,EAAE2E,EAA6B,CAC7CkC,OAAQjD,EACRF,MAAOuE,KAGXC,EAAYhB,OAAOV,EAAa,CAC5BzC,KAAMH,EAAaG,KACnBoE,MAAOF,KAGXnE,EAAUoD,OAAOgB,KAIzBxC,eAAgB,WACZ,IAAIT,EAAOC,KACPkD,EAAQnD,EAAKnB,UAAUuD,KAAK7E,EAAMH,GAClCiE,EAAUrB,EAAKD,QAAQqB,UAAY,KAEvC,IAAKC,EAAS,CACV8B,EAAMC,WAAW9E,EAAqBI,OACtC,OAGJ,IAAK,IAAIsE,EAAI,EAAGA,EAAIG,EAAMV,OAAQO,GAAK,EACnCjI,EAAEoI,EAAMH,IAAIX,KAAK/D,EAAqBI,MAAO3D,EAAEoI,EAAMH,IAAIK,KAAK/E,EAAqBG,SAI3FiC,aAAc,WACV,IAAIV,EAAOC,KACPjB,EAAQgB,EAAK2B,QAAQS,KAAK7E,EAAMoB,EAAaK,OAC7CqC,EAAUrB,EAAKD,QAAQf,QAAU,MAAQgB,EAAKD,QAAQf,MAAMM,WAAanE,EACzEmE,EAAWU,EAAKD,QAAQf,OAASgB,EAAKD,QAAQf,MAAMM,SAChDrE,EAAMqE,SAASU,EAAKD,QAAQf,MAAMM,UAClCG,EAER,IAAK4B,GAAWrB,EAAKvB,UAAY,KAAM,CACnCO,EAAMsE,SACNtD,EAAKhB,MAAQ,KACb,OAGJ,IAAKA,EAAMyD,OAAQ,CACfzC,EAAKhB,MAAQA,EAAQjE,EAAEyE,EAA8B,CACjDoC,OAAQjD,KAGZqB,EAAK2B,QAAQM,OAAOjD,GAGxBA,EAAMuE,KAAKjE,EAAS,CAChBsC,OAAQjD,EACRF,MAAOuB,EAAKvB,QAAU,IAAM,EAAIuB,EAAKvB,QAAUuB,EAAKwD,QAAQxD,EAAKvB,SACjEgF,SAAUzD,EAAKD,QAAQkB,QAI/BN,eAAgB,WACZ,IAAIX,EAAOC,KAEX,IAAKyD,MAAM1D,EAAKD,QAAQtB,OACpBuB,EAAKvB,MAAMuB,EAAKD,QAAQtB,QAIhCmC,cAAe,WACX,IAAIZ,EAAOC,KACP0D,EAAkB3D,EAAKD,QAAQoB,WAAarD,EAAgBE,KAEhEgC,EAAK2B,QACAiC,GAAGrH,EAAOf,EAAMwE,EAAK6D,OAAQ7D,IAC7B4D,GAAGpH,EAAMhB,EAAMwE,EAAK8D,MAAO9D,IAC3B4D,GAAG3H,EAAST,EAAMwE,EAAK+D,SAAU/D,IAEtCA,EAAKnB,UACA+E,GAAG1H,EAAOqB,EAAMH,EAAO5B,EAAMwE,EAAKgE,OAAQhE,IAC1C4D,GAAGzH,EAAYoB,EAAMH,EAAO5B,EAAMwE,EAAKiE,YAAajE,IACpD4D,GAAGxH,EAAYmB,EAAMH,EAAO5B,EAAMwE,EAAKkE,YAAalE,IACpD4D,GAAGtH,EAAWd,EAAMwE,EAAKmE,WAAYnE,IAE1C,GAAI2D,EACA3D,EAAKnB,UAAU+E,GAAGvH,EAAWkB,EAAMH,EAAQ5B,EAAMwE,EAAKoE,WAAYpE,KAI1E6D,OAAQ,WACJ,IAAI7D,EAAOC,KACPpB,EAAYmB,EAAKnB,UACjB8C,EAAU3B,EAAK2B,QACf0C,EAAerE,EAAKnB,UAAUuD,KAAK7E,EAAMF,GACzCiE,EAAqBtB,EAAKD,QAAQuB,mBAClCgD,EAAezF,EAAU0F,WAAWC,QACpCC,EAAiBC,EAAgBC,EAErC,IAAK3E,EAAKD,QAAQsB,SAAWrB,EAAKD,QAAQb,UAAYc,EAAK4E,aAAc,CACrE,GAAI5E,EAAKD,QAAQb,SACbc,EAAK2B,QAAQD,SAASrE,GAE1B,OAGJsE,EAAQD,SAASrE,GACjBgH,EAAaQ,YAAYxH,GAEzB,GAAI2C,EAAKvB,UAAY,MAAQ6C,IAAuB,KAChDtB,EAAKvB,MAAM6C,GAGfmD,EAAkB5F,EAAUuD,KAAK7E,EAAMa,EAAiBD,UAAU2G,OAClEJ,EAAiB7F,EAAUuD,KAAK7E,EAAMa,EAAiBF,SAAS4G,OAChEH,EAAcF,EAAgBhC,OAASgC,EAAkBC,EACzDC,EAAcA,EAAYlC,OAASkC,EAAcL,EAEjDK,EAAYjD,SAASrE,IAGzByG,MAAO,WACH,IAAI9D,EAAOC,KAEXD,EAAK4E,aAAe,MAEpB5E,EAAK2B,QAAQkD,YAAYxH,GACzB2C,EAAKnB,UAAUuD,KAAK7E,EAAMF,GAASwH,YAAYxH,GAE/C2C,EAAKF,QAAQiF,QAAQ,SAGzBZ,WAAY,WACR,IAAInE,EAAOC,KAEXD,EAAK4E,aAAe,MAGxBb,SAAU,SAASiB,GACf,IAAIhF,EAAOC,KACPpB,EAAYmB,EAAKnB,UACjBoG,EAAejF,EAAKkF,YACpBtC,EAAY5C,EAAKD,QAAQoB,WAAarD,EAAgBC,KACtDoH,EAAOvC,EAAY1F,EAAuB,EAC1CkI,EAAiBvG,EAAUuD,KAAK7E,EAAMH,GACtCiI,EAAiBxG,EAAUuD,KAAK7E,EAAMF,GACtCiI,EAAeF,EAAelC,MAAMmC,GACpCE,EAAStK,EAAMuK,QAAQD,MAAMvF,EAAK2B,SAClC8D,EAAU/B,MAAMuB,GAChBS,EAAUV,EAAEU,QACZC,EAAMC,EAAOjB,EAAakB,EAE9B,IAAK7F,EAAKD,QAAQsB,SAAWrB,EAAKD,QAAQb,SACtC,OAGJyG,EAAQD,IAAYjK,EAAKqK,OAASP,GAAWG,IAAYjK,EAAKsK,OAASR,EACvEK,EAASF,IAAYjK,EAAKsK,MAAQR,GAAWG,IAAYjK,EAAKqK,QAAUP,EAExE,GAAII,GAAQD,IAAYjK,EAAKuK,KAAM,CAC/BrB,EAAcc,EAAUL,EAAea,GAAG,GAAKlL,EAAEqK,EAAeE,EAAe,IAC/EO,EAAYJ,EAAUzF,EAAK8C,UAAYmC,EAAeE,EAEtDnF,EAAKkG,QAAQvB,EAAakB,GAC1Bb,EAAEmB,sBACC,GAAIP,GAASF,IAAYjK,EAAK2K,GAAI,CACrCzB,EAAcc,EAAUL,EAAea,GAAG,GAAKlL,EAAEqK,EAAeE,EAAe,IAC/EO,EAAYJ,EAAUzF,EAAK8C,UAAYmC,EAAeE,EAEtDnF,EAAKkG,QAAQvB,EAAakB,GAC1Bb,EAAEmB,sBACC,GAAIT,IAAYjK,EAAK4K,KAAM,CAC9B1B,EAAcS,EAAea,GAAG,GAEhCjG,EAAKkG,QAAQvB,EAAa3E,EAAK8C,WAC/BkC,EAAEmB,sBACC,GAAIT,IAAYjK,EAAK6K,IAAK,CAC7B3B,EAAcS,EAAea,GAAGb,EAAe3C,OAAS,GAExDzC,EAAKkG,QAAQvB,GACbK,EAAEmB,mBAIVI,iBAAkB,SAASC,GACvB,IAAIxG,EAAOC,KACPX,EAEJ,GAAIU,EAAKD,QAAQyG,GACblH,EAAWrE,EAAMqE,SAASU,EAAKD,QAAQyG,SAEvClH,EAAWK,GAGf,OAAOL,GAGXmH,gBAAiB,SAASC,EAAQF,GAC9B,IAAIxG,EAAOC,KACPX,EAAWU,EAAKuG,iBAAiBC,GACjCG,EAAchI,EAAaG,KAE/B,GAAI0H,GAAQvI,EAAoBE,UAAYqI,GAAQvI,EAAoBC,QACpEyI,EAAchI,EAAaI,aAG/B,IAAK,IAAIiE,EAAI,EAAGA,EAAI0D,EAAOjE,OAAQO,GAAK,EACpCjI,EAAE2L,EAAO1D,IAAIO,KAAKjE,EAAS,CAAER,KAAM6H,EAAazD,MAAOnI,EAAE2L,EAAO1D,IAAIE,YAI5E0D,qBAAsB,SAASC,EAAOH,GAClC,IAAI1G,EAAOC,KACP6G,EAAWnJ,EAAgBC,QAAUoC,EAAKD,QAAQmB,UAClDyC,EAAkB3D,EAAKD,QAAQoB,WAAarD,EAAgBE,KAC5D+I,EAAoB/G,EAAKnB,UAAUuD,KAAK7E,EAAMa,EAAiBD,UAC/D6I,EAAmBF,EAAWJ,EAASA,EAAOO,UAAUC,UACxDC,EAAaL,EAAWC,EAAoBL,EAAOU,UACnDC,EAAepJ,EAAoB4I,GACnCS,EAAalJ,EAAiByI,GAElCM,EAAWtC,YAAYyC,GACvBN,EAAiBtF,SAAS4F,GAE1BtH,EAAKyG,gBAAgBO,EAAkBK,GAEvC,IAAMP,GAAcA,GAAYD,GAAShL,GAAYmL,EAAiBO,IAAI,IAAMR,EAAkBQ,IAAI,GAClGvH,EAAKyG,gBAAgBU,EAAYlJ,EAAoBF,MAGzD,GAAI4F,EACA3D,EAAKyG,gBAAgBC,EAAQzI,EAAoBF,OAIzDyJ,QAAS,SAASd,EAAQe,GACtB,IAAIzH,EAAOC,KACPgF,EAAejF,EAAKvB,QAExBuB,EAAKvB,MAAMgJ,GAEXzH,EAAK+E,QAAQpJ,EAAQ,CAAE+K,OAAQA,EAAQgB,SAAUzC,EAAcwC,SAAUzH,EAAKvB,WAGlFuF,OAAQ,SAASgB,GACb,IAAIhF,EAAOC,KACPyG,EAAS3L,EAAEiK,EAAE0B,QAAQiB,QAAQpK,EAAMH,GACnCwK,EAAgBlB,EAAOrE,KAAK/D,EAAqBE,WAErD,IAAKwB,EAAKD,QAAQsB,SAAWrB,EAAKD,QAAQb,SACtC,OAGJ,GAAIwH,EAAOrD,KAAK/E,EAAqBC,WACjCqJ,EAAgBlB,EAAOrD,KAAK/E,EAAqBC,WAGrDyB,EAAKkG,QAAQQ,EAAQkB,IAGzB1B,QAAS,SAASQ,EAAQe,GACtB,IAAIzH,EAAOC,KACPxB,EAAQiF,MAAM+D,GAAYf,EAAOrE,KAAK/D,EAAqBE,WAAaiJ,EAE5E,GAAIhJ,GAASuB,EAAKvB,SAAWA,EAAQuB,EAAK8C,WAAarE,EAAQuB,EAAKD,QAAQkB,IACzE,OAGHjB,EAAK+E,QAAQnJ,EAAQ,CAAE8K,OAAQA,IAE/B1G,EAAKwH,QAAQd,EAAQjI,GAErBuB,EAAK6D,UAGTI,YAAa,SAASe,GAClB,IAAIhF,EAAOC,KACPyG,EAAS3L,EAAEiK,EAAE0B,QACb3I,EAAO2I,EAAOiB,QAAQpK,EAAMH,GAEhC,IAAK4C,EAAKD,QAAQsB,SAAWrB,EAAKD,QAAQb,SACtC,OAGJc,EAAK6H,WAAa,KAElB,GAAInB,EAAOoB,GAAGvK,EAAMH,GAChB4C,EAAK4G,qBAAqB9K,EAASiC,IAI3CmG,YAAa,SAASc,GAClB,IAAIhF,EAAOC,KACPiB,EAAYlB,EAAKD,QAAQmB,UACzByC,EAAkB3D,EAAKD,QAAQoB,WAAarD,EAAgBE,KAC5D8I,EAAW5F,GAAavD,EAAgBC,OACxCG,EAAOhD,EAAEiK,EAAE0B,QAAQiB,QAAQpK,EAAMH,GACjC+F,EAAQnD,EAAKnB,UAAUuD,KAAK7E,EAAMH,GAClC2K,EACAzI,EAEJU,EAAK6H,WAAa,MAElB,IAAIG,EAAc,SAASjK,GACvBgK,EAAU/H,EAAKkF,YAAc,IAAM,GAAKnH,EAAK+J,GAAG9H,EAAKnB,UAAUuD,KAAK,eAAiB6F,KAAKC,KAAKlI,EAAKkF,aAAe,MACnH5F,GAAYvB,EAAKoK,SAAS/J,EAAiBD,WAAaJ,EAAKoK,SAAS/J,EAAiBF,YAAc6J,EACjG9J,EAAoBE,SACpBF,EAAoBF,KAExBiC,EAAKyG,gBAAgB1I,EAAMuB,GAE3B,GAAIqE,GAAmBoE,GAAWhK,EAAKoK,SAAS/J,EAAiBD,UAC7D6B,EAAKoI,yBAAyBrK,EAAMlC,IAI5CsH,EAAM0B,YAAYzG,EAAiBF,SAEnC,GAAI4I,EACAkB,EAAYjK,QAEZ,IAAK,IAAIiF,EAAI,EAAGA,EAAIG,EAAMV,OAAQO,GAAK,EAAG,CACtC,IAAIqF,EAActN,EAAEoI,EAAMH,IAE1BgF,EAAYK,KAKxBjE,WAAY,SAASY,GACjB,IAAIhF,EAAOC,KACPlC,EAAOhD,EAAEiK,EAAE0B,QAAQiB,QAAQpK,EAAMH,GACjCkL,EAAeC,EAAYC,EAE/B,IAAKxI,EAAK6H,WACN,OAGJ,GAAI9J,EAAK0E,OAAQ,CACb6F,EAAgBtD,EAAEyD,QAClBF,EAAaxK,EAAK2K,SAAS/C,KAE3B6C,EAAWP,KAAKU,IAAIL,EAAgBC,GAEpCvI,EAAKoI,yBAAyBrK,EAAMjC,GACpCkE,EAAK4I,yBAAyB7K,EAAMyK,GAGxCxD,EAAEmB,kBAGNiC,yBAA0B,SAASrK,EAAMsJ,GACrC,IAAIrH,EAAOC,KACP4I,EAAO9K,EAAKqE,KAAK7E,EAAMP,GACvB8L,EAAe9I,EAAKuG,iBAAiBtI,EAAoBoJ,IACzD0B,EAAYC,EAEhB,IAAKH,EAAKpG,OAAQ,CACdsG,EAAa/I,EAAKkF,YAAc,IAAM,EACtC8D,EAAWhJ,EAAKiJ,cAAclL,GAC9B8K,EAAO9N,EAAE,iBAAiB2G,SAAS1E,GAEnC6L,EAAK5G,OAAO6G,EAAa,CACrBhK,KAAMH,EAAaI,gBAGvB8J,EAAKK,MAAMH,EAAaC,EAAW,EAAIA,GAEvCjL,EAAKkE,OAAO4G,GAEZ9K,EAAKkE,OAAOlH,EAAE,iBAAiBoO,IAAI,CAC/BD,MAASF,EACTI,OAAUJ,EACVK,QAAW,WAGfrJ,EAAKsJ,iCAAiCvL,EAAMgL,QAE5CF,EAAKtF,KAAKuF,EAAa,CACnBhK,KAAMH,EAAaI,iBAK/BuK,iCAAkC,SAASvL,EAAMwL,GAC7C,IAAIvJ,EAAOC,KACPuJ,EAAazL,EAAKqE,KAAK7E,EAAMN,GAC7BwM,EAAc1L,EAAKwG,WAAWC,QAC9Be,EAAStK,EAAMuK,QAAQD,MAAMvF,EAAK2B,SAClC+H,GAAOnE,EAAQ,OAAS,QAE5B,IAAKiE,EAAW/G,OACZ+G,EAAaC,EAAY5H,KAAK9G,EAAE,iBAC3B2G,SAASzE,IACT6E,SAGT0H,EAAWN,MAAMK,EAASvJ,EAAKiJ,cAAclL,GAAQ,EAAI,GAEzDyL,EAAWL,IAAIO,EAAKH,GAAUhE,EAAS,MAAQ,IAGnDoE,8BAA+B,SAAS5L,GACpC,IAAKA,EACD,OAGJ,OAAOrC,EAAWqC,EAAKqE,KAAK,WAAW+G,IAAI,eAG/CF,cAAe,SAASlL,GACpB,IAAKA,EACD,OAGJ,OAAOA,EAAKmL,SAAWjJ,KAAK0J,8BAA8B5L,IAAS,GAGvE6K,yBAA0B,SAAS7K,EAAMyK,GACrC,IAAIxI,EAAOC,KACP2J,EAAW7L,EAAKqE,KAAK7E,EAAMP,GAC3B6I,EAAY5K,EAAMS,WAAWqC,EAAKsF,KAAK/E,EAAqBG,QAC5D8G,EAAStK,EAAMuK,QAAQD,MAAMtF,KAAK0B,SAClCkI,EAAY9L,EAAKmL,QACjBY,EAAYD,EAAY,EACxBE,EAAarO,EAAWqC,EAAKiM,aAAe,GAC5CT,GAAWhE,EAAQiD,EAAWuB,EAAavB,EAAWuB,EAE1D,GAAIhM,EAAK0E,QAAUmH,EAASnH,OAAQ,CAChCmH,EAASV,MAAMK,EAASO,EAAYD,GAEpC,GAAI5J,KAAKF,QAAQqB,QACbrD,EAAKsE,KAAK/D,EAAqBI,MAAO6K,EAClCvJ,EAAKwD,QAAQqC,EAAY3I,GAAwB2I,GAIzD9H,EAAKsF,KAAK/E,EAAqBC,UAAWgL,EACtC1D,EAAY3I,EAAuB2I,GAGvC7F,EAAKsJ,iCAAiCvL,EAAMwL,KAIpDU,eAAgB,SAASxL,GACrB,IAAIuB,EAAOC,KACPiK,EAAezL,IAAU,KAAO,GAAKA,EACrCuC,EAAMtF,EAAWsE,EAAKF,QAAQuC,KAAK5E,KAASuC,EAAKD,QAAQiB,IACzDC,EAAMvF,EAAWsE,EAAKF,QAAQuC,KAAK3E,KAASsC,EAAKD,QAAQkB,IAE7DjB,EAAKF,QAAQ+C,IAAI7C,EAAKwD,QAAQ0G,IAC9BlK,EAAK2B,QAAQU,KAAKxF,EAAemD,EAAKwD,QAAQ/E,KAAWuC,EAAMC,GAAO,IAG1EkJ,sBAAuB,SAAS1L,GAC5B,IAAIuB,EAAOC,KACP0D,EAAkB3D,EAAKD,QAAQoB,WAAarD,EAAgBE,KAC5DoM,EAAiB3L,IAAU,KAAO,OAAS5C,EAC3CwO,EAAY5L,IAAU,KAClBuB,EAAKnB,UAAUuD,KAAK7E,EAAMa,EAAiBD,UAAU2G,OACrD9E,EAAKnB,UAAUuD,KAAK7E,EAAMH,EAAQ,gBAAiB6K,KAAKC,KAAKzJ,GAAS,MAE9E,GAAIA,IAAU,KACVuB,EAAKnB,UAAUuD,KAAK7E,EAAMH,GAAOyH,YAAYzG,EAAiBD,UAGlE6B,EAAK4G,qBAAqBwD,EAAgBC,GAE1C,GAAI1G,GAAmBlF,IAAU,KAC7BuB,EAAKoI,yBAAyBiC,EAAWxO,GAG7CmE,EAAKU,gBAGTqC,UAAW,WACP,IAAI/C,EAAOC,KACPH,EAAUE,EAAKF,QACf6B,EAAU3B,EAAK2B,QACfzC,EAAWc,EAAKD,QAAQb,SACxBmC,EAAUrB,EAAKD,QAAQsB,QAE3B,GAAInC,GAAYmC,EAAS,CACrBvB,EAAQuC,KAAKrG,EAAUA,GACvB2F,EAAQU,KAAKtF,EAAe,UACzB,CACH+C,EAAQwK,KAAKtO,EAAU,OACvB2F,EAAQyB,WAAWrG,GAGvB,GAAIsE,EAAS,CACTvB,EAAQwK,KAAKvO,EAAU,OACvB4F,EAAQyB,WAAWtG,GACnB6E,EAAQU,KAAK/E,EAAU,OACpB,CACHwC,EAAQuC,KAAKtG,EAAUA,GACvB4F,EAAQU,KAAKvF,EAAe,MAC5B6E,EAAQyB,WAAW9F,GAGvBqE,EAAQ4I,YAAY5L,EAAaM,UAAWoC,GAC5CM,EAAQ4I,YAAY5L,EAAaO,SAAUA,GAAYmC,IAG3DmC,QAAS,SAAS/E,GACd,OAAOxD,EAAMuP,SAAS/L,EAAO,KAAMxD,EAAMwP,aAAa9P,OAG1D8D,MAAO,SAASA,GACZ,IAAIuB,EAAOC,KACP0D,EAAkB3D,EAAKD,QAAQoB,WAAarD,EAAgBE,KAEhE,GAAIS,IAAU,KAAM,CAChBuB,EAAKiK,eAAexL,GACpBuB,EAAKmK,sBAAsB1L,GAE3B,OAGJA,EAAQ/C,EAAW+C,GAEnB,GAAIA,IAAU,KAAM,CAChBA,EAAQ/C,EAAWsE,EAAKF,QAAQ+C,OAChC,OAAOpE,EAGXA,EAAQwJ,KAAKhH,IAAIjB,EAAK8C,UAAWmF,KAAKjH,IAAIvC,EAAOuB,EAAKD,QAAQkB,MAE9D,GAAI0C,EACA3D,EAAKkF,YAAcxJ,EAAWsE,EAAKwD,QAAQyE,KAAKC,KAAKzJ,EAAQ,GAAK,SAElEuB,EAAKkF,YAAc+C,KAAKyC,MAAMjM,GAGlCuB,EAAKiK,eAAexL,GACpBuB,EAAKmK,sBAAsB1L,IAG/BkM,MAAO,WACH,IAAI3K,EAAOC,KAEXD,EAAKvB,MAAM,OAGfmM,OAAQ,SAASA,GACb,IAAI5K,EAAOC,KAEX,UAAW2K,GAAU,YACjBA,EAAS,KAGb5K,EAAKD,QAAQsB,QAAUuJ,EACvB5K,EAAKD,QAAQb,SAAW,MAExBc,EAAK+C,aAGT7D,SAAU,SAASA,GACf,IAAIc,EAAOC,KAEX,UAAWf,GAAY,YACnBA,EAAW,KAGfc,EAAKD,QAAQb,SAAWA,EACxBc,EAAKD,QAAQsB,QAAU,KAEvBrB,EAAK+C,aAGT8H,WAAY,SAAU9K,GAClB,IAAIC,EAAOC,KAEXD,EAAKD,QAAUhF,EAAEQ,OAAOyE,EAAKD,QAASA,GAEtC,GAAIA,EAAQsB,UAAYlG,EACpB6E,EAAK4K,OAAO7K,EAAQsB,SAGxB,GAAItB,EAAQb,WAAa/D,EACrB6E,EAAKd,SAASa,EAAQb,UAG1B,GAAIa,EAAQf,QAAU7D,EAClB6E,EAAKU,eAGT,GAAIX,EAAQqB,UAAYjG,EACpB6E,EAAKS,iBAGT,GAAIV,EAAQtB,QAAUtD,EAClB6E,EAAKvB,MAAMsB,EAAQtB,OAGvB,GAAIsB,EAAQiB,KAAOjB,EAAQkB,MAAQ9F,GAC/B4E,EAAQwB,eAAiBpG,GACzB4E,EAAQyB,mBAAqBrG,GAC7B4E,EAAQ0B,kBAAoBtG,EAAW,CACnC6E,EAAKnB,UAAUiM,QACf9K,EAAKQ,eACLR,EAAKU,eACLV,EAAKS,iBACLT,EAAKW,mBAIjBoK,QAAS,WACL,IAAI/K,EAAOC,KAEXD,EAAK2B,QAAQqJ,IAAI3P,GACjB2E,EAAKnB,UAAUmM,IAAI3P,GAEnBC,EAAO4E,GAAG6K,QAAQ5K,KAAKH,MAQrC,OAHM5E,EAAG6P,OAAOrL,IAGT5E,OAAOC,QA92BhB,CAg3BoB,mBAAVT,QAAwBA,OAAO0Q,IAAM1Q,OAAS,SAAS2Q,EAAIC,EAAIC,IAAMA,GAAMD"}