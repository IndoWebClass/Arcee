{"version":3,"file":"kendo.stepper.min.js","sources":["kendo.stepper.js"],"sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function(f, define){\n    define('kendo.stepper',[ \"./kendo.core\", \"./kendo.progressbar\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"stepper\",\n    name: \"Stepper\",\n    category: \"web\",\n    description: \"The Stepper widget displays navigation steps.\",\n    depends: [ \"core\", \"progressbar\" ]\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        keys = kendo.keys,\n        extend = $.extend,\n        proxy = $.proxy,\n\n        STEPPER = \".kendoStepper\",\n\n        CLICK = \"click\",\n        ACTIVATE = \"activate\",\n        SELECT = \"select\",\n        KEYDOWN = \"keydown\",\n        FOCUSOUT = \"focusout\",\n\n        DOT = \".\",\n        SPACE = \" \",\n        VERTICAL = \"vertical\",\n        TABINDEX = \"tabindex\",\n\n        ARIA_CURRENT = \"aria-current\",\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_INVALID = \"aria-invalid\",\n        ARIA_HIDDEN = \"aria-hidden\";\n\n    var stepStyles = {\n        step: \"k-step\",\n        firstStep: \"k-step-first\",\n        lastStep: \"k-step-last\",\n        doneStep: \"k-step-done\",\n        successStep: \"k-step-success\",\n        errorStep: \"k-step-error\",\n        currentStep: \"k-step-current\",\n        focusStep: \"k-step-focus\",\n        disabledStep: \"k-step-disabled\",\n        stepLink: \"k-step-link\",\n        stepIndicator: \"k-step-indicator\",\n        stepLabel: \"k-step-label\"\n    };\n\n    var stepperStyles = {\n        widget: \"k-widget k-stepper\",\n        stepperLinear: \"k-stepper-linear\",\n        stepList: \"k-step-list\",\n        stepListHorizontal: \"k-step-list-horizontal\",\n        stepListVertical: \"k-step-list-vertical\"\n    };\n\n    var Step = kendo.Class.extend({\n        init: function(options) {\n            this.options = extend({}, this.options, options);\n            this._render();\n        },\n\n        options: {\n            label: \"\",\n            icon: \"\",\n            successIcon: \"\",\n            iconTemplate: \"\",\n            enabled: true,\n            error: false,\n            selected: false,\n            isFirstStep: false,\n            isLastStep: false,\n            indicatorVisible: true,\n            labelVisible: true,\n            index: 0,\n            previous: false,\n            selectable: true\n        },\n\n        _indicatorTemplate: '<span class=\"k-step-indicator\" aria-hidden=\"true\">' +\n            '#if(successIcon && previous && !error) {#' +\n                '<span class=\"k-step-indicator-icon k-icon k-i-#: successIcon #\"></span>' +\n            '#} else if(icon) {#' +\n                '<span class=\"k-step-indicator-icon k-icon k-i-#: icon #\"></span>' +\n            '#} else if(previous && !error) {#' +\n                '<span class=\"k-step-indicator-icon k-icon k-i-check\"></span>' +\n            '#} else {#' +\n                '<span class=\"k-step-indicator-text\">#: index + 1 #</span>' +\n            '#}#' +\n        '</span>',\n\n        _labelTemplate: '<span class=\"k-step-label\">' +\n            '<span class=\"k-step-text\">' +\n                '#: label #' +\n            '</span>' +\n            ' ' +\n            '#if(error || (!indicatorVisible && !error && previous)) {#' +\n                '<span class=\"k-icon' +\n                    '#if(previous && !error){# k-i-check#}#' +\n                    '#if(error){# k-i-warning#}#' +\n                '\" aria-hidden=\"true\"></span>' +\n            '#}#' +\n        '</span>',\n\n        deselect: function() {\n            this.options.selected = false;\n            this._link();\n            this._stepClasses();\n        },\n\n        enable: function(value) {\n            if(this.options.enabled !== value) {\n                this.options.enabled = value;\n                this.options.selectable = value;\n                this._link();\n                this._stepClasses();\n            }\n        },\n\n        select: function() {\n            this.options.selected = true;\n            this._link();\n            this._stepClasses();\n        },\n\n        getEnabled: function() {\n            return this.options.enabled;\n        },\n\n        getIndex: function() {\n            return this.options.index;\n        },\n\n        setPrevious: function(previous) {\n            this.options.previous = previous;\n            this._link();\n            this._stepClasses();\n        },\n\n        getSelectable: function() {\n            return this.options.selectable;\n        },\n\n        getSelected: function() {\n            return this.options.selected;\n        },\n\n        setValid: function(valid) {\n            if(this.options.error === valid) {\n                this.options.error = !valid;\n                this._link();\n                this._stepClasses();\n            }\n        },\n\n        _indicator: function() {\n            var options = this.options,\n                stepIndicator;\n\n            if(!!options.iconTemplate) {\n                stepIndicator = $(\"<span>\").addClass(stepStyles.stepIndicator).attr(ARIA_HIDDEN, \"true\");\n                stepIndicator.append(kendo.template(options.iconTemplate)(options));\n            } else {\n                stepIndicator = kendo.template(this._indicatorTemplate)(options);\n            }\n\n            this.element.find(DOT + stepStyles.stepLink).append(stepIndicator);\n        },\n\n        _label: function() {\n            var stepLabel = kendo.template(this._labelTemplate)(this.options);\n            this.element.find(DOT + stepStyles.stepLink).append(stepLabel);\n        },\n\n        _link: function() {\n            var options = this.options;\n\n            this.element.find(DOT + stepStyles.stepLink).empty();\n            this._linkAttributes();\n\n            if(options.indicatorVisible) {\n                this._indicator();\n            }\n            if(options.labelVisible) {\n                this._label();\n            }\n        },\n\n        _linkAttributes: function() {\n            var options = this.options,\n                link = this.element.find(DOT + stepStyles.stepLink);\n\n            link.removeAttr(ARIA_DISABLED + SPACE + ARIA_INVALID + SPACE + ARIA_CURRENT + SPACE + TABINDEX);\n\n            if(!options.selected) {\n                link.attr(TABINDEX, \"-1\");\n            } else {\n                link.attr(ARIA_CURRENT, \"true\");\n            }\n            if(!options.enabled || !options.selectable) {\n                link.attr(ARIA_DISABLED, \"true\");\n            }\n            if(options.error) {\n                link.attr(ARIA_INVALID, \"true\");\n            }\n        },\n\n        _render: function() {\n            var stepLink = $(\"<a href='#'>\").addClass(stepStyles.stepLink).attr(\"title\", this.options.label);\n\n            this.element = $(\"<li>\").append(stepLink);\n\n            this._link();\n            this._stepClasses();\n        },\n\n        _stepClasses: function() {\n            var options = this.options,\n                stepClasses = stepStyles.step;\n\n            if(options.isFirstStep){\n                stepClasses += (SPACE + stepStyles.firstStep);\n            }\n            if(options.isLastStep){\n                stepClasses += (SPACE + stepStyles.lastStep);\n            }\n            if(!options.enabled){\n                stepClasses += (SPACE + stepStyles.disabledStep);\n            }\n            if(options.error){\n                stepClasses += (SPACE + stepStyles.errorStep);\n            }\n            if(options.previous){\n                stepClasses += (SPACE + stepStyles.doneStep);\n                if(!options.error) {\n                    stepClasses += (SPACE + stepStyles.successStep);\n                }\n            } else if(options.selected) {\n                stepClasses += (SPACE + stepStyles.currentStep);\n                stepClasses += (SPACE + stepStyles.focusStep);\n            }\n\n            this.element.removeClass().addClass(stepClasses);\n        }\n    });\n\n    var Stepper = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            options = options || {};\n\n            Widget.fn.init.call(that, element, options);\n\n            that._indicatorAndLabel();\n\n            that._wrapper();\n\n            if (options.steps && options.steps.length) {\n                that._processSteps(options.steps);\n                that._progressBar();\n            }\n\n            that._attachEvents();\n\n            that._resizeHandler = kendo.onResize(function() {\n                that.resize();\n            });\n        },\n\n        options: {\n            orientation: \"horizontal\",\n            linear: true,\n            indicator: true,\n            label: true,\n            selectOnFocus: false,\n            steps: null,\n            name: \"Stepper\"\n        },\n\n        events: [ ACTIVATE, SELECT, \"kendoKeydown\" ],\n\n        destroy: function() {\n            var that = this;\n\n            if(that.progressBar) {\n                Widget.fn.destroy.call(that.progressBar);\n            }\n\n            Widget.fn.destroy.call(that);\n\n            kendo.unbindResize(that._resizeHandler);\n\n            that.wrapper.off(STEPPER);\n        },\n\n        setOptions: function(options) {\n            var that = this;\n\n            Widget.fn.setOptions.call(that, options);\n\n            if(that.progressBar) {\n                Widget.fn.destroy.call(that.progressBar);\n            }\n\n            that._indicatorAndLabel();\n\n            that._addStepList();\n\n            if (that.options.steps && that.options.steps.length) {\n                that._processSteps(that.options.steps);\n                that._progressBar();\n            }\n        },\n\n        enable: function(value) {\n            var steps = this.steps(),\n                stepsOptions = this.options.steps;\n\n            var enableStep = function(step, idx) {\n                step.enable(value);\n                stepsOptions[idx] = step.options;\n            };\n\n            if(value) {\n                this.wrapper.removeAttr(ARIA_DISABLED);\n            } else {\n                this.wrapper.attr(ARIA_DISABLED, \"true\");\n            }\n\n            this.progressBar.enable(value);\n\n            steps.forEach(enableStep);\n        },\n\n        insertAt: function(index, stepOptions) {\n            var steps = this.options.steps,\n                selectedStep;\n            var findSelectedStep = function(step) {\n                if(step.selected) {\n                    selectedStep = step;\n                }\n            };\n\n            if(!stepOptions || isNaN(index)) {\n                return;\n            }\n            if(index < 0) {\n                index = steps.length + index;\n            }\n            if(index < 0) {\n                return;\n            }\n            if(!steps) {\n                steps = [];\n            }\n\n            if(steps.length === 0 || index >= steps.length) {\n                index = steps.length;\n            }\n\n            steps.forEach(findSelectedStep);\n\n            if(stepOptions.selected === true) {\n                selectedStep.selected = false;\n            }\n\n            steps.splice(index, 0, stepOptions);\n\n            this._createSteps();\n            this._renderSteps();\n            this._resetProgressBar();\n            this._calculateDimensions();\n        },\n\n        next: function() {\n            if(!this._steps || this._steps.length <= 1) {\n                return;\n            }\n\n            var selectedStep = this.selectedStep;\n            var selectedIndex = selectedStep.getIndex();\n\n            if(selectedIndex + 1 === this._steps.length) {\n                return;\n            } else {\n                this._select(selectedIndex + 1);\n            }\n        },\n\n        previous: function() {\n            if(!this._steps || this._steps.length <= 1) {\n                return;\n            }\n\n            var selectedStep = this.selectedStep;\n            var selectedIndex = selectedStep.getIndex();\n\n            if(selectedIndex === 0) {\n                return;\n            } else {\n                this._select(selectedIndex - 1);\n            }\n        },\n\n        removeAt: function(index) {\n            var steps = this.options.steps,\n                removedStep, newSelected, newSelectedIndex;\n\n            if(isNaN(index) || !steps || steps.length < 2 || index >= steps.length) {\n                return;\n            }\n            if(index < 0) {\n                index = steps.length + index;\n            }\n            if(index < 0) {\n                return;\n            }\n\n            removedStep = steps.splice(index, 1)[0];\n\n            if(removedStep.selected === true && steps.length > 0) {\n                if(index > 0) {\n                    newSelectedIndex = index - 1;\n                } else {\n                    newSelectedIndex = 0;\n                }\n\n                newSelected = steps[newSelectedIndex];\n\n                if(typeof newSelected === \"string\") {\n                    newSelected = {\n                        label: newSelected\n                    };\n                    steps[newSelectedIndex] = newSelected;\n                }\n\n                newSelected.selected = true;\n                newSelected.previous = false;\n            }\n\n            this._createSteps();\n            this._renderSteps();\n            this._resetProgressBar();\n            this._calculateDimensions();\n        },\n\n        resize: function() {\n            this._calculateDimensions();\n        },\n\n        select: function(stepIndex) {\n            var that = this;\n\n            if(stepIndex === undefined || stepIndex === null || isNaN(stepIndex)) {\n                return that.selectedStep;\n            }\n\n            if(stepIndex >= that._steps.length || stepIndex < 0) {\n                return;\n            }\n\n            stepIndex = Number(stepIndex);\n\n            that._select(stepIndex);\n        },\n\n        steps: function(steps) {\n            if(steps === undefined) {\n                return this._steps;\n            }\n\n            this._processSteps(steps);\n            this._resetProgressBar();\n            this._calculateDimensions();\n        },\n\n        _processSteps: function(steps) {\n            var that = this,\n                selectedStep;\n            var findSelectedStep = function(step) {\n                if(step.selected) {\n                    selectedStep = step;\n                }\n            };\n\n            steps.forEach(findSelectedStep);\n\n            if(!selectedStep) {\n                if(typeof steps[0] === \"string\") {\n                    steps[0] = {\n                        label: steps[0]\n                    };\n                }\n                steps[0].selected = true;\n            }\n\n            that.options.steps = steps;\n\n            that._createSteps();\n            that._renderSteps();\n        },\n\n        _addStepList: function() {\n            var that = this;\n\n            that.wrapper.empty().append($(\"<ol />\").addClass(stepperStyles.stepList));\n            that._stepList = that.wrapper.find(DOT + stepperStyles.stepList);\n\n            if(that.options.orientation === VERTICAL) {\n                that._stepList.addClass(stepperStyles.stepListVertical);\n            } else {\n                that._stepList.addClass(stepperStyles.stepListHorizontal);\n            }\n        },\n\n        _attachEvents: function() {\n            var that = this;\n\n            that.wrapper\n                .on(CLICK + STEPPER, DOT + stepStyles.step, proxy(that._selectClickHandler, that))\n                .on(CLICK + STEPPER, proxy(that._wrapperClickHandler, that))\n                .on(FOCUSOUT + STEPPER, proxy(that._focusout, that))\n                .on(KEYDOWN + STEPPER, that, proxy(that._keydown, that));\n        },\n\n        _calculateDimensions: function() {\n            var orientation = this.options.orientation,\n                numberOfSteps = this._steps.length,\n                stepList = this._stepList,\n                steps = stepList.find(DOT + stepStyles.step),\n                stepWidth = stepList.width() / numberOfSteps,\n                stepHeight = stepList.height() / numberOfSteps,\n                progressElement = this.progressBar.element,\n                margin = \"margin-left\",\n                style = {};\n\n            if(orientation === VERTICAL) {\n                steps.css(\"max-height\", 100 / numberOfSteps + \"%\");\n                progressElement.css({\n                    \"margin-top\": -1 * (stepList.height() - 16),\n                    \"height\": stepHeight * (numberOfSteps - 1)\n                });\n            } else {\n                steps.css(\"max-width\", 100 / numberOfSteps + \"%\");\n\n                if(kendo.support.isRtl(this.wrapper)) {\n                    margin = \"margin-right\";\n                }\n                style[margin] = stepWidth / 2;\n                style.width = stepWidth * (numberOfSteps - 1);\n\n                progressElement.css(style);\n            }\n        },\n\n        _createStep: function(stepOptions, idx, isLastStep) {\n            var that = this,\n                isFirstStep = idx === 0,\n                options = that.options,\n                indicatorVisible = options.indicator,\n                labelVisible = options.label;\n\n            stepOptions = extend({}, stepOptions, {\n                enabled: stepOptions.enabled === false ? false : true\n            });\n\n            stepOptions = extend({}, stepOptions, {\n                isFirstStep: isFirstStep,\n                isLastStep: isLastStep,\n                indicatorVisible: indicatorVisible,\n                labelVisible: labelVisible,\n                index: idx\n            });\n\n            return new Step(stepOptions);\n        },\n\n        _createSteps: function() {\n            var that = this,\n                stepsOptions = that.options.steps,\n                selected = false,\n                step, idx, isLastStep, stepOpt;\n\n            that._steps = [];\n\n            for (idx = 0; idx < stepsOptions.length; idx++) {\n                stepOpt = stepsOptions[idx];\n\n                if(typeof stepOpt === \"string\") {\n                    stepOpt = {\n                        label: stepOpt\n                    };\n                }\n\n                if (stepOpt !== undefined) {\n                    isLastStep = idx === stepsOptions.length - 1;\n\n                    if(stepOpt.selected) {\n                        selected = true;\n                    } else {\n                        stepOpt = that._selectablePreviousState(stepOpt, selected, idx);\n                    }\n\n                    step = that._createStep(stepOpt, idx, isLastStep);\n                    that._steps.push(step);\n\n                    if(step.getSelected()) {\n                        that.selectedStep = step;\n                    }\n                }\n            }\n        },\n\n        _indicatorAndLabel: function() {\n            if(!this.options.indicator && !this.options.label) {\n                this.options.indicator = true;\n                this.options.label = true;\n            }\n        },\n\n        _focusout: function(e) {\n            var that = this;\n\n            if(!that.wrapper.get(0).contains(e.relatedTarget)) {\n                setTimeout(function() {\n                    that._leaveStepper();\n                });\n            }\n        },\n\n        _focusStep: function(newStep) {\n            var focusedStep = this.wrapper.find(DOT + stepStyles.focusStep),\n                allStepLinks = this.wrapper.find(DOT + stepStyles.stepLink);\n\n            if(newStep.length > 0) {\n                focusedStep.removeClass(stepStyles.focusStep);\n                allStepLinks.attr(TABINDEX, \"-1\");\n                newStep.find(DOT + stepStyles.stepLink).removeAttr(TABINDEX)[0].focus();\n            }\n        },\n\n        _focusNextStep: function() {\n            var focusedStep = $(document.activeElement).closest(DOT + stepStyles.step),\n                nextStep = focusedStep.next();\n\n            this._focusStep(nextStep);\n        },\n\n        _focusPreviousStep: function() {\n            var focusedStep = $(document.activeElement).closest(DOT + stepStyles.step),\n                previousStep = focusedStep.prev();\n\n            this._focusStep(previousStep);\n        },\n\n        _focusFirstStep: function() {\n            var wrapper = this.wrapper,\n                firstStep = wrapper.find(DOT + stepStyles.firstStep);\n\n            this._focusStep(firstStep);\n        },\n\n        _focusLastStep: function() {\n            var wrapper = this.wrapper,\n                lastStep = wrapper.find(DOT + stepStyles.lastStep);\n\n            this._focusStep(lastStep);\n        },\n\n        _keydown: function(e) {\n            var that = this,\n                keyCode = e.keyCode,\n                focusedStepElement = $(document.activeElement).closest(DOT + stepStyles.step),\n                focusedStepIndex = focusedStepElement.index(),\n                stepsCount = that.steps().length;\n\n            if(keyCode === keys.TAB) {\n                if(e.shiftKey && focusedStepIndex > 0) {\n                    e.preventDefault();\n                    that._tabKey(e, -1);\n                } else if(!e.shiftKey && focusedStepIndex < stepsCount - 1) {\n                    e.preventDefault();\n                    that._tabKey(e, +1);\n                }\n            } else if(keyCode > 34 && keyCode < 41){\n                e.preventDefault();\n                that._navKeys(e);\n            } else if(keyCode === keys.ENTER || keyCode === keys.SPACEBAR) {\n                e.preventDefault();\n                that._selectHandler(e, $(document.activeElement).closest(DOT + stepStyles.step));\n            } else {\n                e.preventDefault();\n            }\n        },\n\n        _leaveStepper: function() {\n            var selectedStep = this.wrapper.find(DOT + stepStyles.currentStep),\n                allStepLinks = this.wrapper.find(DOT + stepStyles.stepLink);\n\n            allStepLinks.removeClass(stepStyles.focusStep).attr(TABINDEX, \"-1\");\n\n            selectedStep.addClass(stepStyles.focusStep);\n            selectedStep.find(DOT + stepStyles.stepLink).removeAttr(TABINDEX);\n        },\n\n        _navKeys: function(e) {\n            var selectOnFocus = this.options.selectOnFocus;\n\n            if(selectOnFocus) {\n                this._navKeysSelect(e);\n            } else {\n                this._navKeysFocus(e);\n            }\n        },\n\n        _navKeysFocus: function(e) {\n            var keyCode = e.keyCode,\n                rtl = kendo.support.isRtl(this.wrapper),\n                orientation = this.options.orientation;\n\n            switch(keyCode) {\n                case keys.DOWN:\n                    if(rtl && orientation !== VERTICAL) {\n                        this._focusPreviousStep();\n                    } else {\n                        this._focusNextStep();\n                    }\n                    break;\n                case keys.RIGHT:\n                    if(rtl) {\n                        this._focusPreviousStep();\n                    } else {\n                        this._focusNextStep();\n                    }\n                    break;\n                case keys.UP:\n                    if(rtl && orientation !== VERTICAL) {\n                        this._focusNextStep();\n                    } else {\n                        this._focusPreviousStep();\n                    }\n                    break;\n                case keys.LEFT:\n                    if(rtl) {\n                        this._focusNextStep();\n                    } else {\n                        this._focusPreviousStep();\n                    }\n                    break;\n                case keys.HOME:\n                    this._focusFirstStep();\n                    break;\n                case keys.END:\n                    this._focusLastStep();\n                    break;\n            }\n        },\n\n        _navKeysSelect: function(e) {\n            var keyCode = e.keyCode,\n                focusedStepIndex = $(document.activeElement).closest(DOT + stepStyles.step).index(),\n                rtl = kendo.support.isRtl(this.wrapper),\n                steps = this.steps(),\n                orientation = this.options.orientation,\n                targetStep;\n\n            switch(keyCode) {\n                case keys.DOWN:\n                    if(rtl && orientation !== VERTICAL) {\n                        targetStep = steps[focusedStepIndex - 1];\n                    } else {\n                        targetStep = steps[focusedStepIndex + 1];\n                    }\n                    break;\n                case keys.RIGHT:\n                    if(rtl) {\n                        targetStep = steps[focusedStepIndex - 1];\n                    } else {\n                        targetStep = steps[focusedStepIndex + 1];\n                    }\n                    break;\n                case keys.UP:\n                    if(rtl && orientation !== VERTICAL) {\n                        targetStep = steps[focusedStepIndex + 1];\n                    } else {\n                        targetStep = steps[focusedStepIndex - 1];\n                    }\n                    break;\n                case keys.LEFT:\n                    if(rtl) {\n                        targetStep = steps[focusedStepIndex + 1];\n                    } else {\n                        targetStep = steps[focusedStepIndex - 1];\n                    }\n                    break;\n                case keys.HOME:\n                    targetStep = steps[0];\n                    break;\n                case keys.END:\n                    targetStep = steps[steps.length - 1];\n                    break;\n            }\n\n            if(targetStep) {\n                this._focusStep(targetStep.element);\n                this._selectHandlerOnKey(e, targetStep.element);\n            }\n        },\n\n        _progressBar: function() {\n            var wrapper = this.wrapper,\n                progressBarOptions = this._progressOptions();\n\n            this.progressBar = $(\"<div>\").kendoProgressBar(progressBarOptions).getKendoProgressBar();\n            this.progressBar.element.addClass(\"k-pos-absolute k-overflow-hidden\");\n\n            // TODO: for 2021 R2 the following line must be removed!\n            this.progressBar.element.css(\"position\", \"absolute\");\n\n            this._calculateDimensions();\n\n            wrapper.append(this.progressBar.element);\n        },\n\n        _progressOptions: function() {\n            var options = this.options,\n                orientation = options.orientation,\n                stepsOptions = options.steps,\n                numberOfSteps, progressBarOptions;\n\n            if(!stepsOptions || stepsOptions.length === 0) {\n                return;\n            } else {\n                numberOfSteps = stepsOptions.length;\n            }\n\n            progressBarOptions = {\n                max: numberOfSteps - 1,\n                value: this.select().getIndex(),\n                orientation: orientation,\n                showStatus: false\n            };\n\n            if(orientation === VERTICAL) {\n                progressBarOptions.reverse = true;\n            }\n\n            return progressBarOptions;\n        },\n\n        _resetProgressBar: function() {\n            var progressBar = this.progressBar,\n                newOptions;\n\n            if(!progressBar) {\n                return;\n            }\n\n            newOptions = this._progressOptions();\n            progressBar.setOptions(newOptions);\n        },\n\n        _renderSteps: function() {\n            var steps = this._steps,\n                stepsList = this._stepList,\n                step, idx;\n\n            stepsList.empty();\n\n            for (idx = 0; idx < steps.length; idx++) {\n                step = steps[idx];\n                stepsList.append(step.element);\n            }\n        },\n\n        _resetStep: function(i, index, forward) {\n            var step = this._steps[i];\n\n            if(!forward && i < index) {\n                step.options.selectable = true;\n            } else if(i === index) {\n                step.options.previous = false;\n                step.options.selected = true;\n                step.options.selectable = true;\n            } else if (forward && i > index) {\n                step.options.selectable = true;\n            } else {\n                step.options.selected = false;\n                step.options.previous = forward;\n            }\n\n            if(this.options.linear && (i < index - 1 || i > index + 1)) {\n                step.options.selectable = false;\n            }\n\n            step._link();\n            step._stepClasses();\n            this.options.steps[i] = step.options;\n        },\n\n        _select: function(index) {\n            var options = this.options,\n                linear = options.linear,\n                selectedStep = this.select(),\n                selectedIndex = selectedStep.getIndex(),\n                stepsOptions = options.steps,\n                targetStep = this._steps[index],\n                forward, i, min, max;\n\n            if(!targetStep || !targetStep.getEnabled()) {\n                return;\n            }\n\n            if(index > selectedIndex) {\n                forward = true;\n\n                if(linear) {\n                    min = Math.max(selectedIndex - 1, 0);\n                    max = Math.min(index + 1, stepsOptions.length - 1);\n                } else {\n                    min = selectedIndex;\n                    max = index;\n                }\n            } else {\n                forward = false;\n\n                if(linear) {\n                    min = Math.max(index - 1, 0);\n                    max = Math.min(selectedIndex + 1, stepsOptions.length - 1);\n                } else {\n                    min = index;\n                    max = selectedIndex;\n                }\n            }\n\n            for(i = min; i <= max; i ++) {\n                this._resetStep(i, index, forward);\n            }\n\n            this.selectedStep = targetStep;\n            this.progressBar.value(index);\n        },\n\n        _selectablePreviousState: function(stepOpt, selected, idx) {\n            var stepsOptions = this.options.steps,\n                linear = this.options.linear;\n\n            if(!selected) {\n                stepOpt.previous = true;\n                if(linear && !stepsOptions[idx + 1].selected) {\n                    stepOpt.selectable = false;\n                } else {\n                    stepOpt.selectable = true;\n                }\n            } else if(linear && !stepsOptions[idx - 1].selected) {\n                stepOpt.selectable = false;\n            } else {\n                stepOpt.selectable = true;\n            }\n\n            return stepOpt;\n        },\n\n        _selectClickHandler: function(e) {\n            var stepElement = $(e.target).closest(DOT + stepStyles.step);\n\n            e.preventDefault();\n            this._preventWrapperClick = true;\n            this._selectHandler(e, stepElement);\n        },\n\n        _selectHandler: function(e, stepElement) {\n            var that = this,\n                step = that._steps[stepElement.index()],\n                currentStep = this.select();\n\n            if(!step || step.getIndex() === currentStep.getIndex() || !step.getEnabled() || !step.getSelectable()) {\n                that._focusStep(currentStep.element);\n\n                return;\n            }\n\n            if(!that.trigger(SELECT, { sender: that, originalEvent: e, step: step})) {\n                that._select(step.getIndex());\n                stepElement.find(DOT + stepStyles.stepLink)[0].focus();\n                that.trigger(ACTIVATE, { sender: that, originalEvent: e, step: step});\n            }\n        },\n\n        _selectHandlerOnKey: function(e, stepElement) {\n            var that = this,\n                step = that._steps[stepElement.index()];\n\n            if(!step.getEnabled() || !step.getSelectable()) {\n                return;\n            }\n\n            if(!that.trigger(SELECT, { sender: that, originalEvent: e, step: step})) {\n                that._select(step.getIndex());\n                stepElement.find(DOT + stepStyles.stepLink)[0].focus();\n                that.trigger(ACTIVATE, { sender: that, originalEvent: e, step: step});\n            }\n        },\n\n        _tabKey: function(e, shift) {\n            var selectOnFocus = this.options.selectOnFocus,\n                focusedStepElement = $(document.activeElement).closest(DOT + stepStyles.step),\n                focusedStepIndex = focusedStepElement.index(),\n                targetStep = $(focusedStepElement.parent().find(DOT + stepStyles.step)[focusedStepIndex + shift]);\n\n            this._focusStep(targetStep);\n\n            if(selectOnFocus) {\n                this._selectHandlerOnKey(e, targetStep);\n            }\n        },\n\n        _wrapper: function() {\n            var that = this,\n                element = that.element;\n\n            that.wrapper = element;\n            that.wrapper.addClass(stepperStyles.widget);\n\n            if(that.options.linear) {\n                that.wrapper.addClass(stepperStyles.stepperLinear);\n            }\n\n            this._addStepList();\n        },\n\n        _wrapperClickHandler: function(e) {\n            var currentStep = this.select();\n\n            if(!this._preventWrapperClick) {\n                e.preventDefault();\n                this._focusStep(currentStep.element);\n            } else {\n                this._preventWrapperClick = false;\n            }\n        }\n    });\n\n    kendo.stepper = {\n        Step: Step\n    };\n\n    kendo.ui.plugin(Stepper);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n"],"names":["define","__meta__","id","name","category","description","depends","$","window","kendo","jQuery","undefined","Widget","ui","keys","extend","proxy","STEPPER","CLICK","ACTIVATE","SELECT","KEYDOWN","FOCUSOUT","DOT","SPACE","VERTICAL","TABINDEX","ARIA_CURRENT","ARIA_DISABLED","ARIA_INVALID","ARIA_HIDDEN","stepStyles","step","firstStep","lastStep","doneStep","successStep","errorStep","currentStep","focusStep","disabledStep","stepLink","stepIndicator","stepLabel","stepperStyles","widget","stepperLinear","stepList","stepListHorizontal","stepListVertical","Step","Class","init","options","this","_render","label","icon","successIcon","iconTemplate","enabled","error","selected","isFirstStep","isLastStep","indicatorVisible","labelVisible","index","previous","selectable","_indicatorTemplate","_labelTemplate","deselect","_link","_stepClasses","enable","value","select","getEnabled","getIndex","setPrevious","getSelectable","getSelected","setValid","valid","_indicator","addClass","attr","append","template","element","find","_label","empty","_linkAttributes","link","removeAttr","stepClasses","removeClass","Stepper","that","fn","call","_indicatorAndLabel","_wrapper","steps","length","_processSteps","_progressBar","_attachEvents","_resizeHandler","onResize","resize","orientation","linear","indicator","selectOnFocus","events","destroy","progressBar","unbindResize","wrapper","off","setOptions","_addStepList","stepsOptions","enableStep","idx","forEach","insertAt","stepOptions","selectedStep","findSelectedStep","isNaN","splice","_createSteps","_renderSteps","_resetProgressBar","_calculateDimensions","next","_steps","selectedIndex","_select","removeAt","removedStep","newSelected","newSelectedIndex","stepIndex","Number","_stepList","on","_selectClickHandler","_wrapperClickHandler","_focusout","_keydown","numberOfSteps","stepWidth","width","stepHeight","height","progressElement","margin","style","css","margin-top","support","isRtl","_createStep","stepOpt","_selectablePreviousState","push","e","get","contains","relatedTarget","setTimeout","_leaveStepper","_focusStep","newStep","focusedStep","allStepLinks","focus","_focusNextStep","document","activeElement","closest","nextStep","_focusPreviousStep","previousStep","prev","_focusFirstStep","_focusLastStep","keyCode","focusedStepElement","focusedStepIndex","stepsCount","TAB","shiftKey","preventDefault","_tabKey","_navKeys","ENTER","SPACEBAR","_selectHandler","_navKeysSelect","_navKeysFocus","rtl","DOWN","RIGHT","UP","LEFT","HOME","END","targetStep","_selectHandlerOnKey","progressBarOptions","_progressOptions","kendoProgressBar","getKendoProgressBar","max","showStatus","reverse","newOptions","stepsList","_resetStep","i","forward","min","Math","stepElement","target","_preventWrapperClick","trigger","sender","originalEvent","shift","parent","stepper","plugin","amd","a1","a2","a3"],"mappings":"CAwBA,SAAaA,QACTA,OAAO,gBAAgB,CAAE,eAAgB,uBAC1C,WAEH,IAAIC,EAAW,CACXC,GAAI,UACJC,KAAM,UACNC,SAAU,MACVC,YAAa,gDACbC,QAAS,CAAE,OAAQ,gBAGZC,EAkhCRC,OAAOC,MAAMC,OAlhCFC,OAAd,EACQF,EAAQD,OAAOC,MACfG,EAASH,EAAMI,GAAGD,OAClBE,EAAOL,EAAMK,KACbC,EAASR,EAAEQ,OACXC,EAAQT,EAAES,MAEVC,EAAU,gBAEVC,EAAQ,QACRC,EAAW,WACXC,EAAS,SACTC,EAAU,UACVC,EAAW,WAEXC,EAAM,IACNC,EAAQ,IACRC,EAAW,WACXC,EAAW,WAEXC,EAAe,eACfC,EAAgB,gBAChBC,EAAe,eACfC,EAAc,cAEdC,EAAa,CACbC,KAAM,SACNC,UAAW,eACXC,SAAU,cACVC,SAAU,cACVC,YAAa,iBACbC,UAAW,eACXC,YAAa,iBACbC,UAAW,eACXC,aAAc,kBACdC,SAAU,cACVC,cAAe,mBACfC,UAAW,gBAGXC,EAAgB,CAChBC,OAAQ,qBACRC,cAAe,mBACfC,SAAU,cACVC,mBAAoB,yBACpBC,iBAAkB,wBAGlBC,EAAOzC,EAAM0C,MAAMpC,OAAO,CAC1BqC,KAAM,SAASC,GACXC,KAAKD,QAAUtC,EAAO,GAAIuC,KAAKD,QAASA,GACxCC,KAAKC,WAGTF,QAAS,CACLG,MAAO,GACPC,KAAM,GACNC,YAAa,GACbC,aAAc,GACdC,QAAS,KACTC,MAAO,MACPC,SAAU,MACVC,YAAa,MACbC,WAAY,MACZC,iBAAkB,KAClBC,aAAc,KACdC,MAAO,EACPC,SAAU,MACVC,WAAY,MAGhBC,mBAAoB,qDAChB,4CACI,0EACJ,sBACI,mEACJ,oCACI,+DACJ,aACI,4DACJ,MACJ,UAEAC,eAAgB,8BACZ,6BACI,aACJ,UACA,IACA,6DACI,sBACI,yCACA,8BACJ,+BACJ,MACJ,UAEAC,SAAU,WACNlB,KAAKD,QAAQS,SAAW,MACxBR,KAAKmB,QACLnB,KAAKoB,gBAGTC,OAAQ,SAASC,GACb,GAAGtB,KAAKD,QAAQO,UAAYgB,EAAO,CAC/BtB,KAAKD,QAAQO,QAAUgB,EACvBtB,KAAKD,QAAQgB,WAAaO,EAC1BtB,KAAKmB,QACLnB,KAAKoB,iBAIbG,OAAQ,WACJvB,KAAKD,QAAQS,SAAW,KACxBR,KAAKmB,QACLnB,KAAKoB,gBAGTI,WAAY,WACR,OAAOxB,KAAKD,QAAQO,SAGxBmB,SAAU,WACN,OAAOzB,KAAKD,QAAQc,OAGxBa,YAAa,SAASZ,GAClBd,KAAKD,QAAQe,SAAWA,EACxBd,KAAKmB,QACLnB,KAAKoB,gBAGTO,cAAe,WACX,OAAO3B,KAAKD,QAAQgB,YAGxBa,YAAa,WACT,OAAO5B,KAAKD,QAAQS,UAGxBqB,SAAU,SAASC,GACf,GAAG9B,KAAKD,QAAQQ,QAAUuB,EAAO,CAC7B9B,KAAKD,QAAQQ,OAASuB,EACtB9B,KAAKmB,QACLnB,KAAKoB,iBAIbW,WAAY,WACR,IAAIhC,EAAUC,KAAKD,QACfX,EAEJ,KAAKW,EAAQM,aAAc,CACvBjB,EAAgBnC,EAAE,UAAU+E,SAASvD,EAAWW,eAAe6C,KAAKzD,EAAa,QACjFY,EAAc8C,OAAO/E,EAAMgF,SAASpC,EAAQM,aAAvBlD,CAAqC4C,SAE1DX,EAAgBjC,EAAMgF,SAASnC,KAAKgB,mBAApB7D,CAAwC4C,GAG5DC,KAAKoC,QAAQC,KAAKpE,EAAMQ,EAAWU,UAAU+C,OAAO9C,IAGxDkD,OAAQ,WACJ,IAAIjD,EAAYlC,EAAMgF,SAASnC,KAAKiB,eAApB9D,CAAoC6C,KAAKD,SACzDC,KAAKoC,QAAQC,KAAKpE,EAAMQ,EAAWU,UAAU+C,OAAO7C,IAGxD8B,MAAO,WACH,IAAIpB,EAAUC,KAAKD,QAEnBC,KAAKoC,QAAQC,KAAKpE,EAAMQ,EAAWU,UAAUoD,QAC7CvC,KAAKwC,kBAEL,GAAGzC,EAAQY,iBACPX,KAAK+B,aAET,GAAGhC,EAAQa,aACPZ,KAAKsC,UAIbE,gBAAiB,WACb,IAAIzC,EAAUC,KAAKD,QACf0C,EAAOzC,KAAKoC,QAAQC,KAAKpE,EAAMQ,EAAWU,UAE9CsD,EAAKC,WAAWpE,EAAgBJ,EAAQK,EAAeL,EAAQG,EAAeH,EAAQE,GAEtF,IAAI2B,EAAQS,SACRiC,EAAKR,KAAK7D,EAAU,WAEpBqE,EAAKR,KAAK5D,EAAc,QAE5B,IAAI0B,EAAQO,UAAYP,EAAQgB,WAC5B0B,EAAKR,KAAK3D,EAAe,QAE7B,GAAGyB,EAAQQ,MACPkC,EAAKR,KAAK1D,EAAc,SAIhC0B,QAAS,WACL,IAAId,EAAWlC,EAAE,gBAAgB+E,SAASvD,EAAWU,UAAU8C,KAAK,QAASjC,KAAKD,QAAQG,OAE1FF,KAAKoC,QAAUnF,EAAE,QAAQiF,OAAO/C,GAEhCa,KAAKmB,QACLnB,KAAKoB,gBAGTA,aAAc,WACV,IAAIrB,EAAUC,KAAKD,QACf4C,EAAclE,EAAWC,KAE7B,GAAGqB,EAAQU,YACPkC,GAAgBzE,EAAQO,EAAWE,UAEvC,GAAGoB,EAAQW,WACPiC,GAAgBzE,EAAQO,EAAWG,SAEvC,IAAImB,EAAQO,QACRqC,GAAgBzE,EAAQO,EAAWS,aAEvC,GAAGa,EAAQQ,MACPoC,GAAgBzE,EAAQO,EAAWM,UAEvC,GAAGgB,EAAQe,SAAS,CAChB6B,GAAgBzE,EAAQO,EAAWI,SACnC,IAAIkB,EAAQQ,MACRoC,GAAgBzE,EAAQO,EAAWK,iBAEpC,GAAGiB,EAAQS,SAAU,CACxBmC,GAAgBzE,EAAQO,EAAWO,YACnC2D,GAAgBzE,EAAQO,EAAWQ,UAGvCe,KAAKoC,QAAQQ,cAAcZ,SAASW,MAIxCE,EAAUvF,EAAOG,OAAO,CACxBqC,KAAM,SAASsC,EAASrC,GACpB,IAAI+C,EAAO9C,KAEXD,EAAUA,GAAW,GAErBzC,EAAOyF,GAAGjD,KAAKkD,KAAKF,EAAMV,EAASrC,GAEnC+C,EAAKG,qBAELH,EAAKI,WAEL,GAAInD,EAAQoD,OAASpD,EAAQoD,MAAMC,OAAQ,CACvCN,EAAKO,cAActD,EAAQoD,OAC3BL,EAAKQ,eAGTR,EAAKS,gBAELT,EAAKU,eAAiBrG,EAAMsG,SAAS,WACjCX,EAAKY,YAIb3D,QAAS,CACL4D,YAAa,aACbC,OAAQ,KACRC,UAAW,KACX3D,MAAO,KACP4D,cAAe,MACfX,MAAO,KACPtG,KAAM,WAGVkH,OAAQ,CAAElG,EAAUC,EAAQ,gBAE5BkG,QAAS,WACL,IAAIlB,EAAO9C,KAEX,GAAG8C,EAAKmB,YACJ3G,EAAOyF,GAAGiB,QAAQhB,KAAKF,EAAKmB,aAGhC3G,EAAOyF,GAAGiB,QAAQhB,KAAKF,GAEvB3F,EAAM+G,aAAapB,EAAKU,gBAExBV,EAAKqB,QAAQC,IAAIzG,IAGrB0G,WAAY,SAAStE,GACjB,IAAI+C,EAAO9C,KAEX1C,EAAOyF,GAAGsB,WAAWrB,KAAKF,EAAM/C,GAEhC,GAAG+C,EAAKmB,YACJ3G,EAAOyF,GAAGiB,QAAQhB,KAAKF,EAAKmB,aAGhCnB,EAAKG,qBAELH,EAAKwB,eAEL,GAAIxB,EAAK/C,QAAQoD,OAASL,EAAK/C,QAAQoD,MAAMC,OAAQ,CACjDN,EAAKO,cAAcP,EAAK/C,QAAQoD,OAChCL,EAAKQ,iBAIbjC,OAAQ,SAASC,GACb,IAAI6B,EAAQnD,KAAKmD,QACboB,EAAevE,KAAKD,QAAQoD,MAEhC,IAAIqB,EAAa,SAAS9F,EAAM+F,GAC5B/F,EAAK2C,OAAOC,GACZiD,EAAaE,GAAO/F,EAAKqB,SAG7B,GAAGuB,EACCtB,KAAKmE,QAAQzB,WAAWpE,QAExB0B,KAAKmE,QAAQlC,KAAK3D,EAAe,QAGrC0B,KAAKiE,YAAY5C,OAAOC,GAExB6B,EAAMuB,QAAQF,IAGlBG,SAAU,SAAS9D,EAAO+D,GACtB,IAAIzB,EAAQnD,KAAKD,QAAQoD,MACrB0B,EACJ,IAAIC,EAAmB,SAASpG,GAC5B,GAAGA,EAAK8B,SACJqE,EAAenG,GAIvB,IAAIkG,GAAeG,MAAMlE,GACrB,OAEJ,GAAGA,EAAQ,EACPA,EAAQsC,EAAMC,OAASvC,EAE3B,GAAGA,EAAQ,EACP,OAEJ,IAAIsC,EACAA,EAAQ,GAGZ,GAAGA,EAAMC,SAAW,GAAKvC,GAASsC,EAAMC,OACpCvC,EAAQsC,EAAMC,OAGlBD,EAAMuB,QAAQI,GAEd,GAAGF,EAAYpE,WAAa,KACxBqE,EAAarE,SAAW,MAG5B2C,EAAM6B,OAAOnE,EAAO,EAAG+D,GAEvB5E,KAAKiF,eACLjF,KAAKkF,eACLlF,KAAKmF,oBACLnF,KAAKoF,wBAGTC,KAAM,WACF,IAAIrF,KAAKsF,QAAUtF,KAAKsF,OAAOlC,QAAU,EACrC,OAGJ,IAAIyB,EAAe7E,KAAK6E,aACxB,IAAIU,EAAgBV,EAAapD,WAEjC,GAAG8D,EAAgB,IAAMvF,KAAKsF,OAAOlC,OACjC,YAEApD,KAAKwF,QAAQD,EAAgB,IAIrCzE,SAAU,WACN,IAAId,KAAKsF,QAAUtF,KAAKsF,OAAOlC,QAAU,EACrC,OAGJ,IAAIyB,EAAe7E,KAAK6E,aACxB,IAAIU,EAAgBV,EAAapD,WAEjC,GAAG8D,IAAkB,EACjB,YAEAvF,KAAKwF,QAAQD,EAAgB,IAIrCE,SAAU,SAAS5E,GACf,IAAIsC,EAAQnD,KAAKD,QAAQoD,MACrBuC,EAAaC,EAAaC,EAE9B,GAAGb,MAAMlE,KAAWsC,GAASA,EAAMC,OAAS,GAAKvC,GAASsC,EAAMC,OAC5D,OAEJ,GAAGvC,EAAQ,EACPA,EAAQsC,EAAMC,OAASvC,EAE3B,GAAGA,EAAQ,EACP,OAGJ6E,EAAcvC,EAAM6B,OAAOnE,EAAO,GAAG,GAErC,GAAG6E,EAAYlF,WAAa,MAAQ2C,EAAMC,OAAS,EAAG,CAClD,GAAGvC,EAAQ,EACP+E,EAAmB/E,EAAQ,OAE3B+E,EAAmB,EAGvBD,EAAcxC,EAAMyC,GAEpB,UAAUD,IAAgB,SAAU,CAChCA,EAAc,CACVzF,MAAOyF,GAEXxC,EAAMyC,GAAoBD,EAG9BA,EAAYnF,SAAW,KACvBmF,EAAY7E,SAAW,MAG3Bd,KAAKiF,eACLjF,KAAKkF,eACLlF,KAAKmF,oBACLnF,KAAKoF,wBAGT1B,OAAQ,WACJ1D,KAAKoF,wBAGT7D,OAAQ,SAASsE,GACb,IAAI/C,EAAO9C,KAEX,GAAG6F,IAAcxI,GAAawI,IAAc,MAAQd,MAAMc,GACtD,OAAO/C,EAAK+B,aAGhB,GAAGgB,GAAa/C,EAAKwC,OAAOlC,QAAUyC,EAAY,EAC9C,OAGJA,EAAYC,OAAOD,GAEnB/C,EAAK0C,QAAQK,IAGjB1C,MAAO,SAASA,GACZ,GAAGA,IAAU9F,EACT,OAAO2C,KAAKsF,OAGhBtF,KAAKqD,cAAcF,GACnBnD,KAAKmF,oBACLnF,KAAKoF,wBAGT/B,cAAe,SAASF,GACpB,IAAIL,EAAO9C,KACP6E,EACJ,IAAIC,EAAmB,SAASpG,GAC5B,GAAGA,EAAK8B,SACJqE,EAAenG,GAIvByE,EAAMuB,QAAQI,GAEd,IAAID,EAAc,CACd,UAAU1B,EAAM,KAAO,SACnBA,EAAM,GAAK,CACPjD,MAAOiD,EAAM,IAGrBA,EAAM,GAAG3C,SAAW,KAGxBsC,EAAK/C,QAAQoD,MAAQA,EAErBL,EAAKmC,eACLnC,EAAKoC,gBAGTZ,aAAc,WACV,IAAIxB,EAAO9C,KAEX8C,EAAKqB,QAAQ5B,QAAQL,OAAOjF,EAAE,UAAU+E,SAAS1C,EAAcG,WAC/DqD,EAAKiD,UAAYjD,EAAKqB,QAAQ9B,KAAKpE,EAAMqB,EAAcG,UAEvD,GAAGqD,EAAK/C,QAAQ4D,cAAgBxF,EAC5B2E,EAAKiD,UAAU/D,SAAS1C,EAAcK,uBAEtCmD,EAAKiD,UAAU/D,SAAS1C,EAAcI,qBAI9C6D,cAAe,WACX,IAAIT,EAAO9C,KAEX8C,EAAKqB,QACA6B,GAAGpI,EAAQD,EAASM,EAAMQ,EAAWC,KAAMhB,EAAMoF,EAAKmD,oBAAqBnD,IAC3EkD,GAAGpI,EAAQD,EAASD,EAAMoF,EAAKoD,qBAAsBpD,IACrDkD,GAAGhI,EAAWL,EAASD,EAAMoF,EAAKqD,UAAWrD,IAC7CkD,GAAGjI,EAAUJ,EAASmF,EAAMpF,EAAMoF,EAAKsD,SAAUtD,KAG1DsC,qBAAsB,WAClB,IAAIzB,EAAc3D,KAAKD,QAAQ4D,YAC3B0C,EAAgBrG,KAAKsF,OAAOlC,OAC5B3D,EAAWO,KAAK+F,UAChB5C,EAAQ1D,EAAS4C,KAAKpE,EAAMQ,EAAWC,MACvC4H,EAAY7G,EAAS8G,QAAUF,EAC/BG,EAAa/G,EAASgH,SAAWJ,EACjCK,EAAkB1G,KAAKiE,YAAY7B,QACnCuE,EAAS,cACTC,EAAQ,GAEZ,GAAGjD,IAAgBxF,EAAU,CACzBgF,EAAM0D,IAAI,aAAc,IAAMR,EAAgB,KAC9CK,EAAgBG,IAAI,CAChBC,cAAe,GAAKrH,EAASgH,SAAW,IACxCA,OAAUD,GAAcH,EAAgB,SAEzC,CACHlD,EAAM0D,IAAI,YAAa,IAAMR,EAAgB,KAE7C,GAAGlJ,EAAM4J,QAAQC,MAAMhH,KAAKmE,SACxBwC,EAAS,eAEbC,EAAMD,GAAUL,EAAY,EAC5BM,EAAML,MAAQD,GAAaD,EAAgB,GAE3CK,EAAgBG,IAAID,KAI5BK,YAAa,SAASrC,EAAaH,EAAK/D,GACpC,IAAIoC,EAAO9C,KACPS,EAAcgE,IAAQ,EACtB1E,EAAU+C,EAAK/C,QACfY,EAAmBZ,EAAQ8D,UAC3BjD,EAAeb,EAAQG,MAE3B0E,EAAcnH,EAAO,GAAImH,EAAa,CAClCtE,QAASsE,EAAYtE,UAAY,MAAQ,MAAQ,OAGrDsE,EAAcnH,EAAO,GAAImH,EAAa,CAClCnE,YAAaA,EACbC,WAAYA,EACZC,iBAAkBA,EAClBC,aAAcA,EACdC,MAAO4D,IAGX,OAAO,IAAI7E,EAAKgF,IAGpBK,aAAc,WACV,IAAInC,EAAO9C,KACPuE,EAAezB,EAAK/C,QAAQoD,MAC5B3C,EAAW,MACX9B,EAAM+F,EAAK/D,EAAYwG,EAE3BpE,EAAKwC,OAAS,GAEd,IAAKb,EAAM,EAAGA,EAAMF,EAAanB,OAAQqB,IAAO,CAC5CyC,EAAU3C,EAAaE,GAEvB,UAAUyC,IAAY,SAClBA,EAAU,CACNhH,MAAOgH,GAIf,GAAIA,IAAY7J,EAAW,CACvBqD,EAAa+D,IAAQF,EAAanB,OAAS,EAE3C,GAAG8D,EAAQ1G,SACPA,EAAW,UAEX0G,EAAUpE,EAAKqE,yBAAyBD,EAAS1G,EAAUiE,GAG/D/F,EAAOoE,EAAKmE,YAAYC,EAASzC,EAAK/D,GACtCoC,EAAKwC,OAAO8B,KAAK1I,GAEjB,GAAGA,EAAKkD,cACJkB,EAAK+B,aAAenG,KAMpCuE,mBAAoB,WAChB,IAAIjD,KAAKD,QAAQ8D,YAAc7D,KAAKD,QAAQG,MAAO,CAC/CF,KAAKD,QAAQ8D,UAAY,KACzB7D,KAAKD,QAAQG,MAAQ,OAI7BiG,UAAW,SAASkB,GAChB,IAAIvE,EAAO9C,KAEX,IAAI8C,EAAKqB,QAAQmD,IAAI,GAAGC,SAASF,EAAEG,eAC/BC,WAAW,WACP3E,EAAK4E,mBAKjBC,WAAY,SAASC,GACjB,IAAIC,EAAc7H,KAAKmE,QAAQ9B,KAAKpE,EAAMQ,EAAWQ,WACjD6I,EAAe9H,KAAKmE,QAAQ9B,KAAKpE,EAAMQ,EAAWU,UAEtD,GAAGyI,EAAQxE,OAAS,EAAG,CACnByE,EAAYjF,YAAYnE,EAAWQ,WACnC6I,EAAa7F,KAAK7D,EAAU,MAC5BwJ,EAAQvF,KAAKpE,EAAMQ,EAAWU,UAAUuD,WAAWtE,GAAU,GAAG2J,UAIxEC,eAAgB,WACZ,IAAIH,EAAc5K,EAAEgL,SAASC,eAAeC,QAAQlK,EAAMQ,EAAWC,MACjE0J,EAAWP,EAAYxC,OAE3BrF,KAAK2H,WAAWS,IAGpBC,mBAAoB,WAChB,IAAIR,EAAc5K,EAAEgL,SAASC,eAAeC,QAAQlK,EAAMQ,EAAWC,MACjE4J,EAAeT,EAAYU,OAE/BvI,KAAK2H,WAAWW,IAGpBE,gBAAiB,WACb,IAAIrE,EAAUnE,KAAKmE,QACfxF,EAAYwF,EAAQ9B,KAAKpE,EAAMQ,EAAWE,WAE9CqB,KAAK2H,WAAWhJ,IAGpB8J,eAAgB,WACZ,IAAItE,EAAUnE,KAAKmE,QACfvF,EAAWuF,EAAQ9B,KAAKpE,EAAMQ,EAAWG,UAE7CoB,KAAK2H,WAAW/I,IAGpBwH,SAAU,SAASiB,GACf,IAAIvE,EAAO9C,KACP0I,EAAUrB,EAAEqB,QACZC,EAAqB1L,EAAEgL,SAASC,eAAeC,QAAQlK,EAAMQ,EAAWC,MACxEkK,EAAmBD,EAAmB9H,QACtCgI,EAAa/F,EAAKK,QAAQC,OAE9B,GAAGsF,IAAYlL,EAAKsL,KAChB,GAAGzB,EAAE0B,UAAYH,EAAmB,EAAG,CACnCvB,EAAE2B,iBACFlG,EAAKmG,QAAQ5B,GAAI,QACd,IAAIA,EAAE0B,UAAYH,EAAmBC,EAAa,EAAG,CACxDxB,EAAE2B,iBACFlG,EAAKmG,QAAQ5B,GAAI,SAElB,GAAGqB,EAAU,IAAMA,EAAU,GAAG,CACnCrB,EAAE2B,iBACFlG,EAAKoG,SAAS7B,QACX,GAAGqB,IAAYlL,EAAK2L,OAAST,IAAYlL,EAAK4L,SAAU,CAC3D/B,EAAE2B,iBACFlG,EAAKuG,eAAehC,EAAGpK,EAAEgL,SAASC,eAAeC,QAAQlK,EAAMQ,EAAWC,YAE1E2I,EAAE2B,kBAIVtB,cAAe,WACX,IAAI7C,EAAe7E,KAAKmE,QAAQ9B,KAAKpE,EAAMQ,EAAWO,aAClD8I,EAAe9H,KAAKmE,QAAQ9B,KAAKpE,EAAMQ,EAAWU,UAEtD2I,EAAalF,YAAYnE,EAAWQ,WAAWgD,KAAK7D,EAAU,MAE9DyG,EAAa7C,SAASvD,EAAWQ,WACjC4F,EAAaxC,KAAKpE,EAAMQ,EAAWU,UAAUuD,WAAWtE,IAG5D8K,SAAU,SAAS7B,GACf,IAAIvD,EAAgB9D,KAAKD,QAAQ+D,cAEjC,GAAGA,EACC9D,KAAKsJ,eAAejC,QAEpBrH,KAAKuJ,cAAclC,IAI3BkC,cAAe,SAASlC,GACpB,IAAIqB,EAAUrB,EAAEqB,QACZc,EAAMrM,EAAM4J,QAAQC,MAAMhH,KAAKmE,SAC/BR,EAAc3D,KAAKD,QAAQ4D,YAE/B,OAAO+E,GACH,KAAKlL,EAAKiM,KACN,GAAGD,GAAO7F,IAAgBxF,EACtB6B,KAAKqI,0BAELrI,KAAKgI,iBAET,MACJ,KAAKxK,EAAKkM,MACN,GAAGF,EACCxJ,KAAKqI,0BAELrI,KAAKgI,iBAET,MACJ,KAAKxK,EAAKmM,GACN,GAAGH,GAAO7F,IAAgBxF,EACtB6B,KAAKgI,sBAELhI,KAAKqI,qBAET,MACJ,KAAK7K,EAAKoM,KACN,GAAGJ,EACCxJ,KAAKgI,sBAELhI,KAAKqI,qBAET,MACJ,KAAK7K,EAAKqM,KACN7J,KAAKwI,kBACL,MACJ,KAAKhL,EAAKsM,IACN9J,KAAKyI,iBACL,QAIZa,eAAgB,SAASjC,GACrB,IAAIqB,EAAUrB,EAAEqB,QACZE,EAAmB3L,EAAEgL,SAASC,eAAeC,QAAQlK,EAAMQ,EAAWC,MAAMmC,QAC5E2I,EAAMrM,EAAM4J,QAAQC,MAAMhH,KAAKmE,SAC/BhB,EAAQnD,KAAKmD,QACbQ,EAAc3D,KAAKD,QAAQ4D,YAC3BoG,EAEJ,OAAOrB,GACH,KAAKlL,EAAKiM,KACN,GAAGD,GAAO7F,IAAgBxF,EACtB4L,EAAa5G,EAAMyF,EAAmB,QAEtCmB,EAAa5G,EAAMyF,EAAmB,GAE1C,MACJ,KAAKpL,EAAKkM,MACN,GAAGF,EACCO,EAAa5G,EAAMyF,EAAmB,QAEtCmB,EAAa5G,EAAMyF,EAAmB,GAE1C,MACJ,KAAKpL,EAAKmM,GACN,GAAGH,GAAO7F,IAAgBxF,EACtB4L,EAAa5G,EAAMyF,EAAmB,QAEtCmB,EAAa5G,EAAMyF,EAAmB,GAE1C,MACJ,KAAKpL,EAAKoM,KACN,GAAGJ,EACCO,EAAa5G,EAAMyF,EAAmB,QAEtCmB,EAAa5G,EAAMyF,EAAmB,GAE1C,MACJ,KAAKpL,EAAKqM,KACNE,EAAa5G,EAAM,GACnB,MACJ,KAAK3F,EAAKsM,IACNC,EAAa5G,EAAMA,EAAMC,OAAS,GAClC,MAGR,GAAG2G,EAAY,CACX/J,KAAK2H,WAAWoC,EAAW3H,SAC3BpC,KAAKgK,oBAAoB3C,EAAG0C,EAAW3H,WAI/CkB,aAAc,WACV,IAAIa,EAAUnE,KAAKmE,QACf8F,EAAqBjK,KAAKkK,mBAE9BlK,KAAKiE,YAAchH,EAAE,SAASkN,iBAAiBF,GAAoBG,sBACnEpK,KAAKiE,YAAY7B,QAAQJ,SAAS,oCAGlChC,KAAKiE,YAAY7B,QAAQyE,IAAI,WAAY,YAEzC7G,KAAKoF,uBAELjB,EAAQjC,OAAOlC,KAAKiE,YAAY7B,UAGpC8H,iBAAkB,WACd,IAAInK,EAAUC,KAAKD,QACf4D,EAAc5D,EAAQ4D,YACtBY,EAAexE,EAAQoD,MACvBkD,EAAe4D,EAEnB,IAAI1F,GAAgBA,EAAanB,SAAW,EACxC,YAEAiD,EAAgB9B,EAAanB,OAGjC6G,EAAqB,CACjBI,IAAKhE,EAAgB,EACrB/E,MAAOtB,KAAKuB,SAASE,WACrBkC,YAAaA,EACb2G,WAAY,OAGhB,GAAG3G,IAAgBxF,EACf8L,EAAmBM,QAAU,KAGjC,OAAON,GAGX9E,kBAAmB,WACf,IAAIlB,EAAcjE,KAAKiE,YACnBuG,EAEJ,IAAIvG,EACA,OAGJuG,EAAaxK,KAAKkK,mBAClBjG,EAAYI,WAAWmG,IAG3BtF,aAAc,WACV,IAAI/B,EAAQnD,KAAKsF,OACbmF,EAAYzK,KAAK+F,UACjBrH,EAAM+F,EAEVgG,EAAUlI,QAEV,IAAKkC,EAAM,EAAGA,EAAMtB,EAAMC,OAAQqB,IAAO,CACrC/F,EAAOyE,EAAMsB,GACbgG,EAAUvI,OAAOxD,EAAK0D,WAI9BsI,WAAY,SAASC,EAAG9J,EAAO+J,GAC3B,IAAIlM,EAAOsB,KAAKsF,OAAOqF,GAEvB,IAAIC,GAAWD,EAAI9J,EACfnC,EAAKqB,QAAQgB,WAAa,UACvB,GAAG4J,IAAM9J,EAAO,CACnBnC,EAAKqB,QAAQe,SAAW,MACxBpC,EAAKqB,QAAQS,SAAW,KACxB9B,EAAKqB,QAAQgB,WAAa,UACvB,GAAI6J,GAAWD,EAAI9J,EACtBnC,EAAKqB,QAAQgB,WAAa,SACvB,CACHrC,EAAKqB,QAAQS,SAAW,MACxB9B,EAAKqB,QAAQe,SAAW8J,EAG5B,GAAG5K,KAAKD,QAAQ6D,SAAW+G,EAAI9J,EAAQ,GAAK8J,EAAI9J,EAAQ,GACpDnC,EAAKqB,QAAQgB,WAAa,MAG9BrC,EAAKyC,QACLzC,EAAK0C,eACLpB,KAAKD,QAAQoD,MAAMwH,GAAKjM,EAAKqB,SAGjCyF,QAAS,SAAS3E,GACd,IAAId,EAAUC,KAAKD,QACf6D,EAAS7D,EAAQ6D,OACjBiB,EAAe7E,KAAKuB,SACpBgE,EAAgBV,EAAapD,WAC7B8C,EAAexE,EAAQoD,MACvB4G,EAAa/J,KAAKsF,OAAOzE,GACzB+J,EAASD,EAAGE,EAAKR,EAErB,IAAIN,IAAeA,EAAWvI,aAC1B,OAGJ,GAAGX,EAAQ0E,EAAe,CACtBqF,EAAU,KAEV,GAAGhH,EAAQ,CACPiH,EAAMC,KAAKT,IAAI9E,EAAgB,EAAG,GAClC8E,EAAMS,KAAKD,IAAIhK,EAAQ,EAAG0D,EAAanB,OAAS,OAC7C,CACHyH,EAAMtF,EACN8E,EAAMxJ,OAEP,CACH+J,EAAU,MAEV,GAAGhH,EAAQ,CACPiH,EAAMC,KAAKT,IAAIxJ,EAAQ,EAAG,GAC1BwJ,EAAMS,KAAKD,IAAItF,EAAgB,EAAGhB,EAAanB,OAAS,OACrD,CACHyH,EAAMhK,EACNwJ,EAAM9E,GAId,IAAIoF,EAAIE,EAAKF,GAAKN,EAAKM,IACnB3K,KAAK0K,WAAWC,EAAG9J,EAAO+J,GAG9B5K,KAAK6E,aAAekF,EACpB/J,KAAKiE,YAAY3C,MAAMT,IAG3BsG,yBAA0B,SAASD,EAAS1G,EAAUiE,GAClD,IAAIF,EAAevE,KAAKD,QAAQoD,MAC5BS,EAAS5D,KAAKD,QAAQ6D,OAE1B,IAAIpD,EAAU,CACV0G,EAAQpG,SAAW,KACnB,GAAG8C,IAAWW,EAAaE,EAAM,GAAGjE,SAChC0G,EAAQnG,WAAa,WAErBmG,EAAQnG,WAAa,UAEtB,GAAG6C,IAAWW,EAAaE,EAAM,GAAGjE,SACvC0G,EAAQnG,WAAa,WAErBmG,EAAQnG,WAAa,KAGzB,OAAOmG,GAGXjB,oBAAqB,SAASoB,GAC1B,IAAI0D,EAAc9N,EAAEoK,EAAE2D,QAAQ7C,QAAQlK,EAAMQ,EAAWC,MAEvD2I,EAAE2B,iBACFhJ,KAAKiL,qBAAuB,KAC5BjL,KAAKqJ,eAAehC,EAAG0D,IAG3B1B,eAAgB,SAAShC,EAAG0D,GACxB,IAAIjI,EAAO9C,KACPtB,EAAOoE,EAAKwC,OAAOyF,EAAYlK,SAC/B7B,EAAcgB,KAAKuB,SAEvB,IAAI7C,GAAQA,EAAK+C,aAAezC,EAAYyC,aAAe/C,EAAK8C,eAAiB9C,EAAKiD,gBAAiB,CACnGmB,EAAK6E,WAAW3I,EAAYoD,SAE5B,OAGJ,IAAIU,EAAKoI,QAAQpN,EAAQ,CAAEqN,OAAQrI,EAAMsI,cAAe/D,EAAG3I,KAAMA,IAAQ,CACrEoE,EAAK0C,QAAQ9G,EAAK+C,YAClBsJ,EAAY1I,KAAKpE,EAAMQ,EAAWU,UAAU,GAAG4I,QAC/CjF,EAAKoI,QAAQrN,EAAU,CAAEsN,OAAQrI,EAAMsI,cAAe/D,EAAG3I,KAAMA,MAIvEsL,oBAAqB,SAAS3C,EAAG0D,GAC7B,IAAIjI,EAAO9C,KACPtB,EAAOoE,EAAKwC,OAAOyF,EAAYlK,SAEnC,IAAInC,EAAK8C,eAAiB9C,EAAKiD,gBAC3B,OAGJ,IAAImB,EAAKoI,QAAQpN,EAAQ,CAAEqN,OAAQrI,EAAMsI,cAAe/D,EAAG3I,KAAMA,IAAQ,CACrEoE,EAAK0C,QAAQ9G,EAAK+C,YAClBsJ,EAAY1I,KAAKpE,EAAMQ,EAAWU,UAAU,GAAG4I,QAC/CjF,EAAKoI,QAAQrN,EAAU,CAAEsN,OAAQrI,EAAMsI,cAAe/D,EAAG3I,KAAMA,MAIvEuK,QAAS,SAAS5B,EAAGgE,GACjB,IAAIvH,EAAgB9D,KAAKD,QAAQ+D,cAC7B6E,EAAqB1L,EAAEgL,SAASC,eAAeC,QAAQlK,EAAMQ,EAAWC,MACxEkK,EAAmBD,EAAmB9H,QACtCkJ,EAAa9M,EAAE0L,EAAmB2C,SAASjJ,KAAKpE,EAAMQ,EAAWC,MAAMkK,EAAmByC,IAE9FrL,KAAK2H,WAAWoC,GAEhB,GAAGjG,EACC9D,KAAKgK,oBAAoB3C,EAAG0C,IAIpC7G,SAAU,WACN,IAAIJ,EAAO9C,KACPoC,EAAUU,EAAKV,QAEnBU,EAAKqB,QAAU/B,EACfU,EAAKqB,QAAQnC,SAAS1C,EAAcC,QAEpC,GAAGuD,EAAK/C,QAAQ6D,OACZd,EAAKqB,QAAQnC,SAAS1C,EAAcE,eAGxCQ,KAAKsE,gBAGT4B,qBAAsB,SAASmB,GAC3B,IAAIrI,EAAcgB,KAAKuB,SAEvB,IAAIvB,KAAKiL,qBAAsB,CAC3B5D,EAAE2B,iBACFhJ,KAAK2H,WAAW3I,EAAYoD,cAE5BpC,KAAKiL,qBAAuB,SAa5C,OARI9N,EAAMoO,QAAU,CACZ3L,KAAMA,GAGVzC,EAAMI,GAAGiO,OAAO3I,GAIb3F,OAAOC,QAhiCd,CAkiCoB,mBAAVT,QAAwBA,OAAO+O,IAAM/O,OAAS,SAASgP,EAAIC,EAAIC,IAAMA,GAAMD"}