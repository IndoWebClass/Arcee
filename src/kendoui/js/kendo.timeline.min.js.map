{"version":3,"file":"kendo.timeline.min.js","sources":["kendo.timeline.js"],"sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function(f, define){\n    define('kendo.timeline',[ \"./kendo.fx\", \"./kendo.data\", \"./kendo.draganddrop\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"timeline\",\n    name: \"Timeline\",\n    category: \"web\",\n    description: \"The Kendo Timeline widget display events over time\",\n    depends: [ \"userevents\" ]\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        DataSource = kendo.data.DataSource,\n        Transition = kendo.effects.Transition,\n        proxy = $.proxy,\n        keys = kendo.keys,\n        isArray = Array.isArray,\n\n        LEFT_PAGE = -1,\n        CETER_PAGE = 0,\n        RIGHT_PAGE = 1,\n        VERTICAL = \"vertical\",\n        TRANSITION_END = \"transitionEnd\",\n        VIRTUAL_PAGE_COUNT = 3,\n        VIRTUAL_PAGE_CLASS = \"timeline-event\",\n        FLAGWRAPCLASS = \"k-timeline-flag-wrap\",\n        TRACKITEMCLASS = \"k-timeline-track-item\",\n        SCROLLABLEWRAPCLASS = \"k-timeline-scrollable-wrap\",\n        NS = \".kendoTimeline\",\n        CHANGE = \"change\",\n        DEFAULTHORIZONTALCARDTEMPLATE =\n        '# var titleField = data.titleField, subtitleField = data.subtitleField, descriptionField = data.descriptionField, imagesField = data.imagesField, actionsField = data.actionsField, altField = data.altField, data = data.data; #' +\n        '<div class=\"k-card-inner\">' +\n            '<div class=\"k-card-header\">' +\n                '# if(data[titleField]) { #' +\n                    '<div class=\"k-card-title\">#: data[titleField] #</div>' +\n                '# }' +\n                'if(data[subtitleField]) { #' +\n                    '<div class=\"k-card-subtitle\">#: data[subtitleField] #</div>' +\n                '# } #' +\n            '</div>' +\n            '<div class=\"k-card-body\">' +\n                '<div class=\"k-card-description\">' +\n                    '# if(data[descriptionField]) { #' +\n                        '<p>#: data[descriptionField] #</p>' +\n                    '# }' +\n                    'if(data[imagesField] && data[imagesField].length > 0) { #' +\n                        '<img src=\"#: data[imagesField][0].src #\"  #if(data[altField]){# alt=\"#:data[altField]#\" #}# class=\"k-card-image\" />' +\n                    '# } #' +\n                '</div>' +\n            '</div>' +\n            '# if(data[actionsField] && data[actionsField].length > 0) { #' +\n                '<div class=\"k-card-actions\">' +\n                    '# for (var i = 0; i < data[actionsField].length; i++) { #' +\n                        '<a class=\"k-button k-button-md k-rounded-md k-button-flat k-button-flat-primary\" href=\"#: data[actionsField][i].url ? data[actionsField][i].url : \"\\\\#\" #\"><span class=\"k-button-text\">#: data[actionsField][i].text #</span></a>' +\n                    '# } #' +\n                '</div>' +\n            '# } #' +\n        '</div>',\n        DEFAULTVERTICALCARDTEMPLATE =\n        '# var titleField = data.titleField, subtitleField = data.subtitleField, descriptionField = data.descriptionField, imagesField = data.imagesField, navigatable = data.navigatable, collapsibleEvents = data.collapsibleEvents, actionsField = data.actionsField, altField = data.altField, data = data.data; #' +\n        '<div class=\"k-card-inner\">' +\n            '<div class=\"k-card-header\">' +\n                '<div class=\"k-card-title\">' +\n                    '# if(data[titleField]) { #' +\n                        '<span class=\"k-event-title\">#: data[titleField] #</span>' +\n                    '# } #' +\n                '<span class=\"k-event-collapse k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button\">' +\n                    '<span class=\"k-button-icon k-icon k-i-arrow-chevron-right\"></span>' +\n                '</span></div>'+\n                '# if(data[subtitleField]) { #' +\n                    '<div class=\"k-card-subtitle\">#: data[subtitleField] #</div>' +\n                '# } #' +\n            '</div>' +\n            '<div class=\"k-card-body\">' +\n                '<div class=\"k-card-description\">' +\n                    '# if(data[descriptionField]) { #' +\n                        '<p>#: data[descriptionField] #</p>' +\n                    '# } #' +\n                    '# if(data[imagesField] && data[imagesField].length > 0) { #' +\n                        '<img src=\"#: data[imagesField][0].src #\" #if(data[altField]){# alt=\"#:data[altField]#\" #}# class=\"k-card-image\" />' +\n                    '# } #' +\n                '</div>' +\n            '</div>' +\n            '# if(data[actionsField] && data[actionsField].length > 0) { #' +\n                '<div class=\"k-card-actions\">' +\n                    '# for (var i = 0; i < data[actionsField].length; i++) { #' +\n                        '<a class=\"k-button k-button-md k-rounded-md k-button-flat k-button-flat-primary\" href=\"#: data[actionsField][i].url ? data[actionsField][i].url : \"\\\\#\" #\"><span class=\"k-button-text\">#: data[actionsField][i].text #</span></a>' +\n                    '# } #' +\n                '</div>' +\n            '# } #' +\n        '</div>',\n        HORIZONTALTRACKTEMPLATE =\n        '# var itemTemplate = data.itemTemplate, dateField = data.dateField, dateFormat = data.dateFormat, showDateLabels = data.showDateLabels, data = data.data, year = 0; #' +\n            '# for (var i = 0; i < data.length; i++) {' +\n                    'if(!(data[i][dateField] instanceof Date)) {' +\n                        'continue;' +\n                    '}' +\n                    'var currentYear = data[i][dateField].getFullYear();' +\n                    'if(year != currentYear) {' +\n                        'year = currentYear; #' +\n                        '<li class=\"k-timeline-track-item k-timeline-flag-wrap\">' +\n                            '<span class=\"k-timeline-flag\">#= year #</span>' +\n                        '</li>' +\n                    '# } #' +\n                    '<li class=\"k-timeline-track-item\">' +\n                        '<div class=\"k-timeline-date-wrap\">' +\n                            '# if(showDateLabels) { #' +\n                                '<span class=\"k-timeline-date\">#= kendo.toString(data[i][dateField], dateFormat) #</span>' +\n                            '# } #' +\n                        '</div>' +\n                        '<a class=\"k-timeline-circle\"></a>' +\n                    '</li>' +\n            '# } #',\n        VERTICALEVENTSTEMPLATE =\n        '# var itemTemplate = data.itemTemplate, dateField = data.dateField, titleField = data.titleField, descriptionField = data.descriptionField, subtitleField = data.subtitleField, imagesField = data.imagesField, actionsField = data.actionsField, alterMode = data.alterMode, collapsibleEvents = data.collapsibleEvents, dateFormat = data.dateFormat, showDateLabels = data.showDateLabels, navigatable = data.navigatable, altField = data.altField, data = data.data, counter = 0, year = 0, reverse = false;' +\n            'for (var i = 0; i < data.length; i++) {' +\n                'if(!(data[i][dateField] instanceof Date)) {' +\n                    'continue;' +\n                '}' +\n                'var currentYear = data[i][dateField].getFullYear();' +\n                'if(currentYear != year) {' +\n                    'year = currentYear; #' +\n                    '<li class=\"k-timeline-flag-wrap\">' +\n                        '<span class=\"k-timeline-flag\">#= year #</span>' +\n                    '</li>' +\n                '# } ' +\n                'reverse = counter % 2 === 0 && alterMode; #' +\n            '<li class=\"#= reverse ? \\'k-timeline-event k-reverse\\' : \\'k-timeline-event\\' #\" data-uid=\"#: data[i].uid #\">' +\n            '<div class=\"k-timeline-date-wrap\">' +\n                '# if(showDateLabels) { #' +\n                    '<div class=\"k-timeline-date-wrap\">' +\n                        '<span id=\"#:data[i].uid#-date\" class=\"k-timeline-date\">#= kendo.toString(data[i][dateField], dateFormat) #</span>' +\n                    '</div>' +\n                '# } #' +\n                '</div>' +\n                '<a class=\"k-timeline-circle\"></a>' +\n                '<div class=\"#= collapsibleEvents ? \\'k-timeline-card k-collapsed\\' : \\'k-timeline-card\\' #\">' +\n                    '<div class=\"k-card\" #if (navigatable) {# aria-describedby=\"#:data[i].uid#-date\" tabindex=\"0\" role=\"button\" aria-live=\"polite\" aria-atomic=\"true\"  #}#>' +\n                        '<span class=\"#= reverse ? \\'k-timeline-card-callout k-card-callout k-callout-e\\' : \\'k-timeline-card-callout k-card-callout k-callout-w\\' #\"></span>' +\n                        '#= itemTemplate({titleField: titleField, subtitleField: subtitleField, descriptionField: descriptionField, imagesField: imagesField, actionsField: actionsField, data: data[i], altField: altField, navigatable: navigatable, collapsibleEvents: collapsibleEvents}) #' +\n                    '</div>' +\n\n                '</div>' +\n            '</li>' +\n            '# counter ++;' +\n        '} #',\n        ARROWSHTML =\n        '<a class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-timeline-arrow k-timeline-arrow-left k-disabled\" title=\"previous\">' +\n            '<span class=\"k-button-icon k-icon k-i-arrow-60-left\"></span>' +\n        '</a>' +\n        '<a class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-timeline-arrow k-timeline-arrow-right k-disabled\" title=\"next\">' +\n            '<span class=\"k-button-icon k-icon k-i-arrow-60-right\"></span>' +\n        '</a>';\n\n        function className(name) {\n            return \"k-\" + name;\n        }\n\n        function calculateTransform(element) {\n            var matrix = element.css('transform');\n            var x;\n            var values;\n\n            if(matrix != \"none\") {\n                values = matrix.match(/-?[\\d\\.]+/g);\n                x = values[4];\n                return (x / element.width() * 100);\n            } else {\n                return 0;\n            }\n        }\n\n        function calculateOffset(element, parentElement) {\n            return element.offset().left - parentElement.offset().left + element.width() / 2;\n        }\n\n        function applyCssStyles(element, property, value) {\n            element.css(property, value);\n        }\n\n        var Page = kendo.Class.extend({\n            init: function(container) {\n                this.cardContainer = $(\"<div class='k-card' />\");\n                var cardWrapper = $(\"<div class='k-timeline-card'></div>\").append(this.cardContainer);\n\n                this.element = $(\"<li class='\" + className(VIRTUAL_PAGE_CLASS) + \"'></li>\").append(cardWrapper);\n                container.append(this.element);\n            },\n\n            content: function(htmlContent, uid) {\n                var callOut = $(\"<span class='k-timeline-card-callout k-card-callout k-callout-n'></span>\");\n                this.cardContainer.html(htmlContent);\n                this.cardContainer.append(callOut);\n                this.element.attr(\"data-uid\", uid);\n            },\n\n            position: function(position) { //position can be -1, 0, 1\n                this.element.css(\"transform\", \"translate3d(\" + this.element.width() * position + \"px, 0, 0)\");\n            },\n\n            setPageCallout: function(propery, value) {\n                var element = this.element;\n                var callOutElement = element.find(\".k-timeline-card-callout\");\n                callOutElement.css(propery, value);\n            },\n\n            destroy: function() {\n                var that = this;\n\n                that.cardContainer = null;\n                that.element.remove();\n                that.element = null;\n            }\n        });\n\n        var HorizontalPane = kendo.Observable.extend({\n            init: function(element, options) {\n                var that = this;\n\n                kendo.Observable.fn.init.call(this);\n\n                this.element = element;\n\n                var movable,\n                    transition,\n                    pages;\n\n                movable = new kendo.ui.Movable(that.element);\n\n                transition = new Transition({\n                    axis: \"x\",\n                    movable: movable,\n                    onEnd: function() {\n                        that.trigger(TRANSITION_END);\n                    }\n                });\n\n                pages = [];\n\n                $.extend(that, {\n                    duration: options && options.duration || 1,\n                    movable: movable,\n                    transition: transition,\n                    pages: pages,\n                    eventTemplate: options.eventTemplate,\n                    eventHeight: options.eventHeight,\n                    dataFieldMappings: options.dataFieldMappings\n                });\n\n                this.bind([TRANSITION_END], options);\n            },\n\n            initPages: function() {\n                var pages = this.pages,\n                element = this.element,\n                page;\n\n                for (var i = 0; i < VIRTUAL_PAGE_COUNT; i++) {\n                    page = new Page(element);\n                    pages.push(page);\n                }\n            },\n\n            repositionPages: function() {\n                var pages = this.pages;\n\n                pages[0].position(LEFT_PAGE);\n                pages[1].position(CETER_PAGE);\n                pages[2].position(RIGHT_PAGE);\n            },\n\n            setPageContent: function(page, data) {\n                var template = typeof this.eventTemplate === Function ? this.eventTemplate : kendo.template(this.eventTemplate);\n                var dataFieldMappings = this.dataFieldMappings;\n                var html;\n\n                html = template({\n                    data: data,\n                    titleField: dataFieldMappings.title,\n                    subtitleField: dataFieldMappings.subtitle,\n                    descriptionField: dataFieldMappings.description,\n                    imagesField: dataFieldMappings.images,\n                    actionsField: dataFieldMappings.actions,\n                    altField: dataFieldMappings.altField\n                });\n\n                page.content(html, data.uid);\n            },\n            updatePage: function(isForward, data, calloutOffset) {\n                var pages = this.pages;\n                var page = isForward === null ? pages[1] : isForward ? pages[pages.length - 1] : pages[0];\n\n                this.setPageContent(page, data);\n                page.setPageCallout(\"left\", (calloutOffset / page.element.width()) * 100 + \"%\");\n            },\n\n            moveTo: function(offset) {\n                this.movable.moveAxis(\"x\", -offset);\n            },\n\n            transitionTo: function(offset, ease) {\n                this.transition.moveTo({ location: offset, duration: this.duration, ease: ease });\n            },\n            destroy: function() {\n                var that = this;\n\n                for (var index = 0; index < that.pages.length; index++) {\n                    that.pages[index].destroy();\n                }\n\n                that.unbind();\n\n                that.movable =\n                that.transition =\n                that.dataFieldMappings =\n                that.eventTemplate =\n                that.duration =\n                that.pages = null;\n            }\n        });\n\n        var Timeline = kendo.ui.Widget.extend({\n            init: function(element, options) {\n                var that = this;\n                var orientation = options.orientation || that.options.orientation;\n\n                Widget.fn.init.call(this, element, options);\n\n                this.element.addClass(orientation === VERTICAL ? \"k-timeline k-widget k-timeline-vertical\": \"k-timeline k-widget k-timeline-horizontal\");\n\n                if(orientation != VERTICAL) {\n                    that._horizontal();\n                } else {\n                    that._vertical();\n                }\n\n                this.element.on(\"click\", \".k-card-actions\", function() {\n                    var action = $(event.target);\n                    var dataItemUid = $(event.target).closest(\".k-timeline-event\").data(\"uid\");\n                    var dataItem = that.dataSource.getByUid(dataItemUid);\n\n                    that.trigger(\"actionClick\", { sender: that, element: action, dataItem: dataItem});\n                });\n\n                that.currentEventIndex = 0;\n                that._forward  = null;\n                that._eventPage = 1;\n                that._currentIndex = 0;\n                that._firstIndexInView = 0;\n\n                that._initDataFieldMappings();\n\n                that.setDataSource(options.dataSource);\n            },\n\n            _horizontal: function() {\n                var that = this;\n                var element = this.element;\n                var options = this.options;\n\n                var trackWrap = $(\"<div />\");\n                var trackEl = $(\"<div />\");\n                var scrollableWrap = $(\"<ul />\");\n                var eventsWrap = $(\"<div />\");\n                var eventsList = $(\"<ul />\");\n\n                that._trackWrap = trackWrap;\n                that._trackEl = trackEl;\n                that._scrollableWrap = scrollableWrap;\n                that._eventsWrap = eventsWrap;\n                that._eventsList = eventsList;\n\n                trackWrap.addClass(\"k-timeline-track-wrap\");\n                trackEl.addClass(\"k-timeline-track\");\n                scrollableWrap.addClass(\"k-timeline-scrollable-wrap\");\n                eventsWrap.addClass(\"k-timeline-events-list\");\n                eventsList.addClass(\"k-timeline-scrollable-wrap\");\n\n                if(options.eventHeight) {\n                    eventsList.height(options.eventHeight);\n                }\n\n                trackEl.append(scrollableWrap);\n                trackWrap.append(ARROWSHTML);\n                trackWrap.append(trackEl);\n                eventsWrap.append(eventsList);\n\n                trackWrap.appendTo(element);\n                eventsWrap.appendTo(element);\n            },\n\n            _vertical: function() {\n                var that = this;\n                var options = this.options;\n                var element = this.element;\n                var eventsList = that._eventsList = $(\"<ul />\");\n                var navigatable = options.navigatable;\n                var collapsibleEvents = options.collapsibleEvents;\n\n                that.element.append(eventsList);\n\n                if(options.alternatingMode) {\n                    element.addClass(\"k-timeline-alternating\");\n                }\n\n                if (collapsibleEvents) {\n                    element.addClass(\"k-timeline-collapsible\");\n\n                    this.element.on(\"click\", \".k-card-header\", function() {\n                        var card = $(this).closest(\".k-timeline-card\");\n                        var itemWrapper = card.parent();\n                        var dataItem = that.dataSource.getByUid(itemWrapper.data(\"uid\"));\n\n                        if(card.hasClass(\"k-collapsed\")) {\n                            if (!that.trigger(\"expand\", {sender: that, dataItem: dataItem})) {\n                                that.expand(itemWrapper);\n                            }\n                        } else {\n                            if (!that.trigger(\"collapse\", {sender: that, dataItem: dataItem})) {\n                                that.collapse(itemWrapper);\n                            }\n                        }\n                    });\n                }\n\n                if (navigatable) {\n                    if (collapsibleEvents) {\n                        this.element.on(\"keydown\" + NS, that, function(e) {\n                            if (e.keyCode == keys.SPACEBAR || e.keyCode == keys.ENTER) {\n                                var target = $(e.target);\n                                var header = target.find(\".k-card-header\");\n                                if (header.length) {\n                                    e.preventDefault();\n                                    header.trigger(\"click\");\n                                }\n                            }\n                        });\n                    }\n                }\n            },\n\n            _renderContentVertical: function(data) {\n                var that = this;\n                var options = that.options;\n                var html;\n                var itemTemplate;\n\n                if(typeof options.eventTemplate === Function) {\n                    itemTemplate = options.eventTemplate;\n                } else {\n                    itemTemplate = options.eventTemplate ? kendo.template(options.eventTemplate) : kendo.template(DEFAULTVERTICALCARDTEMPLATE, { useWithBlock: false });\n                }\n\n                var template = kendo.template(VERTICALEVENTSTEMPLATE, { useWithBlock: false });\n\n                html = template({\n                    data: data,\n                    dateField: options.dataDateField,\n                    titleField: options.dataTitleField,\n                    subtitleField: options.dataSubtitleField,\n                    descriptionField: options.dataDescriptionField,\n                    imagesField: options.dataImagesField,\n                    actionsField: options.dataActionsField,\n                    itemTemplate: itemTemplate,\n                    alterMode: options.alternatingMode,\n                    collapsibleEvents: options.collapsibleEvents,\n                    dateFormat: options.dateFormat,\n                    showDateLabels: options.showDateLabels,\n                    altField: options.dataImagesAltField,\n                    navigatable: options.navigatable\n                });\n\n                this._eventsList.html(html);\n\n                if(options.eventWidth) {\n                    that.element.find(\".k-card\").width(options.eventWidth);\n                }\n            },\n\n            _renderContentHorizontal: function(data) {\n                var that = this;\n                var options = that.options;\n                var html;\n                var itemTemplate;\n                var dataFieldMappings = that._dataFieldMappings;\n\n                if(typeof options.eventTemplate === Function) {\n                    itemTemplate = options.eventTemplate;\n                } else {\n                    itemTemplate = options.eventTemplate ? kendo.template(options.eventTemplate) : kendo.template(DEFAULTHORIZONTALCARDTEMPLATE, { useWithBlock: false });\n                }\n\n                var trackTemplate = kendo.template(HORIZONTALTRACKTEMPLATE, { useWithBlock: false });\n\n                html = trackTemplate({\n                    data: data,\n                    itemTemplate: itemTemplate,\n                    dateFormat: options.dateFormat,\n                    dateField: options.dataDateField,\n                    showDateLabels: options.showDateLabels\n                });\n\n                if(options.initialEventIndex) {\n                    that._trackWrap.append($(html).find(\".k-timeline-scrollable-wrap\").css(\"transform\", \"translateX(-100%)\").parent());\n                } else {\n                    that._scrollableWrap.html(html);\n                }\n\n                if(that.pane) {\n                    that.pane.destroy();\n                }\n\n                that.pane = new HorizontalPane(that._eventsList, {\n                    transitionEnd: proxy(this, \"_transitionEnd\"),\n                    eventTemplate: itemTemplate,\n                    dataFieldMappings: dataFieldMappings,\n                    eventHeight: options.eventHeight\n                });\n            },\n\n            _initDataFieldMappings: function() {\n                var that = this;\n                var options = that.options;\n\n                that._dataFieldMappings = {\n                    \"title\": options.dataTitleField,\n                    \"subtitle\": options.dataSubtitleField,\n                    \"date\": options.dataDateField,\n                    \"description\": options.dataDescriptionField,\n                    \"images\": options.dataImagesField,\n                    \"actions\": options.dataActionsField,\n                    \"altField\": options.dataImagesAltField\n                };\n            },\n\n            _transitionEnd: function() {\n                if(this._forward) {\n                    this.pane.pages.push(this.pane.pages.shift());//forward\n                } else {\n                    this.pane.pages.unshift(this.pane.pages.pop());//back\n                }\n\n                this._forward = null;\n\n                this.pane.repositionPages();\n                this.pane.movable.moveAxis(\"x\", 0);\n\n                if (this.options.navigatable) {\n                    this._transition = null;\n                    this._eventsList.find(\".k-card\").removeAttr(\"id\");\n                    this.pane.pages[1].cardContainer.attr(\"id\", this._cardId);\n                    this._setCurrent(this._currentBullet);\n                }\n                this._animationInProgress = false;\n            },\n\n            _setCurrentEvent: function(event) {\n                var that = this;\n                var trackItem = $(event.currentTarget);\n                var eventContainer;\n                var dataItem = that.dataSource.view()[trackItem.parent().children(\":not(.k-timeline-flag-wrap)\").index(trackItem)];\n\n                eventContainer = that._forward ? that.pane.pages[2].element : that.pane.pages[0].element;\n\n                if(!that.trigger(\"change\", { eventContainer: eventContainer, dataItem: dataItem})) {\n                    that.open(trackItem);\n                }\n            },\n\n            open: function(element) {\n                var that = this;\n\n                var trackItem = $(element);\n                var trackItemCircle = trackItem.find(\".k-timeline-circle\");\n                var trackItems = trackItem.parent().children(\":not(.k-timeline-flag-wrap)\");\n                var itemIndex = trackItems.index(trackItem);\n                var forward;\n\n\n                if (this.options.navigatable) {\n                    that._removeCurrent();\n                    trackItems.attr(\"aria-selected\", false);\n                    trackItem.attr(\"aria-selected\", true);\n                    that._currentBullet = trackItem; //needed for screenreaders to announce at a later stage the item\n                }\n\n                var dataItem = that.dataSource.view()[itemIndex];\n\n                if(that.currentEventIndex === itemIndex) {\n                    return;\n                }\n\n                that._currentIndex = trackItem.index();\n                forward = that._forward = that.currentEventIndex < itemIndex;\n                that.currentEventIndex = itemIndex;\n\n                that.pane.updatePage(forward, dataItem, calculateOffset(trackItemCircle, that._trackWrap));\n\n                if(that._forward) {\n                    clearTimeout(that.navigateTimeOut);\n                    that.navigateTimeOut = setTimeout(function(){\n                        that.pane.transition.moveTo({ location: -that.pane.pages[2].element.width(), duration: 800, ease: Transition.easeOutExpo });\n                    }, 200);\n\n                } else {\n                    clearTimeout(that.navigateTimeOut);\n                    that.navigateTimeOut = setTimeout(function(){\n                        that.pane.transition.moveTo({ location: that.pane.pages[0].element.width(), duration: 800, ease: Transition.easeOutExpo });\n                    }, 200);\n                }\n\n                that._repositionEvents();\n            },\n\n            _navigateToView: function(event) {\n                var that = this;\n                var delta = $(event.currentTarget).hasClass(\"k-timeline-arrow-right\") ? 1 : -1;\n\n                if(!that.trigger(\"navigate\", {sender: that, action: delta > 0 ? \"next\": \"previous\"}) && !that._animationInProgress) {\n                    that._animationInProgress = true;\n\n                    if(delta > 0) {\n                        that.next();\n                    } else {\n                        that.previous();\n                    }\n                    that._updateArrows();\n                }\n            },\n\n            _updateArrows: function() {\n                var that = this;\n                var arrows = that.element.find(\".k-timeline-arrow\");\n                var leftArrow = arrows.filter(\".k-timeline-arrow-left\");\n                var rightArrow = arrows.filter(\".k-timeline-arrow-right\");\n\n                if (that._validateNavigation(false)) {\n                    leftArrow.addClass(\"k-disabled\");\n                } else {\n                    leftArrow.removeClass(\"k-disabled\");\n                }\n\n                if (that._validateNavigation(true)) {\n                    rightArrow.addClass(\"k-disabled\");\n                } else {\n                    rightArrow.removeClass(\"k-disabled\");\n                }\n            },\n\n            _validateNavigation: function(next) {\n                var that = this;\n                var transform = that._end || 0;\n\n                if(next) {\n                    return that._firstIndexInView + that.numOfEvents >= that.maxEvents;\n                } else {\n                    return Math.abs(transform) <= 1;\n                }\n            },\n\n            next: function() {\n                var that = this;\n                var options = that.options;\n\n                if(!that._validateNavigation(true) && options.orientation != VERTICAL) {\n                    that._forward = true;\n                    that._navigate();\n                }\n\n                that._updateArrows();\n            },\n\n            _navigate: function() {\n                var that = this;\n                var firstEventInViewIndex;\n                var firstEventInView;\n                var dataItem;\n                var width;\n                var forward = that._forward;\n                var end = calculateTransform(this._trackWrap.find(\".\" + SCROLLABLEWRAPCLASS));\n                var leftOffset = forward ? - $(\".\" + SCROLLABLEWRAPCLASS).width() : $(\".\" + SCROLLABLEWRAPCLASS).width();\n                var currentIndex = that._currentIndex;\n                var currentPage;\n                var firstIndexInView = that._firstIndexInView;\n\n                end = forward ? end - 100 : end + 100;\n\n                if(end >= 0) {\n                    end = 0;\n                }\n\n                that._end = end;\n\n                width = that._tackItemWidth;\n\n                currentPage = Math.floor(currentIndex / that.numOfEvents);\n\n                if(forward) {\n                    if(that.numOfEvents === 1) {\n                        firstEventInViewIndex =  firstIndexInView  === 0 ? 1 : firstIndexInView;\n                        firstEventInView = this._trackWrap.find(\".\" + TRACKITEMCLASS).eq(firstEventInViewIndex).nextAll(\":not(.\" + FLAGWRAPCLASS + \")\").first();\n                        that._firstIndexInView = firstEventInView.index();\n                    } else {\n                        firstEventInViewIndex = firstIndexInView + that.numOfEvents - 1;\n                        firstEventInView = this._trackWrap.find(\".\" + TRACKITEMCLASS).eq(firstEventInViewIndex).nextAll(\":not(.\" + FLAGWRAPCLASS + \")\").first();\n                        that._firstIndexInView = firstIndexInView + that.numOfEvents;\n                    }\n                } else {\n                    if(that.numOfEvents === 1) {\n                        firstEventInViewIndex =  firstIndexInView;\n                        firstEventInView = this._trackWrap.find(\".\" + TRACKITEMCLASS).eq(firstEventInViewIndex).prevAll(\":not(.\" + FLAGWRAPCLASS + \")\").first();\n                        that._firstIndexInView = firstEventInView.index();\n                    } else {\n                        firstEventInViewIndex = firstIndexInView;\n                        firstEventInView = this._trackWrap.find(\".\" + TRACKITEMCLASS).eq(firstEventInViewIndex).prevAll(\":not(.\" + FLAGWRAPCLASS + \")\").first();\n                        firstEventInView = firstEventInView.length > 0 ? firstEventInView : this._trackWrap.find(\".\" + TRACKITEMCLASS + \":not(.\" + FLAGWRAPCLASS + \")\").first();\n                        that._firstIndexInView = firstIndexInView - that.numOfEvents < 0 ? 0 : firstIndexInView - that.numOfEvents;\n                    }\n                }\n\n                dataItem = that.dataSource.view()[firstEventInView.index(\"li[class='k-timeline-track-item']\")];\n\n                this._trackWrap.find(\".\" + SCROLLABLEWRAPCLASS).css(\"transform\",  \"translateX(\" + end + \"%)\");\n\n                if(that._currentIndex != firstEventInView.index()) {\n                    that.currentEventIndex = firstEventInView.index(\"li[class='k-timeline-track-item']\");\n\n                    that._currentIndex = firstEventInView.index();\n\n                    that.pane.updatePage(that._forward, dataItem, (currentPage === 0 && !forward ? firstEventInView.find(\".k-timeline-circle\").offset().left + 15 : calculateOffset(firstEventInView.find(\".k-timeline-circle\"), that._trackWrap) + leftOffset));\n\n                    clearTimeout(that.navigateTimeOut);\n\n                    that.navigateTimeOut = setTimeout(function() {\n                        if(forward && that.pane && that.pane.pages.length > 0) {\n                            that.pane.transition.moveTo({ location: - that.pane.pages[2].element.width(), duration: 800, ease: Transition.easeOutExpo });\n                        } else {\n                            that.pane.transition.moveTo({ location: that.pane.pages[0].element.width(), duration: 800, ease: Transition.easeOutExpo });\n                        }\n                    }, 200);\n                } else {\n                    var scrollWrapElement = this._trackWrap.find(\".\" + SCROLLABLEWRAPCLASS);\n                    var transitionEndHandler = function() {\n                        if(that.numOfEvents != 1) {\n                            var page = that.pane.pages[1];\n                            var calloutOffset = calculateOffset(firstEventInView.find(\".k-timeline-circle\"), that._trackWrap);\n                            page.setPageCallout(\"left\", (calloutOffset / page.element.width()) * 100 + \"%\");\n                        }\n                        this._transition = null;\n                        scrollWrapElement.off('transitionend' + NS, transitionEndHandler);\n                    };\n                    scrollWrapElement.on('transitionend' + NS, transitionEndHandler);\n                }\n            },\n\n            previous: function() {\n                var that = this;\n                var options = that.options;\n\n                if(!that._validateNavigation(false) && options.orientation != VERTICAL) {\n                    that._forward = false;\n                    that._navigate();\n                }\n\n                that._updateArrows();\n            },\n\n            expand: function(event) {\n                var options = this.options,\n                    cardWrapper = $(event).find(\".k-timeline-card\"),\n                    cardElement = $(event).find(\".k-card\"),\n                    cardBody = $(event).find(\".k-card-body\");\n\n                if (!cardWrapper.hasClass(\"k-collapsed\")) {\n                    return;\n                }\n\n                if (options.navigatable && options.collapsibleEvents) {\n                    cardElement.attr(\"aria-expanded\", true);\n                }\n\n                cardWrapper.removeClass('k-collapsed');\n\n                kendo.fx(cardBody).expand(\"vertical\").stop().play();\n            },\n\n            collapse: function(event) {\n                var options = this.options,\n                    cardWrapper = $(event).find(\".k-timeline-card\"),\n                    cardElement = $(event).find(\".k-card\"),\n                    cardBody = $(event).find(\".k-card-body\");\n\n                if (cardWrapper.hasClass(\"k-collapsed\")) {\n                    return;\n                }\n\n                if (options.navigatable && options.collapsibleEvents) {\n                    cardElement.attr(\"aria-expanded\", false);\n                }\n\n                cardWrapper.addClass(\"k-collapsed\");\n\n                kendo.fx(cardBody).expand(\"vertical\").stop().reverse();\n            },\n\n            items: function() {\n                return this.element.find(\"li[data-uid]\");\n            },\n\n            _resizeHandler: function() {\n                var that = this;\n                clearTimeout(that.resizeTimeOut);\n                that.resizeTimeOut = setTimeout(function(){\n                    that._redrawEvents();\n                    that.pane.repositionPages();\n                });\n            },\n\n            redraw: function() {\n                var options = this.options;\n                if(options.orientation != VERTICAL) {\n                    this._redrawEvents();\n                    this.pane.repositionPages();\n                }\n            },\n\n            _redrawEvents: function() {\n                var that = this;\n                var numOfEvents = Math.floor(that.element.find(\".k-timeline-scrollable-wrap\").width() / 150);\n                var width;\n\n                if(that.element.width() <= 480) {\n                    that.element.addClass(\"k-timeline-mobile\");\n                    width = 100;\n                    that.numOfEvents = 1;\n                    that._tackItemWidth = width;\n                    that.element.find(\"li.k-timeline-track-item\").css(\"flex\", \"1 0 \" + width + \"%\");\n                    that._repositionEvents();\n                } else {\n                    that.element.removeClass(\"k-timeline-mobile\");\n                    if(numOfEvents != that.numOfEvents) {\n                        that.numOfEvents = numOfEvents;\n                        width = 100 / numOfEvents;\n                        applyCssStyles(that.element.find(\"li.k-timeline-track-item\"), \"flex\", \"1 0 \" + width + \"%\");\n                        that._tackItemWidth = width;\n                        that._repositionEvents();\n                    }\n                }\n\n                that._updateArrows();\n            },\n\n            _repositionEvents: function() {\n                var that = this;\n                var width = that._tackItemWidth;\n                var page = that._forward === null ? that.pane.pages[1] : that._forward ? that.pane.pages[2] : that.pane.pages[0];\n                var trackWrapScrollableElement = this._trackWrap.find(\".\" + SCROLLABLEWRAPCLASS);\n                var end = calculateTransform(trackWrapScrollableElement);\n                var calloutOffset;\n                var offset;\n                var leftOffset;\n                var circleElement;\n\n                if(that.numOfEvents === 1) {\n                    offset = that.currentEventIndex * width;\n                } else {\n                    offset = that._currentIndex * width;\n                }\n                if(page) {\n                    if(that.numOfEvents === 1) {\n                        page.setPageCallout(\"left\", \"50%\");\n                        leftOffset = offset;\n                        applyCssStyles(trackWrapScrollableElement, \"transform\", \"translateX(-\" + leftOffset + \"%)\");\n                        that._firstIndexInView = that._currentIndex;\n                        that._updateArrows();\n                        return;\n                    }\n                    if(offset >= Math.abs(end) + 100) {\n                        leftOffset = Math.abs(end) + ((offset - (Math.abs(end) + 100)) + width);\n                        that._end = -leftOffset;\n                        applyCssStyles(trackWrapScrollableElement, \"transform\", \"translateX(-\" + leftOffset + \"%)\");\n                        that._firstIndexInView = that._currentIndex - that.numOfEvents + 1;\n                    }\n                    else if(offset <= Math.abs(end)) {\n                        leftOffset = offset;\n                        that._end = -leftOffset;\n                        applyCssStyles(trackWrapScrollableElement, \"transform\", \"translateX(-\" + leftOffset + \"%)\");\n                        that._firstIndexInView = that._currentIndex;\n                    } else {\n                        circleElement = trackWrapScrollableElement.find(\"li.k-timeline-track-item\").eq(that._currentIndex).find(\".k-timeline-circle\");\n                        calloutOffset = calculateOffset(circleElement, that._trackWrap);\n                        page.setPageCallout(\"left\", (calloutOffset / page.element.width()) * 100 + \"%\");\n                        that._firstIndexInView = Math.round(Math.abs(end) / width);\n                    }\n                    var scrollWrapElement = this._trackWrap.find(\".\" + SCROLLABLEWRAPCLASS);\n                    var transitionEndHandler = function() {\n                        if(that.numOfEvents != 1) {\n                            var page = that.pane.pages[1];\n                            var eventElement = that._trackWrap.find(\".\" + TRACKITEMCLASS).eq(that._currentIndex);\n                            var calloutOffset = calculateOffset(eventElement.find(\".k-timeline-circle\"), that._trackWrap);\n                            page.setPageCallout(\"left\", (calloutOffset / page.element.width()) * 100 + \"%\");\n                        }\n                        scrollWrapElement.off('transitionend' + NS, transitionEndHandler);\n                    };\n                    scrollWrapElement.on('transitionend' + NS, transitionEndHandler);\n                }\n\n                that._updateArrows();\n            },\n\n            _initHorizontal: function() {\n                var that = this;\n                var firstEventElement = that._trackWrap.find(\".k-timeline-circle\").first();\n                var dataItem = that.dataSource.view()[0];\n                var navigatable = that.options.navigatable;\n\n                that.maxEvents = that._trackWrap.find(\".k-timeline-track-item\").length;\n\n                that._currentIndex = 1;\n\n                that.pane.initPages();\n\n                that.pane.repositionPages();\n\n                that.pane.updatePage(that._forward, dataItem, calculateOffset(firstEventElement, that._trackWrap));\n\n                that._updateArrows();\n\n                $(window).on(\"resize\" + NS, proxy(this, \"_resizeHandler\"));\n                that._trackWrap.on(\"click\", \".k-timeline-track-item:not(.k-timeline-flag-wrap)\", proxy(this, \"_setCurrentEvent\"));\n                that._trackWrap.on(\"click\", \".k-timeline-arrow:not(.k-disabled)\", proxy(this, \"_navigateToView\"));\n\n                if (navigatable) {\n                    that._trackWrap\n                        .find(\".k-timeline-track-item.k-timeline-flag-wrap\")\n                        .attr(\"aria-hidden\", true);\n\n                    that._trackWrap.find(\".k-timeline-track-item:not(.k-timeline-flag-wrap)\")\n                        .attr(\"role\", \"option\")\n                        .attr(\"aria-selected\", false)\n                        .first()\n                        .attr(\"aria-selected\", true);\n\n                    that._cardId = kendo.guid();\n                    that._scrollableWrap\n                        .attr(\"role\", \"listbox\")\n                        .attr(\"aria-orientation\", \"horizontal\")\n                        .attr(\"tabindex\", 0)\n                        .on(\"focus\" + NS, function () {\n                            that.pane.pages[1].cardContainer.attr(\"id\", that._cardId);\n                            that._setCurrent(that._scrollableWrap.find(\".k-timeline-track-item\").eq(that._currentIndex));\n                        })\n                        .on(\"focusout\" + NS, function () {\n                            that._removeCurrent();\n                        })\n                        .on(\"keydown\" + NS, function (e) {\n                            var handled;\n                            var current = that._currentBullet;\n                            var itemOffset;\n                            var next;\n\n                            if (that._transition) {\n                                return;\n                            }\n\n                            if (e.keyCode == keys.LEFT) {\n                                handled = true;\n                                next = current.prevAll(\".k-timeline-track-item:not(.k-timeline-flag-wrap)\").first();\n\n                                if (next.length) {\n                                    itemOffset = calculateOffset(next, that._trackWrap);\n\n                                    if (itemOffset < 0 || itemOffset > next.parent().width()) {\n                                        that._transition = true;\n                                        that._removeCurrent();\n                                        that.previous();\n                                        that.open(next);\n                                    } else {\n                                        that._setCurrent(next);\n                                    }\n                                }\n\n                            }\n\n                            if (e.keyCode == keys.RIGHT) {\n                                handled = true;\n                                next = current.nextAll(\".k-timeline-track-item:not(.k-timeline-flag-wrap)\").first();\n\n                                if (next.length) {\n                                    itemOffset = calculateOffset(next, that._trackWrap);\n\n                                    if (itemOffset < 0 || itemOffset > next.parent().width()) { //itemOffset > 0 && itemOffset < parentWidth\n                                        that._transition = true;\n                                        that._removeCurrent();\n                                        that.next();\n                                        that.open(next);\n                                    } else {\n                                        that._setCurrent(next);\n                                    }\n                                }\n                            }\n\n                            if (e.keyCode == keys.SPACEBAR || e.keyCode == keys.ENTER) {\n                                handled = true;\n                                that._currentBullet.trigger(\"click\");\n                            }\n\n                            if (handled) {\n                                //prevent scrolling while pressing the keys\n                                e.preventDefault();\n                            }\n                        });\n\n                    that._ariaLabel();\n                }\n            },\n\n            _setCurrent: function (next) {\n                if (!next) {\n                    return;\n                }\n                var id = kendo.guid();\n                var that = this;\n\n                that._removeCurrent();\n                that._scrollableWrap.attr(\"aria-activedescendant\", id);\n\n                next.attr(\"id\", id).addClass(\"k-state-focus\");\n\n                next.siblings().removeAttr(\"aria-describedby\");\n\n                if (next.attr(\"aria-selected\") === \"true\") {\n                    next.attr(\"aria-describedby\", that._cardId);\n                }\n\n                that._currentBullet = next;\n            },\n\n            _ariaLabel: function(){\n                var that = this;\n                var inputElm = that.element;\n                var ul = that._scrollableWrap;\n                var id = inputElm.attr(\"id\");\n                var labelElm = $(\"label[for=\\'\" + id  + \"\\']\");\n                var ariaLabel = inputElm.attr(\"aria-label\");\n                var ariaLabelledBy = inputElm.attr(\"aria-labelledby\");\n                var labelId;\n\n                if (ariaLabel) {\n                    ul.attr(\"aria-label\", ariaLabel);\n                } else if (ariaLabelledBy){\n                    ul.attr(\"aria-labelledby\", ariaLabelledBy);\n                } else if (labelElm.length){\n                    labelId = labelElm.attr(\"id\");\n                    if (labelId) {\n                        ul.attr(\"aria-labelledby\", labelId);\n                    } else {\n                        labelId = kendo.guid();\n                        labelElm.attr(\"id\", labelId);\n                        ul.attr(\"aria-labelledby\", labelId);\n                    }\n                }\n            },\n\n            _removeCurrent: function () {\n                if (this._currentBullet) {\n                    this._currentBullet\n                        .removeClass(\"k-state-focus\")\n                        .removeAttr(\"id\")\n                        .removeAttr(\"aria-describedby\");\n                }\n                this._scrollableWrap.removeAttr(\"aria-activedescendant\");\n            },\n\n            setDataSource: function(dataSource) {\n                var that = this;\n                var options = that.options;\n\n                dataSource = isArray(dataSource) ? { data: dataSource } : dataSource;\n\n                if (that.dataSource && that._refresh) {\n                    that.dataSource.unbind(CHANGE, that._refresh);\n                } else {\n                    this._refresh = proxy(that, \"refresh\");\n                }\n\n                this.dataSource = DataSource.create(dataSource);\n                if(this.dataSource._sort === undefined) {\n                    this.dataSource._sort = [{field: options.dataDateField, dir: \"asc\"}];\n                }\n\n                that.dataSource.bind(CHANGE, that._refresh);\n\n                if (options.autoBind) {\n                    this.dataSource.fetch();\n                }\n            },\n\n            refresh: function() {\n                var that = this;\n                var options = that.options;\n\n                var data = this.dataSource.view();\n\n                if(options.orientation != VERTICAL) {\n                    that._trackWrap.empty().remove();\n                    that.element.find('.k-timeline-events-list').remove();\n                    that._horizontal();\n                }\n\n                that.currentEventIndex = 0;\n                that._forward  = null;\n                that._eventPage = 1;\n                that._currentIndex = 0;\n                that._firstIndexInView = 0;\n                that.numOfEvents = null;\n                that._end = 0;\n\n                that._initDataFieldMappings();\n\n                if(data.length){\n                    if(options.orientation === \"horizontal\") {\n                        that._renderContentHorizontal(data);\n                        that._redrawEvents();\n                        that._initHorizontal();\n\n                    } else {\n                        that._renderContentVertical(data);\n                    }\n                }\n\n                that.trigger(\"dataBound\", {sender: that});\n            },\n\n            destroy: function() {\n                var options = this.options;\n\n                Widget.fn.destroy.call(this);\n\n                if(this.resizeTimeOut) {\n                    clearTimeout(this.resizeTimeOut);\n                }\n\n                if(this.navigateTimeOut) {\n                    clearTimeout(this.navigateTimeOut);\n                }\n\n                $(window).off(\"resize\" + NS, this._resizeHandler);\n\n                this.element.off();\n\n                if(options.orientation != VERTICAL) {\n                    this.pane.destroy();\n\n                    this._trackWrap.find(\".\" + SCROLLABLEWRAPCLASS).off();\n                    this.element.find(\".k-timeline-arrow\").off();\n                    this._trackWrap.off();\n\n                    this.currentEventIndex =\n                    this.maxEvents =\n                    this.numOfEvents =\n                    this._currentIndex =\n                    this._eventPage =\n                    this._eventsList =\n                    this._eventsWrap =\n                    this.element =\n                    this._trackWrap =\n                    this.pane = null;\n                }\n\n                kendo.destroy(this.element);\n\n                this._dataFieldMappings = this.element = null;\n            },\n\n            options: {\n                autoBind: true,\n                name: \"Timeline\",\n                orientation: \"vertical\",\n                dateFormat: \"MMM d, yyyy\",\n                showDateLabels: true,\n                collapsibleEvents: false,\n                alternatingMode: false,\n                dataTitleField: \"title\",\n                dataDateField: \"date\",\n                dataSubtitleField: \"subtitle\",\n                dataDescriptionField: \"description\",\n                dataImagesField: \"images\",\n                dataActionsField: \"actions\",\n                dataImagesAltField: \"altField\",\n                navigatable: false\n            },\n\n            events: [\n                \"collapse\",\n                \"dataBound\",\n                \"expand\",\n                \"actionClick\",\n                \"change\",\n                \"navigate\"\n            ]\n        });\n    kendo.ui.plugin(Timeline);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n"],"names":["define","__meta__","id","name","category","description","depends","$","window","kendo","jQuery","undefined","ui","Widget","DataSource","data","Transition","effects","proxy","keys","isArray","Array","LEFT_PAGE","CETER_PAGE","RIGHT_PAGE","VERTICAL","TRANSITION_END","VIRTUAL_PAGE_COUNT","VIRTUAL_PAGE_CLASS","FLAGWRAPCLASS","TRACKITEMCLASS","SCROLLABLEWRAPCLASS","NS","CHANGE","DEFAULTHORIZONTALCARDTEMPLATE","DEFAULTVERTICALCARDTEMPLATE","HORIZONTALTRACKTEMPLATE","VERTICALEVENTSTEMPLATE","ARROWSHTML","className","calculateTransform","element","matrix","css","x","values","match","width","calculateOffset","parentElement","offset","left","applyCssStyles","property","value","Page","Class","extend","init","container","this","cardContainer","cardWrapper","append","content","htmlContent","uid","callOut","html","attr","position","setPageCallout","propery","callOutElement","find","destroy","that","remove","HorizontalPane","Observable","options","fn","call","movable","transition","pages","Movable","axis","onEnd","trigger","duration","eventTemplate","eventHeight","dataFieldMappings","bind","initPages","page","i","push","repositionPages","setPageContent","template","Function","titleField","title","subtitleField","subtitle","descriptionField","imagesField","images","actionsField","actions","altField","updatePage","isForward","calloutOffset","length","moveTo","moveAxis","transitionTo","ease","location","index","unbind","Timeline","orientation","addClass","_horizontal","_vertical","on","action","event","target","dataItemUid","closest","dataItem","dataSource","getByUid","sender","currentEventIndex","_forward","_eventPage","_currentIndex","_firstIndexInView","_initDataFieldMappings","setDataSource","trackWrap","trackEl","scrollableWrap","eventsWrap","eventsList","_trackWrap","_trackEl","_scrollableWrap","_eventsWrap","_eventsList","height","appendTo","navigatable","collapsibleEvents","alternatingMode","card","itemWrapper","parent","hasClass","expand","collapse","e","keyCode","SPACEBAR","ENTER","header","preventDefault","_renderContentVertical","itemTemplate","useWithBlock","dateField","dataDateField","dataTitleField","dataSubtitleField","dataDescriptionField","dataImagesField","dataActionsField","alterMode","dateFormat","showDateLabels","dataImagesAltField","eventWidth","_renderContentHorizontal","_dataFieldMappings","trackTemplate","initialEventIndex","pane","transitionEnd","date","_transitionEnd","shift","unshift","pop","_transition","removeAttr","_cardId","_setCurrent","_currentBullet","_animationInProgress","_setCurrentEvent","trackItem","currentTarget","eventContainer","view","children","open","trackItemCircle","trackItems","itemIndex","forward","_removeCurrent","clearTimeout","navigateTimeOut","setTimeout","easeOutExpo","_repositionEvents","_navigateToView","delta","next","previous","_updateArrows","arrows","leftArrow","filter","rightArrow","_validateNavigation","removeClass","transform","_end","numOfEvents","maxEvents","Math","abs","_navigate","firstEventInViewIndex","firstEventInView","end","leftOffset","currentIndex","currentPage","firstIndexInView","_tackItemWidth","floor","eq","nextAll","first","prevAll","scrollWrapElement","transitionEndHandler","off","cardElement","cardBody","fx","stop","play","reverse","items","_resizeHandler","resizeTimeOut","_redrawEvents","redraw","trackWrapScrollableElement","circleElement","round","eventElement","_initHorizontal","firstEventElement","guid","handled","current","itemOffset","LEFT","RIGHT","_ariaLabel","siblings","inputElm","ul","labelElm","ariaLabel","ariaLabelledBy","labelId","_refresh","create","_sort","field","dir","autoBind","fetch","refresh","empty","events","plugin","amd","a1","a2","a3"],"mappings":"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"}