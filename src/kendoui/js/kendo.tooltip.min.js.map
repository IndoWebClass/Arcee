{"version":3,"file":"kendo.tooltip.min.js","sources":["kendo.tooltip.js"],"sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function(f, define){\n    define('kendo.tooltip',[ \"./kendo.core\", \"./kendo.popup\", \"./kendo.fx\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"tooltip\",\n    name: \"Tooltip\",\n    category: \"web\",\n    description: \"The Tooltip widget displays a popup hint for a given html element.\",\n    depends: [ \"core\", \"popup\" ],\n    features: [ {\n        id: \"tooltip-fx\",\n        name: \"Animation\",\n        description: \"Support for animation\",\n        depends: [ \"fx\" ]\n    } ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        Popup = kendo.ui.Popup,\n        isFunction = kendo.isFunction,\n        isPlainObject = $.isPlainObject,\n        extend = $.extend,\n        proxy = $.proxy,\n        DOCUMENT = $(document),\n        isLocalUrl = kendo.isLocalUrl,\n        ARIAIDSUFFIX = \"_tb_active\",\n        DESCRIBEDBY = \"aria-describedby\",\n        SHOW = \"show\",\n        HIDE = \"hide\",\n        ERROR = \"error\",\n        CONTENTLOAD = \"contentLoad\",\n        REQUESTSTART = \"requestStart\",\n        KCONTENTFRAME = \"k-content-frame\",\n        TEMPLATE = '<div role=\"tooltip\" class=\"k-widget k-tooltip#if (!autoHide) {# k-tooltip-closable#}#\">' +\n            '<div class=\"k-tooltip-content\"></div>' +\n            '#if (!autoHide) {# <div class=\"k-tooltip-button\"><a href=\"\\\\#\" class=\"k-icon k-i-close\" title=\"Close\"></a></div> #}#' +\n            '#if (callout){ #<div class=\"k-callout k-callout-#=dir#\"></div>#}#' +\n        '</div>',\n        IFRAMETEMPLATE = kendo.template(\n            \"<iframe frameborder='0' class='\" + KCONTENTFRAME + \"' src='#= content.url #'>\" +\n                \"This page requires frames in order to show content\" +\n            \"</iframe>\"\n        ),\n        NS = \".kendoTooltip\",\n        POSITIONS = {\n            bottom: {\n                origin: \"bottom center\",\n                position: \"top center\"\n            },\n            top: {\n                origin: \"top center\",\n                position: \"bottom center\"\n            },\n            left: {\n                origin: \"center left\",\n                position: \"center right\",\n                collision: \"fit flip\"\n            },\n            right: {\n                origin: \"center right\",\n                position: \"center left\",\n                collision: \"fit flip\"\n            },\n            center: {\n                position: \"center center\",\n                origin: \"center center\"\n            }\n        },\n        REVERSE = {\n            \"top\": \"bottom\",\n            \"bottom\": \"top\",\n            \"left\": \"right\",\n            \"right\": \"left\",\n            \"center\": \"center\"\n        },\n        DIRCLASSES = {\n            bottom: \"n\",\n            top: \"s\",\n            left: \"e\",\n            right: \"w\",\n            center: \"n\"\n        },\n        DIMENSIONS = {\n            \"horizontal\": { offset: \"top\", size: \"outerHeight\" },\n            \"vertical\": { offset: \"left\", size: \"outerWidth\" }\n        },\n        DEFAULTCONTENT = function(e) {\n            return e.target.data(kendo.ns + \"title\");\n        };\n\n    function restoreTitle(element) {\n        while(element.length) {\n            if (restoreTitleAttributeForElement(element)) {\n                break;\n            }\n            element = element.parent();\n        }\n    }\n\n    function restoreTitleAttributeForElement(element) {\n        var title = element.data(kendo.ns + \"title\");\n        if (title) {\n            element.attr(\"title\", title);\n            element.removeData(kendo.ns + \"title\");\n            return true;\n        }\n    }\n\n    function saveTitleAttributeForElement(element) {\n        var title = element.attr(\"title\");\n        if (title) {\n            element.data(kendo.ns + \"title\", title);\n            element.attr(\"title\", \"\");\n            return true;\n        }\n    }\n\n    function saveTitleAttributes(element) {\n        while(element.length && !element.is(\"body\")) {\n            if (saveTitleAttributeForElement(element)) {\n                break;\n            }\n            element = element.parent();\n        }\n    }\n\n    var TooltipBase = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                axis;\n\n            Widget.fn.init.call(that, element, options);\n\n            axis = that.options.position.match(/left|right/) ? \"horizontal\" : \"vertical\";\n\n            that.dimensions = DIMENSIONS[axis];\n\n            if (kendo.support.touch && this._isShownOnMouseEnter()) {\n                that.element.on(kendo.support.mousedown + NS, that.options.filter, proxy(that._showOn, that));\n            }\n\n            that.element.on(that.options.showOn + NS, that.options.filter, proxy(that._showOn, that));\n        },\n\n        options: {\n            name: \"TooltipBase\",\n            filter: \"\",\n            offset: 0,\n            showAfter: 100,\n            hideAfter: 100,\n            callout: true,\n            position: \"bottom\",\n            showOn: \"mouseenter\",\n            animation: {\n                open: {\n                    effects: \"fade:in\",\n                    duration: 0\n                },\n                close: {\n                    duration: 40,\n                    hide: true\n                }\n            }\n        },\n\n        destroy: function() {\n            var popup = this.popup;\n\n            if (popup) {\n                popup.element.off(NS);\n                popup.destroy();\n            }\n\n            clearTimeout(this.timeout);\n\n            Widget.fn.destroy.call(this);\n        },\n\n        hide: function() {\n            if (this.popup) {\n                this.popup.close();\n            }\n        },\n\n        show: function(target) {\n            target = target || this.element;\n\n            this._saveTitle(target);\n            this._show(target);\n        },\n\n        target: function() {\n            if (this.popup) {\n                return this.popup.options.anchor;\n            }\n            return null;\n        },\n\n        _showOn: function(e) {\n            var that = this;\n\n            var currentTarget = $(e.currentTarget);\n            if (that._isShownOnClick() && !that._isShownOnMouseEnter()) {\n                that._show(currentTarget);\n            } else if (that._isShownOnFocus()) {\n                that._saveTitle(currentTarget);\n                that._show(currentTarget);\n            } else {\n                clearTimeout(that.timeout);\n\n                that.timeout = setTimeout(function() {\n                    that._show(currentTarget);\n                }, that.options.showAfter);\n            }\n        },\n\n        _isShownOnFocus: function(){\n            return this.options.showOn && this.options.showOn.match(/focus/);\n        },\n\n        _isShownOnMouseEnter: function(){\n            return this.options.showOn && this.options.showOn.match(/mouseenter/);\n        },\n\n        _isShownOnClick: function(){\n            return this.options.showOn && this.options.showOn.match(/click/);\n        },\n\n        _positionCallout: function() {\n            var that = this,\n                position = that.options.position,\n                dimensions = that.dimensions,\n                offset = dimensions.offset,\n                popup = that.popup,\n                anchor = popup.options.anchor,\n                anchorOffset = $(anchor).offset(),\n                elementOffset = $(popup.element).offset(),\n                cssClass = DIRCLASSES[popup.flipped ? REVERSE[position] : position],\n                offsetAmount = anchorOffset[offset] - elementOffset[offset] + ($(anchor)[dimensions.size]() / 2);\n\n            that._offset(position, that.options.offset);\n\n            that.arrow\n               .removeClass(\"k-callout-n k-callout-s k-callout-w k-callout-e\")\n               .addClass(\"k-callout-\" + cssClass)\n               .css(offset, offsetAmount);\n        },\n\n        _offset: function(position, offsetAmount, arrowWidth) {\n            var that = this,\n                isTopLeft = position == \"top\" || position == \"left\",\n                isFlipped = that.popup.flipped,\n                direction = (isTopLeft && isFlipped) || (!isTopLeft && !isFlipped) ? 1 : -1,\n                marginRule = isTopLeft ? \"margin-\" + position : \"margin-\" + REVERSE[position],\n                offset = ((arrowWidth || kendo._outerWidth(that.arrow)) / 2) + offsetAmount;\n\n            that.popup.wrapper.css(marginRule, offset * direction + \"px\");\n        },\n\n        _addDescribedBy: function () {\n            var that = this,\n                anchor = that.popup.options.anchor,\n                ariaId = anchor[0].id || that.element[0].id || kendo.guid(),\n                describedBy = [];\n\n            if(anchor.attr(DESCRIBEDBY)) {\n                describedBy.push(anchor.attr(DESCRIBEDBY));\n            }\n\n            if (ariaId) {\n                describedBy.push(ariaId + ARIAIDSUFFIX);\n                anchor.attr(DESCRIBEDBY, describedBy.join(\" \"));\n                that.popup.element.attr(\"id\", ariaId + ARIAIDSUFFIX);\n            }\n\n        },\n\n        _removeDescribedBy: function(target) {\n            var tooltipId = this.popup.element.attr(\"id\"),\n                currentDescribedBy = target.attr(DESCRIBEDBY),\n                arrayAttr, finalArray, finalDescribedbyAttr;\n\n            if(!currentDescribedBy) {\n                return;\n            }\n\n            arrayAttr = currentDescribedBy.split(\" \");\n\n            if(arrayAttr && arrayAttr.length > 0) {\n                finalArray = arrayAttr.filter(function (val) {\n                    return val !== tooltipId;\n                });\n            }\n\n            if(finalArray && finalArray.length > 0) {\n                finalDescribedbyAttr = finalArray.join(\" \");\n                target.attr(DESCRIBEDBY, finalDescribedbyAttr);\n            } else {\n                target.removeAttr(DESCRIBEDBY);\n            }\n        },\n\n        _openPopup: function() {\n            if (!this.popup) {\n                return;\n            }\n\n            this.popup._hovered = true;\n            this.popup.open();\n        }\n    });\n    kendo.ui.plugin(TooltipBase);\n\n    var Tooltip = TooltipBase.extend({\n        init: function(element, options) {\n            var that = this,\n                axis;\n\n            TooltipBase.fn.init.call(that, element, options);\n\n            axis = that.options.position.match(/left|right/) ? \"horizontal\" : \"vertical\";\n\n            that.dimensions = DIMENSIONS[axis];\n\n            that._documentKeyDownHandler = proxy(that._documentKeyDown, that);\n\n            if (this._isShownOnMouseEnter() || this._isShownOnClick()) {\n                that.element.on(\"mouseenter\" + NS, that.options.filter, proxy(that._mouseenter, that));\n            }\n\n            if (this.options.autoHide && this._isShownOnMouseEnter()) {\n                that.element.on(\"mouseleave\" + NS, that.options.filter, proxy(that._mouseleave, that));\n            }\n\n            if (this.options.autoHide && this._isShownOnFocus()) {\n                that.element.on(\"blur\" + NS, that.options.filter, proxy(that._blur, that));\n            }\n\n            if (kendo.support.touch) {\n                that.element.on(kendo.support.mousedown + NS, that.options.filter, proxy(that._mouseenter, that));\n            }\n        },\n\n        options: {\n            name: \"Tooltip\",\n            filter: \"\",\n            content: DEFAULTCONTENT,\n            showAfter: 100,\n            callout: true,\n            offset: 0,\n            position: \"bottom\",\n            showOn: \"mouseenter\",\n            autoHide: true,\n            width: null,\n            height: null,\n            animation: {\n                open: {\n                    effects: \"fade:in\",\n                    duration: 0\n                },\n                close: {\n                    duration: 40,\n                    hide: true\n                }\n            }\n        },\n\n        events: [ SHOW, HIDE, CONTENTLOAD, ERROR, REQUESTSTART ],\n\n        _mouseenter: function(e) {\n            saveTitleAttributes($(e.currentTarget));\n        },\n\n        _saveTitle:function (target) {\n            saveTitleAttributes(target);\n        },\n\n        _appendContent: function(target) {\n            var that = this,\n                contentOptions = that.options.content,\n                element = that.content,\n                showIframe = that.options.iframe,\n                iframe;\n\n            if (isPlainObject(contentOptions) && contentOptions.url) {\n                if (!(\"iframe\" in that.options)) {\n                    showIframe = !isLocalUrl(contentOptions.url);\n                }\n\n                that.trigger(REQUESTSTART, { options: contentOptions, target: target });\n\n                if (!showIframe) {\n                    element.empty();\n                    kendo.ui.progress(element, true);\n\n                    // perform AJAX request\n                    that._ajaxRequest(contentOptions);\n                } else {\n                    element.hide();\n\n                    iframe = element.find(\".\" + KCONTENTFRAME)[0];\n\n                    if (iframe) {\n                        // refresh existing iframe\n                        iframe.src = contentOptions.url || iframe.src;\n                    } else {\n                        element.html(IFRAMETEMPLATE({ content: contentOptions }));\n                    }\n\n                    element.find(\".\" + KCONTENTFRAME)\n                        .off(\"load\" + NS)\n                        .on(\"load\" + NS, function(){\n                            that.trigger(CONTENTLOAD);\n                            element.show();\n                        });\n                }\n            } else if (contentOptions && isFunction(contentOptions)) {\n                contentOptions = contentOptions({ sender: this, target: target });\n                element.html(contentOptions || \"\");\n            } else {\n                element.html(contentOptions);\n            }\n\n            that.angular(\"compile\", function(){\n                return { elements: element };\n            });\n        },\n\n        _ajaxRequest: function(options) {\n            var that = this;\n\n            that.contentLoading = true;\n\n            jQuery.ajax(extend({\n                type: \"GET\",\n                dataType: \"html\",\n                cache: false,\n                error: function (xhr, status) {\n                    kendo.ui.progress(that.content, false);\n\n                    that.trigger(ERROR, { status: status, xhr: xhr });\n                },\n                success: proxy(function (data) {\n                    kendo.ui.progress(that.content, false);\n\n                    that.content.html(data);\n\n                    that.contentLoading = false;\n\n                    that.trigger(CONTENTLOAD);\n\n                    that._openPopup();\n                }, that)\n            }, options));\n        },\n\n        _documentKeyDown: function(e) {\n            if (e.keyCode === kendo.keys.ESC) {\n                this.hide();\n            }\n        },\n\n        refresh: function() {\n            var that = this,\n                popup = that.popup;\n\n            if (popup && popup.options.anchor) {\n                that._appendContent(popup.options.anchor);\n            }\n        },\n\n        _show: function(target) {\n            var that = this,\n                current = that.target();\n\n            if (!that.popup) {\n                that._initPopup();\n            }\n\n            if (current && current[0] != target[0]) {\n                that.popup.close();\n                that.popup.element.kendoStop(true, true);// animation can be too long to hide the element before it is shown again\n            }\n\n            if (!current || current[0] != target[0]) {\n                that._appendContent(target);\n                that.popup.options.anchor = target;\n            }\n\n            that.popup.one(\"deactivate\", function() {\n                restoreTitle(target);\n\n                that._removeDescribedBy(target);\n\n                this.element\n                    .removeAttr(\"id\")\n                    .attr(\"aria-hidden\", true);\n\n                DOCUMENT.off(\"keydown\" + NS, that._documentKeyDownHandler);\n            });\n\n            if (!that.contentLoading) {\n                that._openPopup();\n            }\n        },\n\n        _initPopup: function() {\n            var that = this,\n                options = that.options,\n                wrapper = $(kendo.template(TEMPLATE)({\n                    callout: options.callout && options.position !== \"center\",\n                    dir: DIRCLASSES[options.position],\n                    autoHide: options.autoHide\n                }));\n\n            that.popup = new Popup(wrapper, extend({\n                autosize:true,\n                activate: function() {\n                    that._addDescribedBy();\n\n                    if (options.callout) {\n                        that._positionCallout();\n                    } else {\n                        that._offset(that.options.position, that.options.offset);\n                    }\n\n                    this.element.removeAttr(\"aria-hidden\");\n\n                    DOCUMENT.on(\"keydown\" + NS, that._documentKeyDownHandler);\n\n                    that.trigger(SHOW);\n                    that.popup._hovered = undefined;\n                },\n                close: function() {\n                    that.trigger(HIDE);\n                },\n                copyAnchorStyles: false,\n                animation: options.animation\n            }, POSITIONS[options.position]));\n\n            wrapper.css({\n                width: options.width,\n                height: options.height\n            });\n\n            that.content = wrapper.find(\".k-tooltip-content\");\n            that.arrow = wrapper.find(\".k-callout\");\n\n            if (options.autoHide && this._isShownOnMouseEnter()) {\n                wrapper.on(\"mouseleave\" + NS, proxy(that._mouseleave, that));\n            } else {\n                wrapper.on(\"click\" + NS, \".k-tooltip-button\", proxy(that._closeButtonClick, that));\n            }\n        },\n\n        _closeButtonClick: function(e) {\n            e.preventDefault();\n            this.hide();\n        },\n\n        _mouseleave: function(e) {\n            var that = this;\n\n            clearTimeout(that.timeout);\n\n            that.timeout = setTimeout(function() {\n                that._closePopup(e.currentTarget);\n            }, that.options.hideAfter);\n        },\n\n        _blur: function(e){\n            this._closePopup(e.currentTarget);\n        },\n\n        _closePopup: function(target){\n            if (this.popup && !this.popup._hovered) {\n                this.popup.close();\n            } else {\n                restoreTitle($(target));\n            }\n        },\n\n        destroy: function() {\n            this.element.off(NS);\n\n            DOCUMENT.off(\"keydown\" + NS, this._documentKeyDownHandler);\n\n            TooltipBase.fn.destroy.call(this);\n        }\n    });\n\n    kendo.ui.plugin(Tooltip);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n"],"names":["define","__meta__","id","name","category","description","depends","features","$","window","kendo","jQuery","undefined","Widget","ui","Popup","isFunction","isPlainObject","extend","proxy","DOCUMENT","document","isLocalUrl","ARIAIDSUFFIX","DESCRIBEDBY","SHOW","HIDE","ERROR","CONTENTLOAD","REQUESTSTART","KCONTENTFRAME","TEMPLATE","IFRAMETEMPLATE","template","NS","POSITIONS","bottom","origin","position","top","left","collision","right","center","REVERSE","DIRCLASSES","DIMENSIONS","horizontal","offset","size","vertical","DEFAULTCONTENT","e","target","data","ns","restoreTitle","element","length","restoreTitleAttributeForElement","parent","title","attr","removeData","saveTitleAttributeForElement","saveTitleAttributes","is","TooltipBase","init","options","that","this","axis","fn","call","match","dimensions","support","touch","_isShownOnMouseEnter","on","mousedown","filter","_showOn","showOn","showAfter","hideAfter","callout","animation","open","effects","duration","close","hide","destroy","popup","off","clearTimeout","timeout","show","_saveTitle","_show","anchor","currentTarget","_isShownOnClick","_isShownOnFocus","setTimeout","_positionCallout","anchorOffset","elementOffset","cssClass","flipped","offsetAmount","_offset","arrow","removeClass","addClass","css","arrowWidth","isTopLeft","isFlipped","direction","marginRule","_outerWidth","wrapper","_addDescribedBy","ariaId","guid","describedBy","push","join","_removeDescribedBy","tooltipId","currentDescribedBy","arrayAttr","finalArray","finalDescribedbyAttr","split","val","removeAttr","_openPopup","_hovered","Tooltip","plugin","_documentKeyDownHandler","_documentKeyDown","_mouseenter","autoHide","_mouseleave","_blur","content","width","height","events","_appendContent","contentOptions","showIframe","iframe","url","trigger","empty","progress","_ajaxRequest","find","src","html","sender","angular","elements","contentLoading","ajax","type","dataType","cache","error","xhr","status","success","keyCode","keys","ESC","refresh","current","_initPopup","kendoStop","one","dir","autosize","activate","copyAnchorStyles","_closeButtonClick","preventDefault","_closePopup","amd","a1","a2","a3"],"mappings":"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"}