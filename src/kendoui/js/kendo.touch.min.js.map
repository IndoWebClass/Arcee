{"version":3,"file":"kendo.touch.min.js","sources":["kendo.touch.js"],"sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function(f, define){\r\n    define('kendo.touch',[ \"./kendo.core\", \"./kendo.userevents\" ], f);\r\n})(function(){\r\n\r\nvar __meta__ = { // jshint ignore:line\r\n    id: \"touch\",\r\n    name: \"Touch\",\r\n    category: \"mobile\",\r\n    description: \"The kendo Touch widget provides a cross-platform compatible API for handling user-initiated touch events, multi-touch gestures and event sequences (drag, swipe, etc.). \",\r\n    depends: [ \"core\", \"userevents\" ]\r\n};\r\n\r\n(function($, undefined) {\r\n    var kendo = window.kendo,\r\n        Widget = kendo.ui.Widget,\r\n        proxy = $.proxy,\r\n        abs = Math.abs,\r\n        MAX_DOUBLE_TAP_DISTANCE = 20;\r\n\r\n    var Touch = Widget.extend({\r\n        init: function(element, options) {\r\n            var that = this;\r\n\r\n            Widget.fn.init.call(that, element, options);\r\n            options = that.options;\r\n\r\n            element = that.element;\r\n            that.wrapper = element;\r\n\r\n            function eventProxy(name) {\r\n                return function(e) {\r\n                    that._triggerTouch(name, e);\r\n                };\r\n            }\r\n\r\n            function gestureEventProxy(name) {\r\n                return function(e) {\r\n                    that.trigger(name, { touches: e.touches, distance: e.distance, center: e.center, event: e.event });\r\n                };\r\n            }\r\n\r\n            that.events = new kendo.UserEvents(element, {\r\n                filter: options.filter,\r\n                surface: options.surface,\r\n                minHold: options.minHold,\r\n                multiTouch: options.multiTouch,\r\n                allowSelection: true,\r\n                fastTap: options.fastTap,\r\n                press: eventProxy(\"touchstart\"),\r\n                hold: eventProxy(\"hold\"),\r\n                tap: proxy(that, \"_tap\"),\r\n                gesturestart: gestureEventProxy(\"gesturestart\"),\r\n                gesturechange: gestureEventProxy(\"gesturechange\"),\r\n                gestureend: gestureEventProxy(\"gestureend\")\r\n            });\r\n\r\n            if (options.enableSwipe) {\r\n                that.events.bind(\"start\", proxy(that, \"_swipestart\"));\r\n                that.events.bind(\"move\", proxy(that, \"_swipemove\"));\r\n            } else {\r\n                that.events.bind(\"start\", proxy(that, \"_dragstart\"));\r\n                that.events.bind(\"move\", eventProxy(\"drag\"));\r\n                that.events.bind(\"end\", eventProxy(\"dragend\"));\r\n            }\r\n\r\n            kendo.notify(that);\r\n        },\r\n\r\n        events: [\r\n            \"touchstart\",\r\n            \"dragstart\",\r\n            \"drag\",\r\n            \"dragend\",\r\n            \"tap\",\r\n            \"doubletap\",\r\n            \"hold\",\r\n            \"swipe\",\r\n            \"gesturestart\",\r\n            \"gesturechange\",\r\n            \"gestureend\"\r\n        ],\r\n\r\n        options: {\r\n            name: \"Touch\",\r\n            surface: null,\r\n            global: false,\r\n            fastTap: false,\r\n            filter: null,\r\n            multiTouch: false,\r\n            enableSwipe: false,\r\n            minXDelta: 30,\r\n            maxYDelta: 20,\r\n            maxDuration: 1000,\r\n            minHold: 800,\r\n            doubleTapTimeout: 800\r\n        },\r\n\r\n        cancel: function() {\r\n            this.events.cancel();\r\n        },\r\n\r\n        destroy: function() {\r\n            Widget.fn.destroy.call(this);\r\n\r\n            this.events.destroy();\r\n        },\r\n\r\n        _triggerTouch: function(type, e) {\r\n            if (this.trigger(type, { touch: e.touch, event: e.event })) {\r\n                e.preventDefault();\r\n            }\r\n        },\r\n\r\n        _tap: function(e) {\r\n            var that = this,\r\n                lastTap = that.lastTap,\r\n                touch = e.touch;\r\n\r\n            if (lastTap &&\r\n                (touch.endTime - lastTap.endTime < that.options.doubleTapTimeout) &&\r\n                kendo.touchDelta(touch, lastTap).distance < MAX_DOUBLE_TAP_DISTANCE\r\n                ) {\r\n\r\n               that._triggerTouch(\"doubletap\", e);\r\n               that.lastTap = null;\r\n            } else {\r\n                that._triggerTouch(\"tap\", e);\r\n                that.lastTap = touch;\r\n            }\r\n        },\r\n\r\n        _dragstart: function(e) {\r\n            this._triggerTouch(\"dragstart\", e);\r\n        },\r\n\r\n        _swipestart: function(e) {\r\n            if (abs(e.x.velocity) * 2 >= abs(e.y.velocity)) {\r\n                e.sender.capture();\r\n            }\r\n        },\r\n\r\n        _swipemove: function(e) {\r\n            var that = this,\r\n                options = that.options,\r\n                touch = e.touch,\r\n                duration = e.event.timeStamp - touch.startTime,\r\n                direction = touch.x.initialDelta > 0 ? \"right\" : \"left\";\r\n\r\n            if (\r\n                abs(touch.x.initialDelta) >= options.minXDelta &&\r\n                abs(touch.y.initialDelta) < options.maxYDelta &&\r\n                duration < options.maxDuration\r\n                )\r\n            {\r\n                that.trigger(\"swipe\", {\r\n                    direction: direction,\r\n                    touch: e.touch\r\n                });\r\n\r\n                touch.cancel();\r\n            }\r\n        }\r\n    });\r\n\r\n    kendo.ui.plugin(Touch);\r\n})(window.kendo.jQuery);\r\n\r\nreturn window.kendo;\r\n\r\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\r\n\n"],"names":["define","__meta__","id","name","category","description","depends","$","window","kendo","jQuery","undefined","Widget","ui","proxy","abs","Math","MAX_DOUBLE_TAP_DISTANCE","Touch","extend","init","element","options","that","this","fn","call","wrapper","eventProxy","e","_triggerTouch","gestureEventProxy","trigger","touches","distance","center","event","events","UserEvents","filter","surface","minHold","multiTouch","allowSelection","fastTap","press","hold","tap","gesturestart","gesturechange","gestureend","enableSwipe","bind","notify","global","minXDelta","maxYDelta","maxDuration","doubleTapTimeout","cancel","destroy","type","touch","preventDefault","_tap","lastTap","endTime","touchDelta","_dragstart","_swipestart","x","velocity","y","sender","capture","_swipemove","duration","timeStamp","startTime","direction","initialDelta","plugin","amd","a1","a2","a3"],"mappings":"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"}