{"version":3,"file":"kendo.validator.min.js","sources":["kendo.validator.js"],"sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function(f, define){\n    define('kendo.validator',[ \"./kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"validator\",\n    name: \"Validator\",\n    category: \"web\",\n    description: \"The Validator offers an easy way to do a client-side form validation.\",\n    depends: [ \"core\" ]\n};\n\n/* jshint eqnull: true */\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        NS = \".kendoValidator\",\n        INVALIDMSG = \"k-invalid-msg\",\n        invalidMsgRegExp = new RegExp(INVALIDMSG,'i'),\n        INVALIDINPUT = \"k-invalid\",\n        VALIDINPUT = \"k-valid\",\n        VALIDATIONSUMMARY = \"k-validation-summary\",\n        INVALIDLABEL = \"k-text-error\",\n        MESSAGEBOX = \"k-messagebox k-messagebox-error\",\n        INPUTINNER = \".k-input-inner\",\n        INPUTWRAPPER = \".k-input\",\n        ARIAINVALID = \"aria-invalid\",\n        ARIADESCRIBEDBY = \"aria-describedby\",\n        emailRegExp = /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/i,\n        urlRegExp = /^(https?|ftp):\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i,\n        INPUTSELECTOR = \":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])\",\n        CHECKBOXSELECTOR = \":checkbox:not([disabled],[readonly])\",\n        NUMBERINPUTSELECTOR = \"[type=number],[type=range]\",\n        BLUR = \"blur\",\n        NAME = \"name\",\n        FORM = \"form\",\n        NOVALIDATE = \"novalidate\",\n        //events\n        VALIDATE = \"validate\",\n        CHANGE = \"change\",\n        VALIDATE_INPUT = \"validateInput\",\n        proxy = $.proxy,\n        patternMatcher = function(value, pattern) {\n            if (typeof pattern === \"string\") {\n                pattern = new RegExp('^(?:' + pattern + ')$');\n            }\n            return pattern.test(value);\n        },\n        matcher = function(input, selector, pattern) {\n            var value = input.val();\n\n            if (input.filter(selector).length && value !== \"\") {\n                return patternMatcher(value, pattern);\n            }\n            return true;\n        },\n        hasAttribute = function(input, name) {\n            if (input.length)  {\n                return input[0].attributes[name] != null;\n            }\n            return false;\n        };\n\n    if (!kendo.ui.validator) {\n        kendo.ui.validator = { rules: {}, messages: {}, allowSubmit: $.noop, validateOnInit: $.noop };\n    }\n\n    function resolveRules(element) {\n        var resolvers = kendo.ui.validator.ruleResolvers || {},\n            rules = {},\n            name;\n\n        for (name in resolvers) {\n            $.extend(true, rules, resolvers[name].resolve(element));\n        }\n        return rules;\n    }\n\n    function decode(value) {\n        return value.replace(/&amp/g, '&amp;')\n            .replace(/&quot;/g, '\"')\n            .replace(/&#39;/g, \"'\")\n            .replace(/&lt;/g, '<')\n            .replace(/&gt;/g, '>');\n    }\n\n    function numberOfDecimalDigits(value) {\n        value = (value + \"\").split('.');\n        if (value.length > 1) {\n            return value[1].length;\n        }\n        return 0;\n    }\n\n    function parseHtml(text) {\n        if ($.parseHTML) {\n            return $($.parseHTML(text));\n        }\n        return $(text);\n    }\n\n    function searchForMessageContainer(elements, fieldName) {\n        var containers = $(),\n            element,\n            attr;\n\n        for (var idx = 0, length = elements.length; idx < length; idx++) {\n            element = elements[idx];\n            if (invalidMsgRegExp.test(element.className)) {\n                attr = element.getAttribute(kendo.attr(\"for\"));\n                if (attr === fieldName) {\n                    containers = containers.add(element);\n                }\n            }\n        }\n        return containers;\n    }\n\n    function isLabelFor(label, element) {\n        if (!label) {\n            return false;\n        }\n        if (typeof label.nodeName !== 'string' || label.nodeName !== 'LABEL') {\n            return false;\n        }\n        if (typeof label.getAttribute('for') !== 'string' || typeof element.getAttribute('id') !== 'string') {\n            return false;\n        }\n        if (label.getAttribute('for') !== element.getAttribute('id')) {\n            return false;\n        }\n\n        return true;\n    }\n\n    var SUMMARYTEMPLATE = '<ul>' +\n        '#for(var i = 0; i < errors.length; i += 1){#' +\n            '<li><a data-field=\"#=errors[i].field#\" href=\"\\\\#\">#= errors[i].message #</a></li>' +\n        '# } #' +\n    '</ul>';\n\n    var Validator = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                resolved = resolveRules(element),\n                validateAttributeSelector = \"[\" + kendo.attr(\"validate\") + \"!=false]\";\n\n            options = options || {};\n\n            options.rules = $.extend({}, kendo.ui.validator.rules, resolved.rules, options.rules);\n            options.messages = $.extend({}, kendo.ui.validator.messages, resolved.messages, options.messages);\n\n            Widget.fn.init.call(that, element, options);\n\n            that._errorTemplate = kendo.template(that.options.errorTemplate);\n            that._summaryTemplate = kendo.template(that.options.validationSummary.template || SUMMARYTEMPLATE);\n\n            if (that.element.is(FORM)) {\n                that.element.attr(NOVALIDATE, NOVALIDATE);\n            }\n\n            that._inputSelector = INPUTSELECTOR + validateAttributeSelector;\n            that._checkboxSelector = CHECKBOXSELECTOR + validateAttributeSelector;\n\n            that._errors = {};\n            that._attachEvents();\n            that._isValidated = false;\n\n            if (that._validateOnInit()) {\n                that.validate();\n            }\n        },\n\n        events: [ VALIDATE, CHANGE, VALIDATE_INPUT ],\n\n        options: {\n            name: \"Validator\",\n            errorTemplate: '<span class=\"k-form-error\">#= message #</span>',\n            messages: {\n                required: \"{0} is required\",\n                pattern: \"{0} is not valid\",\n                min: \"{0} should be greater than or equal to {1}\",\n                max: \"{0} should be smaller than or equal to {1}\",\n                step: \"{0} is not valid\",\n                email: \"{0} is not valid email\",\n                url: \"{0} is not valid URL\",\n                date: \"{0} is not valid date\",\n                dateCompare: \"End date should be greater than or equal to the start date\",\n                captcha: \"The text you entered doesn't match the image.\"\n            },\n            rules: {\n                required: function(input) {\n                    var noNameCheckbox = !input.attr(\"name\") && !input.is(\":checked\"),\n                        name = input.attr(\"name\"),\n                        quote = !!name && name.indexOf(\"'\") > -1 ? '\\\"' : \"'\",\n                        namedCheckbox = input.attr(\"name\") && !this.element.find(\"input[name=\" + quote + input.attr(\"name\") + quote + \"]:checked\").length,\n                        checkbox = input.filter(\"[type=checkbox]\").length && (noNameCheckbox || namedCheckbox),\n                        radio = input.filter(\"[type=radio]\").length && !this.element.find(\"input[name=\"  + quote + input.attr(\"name\") + quote + \"]:checked\").length,\n                        value = input.val();\n\n                    return !(hasAttribute(input, \"required\") && (!value || value === \"\" || value.length === 0 || checkbox || radio));\n                },\n                pattern: function(input) {\n                    if (input.filter(\"[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]\").filter(\"[pattern]\").length && input.val() !== \"\") {\n                        return patternMatcher(input.val(), input.attr(\"pattern\"));\n                    }\n                    return true;\n                },\n                min: function(input) {\n                    if (input.filter(NUMBERINPUTSELECTOR + \",[\" + kendo.attr(\"type\") + \"=number]\").filter(\"[min]\").length && input.val() !== \"\") {\n                        var min = parseFloat(input.attr(\"min\")) || 0,\n                            val = kendo.parseFloat(input.val());\n\n                        return min <= val;\n                    }\n                    return true;\n                },\n                max: function(input) {\n                    if (input.filter(NUMBERINPUTSELECTOR + \",[\" + kendo.attr(\"type\") + \"=number]\").filter(\"[max]\").length && input.val() !== \"\") {\n                        var max = parseFloat(input.attr(\"max\")) || 0,\n                            val = kendo.parseFloat(input.val());\n\n                        return max >= val;\n                    }\n                    return true;\n                },\n                step: function(input) {\n                    if (input.filter(NUMBERINPUTSELECTOR + \",[\" + kendo.attr(\"type\") + \"=number]\").filter(\"[step]\").length && input.val() !== \"\") {\n                        var min = parseFloat(input.attr(\"min\")) || 0,\n                            step = parseFloat(input.attr(\"step\")) || 1,\n                            val = parseFloat(input.val()),\n                            decimals = numberOfDecimalDigits(step),\n                            raise;\n\n                        if (decimals) {\n                            raise = Math.pow(10, decimals);\n                            return ((Math.floor((val-min)*raise))%(step*raise)) / Math.pow(100, decimals) === 0;\n                        }\n                        return ((val-min)%step) === 0;\n                    }\n                    return true;\n                },\n                email: function(input) {\n                    return matcher(input, \"[type=email],[\" + kendo.attr(\"type\") + \"=email]\", emailRegExp);\n                },\n                url: function(input) {\n                    return matcher(input, \"[type=url],[\" + kendo.attr(\"type\") + \"=url]\", urlRegExp);\n                },\n                date: function(input) {\n                    if (input.filter(\"[type^=date],[\" + kendo.attr(\"type\") + \"=date]\").length && input.val() !== \"\") {\n                        return kendo.parseDate(input.val(), input.attr(kendo.attr(\"format\"))) !== null;\n                    }\n                    return true;\n                },\n                captcha: function (input) {\n                    if (input.filter(\"[\" + kendo.attr(\"role\") + \"=captcha]\").length) {\n                        var that = this,\n                            captcha = kendo.widgetInstance(input),\n                            isValidated = function(isValid){\n                                return typeof(isValid) !== 'undefined' && isValid !== null;\n                            };\n\n                        if (!input.data(\"captcha_validating\") && !isValidated(captcha.isValid()) && !!captcha.getCaptchaId()) {\n                            input.data(\"captcha_validating\", true);\n                            that._validating = true;\n                            captcha.validate().done(function(){\n                                that._validating = false;\n                                that._checkElement(input);\n                            }).fail(function(data){\n                                that._validating = false;\n                                if(data.error && data.error === \"handler_not_defined\") {\n                                    window.console.warn(\"Captcha's validationHandler is not defined! You should either define a proper validation endpoint or declare a callback function to ensure the required behavior.\");\n                                }\n                            });\n                        }\n\n                        if (isValidated(captcha.isValid())){\n                            input.removeData(\"captcha_validating\");\n                            return captcha.isValid();\n                        }\n                    }\n                    return true;\n                }\n            },\n            validateOnBlur: true,\n            validationSummary: false\n        },\n\n        _allowSubmit: function() {\n            return kendo.ui.validator.allowSubmit(this.element, this.errors());\n        },\n\n        _validateOnInit: function() {\n            return kendo.ui.validator.validateOnInit(this.element);\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n\n            this.element.off(NS);\n\n            if (this.validationSummary) {\n                this.validationSummary.off(NS);\n                this.validationSummary = null;\n            }\n        },\n\n        value: function() {\n            if (!this._isValidated) {\n                return false;\n            }\n\n            return this.errors().length === 0;\n        },\n\n        _submit: function(e) {\n            if ((!this.validate() && !this._allowSubmit()) || this._validating) {\n                e.stopPropagation();\n                e.stopImmediatePropagation();\n                e.preventDefault();\n                return false;\n            }\n            return true;\n        },\n\n        _checkElement: function(element) {\n            var state = this.value();\n\n            this.validateInput(element);\n\n            if (this.value() !== state) {\n                this.trigger(CHANGE);\n            }\n        },\n\n        _attachEvents: function() {\n            var that = this;\n\n            if (that.element.is(FORM)) {\n                that.element.on(\"submit\" + NS, proxy(that._submit, that));\n            }\n\n            if (that.options.validateOnBlur) {\n                if (!that.element.is(INPUTSELECTOR)) {\n                    that.element.on(BLUR + NS, that._inputSelector, function() {\n                        that._checkElement($(this));\n                    });\n\n                    that.element.on(\"click\" + NS, that._checkboxSelector, function() {\n                        that._checkElement($(this));\n                    });\n                } else {\n                    that.element.on(BLUR + NS, function() {\n                        that._checkElement(that.element);\n                    });\n\n                    if (that.element.is(CHECKBOXSELECTOR)) {\n                        that.element.on(\"click\" + NS, function() {\n                            that._checkElement(that.element);\n                        });\n                    }\n                }\n            }\n        },\n\n        validate: function() {\n            var inputs;\n            var idx;\n            var result = false;\n            var length;\n\n            var isValid = this.value();\n\n            this._errors = {};\n\n            if (!this.element.is(INPUTSELECTOR)) {\n                var invalid = false;\n\n                inputs = this.element.find(this._inputSelector);\n\n                for (idx = 0, length = inputs.length; idx < length; idx++) {\n                    if (!this.validateInput(inputs.eq(idx))) {\n                        invalid = true;\n                    }\n                }\n\n                result = !invalid;\n            } else {\n                result = this.validateInput(this.element);\n            }\n\n            if (this.options.validationSummary && !isValid) {\n                this.showValidationSummary();\n            }\n\n            this.trigger(VALIDATE, { valid: result, errors: this.errors() });\n\n            if (isValid !== result) {\n                this.trigger(CHANGE);\n            }\n\n            return result;\n        },\n\n        validateInput: function(input) {\n            input = $(input);\n\n\n            this._isValidated = true;\n\n            var that = this,\n                template = that._errorTemplate,\n                result = that._checkValidity(input),\n                valid = result.valid,\n                className = \".\" + INVALIDMSG,\n                fieldName = (input.attr(NAME) || \"\"),\n                lbl = that._findMessageContainer(fieldName).add(input.next(className).filter(function() {\n                    var element = $(this);\n                    if (element.filter(\"[\" + kendo.attr(\"for\") + \"]\").length) {\n                        return element.attr(kendo.attr(\"for\")) === fieldName;\n                    }\n\n                    return true;\n\n                })).addClass(\"k-hidden\"),\n                messageText = !valid ? that._extractMessage(input, result.key) : \"\",\n                messageLabel = !valid ? parseHtml(template({ message: decode(messageText), field: fieldName })) : \"\",\n                wasValid = !input.attr(ARIAINVALID),\n                isInputInner = input.is(INPUTINNER),\n                inputWrapper = input.parent(INPUTWRAPPER);\n\n            input.removeAttr(ARIAINVALID);\n\n            if (!valid && !input.data(\"captcha_validating\")) {\n                that._errors[fieldName] = messageText;\n                var lblId = lbl.attr('id');\n\n                that._decorateMessageContainer(messageLabel, fieldName);\n\n\n                if (lblId) {\n                    messageLabel.attr('id', lblId);\n                }\n\n                if (lbl.length !== 0) {\n                    lbl.replaceWith(messageLabel);\n                } else {\n                    var widgetInstance = kendo.widgetInstance(input);\n                    var parentElement = input.parent().get(0);\n                    var nextElement = input.next().get(0);\n                    var prevElement = input.prev().get(0);\n\n                    // Get the instance of the RadioGroup which is not initialized on the input element\n                    if(!widgetInstance && input.is(\"[type=radio]\")) {\n                        widgetInstance = kendo.widgetInstance(input.closest(\".k-radio-list\"));\n                    }\n\n                    // Get the instance of the CheckBoxGroup which is not initialized on the input element\n                    if(!widgetInstance && input.is(\"[type=checkbox]\")) {\n                        widgetInstance = kendo.widgetInstance(input.closest(\".k-checkbox-list\"));\n                    }\n\n                    if (widgetInstance && widgetInstance.wrapper) {\n                        messageLabel.insertAfter(widgetInstance.wrapper);\n                    } else if (parentElement && parentElement.nodeName === \"LABEL\") {\n                        // Input inside label\n                        messageLabel.insertAfter(parentElement);\n                    } else if (nextElement && isLabelFor(nextElement, input[0])) {\n                        // Input before label\n                        messageLabel.insertAfter(nextElement);\n                    } else if (prevElement && isLabelFor(prevElement, input[0])) {\n                        // Input after label\n                        messageLabel.insertAfter(input);\n                    } else if (isInputInner && inputWrapper.length) {\n                        // Input after input wrapper\n                        messageLabel.insertAfter(inputWrapper);\n                    } else {\n                        messageLabel.insertAfter(input);\n                    }\n                }\n\n                messageLabel.removeClass(\"k-hidden\");\n\n                input.attr(ARIAINVALID, true);\n            } else {\n                delete that._errors[fieldName];\n            }\n\n            if (wasValid !== valid) {\n                this.trigger(VALIDATE_INPUT, { valid: valid, input: input, error: messageText, field: fieldName });\n            }\n\n            if (isInputInner && inputWrapper.length) {\n                inputWrapper.toggleClass(INVALIDINPUT, !valid);\n                inputWrapper.toggleClass(VALIDINPUT, valid);\n            }\n\n            input.toggleClass(INVALIDINPUT, !valid);\n            input.toggleClass(VALIDINPUT, valid);\n\n\n            if (kendo.widgetInstance(input)) {\n                var widget = kendo.widgetInstance(input);\n                var inputWrap = widget._inputWrapper || widget.wrapper;\n                var inputLabel = widget._inputLabel;\n\n                if (inputWrap) {\n                    inputWrap.toggleClass(INVALIDINPUT, !valid);\n                    inputWrap.toggleClass(VALIDINPUT, valid);\n                }\n                if (inputLabel) {\n                    inputLabel.toggleClass(INVALIDLABEL, !valid);\n                }\n            }\n\n            if (wasValid !== valid) {\n                var errorId = messageLabel ? messageLabel.attr(\"id\") : lbl.attr(\"id\");\n\n                that._associateMessageContainer(input, errorId);\n\n                if (this.options.validationSummary && this.options.validateOnBlur) {\n                    this.showValidationSummary();\n                }\n            }\n\n            return valid;\n        },\n\n        hideMessages: function() {\n            var that = this,\n                className = \".\" + INVALIDMSG,\n                element = that.element;\n\n            that._disassociateMessageContainers();\n\n            if (!element.is(INPUTSELECTOR)) {\n                element.find(className).addClass(\"k-hidden\");\n            } else {\n                element.next(className).addClass(\"k-hidden\");\n            }\n        },\n\n        reset: function() {\n            var that = this,\n                inputs = that.element.find(\".\" + INVALIDINPUT),\n                labels = that.element.find(\".\" + INVALIDLABEL);\n\n            that._errors = [];\n\n            that.hideMessages();\n\n            that.hideValidationSummary();\n\n            inputs.removeAttr(ARIAINVALID);\n            inputs.removeClass(INVALIDINPUT);\n            labels.removeClass(INVALIDLABEL);\n        },\n\n        _findMessageContainer: function(fieldName) {\n            var locators = kendo.ui.validator.messageLocators,\n                name,\n                containers = $();\n\n            for (var idx = 0, length = this.element.length; idx < length; idx++) {\n                containers = containers.add(searchForMessageContainer(this.element[idx].getElementsByTagName(\"*\"), fieldName));\n            }\n\n            for (name in locators) {\n                containers = containers.add(locators[name].locate(this.element, fieldName));\n            }\n\n            return containers;\n        },\n\n        _decorateMessageContainer: function(container, fieldName) {\n            var locators = kendo.ui.validator.messageLocators,\n                name;\n\n            container.addClass(INVALIDMSG)\n                .attr(kendo.attr(\"for\"), fieldName || \"\");\n\n            if (!container.attr(\"id\")) {\n                container.attr(\"id\", fieldName + \"-error\");\n            }\n\n            for (name in locators) {\n                locators[name].decorate(container, fieldName);\n            }\n        },\n\n        _extractMessage: function(input, ruleKey) {\n            var that = this,\n                customMessage = that.options.messages[ruleKey],\n                fieldName = input.attr(NAME),\n                nonDefaultMessage;\n\n            if (!kendo.ui.Validator.prototype.options.messages[ruleKey]) {\n                 nonDefaultMessage = kendo.isFunction(customMessage) ? customMessage(input) : customMessage;\n            }\n\n            customMessage = kendo.isFunction(customMessage) ? customMessage(input) : customMessage;\n\n            return kendo.format(input.attr(kendo.attr(ruleKey + \"-msg\")) || input.attr(\"validationMessage\") || nonDefaultMessage || customMessage || input.attr(\"title\") || \"\",\n                fieldName,\n                input.attr(ruleKey) || input.attr(kendo.attr(ruleKey)));\n        },\n\n        _checkValidity: function(input) {\n            var rules = this.options.rules,\n                rule;\n\n            for (rule in rules) {\n                if (!rules[rule].call(this, input)) {\n                    return { valid: false, key: rule };\n                }\n            }\n\n            return { valid: true };\n        },\n\n        errors: function() {\n            var results = [],\n                errors = this._errors,\n                error;\n\n            for (error in errors) {\n                results.push(errors[error]);\n            }\n            return results;\n        },\n\n        setOptions: function(options) {\n            if (options.validationSummary) {\n                this.hideValidationSummary();\n            }\n\n            kendo.deepExtend(this.options, options);\n\n            this.destroy();\n\n            this.init(this.element, this.options);\n\n            this._setEvents(this.options);\n        },\n\n        _getInputNames: function() {\n            var that = this,\n                inputs = that.element.find(that._inputSelector),\n                sorted = [];\n\n            for (var idx = 0, length = inputs.length; idx < length; idx++) {\n                var input = $(inputs[idx]);\n\n                if (hasAttribute(input, NAME)) {\n                    // Add current name if:\n                    // - not present so far;\n                    // - present but not part of CheckBoxGroup or RadioGroup.\n                    if(sorted.indexOf(input.attr(NAME)) === -1 ||\n                        (input.closest(\".k-checkbox-list\").length === 0 &&\n                        input.closest(\".k-radio-list\").length === 0)) {\n                            sorted.push(input.attr(NAME));\n                    }\n                }\n            }\n\n            return sorted;\n        },\n\n        _associateMessageContainer: function(input, errorId) {\n            var nextFocusable = kendo.getWidgetFocusableElement(input);\n\n            if (!nextFocusable || !errorId) {\n                return;\n            }\n\n            kendo.toggleAttribute(nextFocusable, ARIADESCRIBEDBY, errorId);\n        },\n\n        _disassociateMessageContainers: function() {\n            var that = this,\n                inputs = that.element.find(\".\" + INVALIDINPUT).addBack(),\n                input, errorId;\n\n            for (var i = 0; i < inputs.length; i += 1) {\n                input = $(inputs[i]);\n\n                if (input.is(\"input\")) {\n                    errorId = that._findMessageContainer(input.attr(NAME))\n                        .add(input.next(\".\" + INVALIDMSG))\n                        .attr(\"id\");\n\n                    that._associateMessageContainer(input, errorId);\n                }\n            }\n        },\n\n        _errorsByName: function() {\n            var that = this,\n                inputNames = that._getInputNames(),\n                sorted = [];\n\n            for (var i = 0; i < inputNames.length; i += 1) {\n                var name = inputNames[i];\n\n                if (that._errors[name]) {\n                    sorted.push({\n                        field: name,\n                        message: that._errors[name]\n                    });\n                }\n            }\n\n            return sorted;\n        },\n\n        _renderSummary: function() {\n            var that = this,\n                options = this.options.validationSummary,\n                element = this.element,\n                prevElement = element.prev(),\n                container;\n\n            if (options.container) {\n                container = $(options.container);\n            } else if (prevElement && prevElement.hasClass(VALIDATIONSUMMARY)) {\n                container = prevElement;\n            } else {\n                container = $(\"<div />\").insertBefore(that.element);\n            }\n\n            container.addClass([VALIDATIONSUMMARY, MESSAGEBOX].join(\" \"));\n            container.attr(\"role\", \"alert\");\n\n            container.on(\"click\" + NS, proxy(that._summaryClick, that));\n\n            return container;\n        },\n\n        _summaryClick: function(e) {\n            e.preventDefault();\n\n            var that = this,\n                link = $(e.target),\n                target = that.element.find(\"[name='\" + link.data(\"field\") +  \"']\"),\n                nextFocusable;\n\n            if (!target.length) {\n                return;\n            }\n\n            nextFocusable = kendo.getWidgetFocusableElement(target);\n\n            if (nextFocusable) {\n                nextFocusable.trigger(\"focus\");\n            }\n        },\n\n        showValidationSummary: function() {\n            var that = this,\n                summary = that.validationSummary,\n                errors = that._errorsByName(),\n                errorsList;\n\n            if (!summary) {\n                summary = that.validationSummary = that._renderSummary();\n            }\n\n            errorsList = parseHtml(that._summaryTemplate({\n                errors: errors\n            }));\n\n            summary.html(errorsList);\n\n            summary.toggleClass(\"k-hidden\", !errors.length);\n        },\n\n        hideValidationSummary: function() {\n            var that = this,\n                summary = that.validationSummary;\n\n            if (!summary) {\n                return;\n            }\n\n            summary.addClass(\"k-hidden\");\n        }\n    });\n\n    kendo.ui.plugin(Validator);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)();  });\n\n"],"names":["define","__meta__","id","name","category","description","depends","$","window","kendo","jQuery","undefined","Widget","ui","NS","INVALIDMSG","invalidMsgRegExp","RegExp","INVALIDINPUT","VALIDINPUT","VALIDATIONSUMMARY","INVALIDLABEL","MESSAGEBOX","INPUTINNER","INPUTWRAPPER","ARIAINVALID","ARIADESCRIBEDBY","emailRegExp","urlRegExp","INPUTSELECTOR","CHECKBOXSELECTOR","NUMBERINPUTSELECTOR","BLUR","NAME","FORM","NOVALIDATE","VALIDATE","CHANGE","VALIDATE_INPUT","proxy","patternMatcher","value","pattern","test","matcher","input","selector","val","filter","length","hasAttribute","attributes","validator","rules","messages","allowSubmit","noop","validateOnInit","resolveRules","element","resolvers","ruleResolvers","extend","resolve","decode","replace","numberOfDecimalDigits","split","parseHtml","text","parseHTML","searchForMessageContainer","elements","fieldName","containers","attr","idx","className","getAttribute","add","isLabelFor","label","nodeName","SUMMARYTEMPLATE","Validator","init","options","that","this","resolved","validateAttributeSelector","fn","call","_errorTemplate","template","errorTemplate","_summaryTemplate","validationSummary","is","_inputSelector","_checkboxSelector","_errors","_attachEvents","_isValidated","_validateOnInit","validate","events","required","min","max","step","email","url","date","dateCompare","captcha","noNameCheckbox","quote","indexOf","namedCheckbox","find","checkbox","radio","parseFloat","decimals","raise","Math","pow","floor","parseDate","widgetInstance","isValidated","isValid","data","getCaptchaId","_validating","done","_checkElement","fail","error","console","warn","removeData","validateOnBlur","_allowSubmit","errors","destroy","off","_submit","e","stopPropagation","stopImmediatePropagation","preventDefault","state","validateInput","trigger","on","inputs","result","invalid","eq","showValidationSummary","valid","_checkValidity","lbl","_findMessageContainer","next","addClass","messageText","_extractMessage","key","messageLabel","message","field","wasValid","isInputInner","inputWrapper","parent","removeAttr","lblId","_decorateMessageContainer","replaceWith","parentElement","get","nextElement","prevElement","prev","closest","wrapper","insertAfter","removeClass","toggleClass","widget","inputWrap","_inputWrapper","inputLabel","_inputLabel","errorId","_associateMessageContainer","hideMessages","_disassociateMessageContainers","reset","labels","hideValidationSummary","locators","messageLocators","getElementsByTagName","locate","container","decorate","ruleKey","customMessage","nonDefaultMessage","prototype","isFunction","format","rule","results","push","setOptions","deepExtend","_setEvents","_getInputNames","sorted","nextFocusable","getWidgetFocusableElement","toggleAttribute","addBack","i","_errorsByName","inputNames","_renderSummary","hasClass","insertBefore","join","_summaryClick","link","target","summary","errorsList","html","plugin","amd","a1","a2","a3"],"mappings":"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"}